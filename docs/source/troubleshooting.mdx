<!-- Troubleshooting blocks are automatically generated with ../../scripts/generate_troubleshooting.py.
Do not modify the content of the blocks manually.
If you want to modify or add a block, check ../README.md  -->

# Troubleshooting

## Connection

<!-- TROUBLESHOOTING:connectivity:connectivity:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>The dashboard on localhost:8000 doesn’t open.</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">DASHBOARD</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">NETWORK</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">SDK</kbd></summary>

Install the SDK inside a virtual environment and ensure the correct version is used. Some users fixed the issue by upgrading the SDK.

Checklist:

1. Use a proper Python virtual environment (`.venv`).
2. Install or update the Reachy Mini SDK inside that environment:
    
    ```bash
    pip install -U reachy-mini
    ```
    
3. Make sure the daemon is running.

<p style="color:grey"><i>Source: User guide.</i></p>


</details><br>

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>My Reachy Mini doesn’t move on first startup.</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">START</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">POWER</kbd></summary>

Verify the **power supply**, and ensure all cables are fully inserted, loose power cables caused several “motor not responding” issues.

<p style="color:grey"><i>Source: API documentation.</i></p>


</details><br>

<!-- TROUBLESHOOTING:connectivity:connectivity:end -->

## Audio

<!-- TROUBLESHOOTING:audio:audio:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>The audio-based app behaves inconsistently</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">AUDIO</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">REALTIME</kbd></summary>

Streaming audio detection is harder than analyzing a complete file. Limitations come from real-time tempo extraction.

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>No Microphone Input <i>(For beta only)</i></b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">AUDIO</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">MICROPHONE</kbd></summary>

There is a known issue where the microphone may not initialize correctly. Please update to [firmware 2.1.3](https://github.com/pollen-robotics/reachy_mini/blob/develop/src/reachy_mini/assets/firmware/reachymini_ua_io16_lin_v2.1.3.bin). You may need to run the [update script](https://github.com/pollen-robotics/reachy_mini/blob/develop/src/reachy_mini/assets/firmware/update.sh). Linux users may require to run the command as *sudo*.

Afterwards, run [examples/debug/sound_record.py](https://github.com/pollen-robotics/reachy_mini/blob/develop/examples/debug/sound_record.py) to check that everything is working properly.

If the problem persists, check the connection of the flex cables ([see slides 45 to 47](https://huggingface.co/spaces/pollen-robotics/Reachy_Mini_Assembly_Guide)).

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Sound Direction of Arrival Not Working <i>(For beta only)</i></b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">AUDIO</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">MICROPHONE</kbd></summary>

The microphone array requires firmware version 2.1.0 or higher to support this feature. The firmware files are located in `src/reachy_mini/assets/firmware/*.bin`.

A [helper script](https://github.com/pollen-robotics/reachy_mini/blob/develop/src/reachy_mini/assets/firmware/update.sh) is available for Unix users (see above). Refer to the [Seeed documentation](https://wiki.seeedstudio.com/respeaker_xvf3800_introduction/#update-firmware) for more details on the upgrade process.

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Volume Is Too Low <i>(Linux only)</i></b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">AUDIO</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">VOLUME</kbd></summary>

Check in `alsamixer` that PCM1 is set to 100%. Then use PCM,0 to adjust the volume.

To make this change permanent:
```
CARD=$(aplay -l | grep -i "reSpeaker XVF3800 4-Mic Array" | head -n1 | sed -n 's/^card \([0-9]*\):.*/<!-- TROUBLESHOOTING:audio:audio:start -->/p')
amixer -c "$CARD" set PCM,1 100%
sudo alsactl store "$CARD"
```

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<!-- TROUBLESHOOTING:audio:audio:end -->

## Vision

<!-- TROUBLESHOOTING:vision:vision:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Reachy’s face tracking seems slow or inaccurate.</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">VISION</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">LIGHTING</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">TRACKING</kbd></summary>

Performance improves with **good**, **even lighting** and updated SDK vision modules.

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<!-- TROUBLESHOOTING:vision:vision:end -->

## Motors

<!-- TROUBLESHOOTING:motors:motors:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Motors stop responding after a while</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">MOTORS</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">POWER</kbd></summary>

Check power supply and cable stability. Updating SDK also solved issues for multiple users.

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<!-- TROUBLESHOOTING:motors:motors:end -->

## Environment

<!-- TROUBLESHOOTING:sdk_environment:sdk_environment:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>PortAudio error when starting the daemon</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">START</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">AUDIO</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">ENVIRONMENT</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">DEPENDENCIES</kbd></summary>

Some users may have an error when launching the daemon for the first time : `OSError: PortAudio library not found`. 

To resolve that, you can install manually this library by executing in the terminal : 

```bash
sudo apt-get install libportaudio2
```

Then you can launch the daemon again : `reachy-mini-daemon`

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Import errors when running examples</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">SDK</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">INSTALLATION</kbd></summary>

Outdated local SDK version — fixed by upgrading:

```bash
pip install -U reachy-mini
```

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<!-- TROUBLESHOOTING:sdk_environment:sdk_environment:end -->

## Simulation

<!-- TROUBLESHOOTING:simulation:simulation:start -->

<details
  style="
    margin-top: 8px;
    border-left: 3px solid #dc3545;
    padding-left: 12px;
  "
>
<summary><b>Circular Buffer Overrun Warning</b><br>Tags: <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">SDK</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">SIMULATION</kbd> <kbd style="display:inline-block;padding:2px 10px;margin:2px 4px;background:rgba(220, 53, 69, 0.1);color:#dc3545;border-radius:12px;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:0.5px;border:none;">VISION</kbd></summary>

When starting a client with `with ReachyMini() as mini:` in Mujoco (--sim mode), you may see the following warning:

```
Circular buffer overrun. To avoid, increase fifo_size URL option. To survive in such case, use overrun_nonfatal option
```

This message comes from FFmpeg (embedded in OpenCV) while consuming the UDP video stream. It appears because the frames are not being used, causing the buffer to fill up. If you do not intend to use the frames, set `ReachyMini(media_backend="no_media")` or `ReachyMini(media_backend="default_no_video")`.

<p style="color:grey"><i>Source: Community forum.</i></p>


</details><br>

<!-- TROUBLESHOOTING:simulation:simulation:end -->