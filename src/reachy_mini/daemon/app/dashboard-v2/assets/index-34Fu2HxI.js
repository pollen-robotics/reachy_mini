var NO=Object.defineProperty;var DO=(n,e,t)=>e in n?NO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var fu=(n,e,t)=>DO(n,typeof e!="symbol"?e+"":e,t);function LO(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const r=Object.getOwnPropertyDescriptor(i,a);r&&Object.defineProperty(n,a,r.get?r:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function Q1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var g3={exports:{}},Pg={};var bw;function IO(){if(bw)return Pg;bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var c in a)c!=="key"&&(r[c]=a[c])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:o,ref:a!==void 0?a:null,props:r}}return Pg.Fragment=e,Pg.jsx=t,Pg.jsxs=t,Pg}var _w;function PO(){return _w||(_w=1,g3.exports=IO()),g3.exports}var I=PO(),y3={exports:{}},Cn={};var Sw;function UO(){if(Sw)return Cn;Sw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function S(q,ie,fe){this.props=q,this.context=ie,this.refs=A,this.updater=fe||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,ie){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ie,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=S.prototype;function w(q,ie,fe){this.props=q,this.context=ie,this.refs=A,this.updater=fe||b}var R=w.prototype=new E;R.constructor=w,M(R,S.prototype),R.isPureReactComponent=!0;var z=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function L(q,ie,fe){var ge=fe.ref;return{$$typeof:n,type:q,key:ie,ref:ge!==void 0?ge:null,props:fe}}function D(q,ie){return L(q.type,ie,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function U(q){var ie={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return ie[fe]})}var G=/\/+/g;function X(q,ie){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):ie.toString(36)}function $(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(O,O):(q.status="pending",q.then(function(ie){q.status==="pending"&&(q.status="fulfilled",q.value=ie)},function(ie){q.status==="pending"&&(q.status="rejected",q.reason=ie)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,ie,fe,ge,re){var te=typeof q;(te==="undefined"||te==="boolean")&&(q=null);var se=!1;if(q===null)se=!0;else switch(te){case"bigint":case"string":case"number":se=!0;break;case"object":switch(q.$$typeof){case n:case e:se=!0;break;case m:return se=q._init,H(se(q._payload),ie,fe,ge,re)}}if(se)return re=re(q),se=ge===""?"."+X(q,0):ge,z(re)?(fe="",se!=null&&(fe=se.replace(G,"$&/")+"/"),H(re,ie,fe,"",function(De){return De})):re!=null&&(V(re)&&(re=D(re,fe+(re.key==null||q&&q.key===re.key?"":(""+re.key).replace(G,"$&/")+"/")+se)),ie.push(re)),1;se=0;var ve=ge===""?".":ge+":";if(z(q))for(var ze=0;ze<q.length;ze++)ge=q[ze],te=ve+X(ge,ze),se+=H(ge,ie,fe,te,re);else if(ze=y(q),typeof ze=="function")for(q=ze.call(q),ze=0;!(ge=q.next()).done;)ge=ge.value,te=ve+X(ge,ze++),se+=H(ge,ie,fe,te,re);else if(te==="object"){if(typeof q.then=="function")return H($(q),ie,fe,ge,re);throw ie=String(q),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return se}function K(q,ie,fe){if(q==null)return q;var ge=[],re=0;return H(q,ge,"","",function(te){return ie.call(fe,te,re++)}),ge}function Q(q){if(q._status===-1){var ie=q._result;ie=ie(),ie.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=ie)}if(q._status===1)return q._result.default;throw q._result}var W=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ce={map:K,forEach:function(q,ie,fe){K(q,function(){ie.apply(this,arguments)},fe)},count:function(q){var ie=0;return K(q,function(){ie++}),ie},toArray:function(q){return K(q,function(ie){return ie})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Cn.Activity=g,Cn.Children=ce,Cn.Component=S,Cn.Fragment=t,Cn.Profiler=a,Cn.PureComponent=w,Cn.StrictMode=i,Cn.Suspense=f,Cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Cn.__COMPILER_RUNTIME={__proto__:null,c:function(q){return P.H.useMemoCache(q)}},Cn.cache=function(q){return function(){return q.apply(null,arguments)}},Cn.cacheSignal=function(){return null},Cn.cloneElement=function(q,ie,fe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ge=M({},q.props),re=q.key;if(ie!=null)for(te in ie.key!==void 0&&(re=""+ie.key),ie)!B.call(ie,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ie.ref===void 0||(ge[te]=ie[te]);var te=arguments.length-2;if(te===1)ge.children=fe;else if(1<te){for(var se=Array(te),ve=0;ve<te;ve++)se[ve]=arguments[ve+2];ge.children=se}return L(q.type,re,ge)},Cn.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:r,_context:q},q},Cn.createElement=function(q,ie,fe){var ge,re={},te=null;if(ie!=null)for(ge in ie.key!==void 0&&(te=""+ie.key),ie)B.call(ie,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(re[ge]=ie[ge]);var se=arguments.length-2;if(se===1)re.children=fe;else if(1<se){for(var ve=Array(se),ze=0;ze<se;ze++)ve[ze]=arguments[ze+2];re.children=ve}if(q&&q.defaultProps)for(ge in se=q.defaultProps,se)re[ge]===void 0&&(re[ge]=se[ge]);return L(q,te,re)},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(q){return{$$typeof:c,render:q}},Cn.isValidElement=V,Cn.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:Q}},Cn.memo=function(q,ie){return{$$typeof:h,type:q,compare:ie===void 0?null:ie}},Cn.startTransition=function(q){var ie=P.T,fe={};P.T=fe;try{var ge=q(),re=P.S;re!==null&&re(fe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(O,W)}catch(te){W(te)}finally{ie!==null&&fe.types!==null&&(ie.types=fe.types),P.T=ie}},Cn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Cn.use=function(q){return P.H.use(q)},Cn.useActionState=function(q,ie,fe){return P.H.useActionState(q,ie,fe)},Cn.useCallback=function(q,ie){return P.H.useCallback(q,ie)},Cn.useContext=function(q){return P.H.useContext(q)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(q,ie){return P.H.useDeferredValue(q,ie)},Cn.useEffect=function(q,ie){return P.H.useEffect(q,ie)},Cn.useEffectEvent=function(q){return P.H.useEffectEvent(q)},Cn.useId=function(){return P.H.useId()},Cn.useImperativeHandle=function(q,ie,fe){return P.H.useImperativeHandle(q,ie,fe)},Cn.useInsertionEffect=function(q,ie){return P.H.useInsertionEffect(q,ie)},Cn.useLayoutEffect=function(q,ie){return P.H.useLayoutEffect(q,ie)},Cn.useMemo=function(q,ie){return P.H.useMemo(q,ie)},Cn.useOptimistic=function(q,ie){return P.H.useOptimistic(q,ie)},Cn.useReducer=function(q,ie,fe){return P.H.useReducer(q,ie,fe)},Cn.useRef=function(q){return P.H.useRef(q)},Cn.useState=function(q){return P.H.useState(q)},Cn.useSyncExternalStore=function(q,ie,fe){return P.H.useSyncExternalStore(q,ie,fe)},Cn.useTransition=function(){return P.H.useTransition()},Cn.version="19.2.0",Cn}var Mw;function im(){return Mw||(Mw=1,y3.exports=UO()),y3.exports}var F=im();const qi=Q1(F),$S=LO({__proto__:null,default:qi},[F]);var x3={exports:{}},Ug={},v3={exports:{}},b3={};var Aw;function BO(){return Aw||(Aw=1,(function(n){function e(H,K){var Q=H.length;H.push(K);e:for(;0<Q;){var W=Q-1>>>1,ce=H[W];if(0<a(ce,K))H[W]=K,H[Q]=ce,Q=W;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],Q=H.pop();if(Q!==K){H[0]=Q;e:for(var W=0,ce=H.length,q=ce>>>1;W<q;){var ie=2*(W+1)-1,fe=H[ie],ge=ie+1,re=H[ge];if(0>a(fe,Q))ge<ce&&0>a(re,fe)?(H[W]=re,H[ge]=Q,W=ge):(H[W]=fe,H[ie]=Q,W=ie);else if(ge<ce&&0>a(re,Q))H[W]=re,H[ge]=Q,W=ge;else break e}}return K}function a(H,K){var Q=H.sortIndex-K.sortIndex;return Q!==0?Q:H.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],h=[],m=1,g=null,v=3,y=!1,b=!1,M=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var K=t(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=H)i(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(h)}}function z(H){if(M=!1,R(H),!b)if(t(f)!==null)b=!0,O||(O=!0,U());else{var K=t(h);K!==null&&$(z,K.startTime-H)}}var O=!1,P=-1,B=5,L=-1;function D(){return A?!0:!(n.unstable_now()-L<B)}function V(){if(A=!1,O){var H=n.unstable_now();L=H;var K=!0;try{e:{b=!1,M&&(M=!1,E(P),P=-1),y=!0;var Q=v;try{t:{for(R(H),g=t(f);g!==null&&!(g.expirationTime>H&&D());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var ce=W(g.expirationTime<=H);if(H=n.unstable_now(),typeof ce=="function"){g.callback=ce,R(H),K=!0;break t}g===t(f)&&i(f),R(H)}else i(f);g=t(f)}if(g!==null)K=!0;else{var q=t(h);q!==null&&$(z,q.startTime-H),K=!1}}break e}finally{g=null,v=Q,y=!1}K=void 0}}finally{K?U():O=!1}}}var U;if(typeof w=="function")U=function(){w(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=V,U=function(){X.postMessage(null)}}else U=function(){S(V,0)};function $(H,K){P=S(function(){H(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Q=v;v=K;try{return H()}finally{v=Q}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=v;v=H;try{return K()}finally{v=Q}},n.unstable_scheduleCallback=function(H,K,Q){var W=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,H={id:m++,callback:K,priorityLevel:H,startTime:Q,expirationTime:ce,sortIndex:-1},Q>W?(H.sortIndex=Q,e(h,H),t(f)===null&&H===t(h)&&(M?(E(P),P=-1):M=!0,$(z,Q-W))):(H.sortIndex=ce,e(f,H),b||y||(b=!0,O||(O=!0,U()))),H},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(H){var K=v;return function(){var Q=v;v=K;try{return H.apply(this,arguments)}finally{v=Q}}}})(b3)),b3}var ww;function kO(){return ww||(ww=1,v3.exports=BO()),v3.exports}var _3={exports:{}},$r={};var Ew;function FO(){if(Ew)return $r;Ew=1;var n=im();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$r.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(f,h,null,m)},$r.flushSync=function(f){var h=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=h,i.p=m,i.d.f()}},$r.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},$r.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},$r.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$r.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},$r.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$r.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},$r.requestFormReset=function(f){i.d.r(f)},$r.unstable_batchedUpdates=function(f,h){return f(h)},$r.useFormState=function(f,h,m){return o.H.useFormState(f,h,m)},$r.useFormStatus=function(){return o.H.useHostTransitionStatus()},$r.version="19.2.0",$r}var Tw;function D4(){if(Tw)return _3.exports;Tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_3.exports=FO(),_3.exports}var Cw;function VO(){if(Cw)return Ug;Cw=1;var n=kO(),e=im(),t=D4();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(r(s)!==s)throw Error(i(188))}function h(s){var l=s.alternate;if(!l){if(l=r(s),l===null)throw Error(i(188));return l!==s?null:s}for(var p=s,x=l;;){var T=p.return;if(T===null)break;var N=T.alternate;if(N===null){if(x=T.return,x!==null){p=x;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===p)return f(T),s;if(N===x)return f(T),l;N=N.sibling}throw Error(i(188))}if(p.return!==x.return)p=T,x=N;else{for(var Y=!1,oe=T.child;oe;){if(oe===p){Y=!0,p=T,x=N;break}if(oe===x){Y=!0,x=T,p=N;break}oe=oe.sibling}if(!Y){for(oe=N.child;oe;){if(oe===p){Y=!0,p=N,x=T;break}if(oe===x){Y=!0,x=N,p=T;break}oe=oe.sibling}if(!Y)throw Error(i(189))}}if(p.alternate!==x)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),w=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var G=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===G?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case w:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case R:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:X(s.type)||"Memo";case B:l=s._payload,s=s._init;try{return X(s(l))}catch{}}return null}var $=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},W=[],ce=-1;function q(s){return{current:s}}function ie(s){0>ce||(s.current=W[ce],W[ce]=null,ce--)}function fe(s,l){ce++,W[ce]=s.current,s.current=l}var ge=q(null),re=q(null),te=q(null),se=q(null);function ve(s,l){switch(fe(te,l),fe(re,s),fe(ge,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?jA(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=jA(l),s=GA(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(ge),fe(ge,s)}function ze(){ie(ge),ie(re),ie(te)}function De(s){s.memoizedState!==null&&fe(se,s);var l=ge.current,p=GA(l,s.type);l!==p&&(fe(re,s),fe(ge,p))}function rt(s){re.current===s&&(ie(ge),ie(re)),se.current===s&&(ie(se),Ng._currentValue=Q)}var nt,Ge;function Ee(s){if(nt===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);nt=l&&l[1]||"",Ge=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+s+Ge}var ne=!1;function Oe(s,l){if(!s||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(it){var et=it}Reflect.construct(s,[],xt)}else{try{xt.call()}catch(it){et=it}s.call(xt.prototype)}}else{try{throw Error()}catch(it){et=it}(xt=s())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=x.DetermineComponentFrameRoot(),Y=N[0],oe=N[1];if(Y&&oe){var Se=Y.split(`
`),qe=oe.split(`
`);for(T=x=0;x<Se.length&&!Se[x].includes("DetermineComponentFrameRoot");)x++;for(;T<qe.length&&!qe[T].includes("DetermineComponentFrameRoot");)T++;if(x===Se.length||T===qe.length)for(x=Se.length-1,T=qe.length-1;1<=x&&0<=T&&Se[x]!==qe[T];)T--;for(;1<=x&&0<=T;x--,T--)if(Se[x]!==qe[T]){if(x!==1||T!==1)do if(x--,T--,0>T||Se[x]!==qe[T]){var ct=`
`+Se[x].replace(" at new "," at ");return s.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",s.displayName)),ct}while(1<=x&&0<=T);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?Ee(p):""}function Ae(s,l){switch(s.tag){case 26:case 27:case 5:return Ee(s.type);case 16:return Ee("Lazy");case 13:return s.child!==l&&l!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Oe(s.type,!1);case 11:return Oe(s.type.render,!1);case 1:return Oe(s.type,!0);case 31:return Ee("Activity");default:return""}}function Ve(s){try{var l="",p=null;do l+=Ae(s,p),p=s,s=s.return;while(s);return l}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Be=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,Ke=n.unstable_cancelCallback,Ye=n.unstable_shouldYield,de=n.unstable_requestPaint,Z=n.unstable_now,xe=n.unstable_getCurrentPriorityLevel,Me=n.unstable_ImmediatePriority,Ne=n.unstable_UserBlockingPriority,Te=n.unstable_NormalPriority,gt=n.unstable_LowPriority,Fe=n.unstable_IdlePriority,dt=n.log,ot=n.unstable_setDisableYieldValue,je=null,Ze=null;function Dt(s){if(typeof dt=="function"&&ot(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(je,s)}catch{}}var be=Math.clz32?Math.clz32:ye,He=Math.log,vt=Math.LN2;function ye(s){return s>>>=0,s===0?32:31-(He(s)/vt|0)|0}var at=256,ft=262144,bt=4194304;function yt(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function lt(s,l,p){var x=s.pendingLanes;if(x===0)return 0;var T=0,N=s.suspendedLanes,Y=s.pingedLanes;s=s.warmLanes;var oe=x&134217727;return oe!==0?(x=oe&~N,x!==0?T=yt(x):(Y&=oe,Y!==0?T=yt(Y):p||(p=oe&~s,p!==0&&(T=yt(p))))):(oe=x&~N,oe!==0?T=yt(oe):Y!==0?T=yt(Y):p||(p=x&~s,p!==0&&(T=yt(p)))),T===0?0:l!==0&&l!==T&&(l&N)===0&&(N=T&-T,p=l&-l,N>=p||N===32&&(p&4194048)!==0)?l:T}function Ot(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Wt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bn(){var s=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),s}function tn(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function di(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Yt(s,l,p,x,T,N){var Y=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var oe=s.entanglements,Se=s.expirationTimes,qe=s.hiddenUpdates;for(p=Y&~p;0<p;){var ct=31-be(p),xt=1<<ct;oe[ct]=0,Se[ct]=-1;var et=qe[ct];if(et!==null)for(qe[ct]=null,ct=0;ct<et.length;ct++){var it=et[ct];it!==null&&(it.lane&=-536870913)}p&=~xt}x!==0&&la(s,x,0),N!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=N&~(Y&~l))}function la(s,l,p){s.pendingLanes|=l,s.suspendedLanes&=~l;var x=31-be(l);s.entangledLanes|=l,s.entanglements[x]=s.entanglements[x]|1073741824|p&261930}function Mr(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var x=31-be(p),T=1<<x;T&l|s[x]&l&&(s[x]|=l),p&=~T}}function Us(s,l){var p=l&-l;return p=(p&42)!==0?1:ia(p),(p&(s.suspendedLanes|l))!==0?0:p}function ia(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ja(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:hw(s.type))}function Ga(s,l){var p=K.p;try{return K.p=s,l()}finally{K.p=p}}var ca=Math.random().toString(36).slice(2),_n="__reactFiber$"+ca,Vi="__reactProps$"+ca,fr="__reactContainer$"+ca,Bs="__reactEvents$"+ca,al="__reactListeners$"+ca,Wl="__reactHandles$"+ca,io="__reactResources$"+ca,hi="__reactMarker$"+ca;function Ii(s){delete s[_n],delete s[Vi],delete s[Bs],delete s[al],delete s[Wl]}function Pi(s){var l=s[_n];if(l)return l;for(var p=s.parentNode;p;){if(l=p[fr]||p[_n]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=ZA(s);s!==null;){if(p=s[_n])return p;s=ZA(s)}return l}s=p,p=s.parentNode}return null}function ae(s){if(s=s[_n]||s[fr]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function Ce(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function $e(s){var l=s[io];return l||(l=s[io]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function We(s){s[hi]=!0}var Le=new Set,wt={};function zt(s,l){Bt(s,l),Bt(s+"Capture",l)}function Bt(s,l){for(wt[s]=l,s=0;s<l.length;s++)Le.add(l[s])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sn={},un={};function Xt(s){return Be.call(un,s)?!0:Be.call(sn,s)?!1:jt.test(s)?un[s]=!0:(sn[s]=!0,!1)}function An(s,l,p){if(Xt(l))if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+p)}}function Wn(s,l,p){if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+p)}}function Zn(s,l,p,x){if(x===null)s.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(l,p,""+x)}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function pi(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function on(s,l,p){var x=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,N=x.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(Y){p=""+Y,N.call(this,Y)}}),Object.defineProperty(s,l,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(Y){p=""+Y},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function vi(s){if(!s._valueTracker){var l=pi(s)?"checked":"value";s._valueTracker=on(s,l,""+s[l])}}function Un(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),x="";return s&&(x=pi(s)?s.checked?"true":"false":s.value),s=x,s!==p?(l.setValue(s),!0):!1}function Dn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ls=/[\n"\\]/g;function Ei(s){return s.replace(ls,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function cs(s,l,p,x,T,N,Y,oe){s.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.type=Y:s.removeAttribute("type"),l!=null?Y==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Pn(l)):s.value!==""+Pn(l)&&(s.value=""+Pn(l)):Y!=="submit"&&Y!=="reset"||s.removeAttribute("value"),l!=null?aa(s,Y,Pn(l)):p!=null?aa(s,Y,Pn(p)):x!=null&&s.removeAttribute("value"),T==null&&N!=null&&(s.defaultChecked=!!N),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?s.name=""+Pn(oe):s.removeAttribute("name")}function bi(s,l,p,x,T,N,Y,oe){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.type=N),l!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){vi(s);return}p=p!=null?""+Pn(p):"",l=l!=null?""+Pn(l):p,oe||l===s.value||(s.value=l),s.defaultValue=l}x=x!=null?x:T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,s.checked=oe?s.checked:!!x,s.defaultChecked=!!x,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(s.name=Y),vi(s)}function aa(s,l,p){l==="number"&&Dn(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function ea(s,l,p,x){if(s=s.options,l){l={};for(var T=0;T<p.length;T++)l["$"+p[T]]=!0;for(p=0;p<s.length;p++)T=l.hasOwnProperty("$"+s[p].value),s[p].selected!==T&&(s[p].selected=T),T&&x&&(s[p].defaultSelected=!0)}else{for(p=""+Pn(p),l=null,T=0;T<s.length;T++){if(s[T].value===p){s[T].selected=!0,x&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function ta(s,l,p){if(l!=null&&(l=""+Pn(l),l!==s.value&&(s.value=l),p==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=p!=null?""+Pn(p):""}function $i(s,l,p,x){if(l==null){if(x!=null){if(p!=null)throw Error(i(92));if($(x)){if(1<x.length)throw Error(i(93));x=x[0]}p=x}p==null&&(p=""),l=p}p=Pn(l),s.defaultValue=p,x=s.textContent,x===p&&x!==""&&x!==null&&(s.value=x),vi(s)}function us(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var Zt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(s,l,p){var x=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":x?s.setProperty(l,p):typeof p!="number"||p===0||Zt.has(l)?l==="float"?s.cssFloat=p:s[l]=(""+p).trim():s[l]=p+"px"}function ee(s,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?s.setProperty(x,""):x==="float"?s.cssFloat="":s[x]="");for(var T in l)x=l[T],l.hasOwnProperty(T)&&p[T]!==x&&Co(s,T,x)}else for(var N in l)l.hasOwnProperty(N)&&Co(s,N,l[N])}function J(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var he=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),le=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function me(s){return le.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Je(){}var st=null;function kt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rt=null,Nt=null;function Jt(s){var l=ae(s);if(l&&(s=l.stateNode)){var p=s[Vi]||null;e:switch(s=l.stateNode,l.type){case"input":if(cs(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ei(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var x=p[l];if(x!==s&&x.form===s.form){var T=x[Vi]||null;if(!T)throw Error(i(90));cs(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<p.length;l++)x=p[l],x.form===s.form&&Un(x)}break e;case"textarea":ta(s,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&ea(s,!!p.multiple,l,!1)}}}var St=!1;function qt(s,l,p){if(St)return s(l,p);St=!0;try{var x=s(l);return x}finally{if(St=!1,(Rt!==null||Nt!==null)&&(ue(),Rt&&(l=Rt,s=Nt,Nt=Rt=null,Jt(l),s)))for(l=0;l<s.length;l++)Jt(s[l])}}function Ft(s,l){var p=s.stateNode;if(p===null)return null;var x=p[Vi]||null;if(x===null)return null;p=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qt=!1;if($t)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Qt=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Qt=!1}var Hn=null,Yn=null,Rn=null;function Ur(){if(Rn)return Rn;var s,l=Yn,p=l.length,x,T="value"in Hn?Hn.value:Hn.textContent,N=T.length;for(s=0;s<p&&l[s]===T[s];s++);var Y=p-s;for(x=1;x<=Y&&l[p-x]===T[N-x];x++);return Rn=T.slice(s,1<x?1-x:void 0)}function ua(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function ks(){return!0}function ad(){return!1}function Ia(s){function l(p,x,T,N,Y){this._reactName=p,this._targetInst=T,this.type=x,this.nativeEvent=N,this.target=Y,this.currentTarget=null;for(var oe in s)s.hasOwnProperty(oe)&&(p=s[oe],this[oe]=p?p(N):N[oe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?ks:ad,this.isPropagationStopped=ad,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),l}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=Ia(Yl),ao=g({},Yl,{view:0,detail:0}),Fh=Ia(ao),Vh,sd,Hu,od=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hu&&(Hu&&s.type==="mousemove"?(Vh=s.screenX-Hu.screenX,sd=s.screenY-Hu.screenY):sd=Vh=0,Hu=s),Vh)},movementY:function(s){return"movementY"in s?s.movementY:sd}}),xy=Ia(od),er=g({},od,{dataTransfer:0}),vy=Ia(er),by=g({},ao,{relatedTarget:0}),Hh=Ia(by),_y=g({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),Sy=Ia(_y),ld=g({},Yl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gm=Ia(ld),My=g({},Yl,{data:0}),ym=Ia(My),Ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wy(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=vm[s])?!!l[s]:!1}function cd(){return wy}var bm=g({},ao,{key:function(s){if(s.key){var l=Ay[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(s){return s.type==="keypress"?ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_m=Ia(bm),Ey=g({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Ia(Ey),Ty=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),rl=Ia(Ty),Sm=g({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=Ia(Sm),Cy=g({},od,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Xl=Ia(Cy),sl=g({},Yl,{newState:0,oldState:0}),Mm=Ia(sl),Am=[9,13,27,32],Fc=$t&&"CompositionEvent"in window,ql=null;$t&&"documentMode"in document&&(ql=document.documentMode);var Vc=$t&&"TextEvent"in window&&!ql,tr=$t&&(!Fc||ql&&8<ql&&11>=ql),ud=" ",wm=!1;function Gh(s,l){switch(s){case"keyup":return Am.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ju(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $l=!1;function Wh(s,l){switch(s){case"compositionend":return ju(l);case"keypress":return l.which!==32?null:(wm=!0,ud);case"textInput":return s=l.data,s===ud&&wm?null:s;default:return null}}function Ry(s,l){if($l)return s==="compositionend"||!Fc&&Gh(s,l)?(s=Ur(),Rn=Yn=Hn=null,$l=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return tr&&l.locale!=="ko"?null:l.data;default:return null}}var fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!fs[s.type]:l==="textarea"}function Yh(s,l,p,x){Rt?Nt?Nt.push(x):Nt=[x]:Rt=x,l=bx(l,"onChange"),0<l.length&&(p=new rd("onChange","change",null,p,x),s.push({event:p,listeners:l}))}var Gu=null,Wu=null;function Tm(s){UA(s,0)}function Yu(s){var l=Ce(s);if(Un(l))return s}function Cm(s,l){if(s==="change")return l}var fd=!1;if($t){var Hc;if($t){var Ki="oninput"in document;if(!Ki){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),Ki=typeof Oy.oninput=="function"}Hc=Ki}else Hc=!1;fd=Hc&&(!document.documentMode||9<document.documentMode)}function zy(){Gu&&(Gu.detachEvent("onpropertychange",Rm),Wu=Gu=null)}function Rm(s){if(s.propertyName==="value"&&Yu(Wu)){var l=[];Yh(l,Wu,s,kt(s)),qt(Tm,l)}}function dd(s,l,p){s==="focusin"?(zy(),Gu=l,Wu=p,Gu.attachEvent("onpropertychange",Rm)):s==="focusout"&&zy()}function Kl(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(Wu)}function Ny(s,l){if(s==="click")return Yu(l)}function Dy(s,l){if(s==="input"||s==="change")return Yu(l)}function jc(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Zi=typeof Object.is=="function"?Object.is:jc;function Xu(s,l){if(Zi(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),x=Object.keys(l);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var T=p[x];if(!Be.call(l,T)||!Zi(s[T],l[T]))return!1}return!0}function Om(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zm(s,l){var p=Om(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=l&&x>=l)return{node:p,offset:l-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Om(p)}}function Xh(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Xh(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function qh(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Dn(s.document);l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Dn(s.document)}return l}function qu(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Ly=$t&&"documentMode"in document&&11>=document.documentMode,$u=null,$h=null,Ku=null,ds=!1;function Kh(s,l,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ds||$u==null||$u!==Dn(x)||(x=$u,"selectionStart"in x&&qu(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ku&&Xu(Ku,x)||(Ku=x,x=bx($h,"onSelect"),0<x.length&&(l=new rd("onSelect","select",null,l,p),s.push({event:l,listeners:x}),l.target=$u)))}function Zl(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var Zu={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},hd={},Ar={};$t&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Zu.animationend.animation,delete Zu.animationiteration.animation,delete Zu.animationstart.animation),"TransitionEvent"in window||delete Zu.transitionend.transition);function Jl(s){if(hd[s])return hd[s];if(!Zu[s])return s;var l=Zu[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in Ar)return hd[s]=l[p];return s}var Br=Jl("animationend"),Nm=Jl("animationiteration"),Ro=Jl("animationstart"),Ju=Jl("transitionrun"),Ql=Jl("transitionstart"),Dm=Jl("transitioncancel"),Zh=Jl("transitionend"),ol=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function dr(s,l){ol.set(s,l),zt(l,[s])}var ec=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Wa=[],Gc=0,Qh=0;function tc(){for(var s=Gc,l=Qh=Gc=0;l<s;){var p=Wa[l];Wa[l++]=null;var x=Wa[l];Wa[l++]=null;var T=Wa[l];Wa[l++]=null;var N=Wa[l];if(Wa[l++]=null,x!==null&&T!==null){var Y=x.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),x.pending=T}N!==0&&ep(p,T,N)}}function pd(s,l,p,x){Wa[Gc++]=s,Wa[Gc++]=l,Wa[Gc++]=p,Wa[Gc++]=x,Qh|=x,s.lanes|=x,s=s.alternate,s!==null&&(s.lanes|=x)}function Qu(s,l,p,x){return pd(s,l,p,x),ef(s)}function nc(s,l){return pd(s,null,null,l),ef(s)}function ep(s,l,p){s.lanes|=p;var x=s.alternate;x!==null&&(x.lanes|=p);for(var T=!1,N=s.return;N!==null;)N.childLanes|=p,x=N.alternate,x!==null&&(x.childLanes|=p),N.tag===22&&(s=N.stateNode,s===null||s._visibility&1||(T=!0)),s=N,N=N.return;return s.tag===3?(N=s.stateNode,T&&l!==null&&(T=31-be(p),s=N.hiddenUpdates,x=s[T],x===null?s[T]=[l]:x.push(l),l.lane=p|536870912),N):null}function ef(s){if(50<ou)throw ou=0,lu=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ic={};function Iy(s,l,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(s,l,p,x){return new Iy(s,l,p,x)}function Er(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Oo(s,l){var p=s.alternate;return p===null?(p=wr(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function hr(s,l){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,l=p.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function md(s,l,p,x,T,N){var Y=0;if(x=s,typeof s=="function")Er(s)&&(Y=1);else if(typeof s=="string")Y=bO(s,p,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=wr(31,p,l,T),s.elementType=L,s.lanes=N,s;case M:return ll(p.children,T,N,l);case A:Y=8,T|=24;break;case S:return s=wr(12,p,l,T|2),s.elementType=S,s.lanes=N,s;case z:return s=wr(13,p,l,T),s.elementType=z,s.lanes=N,s;case O:return s=wr(19,p,l,T),s.elementType=O,s.lanes=N,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:Y=10;break e;case E:Y=9;break e;case R:Y=11;break e;case P:Y=14;break e;case B:Y=16,x=null;break e}Y=29,p=Error(i(130,s===null?"null":typeof s,"")),x=null}return l=wr(Y,p,l,T),l.elementType=s,l.type=x,l.lanes=N,l}function ll(s,l,p,x){return s=wr(7,s,x,l),s.lanes=p,s}function tp(s,l,p){return s=wr(6,s,null,l),s.lanes=p,s}function Py(s){var l=wr(18,null,null,0);return l.stateNode=s,l}function ro(s,l,p){return l=wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Lm=new WeakMap;function kr(s,l){if(typeof s=="object"&&s!==null){var p=Lm.get(s);return p!==void 0?p:(l={value:s,source:l,stack:Ve(l)},Lm.set(s,l),l)}return{value:s,source:l,stack:Ve(l)}}var so=[],Wc=0,gd=null,tf=0,hs=[],Fr=0,zo=null,No=1,Do="";function cl(s,l){so[Wc++]=tf,so[Wc++]=gd,gd=s,tf=l}function Im(s,l,p){hs[Fr++]=No,hs[Fr++]=Do,hs[Fr++]=zo,zo=s;var x=No;s=Do;var T=32-be(x)-1;x&=~(1<<T),p+=1;var N=32-be(l)+T;if(30<N){var Y=T-T%5;N=(x&(1<<Y)-1).toString(32),x>>=Y,T-=Y,No=1<<32-be(l)+T|p<<T|x,Do=N+s}else No=1<<N|p<<T|x,Do=s}function np(s){s.return!==null&&(cl(s,1),Im(s,1,0))}function ac(s){for(;s===gd;)gd=so[--Wc],so[Wc]=null,tf=so[--Wc],so[Wc]=null;for(;s===zo;)zo=hs[--Fr],hs[Fr]=null,Do=hs[--Fr],hs[Fr]=null,No=hs[--Fr],hs[Fr]=null}function yd(s,l){hs[Fr++]=No,hs[Fr++]=Do,hs[Fr++]=zo,No=l.id,Do=l.overflow,zo=s}var Ya=null,Hi=null,ni=!1,ul=null,Xa=!1,ip=Error(i(519));function Jn(s){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xd(kr(l,s)),ip}function ap(s){var l=s.stateNode,p=s.type,x=s.memoizedProps;switch(l[_n]=s,l[Vi]=x,p){case"dialog":ii("cancel",l),ii("close",l);break;case"iframe":case"object":case"embed":ii("load",l);break;case"video":case"audio":for(p=0;p<Tg.length;p++)ii(Tg[p],l);break;case"source":ii("error",l);break;case"img":case"image":case"link":ii("error",l),ii("load",l);break;case"details":ii("toggle",l);break;case"input":ii("invalid",l),bi(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ii("invalid",l);break;case"textarea":ii("invalid",l),$i(l,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||x.suppressHydrationWarning===!0||VA(l.textContent,p)?(x.popover!=null&&(ii("beforetoggle",l),ii("toggle",l)),x.onScroll!=null&&ii("scroll",l),x.onScrollEnd!=null&&ii("scrollend",l),x.onClick!=null&&(l.onclick=Je),l=!0):l=!1,l||Jn(s,!0)}function Uy(s){for(Ya=s.return;Ya;)switch(Ya.tag){case 5:case 31:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Ya=Ya.return}}function Yc(s){if(s!==Ya)return!1;if(!ni)return Uy(s),ni=!0,!1;var l=s.tag,p;if((p=l!==3&&l!==27)&&((p=l===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||t3(s.type,s.memoizedProps)),p=!p),p&&Hi&&Jn(s),Uy(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Hi=KA(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Hi=KA(s)}else l===27?(l=Hi,_f(s.type)?(s=s3,s3=null,Hi=s):Hi=l):Hi=Ya?Go(s.stateNode.nextSibling):null;return!0}function Xc(){Hi=Ya=null,ni=!1}function Pm(){var s=ul;return s!==null&&(vr===null?vr=s:vr.push.apply(vr,s),ul=null),s}function xd(s){ul===null?ul=[s]:ul.push(s)}var Um=q(null),fl=null,pr=null;function dl(s,l,p){fe(Um,l._currentValue),l._currentValue=p}function Fs(s){s._currentValue=Um.current,ie(Um)}function hl(s,l,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),s===p)break;s=s.return}}function rp(s,l,p,x){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var N=T.dependencies;if(N!==null){var Y=T.child;N=N.firstContext;e:for(;N!==null;){var oe=N;N=T;for(var Se=0;Se<l.length;Se++)if(oe.context===l[Se]){N.lanes|=p,oe=N.alternate,oe!==null&&(oe.lanes|=p),hl(N.return,p,s),x||(Y=null);break e}N=oe.next}}else if(T.tag===18){if(Y=T.return,Y===null)throw Error(i(341));Y.lanes|=p,N=Y.alternate,N!==null&&(N.lanes|=p),hl(Y,p,s),Y=null}else Y=T.child;if(Y!==null)Y.return=T;else for(Y=T;Y!==null;){if(Y===s){Y=null;break}if(T=Y.sibling,T!==null){T.return=Y.return,Y=T;break}Y=Y.return}T=Y}}function rc(s,l,p,x){s=null;for(var T=l,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var Y=T.alternate;if(Y===null)throw Error(i(387));if(Y=Y.memoizedProps,Y!==null){var oe=T.type;Zi(T.pendingProps.value,Y.value)||(s!==null?s.push(oe):s=[oe])}}else if(T===se.current){if(Y=T.alternate,Y===null)throw Error(i(387));Y.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Ng):s=[Ng])}T=T.return}s!==null&&rp(l,s,p,x),l.flags|=262144}function nf(s){for(s=s.firstContext;s!==null;){if(!Zi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function qc(s){fl=s,pr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function qa(s){return Bm(fl,s)}function vd(s,l){return fl===null&&qc(s),Bm(s,l)}function Bm(s,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},pr===null){if(s===null)throw Error(i(308));pr=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else pr=pr.next=l;return p}var By=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(p,x){s.push(x)}};this.abort=function(){l.aborted=!0,s.forEach(function(p){return p()})}},ky=n.unstable_scheduleCallback,km=n.unstable_NormalPriority,ln={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new By,data:new Map,refCount:0}}function nr(s){s.refCount--,s.refCount===0&&ky(km,function(){s.controller.abort()})}var $c=null,Vm=0,pl=0,oo=null;function af(s,l){if($c===null){var p=$c=[];Vm=0,pl=Y2(),oo={status:"pending",value:void 0,then:function(x){p.push(x)}}}return Vm++,l.then(Hm,Hm),l}function Hm(){if(--Vm===0&&$c!==null){oo!==null&&(oo.status="fulfilled");var s=$c;$c=null,pl=0,oo=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function jm(s,l){var p=[],x={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return s.then(function(){x.status="fulfilled",x.value=l;for(var T=0;T<p.length;T++)(0,p[T])(l)},function(T){for(x.status="rejected",x.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),x}var Fy=H.S;H.S=function(s,l){xf=Z(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&af(s,l),Fy!==null&&Fy(s,l)};var sc=q(null);function Lo(){var s=sc.current;return s!==null?s:Si.pooledCache}function rf(s,l){l===null?fe(sc,sc.current):fe(sc,l.pool)}function sp(){var s=Lo();return s===null?null:{parent:ln._currentValue,pool:s}}var oc=Error(i(460)),bd=Error(i(474)),lo=Error(i(542)),_d={then:function(){}};function Vy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gm(s,l,p){switch(p=s[p],p===void 0?s.push(l):p!==l&&(l.then(Je,Je),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Wm(s),s;default:if(typeof l.status=="string")l.then(Je,Je);else{if(s=Si,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(x){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=x}},function(x){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Wm(s),s}throw hn=l,oc}}function Kc(s){try{var l=s._init;return l(s._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(hn=p,oc):p}}var hn=null;function op(){if(hn===null)throw Error(i(459));var s=hn;return hn=null,s}function Wm(s){if(s===oc||s===lo)throw Error(i(483))}var lc=null,cc=0;function lp(s){var l=cc;return cc+=1,lc===null&&(lc=[]),Gm(lc,s,l)}function Sd(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Md(s,l){throw l.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function sf(s){function l(Pe,Re){if(s){var Xe=Pe.deletions;Xe===null?(Pe.deletions=[Re],Pe.flags|=16):Xe.push(Re)}}function p(Pe,Re){if(!s)return null;for(;Re!==null;)l(Pe,Re),Re=Re.sibling;return null}function x(Pe){for(var Re=new Map;Pe!==null;)Pe.key!==null?Re.set(Pe.key,Pe):Re.set(Pe.index,Pe),Pe=Pe.sibling;return Re}function T(Pe,Re){return Pe=Oo(Pe,Re),Pe.index=0,Pe.sibling=null,Pe}function N(Pe,Re,Xe){return Pe.index=Xe,s?(Xe=Pe.alternate,Xe!==null?(Xe=Xe.index,Xe<Re?(Pe.flags|=67108866,Re):Xe):(Pe.flags|=67108866,Re)):(Pe.flags|=1048576,Re)}function Y(Pe){return s&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function oe(Pe,Re,Xe,mt){return Re===null||Re.tag!==6?(Re=tp(Xe,Pe.mode,mt),Re.return=Pe,Re):(Re=T(Re,Xe),Re.return=Pe,Re)}function Se(Pe,Re,Xe,mt){var fn=Xe.type;return fn===M?ct(Pe,Re,Xe.props.children,mt,Xe.key):Re!==null&&(Re.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===B&&Kc(fn)===Re.type)?(Re=T(Re,Xe.props),Sd(Re,Xe),Re.return=Pe,Re):(Re=md(Xe.type,Xe.key,Xe.props,null,Pe.mode,mt),Sd(Re,Xe),Re.return=Pe,Re)}function qe(Pe,Re,Xe,mt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Xe.containerInfo||Re.stateNode.implementation!==Xe.implementation?(Re=ro(Xe,Pe.mode,mt),Re.return=Pe,Re):(Re=T(Re,Xe.children||[]),Re.return=Pe,Re)}function ct(Pe,Re,Xe,mt,fn){return Re===null||Re.tag!==7?(Re=ll(Xe,Pe.mode,mt,fn),Re.return=Pe,Re):(Re=T(Re,Xe),Re.return=Pe,Re)}function xt(Pe,Re,Xe){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=tp(""+Re,Pe.mode,Xe),Re.return=Pe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case y:return Xe=md(Re.type,Re.key,Re.props,null,Pe.mode,Xe),Sd(Xe,Re),Xe.return=Pe,Xe;case b:return Re=ro(Re,Pe.mode,Xe),Re.return=Pe,Re;case B:return Re=Kc(Re),xt(Pe,Re,Xe)}if($(Re)||U(Re))return Re=ll(Re,Pe.mode,Xe,null),Re.return=Pe,Re;if(typeof Re.then=="function")return xt(Pe,lp(Re),Xe);if(Re.$$typeof===w)return xt(Pe,vd(Pe,Re),Xe);Md(Pe,Re)}return null}function et(Pe,Re,Xe,mt){var fn=Re!==null?Re.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return fn!==null?null:oe(Pe,Re,""+Xe,mt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:return Xe.key===fn?Se(Pe,Re,Xe,mt):null;case b:return Xe.key===fn?qe(Pe,Re,Xe,mt):null;case B:return Xe=Kc(Xe),et(Pe,Re,Xe,mt)}if($(Xe)||U(Xe))return fn!==null?null:ct(Pe,Re,Xe,mt,null);if(typeof Xe.then=="function")return et(Pe,Re,lp(Xe),mt);if(Xe.$$typeof===w)return et(Pe,Re,vd(Pe,Xe),mt);Md(Pe,Xe)}return null}function it(Pe,Re,Xe,mt,fn){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Pe=Pe.get(Xe)||null,oe(Re,Pe,""+mt,fn);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case y:return Pe=Pe.get(mt.key===null?Xe:mt.key)||null,Se(Re,Pe,mt,fn);case b:return Pe=Pe.get(mt.key===null?Xe:mt.key)||null,qe(Re,Pe,mt,fn);case B:return mt=Kc(mt),it(Pe,Re,Xe,mt,fn)}if($(mt)||U(mt))return Pe=Pe.get(Xe)||null,ct(Re,Pe,mt,fn,null);if(typeof mt.then=="function")return it(Pe,Re,Xe,lp(mt),fn);if(mt.$$typeof===w)return it(Pe,Re,Xe,vd(Re,mt),fn);Md(Re,mt)}return null}function Kt(Pe,Re,Xe,mt){for(var fn=null,Ai=null,nn=Re,kn=Re=0,oi=null;nn!==null&&kn<Xe.length;kn++){nn.index>kn?(oi=nn,nn=null):oi=nn.sibling;var wi=et(Pe,nn,Xe[kn],mt);if(wi===null){nn===null&&(nn=oi);break}s&&nn&&wi.alternate===null&&l(Pe,nn),Re=N(wi,Re,kn),Ai===null?fn=wi:Ai.sibling=wi,Ai=wi,nn=oi}if(kn===Xe.length)return p(Pe,nn),ni&&cl(Pe,kn),fn;if(nn===null){for(;kn<Xe.length;kn++)nn=xt(Pe,Xe[kn],mt),nn!==null&&(Re=N(nn,Re,kn),Ai===null?fn=nn:Ai.sibling=nn,Ai=nn);return ni&&cl(Pe,kn),fn}for(nn=x(nn);kn<Xe.length;kn++)oi=it(nn,Pe,kn,Xe[kn],mt),oi!==null&&(s&&oi.alternate!==null&&nn.delete(oi.key===null?kn:oi.key),Re=N(oi,Re,kn),Ai===null?fn=oi:Ai.sibling=oi,Ai=oi);return s&&nn.forEach(function(Ef){return l(Pe,Ef)}),ni&&cl(Pe,kn),fn}function mn(Pe,Re,Xe,mt){if(Xe==null)throw Error(i(151));for(var fn=null,Ai=null,nn=Re,kn=Re=0,oi=null,wi=Xe.next();nn!==null&&!wi.done;kn++,wi=Xe.next()){nn.index>kn?(oi=nn,nn=null):oi=nn.sibling;var Ef=et(Pe,nn,wi.value,mt);if(Ef===null){nn===null&&(nn=oi);break}s&&nn&&Ef.alternate===null&&l(Pe,nn),Re=N(Ef,Re,kn),Ai===null?fn=Ef:Ai.sibling=Ef,Ai=Ef,nn=oi}if(wi.done)return p(Pe,nn),ni&&cl(Pe,kn),fn;if(nn===null){for(;!wi.done;kn++,wi=Xe.next())wi=xt(Pe,wi.value,mt),wi!==null&&(Re=N(wi,Re,kn),Ai===null?fn=wi:Ai.sibling=wi,Ai=wi);return ni&&cl(Pe,kn),fn}for(nn=x(nn);!wi.done;kn++,wi=Xe.next())wi=it(nn,Pe,kn,wi.value,mt),wi!==null&&(s&&wi.alternate!==null&&nn.delete(wi.key===null?kn:wi.key),Re=N(wi,Re,kn),Ai===null?fn=wi:Ai.sibling=wi,Ai=wi);return s&&nn.forEach(function(zO){return l(Pe,zO)}),ni&&cl(Pe,kn),fn}function Wi(Pe,Re,Xe,mt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===M&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:e:{for(var fn=Xe.key;Re!==null;){if(Re.key===fn){if(fn=Xe.type,fn===M){if(Re.tag===7){p(Pe,Re.sibling),mt=T(Re,Xe.props.children),mt.return=Pe,Pe=mt;break e}}else if(Re.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===B&&Kc(fn)===Re.type){p(Pe,Re.sibling),mt=T(Re,Xe.props),Sd(mt,Xe),mt.return=Pe,Pe=mt;break e}p(Pe,Re);break}else l(Pe,Re);Re=Re.sibling}Xe.type===M?(mt=ll(Xe.props.children,Pe.mode,mt,Xe.key),mt.return=Pe,Pe=mt):(mt=md(Xe.type,Xe.key,Xe.props,null,Pe.mode,mt),Sd(mt,Xe),mt.return=Pe,Pe=mt)}return Y(Pe);case b:e:{for(fn=Xe.key;Re!==null;){if(Re.key===fn)if(Re.tag===4&&Re.stateNode.containerInfo===Xe.containerInfo&&Re.stateNode.implementation===Xe.implementation){p(Pe,Re.sibling),mt=T(Re,Xe.children||[]),mt.return=Pe,Pe=mt;break e}else{p(Pe,Re);break}else l(Pe,Re);Re=Re.sibling}mt=ro(Xe,Pe.mode,mt),mt.return=Pe,Pe=mt}return Y(Pe);case B:return Xe=Kc(Xe),Wi(Pe,Re,Xe,mt)}if($(Xe))return Kt(Pe,Re,Xe,mt);if(U(Xe)){if(fn=U(Xe),typeof fn!="function")throw Error(i(150));return Xe=fn.call(Xe),mn(Pe,Re,Xe,mt)}if(typeof Xe.then=="function")return Wi(Pe,Re,lp(Xe),mt);if(Xe.$$typeof===w)return Wi(Pe,Re,vd(Pe,Xe),mt);Md(Pe,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Re!==null&&Re.tag===6?(p(Pe,Re.sibling),mt=T(Re,Xe),mt.return=Pe,Pe=mt):(p(Pe,Re),mt=tp(Xe,Pe.mode,mt),mt.return=Pe,Pe=mt),Y(Pe)):p(Pe,Re)}return function(Pe,Re,Xe,mt){try{cc=0;var fn=Wi(Pe,Re,Xe,mt);return lc=null,fn}catch(nn){if(nn===oc||nn===lo)throw nn;var Ai=wr(29,nn,null,Pe.mode);return Ai.lanes=mt,Ai.return=Pe,Ai}finally{}}}var Zc=sf(!0),Hy=sf(!1),uc=!1;function Ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Io(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ml(s,l,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(ri&2)!==0){var T=x.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),x.pending=l,l=ef(s),ep(s,null,p),l}return pd(s,x,l,p),ef(s)}function fc(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194048)!==0)){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,Mr(s,p)}}function cp(s,l){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var T=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?T=N=Y:N=N.next=Y,p=p.next}while(p!==null);N===null?T=N=l:N=N.next=l}else T=N=l;p={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:x.shared,callbacks:x.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}var qm=!1;function Ad(){if(qm){var s=oo;if(s!==null)throw s}}function Jc(s,l,p,x){qm=!1;var T=s.updateQueue;uc=!1;var N=T.firstBaseUpdate,Y=T.lastBaseUpdate,oe=T.shared.pending;if(oe!==null){T.shared.pending=null;var Se=oe,qe=Se.next;Se.next=null,Y===null?N=qe:Y.next=qe,Y=Se;var ct=s.alternate;ct!==null&&(ct=ct.updateQueue,oe=ct.lastBaseUpdate,oe!==Y&&(oe===null?ct.firstBaseUpdate=qe:oe.next=qe,ct.lastBaseUpdate=Se))}if(N!==null){var xt=T.baseState;Y=0,ct=qe=Se=null,oe=N;do{var et=oe.lane&-536870913,it=et!==oe.lane;if(it?(Qn&et)===et:(x&et)===et){et!==0&&et===pl&&(qm=!0),ct!==null&&(ct=ct.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Kt=s,mn=oe;et=l;var Wi=p;switch(mn.tag){case 1:if(Kt=mn.payload,typeof Kt=="function"){xt=Kt.call(Wi,xt,et);break e}xt=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=mn.payload,et=typeof Kt=="function"?Kt.call(Wi,xt,et):Kt,et==null)break e;xt=g({},xt,et);break e;case 2:uc=!0}}et=oe.callback,et!==null&&(s.flags|=64,it&&(s.flags|=8192),it=T.callbacks,it===null?T.callbacks=[et]:it.push(et))}else it={lane:et,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},ct===null?(qe=ct=it,Se=xt):ct=ct.next=it,Y|=et;if(oe=oe.next,oe===null){if(oe=T.shared.pending,oe===null)break;it=oe,oe=it.next,it.next=null,T.lastBaseUpdate=it,T.shared.pending=null}}while(!0);ct===null&&(Se=xt),T.baseState=Se,T.firstBaseUpdate=qe,T.lastBaseUpdate=ct,N===null&&(T.shared.lanes=0),As|=Y,s.lanes=Y,s.memoizedState=xt}}function Po(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function ir(s,l){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)Po(p[s],l)}var ps=q(null),Tr=q(0);function $m(s,l){s=Sa,fe(Tr,s),fe(ps,l),Sa=s|l.baseLanes}function Km(){fe(Tr,Sa),fe(ps,ps.current)}function mr(){Sa=Tr.current,ie(ps),ie(Tr)}var Pa=q(null),Vs=null;function dc(s){var l=s.alternate;fe(fa,fa.current&1),fe(Pa,s),Vs===null&&(l===null||ps.current!==null||l.memoizedState!==null)&&(Vs=s)}function Zm(s){fe(fa,fa.current),fe(Pa,s),Vs===null&&(Vs=s)}function jy(s){s.tag===22?(fe(fa,fa.current),fe(Pa,s),Vs===null&&(Vs=s)):gl()}function gl(){fe(fa,fa.current),fe(Pa,Pa.current)}function ms(s){ie(Pa),Vs===s&&(Vs=null),ie(fa)}var fa=q(0);function up(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||a3(p)||r3(p)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Vr=0,gn=null,Ni=null,Ta=null,fp=!1,Uo=!1,Qc=!1,dp=0,wd=0,Bo=null,P2=0;function da(){throw Error(i(321))}function Jm(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!Zi(s[p],l[p]))return!1;return!0}function Qm(s,l,p,x,T,N){return Vr=N,gn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,H.H=s===null||s.memoizedState===null?cx:cf,Qc=!1,N=p(x,T),Qc=!1,Uo&&(N=Wy(l,p,x,T)),Gy(s),N}function Gy(s){H.H=Od;var l=Ni!==null&&Ni.next!==null;if(Vr=0,Ta=Ni=gn=null,fp=!1,wd=0,Bo=null,l)throw Error(i(300));s===null||Ji||(s=s.dependencies,s!==null&&nf(s)&&(Ji=!0))}function Wy(s,l,p,x){gn=s;var T=0;do{if(Uo&&(Bo=null),wd=0,Uo=!1,25<=T)throw Error(i(301));if(T+=1,Ta=Ni=null,s.updateQueue!=null){var N=s.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}H.H=zd,N=l(p,x)}while(Uo);return N}function U2(){var s=H.H,l=s.useState()[0];return l=typeof l.then=="function"?Td(l):l,s=s.useState()[0],(Ni!==null?Ni.memoizedState:null)!==s&&(gn.flags|=1024),l}function eg(){var s=dp!==0;return dp=0,s}function tg(s,l,p){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~p}function ng(s){if(fp){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}fp=!1}Vr=0,Ta=Ni=gn=null,Uo=!1,wd=dp=0,Bo=null}function Cr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ta===null?gn.memoizedState=Ta=s:Ta=Ta.next=s,Ta}function xa(){if(Ni===null){var s=gn.alternate;s=s!==null?s.memoizedState:null}else s=Ni.next;var l=Ta===null?gn.memoizedState:Ta.next;if(l!==null)Ta=l,Ni=s;else{if(s===null)throw gn.alternate===null?Error(i(467)):Error(i(310));Ni=s,s={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},Ta===null?gn.memoizedState=Ta=s:Ta=Ta.next=s}return Ta}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Td(s){var l=wd;return wd+=1,Bo===null&&(Bo=[]),s=Gm(Bo,s,l),l=gn,(Ta===null?l.memoizedState:Ta.next)===null&&(l=l.alternate,H.H=l===null||l.memoizedState===null?cx:cf),s}function hp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Td(s);if(s.$$typeof===w)return qa(s)}throw Error(i(438,String(s)))}function ig(s){var l=null,p=gn.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var x=gn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=Ed(),gn.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(s),x=0;x<s;x++)p[x]=D;return l.index++,p}function yl(s,l){return typeof l=="function"?l(s):l}function pp(s){var l=xa();return ag(l,Ni,s)}function ag(s,l,p){var x=s.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=p;var T=s.baseQueue,N=x.pending;if(N!==null){if(T!==null){var Y=T.next;T.next=N.next,N.next=Y}l.baseQueue=T=N,x.pending=null}if(N=s.baseState,T===null)s.memoizedState=N;else{l=T.next;var oe=Y=null,Se=null,qe=l,ct=!1;do{var xt=qe.lane&-536870913;if(xt!==qe.lane?(Qn&xt)===xt:(Vr&xt)===xt){var et=qe.revertLane;if(et===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),xt===pl&&(ct=!0);else if((Vr&et)===et){qe=qe.next,et===pl&&(ct=!0);continue}else xt={lane:0,revertLane:qe.revertLane,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Se===null?(oe=Se=xt,Y=N):Se=Se.next=xt,gn.lanes|=et,As|=et;xt=qe.action,Qc&&p(N,xt),N=qe.hasEagerState?qe.eagerState:p(N,xt)}else et={lane:xt,revertLane:qe.revertLane,gesture:qe.gesture,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Se===null?(oe=Se=et,Y=N):Se=Se.next=et,gn.lanes|=xt,As|=xt;qe=qe.next}while(qe!==null&&qe!==l);if(Se===null?Y=N:Se.next=oe,!Zi(N,s.memoizedState)&&(Ji=!0,ct&&(p=oo,p!==null)))throw p;s.memoizedState=N,s.baseState=Y,s.baseQueue=Se,x.lastRenderedState=N}return T===null&&(x.lanes=0),[s.memoizedState,x.dispatch]}function mp(s){var l=xa(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var x=p.dispatch,T=p.pending,N=l.memoizedState;if(T!==null){p.pending=null;var Y=T=T.next;do N=s(N,Y.action),Y=Y.next;while(Y!==T);Zi(N,l.memoizedState)||(Ji=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),p.lastRenderedState=N}return[N,x]}function rg(s,l,p){var x=gn,T=xa(),N=ni;if(N){if(p===void 0)throw Error(i(407));p=p()}else p=l();var Y=!Zi((Ni||T).memoizedState,p);if(Y&&(T.memoizedState=p,Ji=!0),T=T.queue,ug(og.bind(null,x,T,s),[s]),T.getSnapshot!==l||Y||Ta!==null&&Ta.memoizedState.tag&1){if(x.flags|=2048,of(9,{destroy:void 0},sg.bind(null,x,T,p,l),null),Si===null)throw Error(i(349));N||(Vr&127)!==0||Yy(x,l,p)}return p}function Yy(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=gn.updateQueue,l===null?(l=Ed(),gn.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function sg(s,l,p,x){l.value=p,l.getSnapshot=x,lg(l)&&gp(s)}function og(s,l,p){return p(function(){lg(l)&&gp(s)})}function lg(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!Zi(s,p)}catch{return!0}}function gp(s){var l=nc(s,2);l!==null&&d(l,s,2)}function Cd(s){var l=Cr();if(typeof s=="function"){var p=s;if(s=p(),Qc){Dt(!0);try{p()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:s},l}function Xy(s,l,p,x){return s.baseState=p,ag(s,Ni,typeof x=="function"?x:yl)}function B2(s,l,p,x,T){if(xl(s))throw Error(i(485));if(s=l.action,s!==null){var N={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){N.listeners.push(Y)}};H.T!==null?p(!0):N.isTransition=!1,x(N),p=l.pending,p===null?(N.next=l.pending=N,qy(l,N)):(N.next=p.next,l.pending=p.next=N)}}function qy(s,l){var p=l.action,x=l.payload,T=s.state;if(l.isTransition){var N=H.T,Y={};H.T=Y;try{var oe=p(T,x),Se=H.S;Se!==null&&Se(Y,oe),$y(s,l,oe)}catch(qe){yp(s,l,qe)}finally{N!==null&&Y.types!==null&&(N.types=Y.types),H.T=N}}else try{N=p(T,x),$y(s,l,N)}catch(qe){yp(s,l,qe)}}function $y(s,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){cg(s,l,x)},function(x){return yp(s,l,x)}):cg(s,l,p)}function cg(s,l,p){l.status="fulfilled",l.value=p,Ky(l),s.state=p,l=s.pending,l!==null&&(p=l.next,p===l?s.pending=null:(p=p.next,l.next=p,qy(s,p)))}function yp(s,l,p){var x=s.pending;if(s.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=p,Ky(l),l=l.next;while(l!==x)}s.action=null}function Ky(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Zy(s,l){return l}function Jy(s,l){if(ni){var p=Si.formState;if(p!==null){e:{var x=gn;if(ni){if(Hi){t:{for(var T=Hi,N=Xa;T.nodeType!==8;){if(!N){T=null;break t}if(T=Go(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Hi=Go(T.nextSibling),x=T.data==="F!";break e}}Jn(x)}x=!1}x&&(l=p[0])}}return p=Cr(),p.memoizedState=p.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:l},p.queue=x,p=lx.bind(null,gn,x),x.dispatch=p,x=Cd(!1),N=Rd.bind(null,gn,!1,x.queue),x=Cr(),T={state:l,dispatch:null,action:s,pending:null},x.queue=T,p=B2.bind(null,gn,T,N,p),T.dispatch=p,x.memoizedState=s,[l,p,!1]}function Qy(s){var l=xa();return ex(l,Ni,s)}function ex(s,l,p){if(l=ag(s,l,Zy)[0],s=pp(yl)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Td(l)}catch(Y){throw Y===oc?lo:Y}else x=l;l=xa();var T=l.queue,N=T.dispatch;return p!==l.memoizedState&&(gn.flags|=2048,of(9,{destroy:void 0},k2.bind(null,T,p),null)),[x,N,s]}function k2(s,l){s.action=l}function tx(s){var l=xa(),p=Ni;if(p!==null)return ex(l,p,s);xa(),l=l.memoizedState,p=xa();var x=p.queue.dispatch;return p.memoizedState=s,[l,x,!1]}function of(s,l,p,x){return s={tag:s,create:p,deps:x,inst:l,next:null},l=gn.updateQueue,l===null&&(l=Ed(),gn.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,l.lastEffect=s),s}function nx(){return xa().memoizedState}function xp(s,l,p,x){var T=Cr();gn.flags|=s,T.memoizedState=of(1|l,{destroy:void 0},p,x===void 0?null:x)}function vp(s,l,p,x){var T=xa();x=x===void 0?null:x;var N=T.memoizedState.inst;Ni!==null&&x!==null&&Jm(x,Ni.memoizedState.deps)?T.memoizedState=of(l,N,p,x):(gn.flags|=s,T.memoizedState=of(1|l,N,p,x))}function ix(s,l){xp(8390656,8,s,l)}function ug(s,l){vp(2048,8,s,l)}function ax(s){gn.flags|=4;var l=gn.updateQueue;if(l===null)l=Ed(),gn.updateQueue=l,l.events=[s];else{var p=l.events;p===null?l.events=[s]:p.push(s)}}function rx(s){var l=xa().memoizedState;return ax({ref:l,nextImpl:s}),function(){if((ri&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function sx(s,l){return vp(4,2,s,l)}function gs(s,l){return vp(4,4,s,l)}function fg(s,l){if(typeof l=="function"){s=s();var p=l(s);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function bp(s,l,p){p=p!=null?p.concat([s]):null,vp(4,4,fg.bind(null,l,s),p)}function _p(){}function dg(s,l){var p=xa();l=l===void 0?null:l;var x=p.memoizedState;return l!==null&&Jm(l,x[1])?x[0]:(p.memoizedState=[s,l],s)}function hg(s,l){var p=xa();l=l===void 0?null:l;var x=p.memoizedState;if(l!==null&&Jm(l,x[1]))return x[0];if(x=s(),Qc){Dt(!0);try{s()}finally{Dt(!1)}}return p.memoizedState=[x,l],x}function pg(s,l,p){return p===void 0||(Vr&1073741824)!==0&&(Qn&261930)===0?s.memoizedState=l:(s.memoizedState=p,s=u(),gn.lanes|=s,As|=s,p)}function mg(s,l,p,x){return Zi(p,l)?p:ps.current!==null?(s=pg(s,p,x),Zi(s,l)||(Ji=!0),s):(Vr&42)===0||(Vr&1073741824)!==0&&(Qn&261930)===0?(Ji=!0,s.memoizedState=p):(s=u(),gn.lanes|=s,As|=s,l)}function gg(s,l,p,x,T){var N=K.p;K.p=N!==0&&8>N?N:8;var Y=H.T,oe={};H.T=oe,Rd(s,!1,l,p);try{var Se=T(),qe=H.S;if(qe!==null&&qe(oe,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var ct=jm(Se,x);lf(s,l,ct,Or(s))}else lf(s,l,x,Or(s))}catch(xt){lf(s,l,{then:function(){},status:"rejected",reason:xt},Or())}finally{K.p=N,Y!==null&&oe.types!==null&&(Y.types=oe.types),H.T=Y}}function F2(){}function yg(s,l,p,x){if(s.tag!==5)throw Error(i(476));var T=ox(s).queue;gg(s,T,l,Q,p===null?F2:function(){return xg(s),p(x)})}function ox(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:Q},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:p},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function xg(s){var l=ox(s);l.next===null&&(l=s.alternate.memoizedState),lf(s,l.next.queue,{},Or())}function vg(){return qa(Ng)}function ar(){return xa().memoizedState}function bg(){return xa().memoizedState}function V2(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var p=Or();s=Io(p);var x=ml(l,s,p);x!==null&&(d(x,l,p),fc(x,l,p)),l={cache:Fm()},s.payload=l;return}l=l.return}}function H2(s,l,p){var x=Or();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},xl(s)?eu(l,p):(p=Qu(s,l,p,x),p!==null&&(d(p,s,x),Hr(p,l,x)))}function lx(s,l,p){var x=Or();lf(s,l,p,x)}function lf(s,l,p,x){var T={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(xl(s))eu(l,T);else{var N=s.alternate;if(s.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var Y=l.lastRenderedState,oe=N(Y,p);if(T.hasEagerState=!0,T.eagerState=oe,Zi(oe,Y))return pd(s,l,T,0),Si===null&&tc(),!1}catch{}finally{}if(p=Qu(s,l,T,x),p!==null)return d(p,s,x),Hr(p,l,x),!0}return!1}function Rd(s,l,p,x){if(x={lane:2,revertLane:Y2(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},xl(s)){if(l)throw Error(i(479))}else l=Qu(s,p,x,2),l!==null&&d(l,s,2)}function xl(s){var l=s.alternate;return s===gn||l!==null&&l===gn}function eu(s,l){Uo=fp=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function Hr(s,l,p){if((p&4194048)!==0){var x=l.lanes;x&=s.pendingLanes,p|=x,l.lanes=p,Mr(s,p)}}var Od={readContext:qa,use:hp,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useInsertionEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useSyncExternalStore:da,useId:da,useHostTransitionStatus:da,useFormState:da,useActionState:da,useOptimistic:da,useMemoCache:da,useCacheRefresh:da};Od.useEffectEvent=da;var cx={readContext:qa,use:hp,useCallback:function(s,l){return Cr().memoizedState=[s,l===void 0?null:l],s},useContext:qa,useEffect:ix,useImperativeHandle:function(s,l,p){p=p!=null?p.concat([s]):null,xp(4194308,4,fg.bind(null,l,s),p)},useLayoutEffect:function(s,l){return xp(4194308,4,s,l)},useInsertionEffect:function(s,l){xp(4,2,s,l)},useMemo:function(s,l){var p=Cr();l=l===void 0?null:l;var x=s();if(Qc){Dt(!0);try{s()}finally{Dt(!1)}}return p.memoizedState=[x,l],x},useReducer:function(s,l,p){var x=Cr();if(p!==void 0){var T=p(l);if(Qc){Dt(!0);try{p(l)}finally{Dt(!1)}}}else T=l;return x.memoizedState=x.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},x.queue=s,s=s.dispatch=H2.bind(null,gn,s),[x.memoizedState,s]},useRef:function(s){var l=Cr();return s={current:s},l.memoizedState=s},useState:function(s){s=Cd(s);var l=s.queue,p=lx.bind(null,gn,l);return l.dispatch=p,[s.memoizedState,p]},useDebugValue:_p,useDeferredValue:function(s,l){var p=Cr();return pg(p,s,l)},useTransition:function(){var s=Cd(!1);return s=gg.bind(null,gn,s.queue,!0,!1),Cr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,p){var x=gn,T=Cr();if(ni){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),Si===null)throw Error(i(349));(Qn&127)!==0||Yy(x,l,p)}T.memoizedState=p;var N={value:p,getSnapshot:l};return T.queue=N,ix(og.bind(null,x,N,s),[s]),x.flags|=2048,of(9,{destroy:void 0},sg.bind(null,x,N,p,l),null),p},useId:function(){var s=Cr(),l=Si.identifierPrefix;if(ni){var p=Do,x=No;p=(x&~(1<<32-be(x)-1)).toString(32)+p,l="_"+l+"R_"+p,p=dp++,0<p&&(l+="H"+p.toString(32)),l+="_"}else p=P2++,l="_"+l+"r_"+p.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:vg,useFormState:Jy,useActionState:Jy,useOptimistic:function(s){var l=Cr();l.memoizedState=l.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=Rd.bind(null,gn,!0,p),p.dispatch=l,[s,l]},useMemoCache:ig,useCacheRefresh:function(){return Cr().memoizedState=V2.bind(null,gn)},useEffectEvent:function(s){var l=Cr(),p={impl:s};return l.memoizedState=p,function(){if((ri&2)!==0)throw Error(i(440));return p.impl.apply(void 0,arguments)}}},cf={readContext:qa,use:hp,useCallback:dg,useContext:qa,useEffect:ug,useImperativeHandle:bp,useInsertionEffect:sx,useLayoutEffect:gs,useMemo:hg,useReducer:pp,useRef:nx,useState:function(){return pp(yl)},useDebugValue:_p,useDeferredValue:function(s,l){var p=xa();return mg(p,Ni.memoizedState,s,l)},useTransition:function(){var s=pp(yl)[0],l=xa().memoizedState;return[typeof s=="boolean"?s:Td(s),l]},useSyncExternalStore:rg,useId:ar,useHostTransitionStatus:vg,useFormState:Qy,useActionState:Qy,useOptimistic:function(s,l){var p=xa();return Xy(p,Ni,s,l)},useMemoCache:ig,useCacheRefresh:bg};cf.useEffectEvent=rx;var zd={readContext:qa,use:hp,useCallback:dg,useContext:qa,useEffect:ug,useImperativeHandle:bp,useInsertionEffect:sx,useLayoutEffect:gs,useMemo:hg,useReducer:mp,useRef:nx,useState:function(){return mp(yl)},useDebugValue:_p,useDeferredValue:function(s,l){var p=xa();return Ni===null?pg(p,s,l):mg(p,Ni.memoizedState,s,l)},useTransition:function(){var s=mp(yl)[0],l=xa().memoizedState;return[typeof s=="boolean"?s:Td(s),l]},useSyncExternalStore:rg,useId:ar,useHostTransitionStatus:vg,useFormState:tx,useActionState:tx,useOptimistic:function(s,l){var p=xa();return Ni!==null?Xy(p,Ni,s,l):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:ig,useCacheRefresh:bg};zd.useEffectEvent=rx;function uf(s,l,p,x){l=s.memoizedState,p=p(x,l),p=p==null?l:g({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Nd={enqueueSetState:function(s,l,p){s=s._reactInternals;var x=Or(),T=Io(x);T.payload=l,p!=null&&(T.callback=p),l=ml(s,T,x),l!==null&&(d(l,s,x),fc(l,s,x))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var x=Or(),T=Io(x);T.tag=1,T.payload=l,p!=null&&(T.callback=p),l=ml(s,T,x),l!==null&&(d(l,s,x),fc(l,s,x))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=Or(),x=Io(p);x.tag=2,l!=null&&(x.callback=l),l=ml(s,x,p),l!==null&&(d(l,s,p),fc(l,s,p))}};function ux(s,l,p,x,T,N,Y){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,N,Y):l.prototype&&l.prototype.isPureReactComponent?!Xu(p,x)||!Xu(T,N):!0}function fx(s,l,p,x){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,x),l.state!==s&&Nd.enqueueReplaceState(l,l.state,null)}function rr(s,l){var p=l;if("ref"in l){p={};for(var x in l)x!=="ref"&&(p[x]=l[x])}if(s=s.defaultProps){p===l&&(p=g({},p));for(var T in s)p[T]===void 0&&(p[T]=s[T])}return p}function _g(s){ec(s)}function dx(s){console.error(s)}function Sp(s){ec(s)}function Mp(s,l){try{var p=s.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function hx(s,l,p){try{var x=s.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Sg(s,l,p){return p=Io(p),p.tag=3,p.payload={element:null},p.callback=function(){Mp(s,l)},p}function ff(s){return s=Io(s),s.tag=3,s}function jr(s,l,p,x){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var N=x.value;s.payload=function(){return T(N)},s.callback=function(){hx(l,p,x)}}var Y=p.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(s.callback=function(){hx(l,p,x),typeof T!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var oe=x.stack;this.componentDidCatch(x.value,{componentStack:oe!==null?oe:""})})}function ys(s,l,p,x,T){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=p.alternate,l!==null&&rc(l,p,T,!0),p=Pa.current,p!==null){switch(p.tag){case 31:case 13:return Vs===null?Sn():p.alternate===null&&Mi===0&&(Mi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,x===_d?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([x]):l.add(x),j2(s,x,T)),!1;case 22:return p.flags|=65536,x===_d?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([x]):p.add(x)),j2(s,x,T)),!1}throw Error(i(435,p.tag))}return j2(s,x,T),Sn(),!1}if(ni)return l=Pa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,x!==ip&&(s=Error(i(422),{cause:x}),xd(kr(s,p)))):(x!==ip&&(l=Error(i(423),{cause:x}),xd(kr(l,p))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,x=kr(x,p),T=Sg(s.stateNode,x,T),cp(s,T),Mi!==4&&(Mi=2)),!1;var N=Error(i(520),{cause:x});if(N=kr(N,p),po===null?po=[N]:po.push(N),Mi!==4&&(Mi=2),l===null)return!0;x=kr(x,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,s=T&-T,p.lanes|=s,s=Sg(p.stateNode,x,s),cp(p,s),!1;case 1:if(l=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(jo===null||!jo.has(N))))return p.flags|=65536,T&=-T,p.lanes|=T,T=ff(T),jr(T,s,p,x),cp(p,T),!1}p=p.return}while(p!==null);return!1}var Ap=Error(i(461)),Ji=!1;function ha(s,l,p,x){l.child=s===null?Hy(l,null,p,x):Zc(l,s.child,p,x)}function Dd(s,l,p,x,T){p=p.render;var N=l.ref;if("ref"in x){var Y={};for(var oe in x)oe!=="ref"&&(Y[oe]=x[oe])}else Y=x;return qc(l),x=Qm(s,l,p,Y,N,T),oe=eg(),s!==null&&!Ji?(tg(s,l,T),fo(s,l,T)):(ni&&oe&&np(l),l.flags|=1,ha(s,l,x,T),l.child)}function Ld(s,l,p,x,T){if(s===null){var N=p.type;return typeof N=="function"&&!Er(N)&&N.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=N,xs(s,l,N,x,T)):(s=md(p.type,null,x,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(N=s.child,!pc(s,T)){var Y=N.memoizedProps;if(p=p.compare,p=p!==null?p:Xu,p(Y,x)&&s.ref===l.ref)return fo(s,l,T)}return l.flags|=1,s=Oo(N,x),s.ref=l.ref,s.return=l,l.child=s}function xs(s,l,p,x,T){if(s!==null){var N=s.memoizedProps;if(Xu(N,x)&&s.ref===l.ref)if(Ji=!1,l.pendingProps=x=N,pc(s,T))(s.flags&131072)!==0&&(Ji=!0);else return l.lanes=s.lanes,fo(s,l,T)}return df(s,l,p,x,T)}function vs(s,l,p,x){var T=x.children,N=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,s!==null){for(x=l.child=s.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~N}else x=0,l.child=null;return ko(s,l,N,p,x)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&rf(l,N!==null?N.cachePool:null),N!==null?$m(l,N):Km(),jy(l);else return x=l.lanes=536870912,ko(s,l,N!==null?N.baseLanes|p:p,p,x)}else N!==null?(rf(l,N.cachePool),$m(l,N),gl(),l.memoizedState=null):(s!==null&&rf(l,null),Km(),gl());return ha(s,l,T,p),l.child}function co(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ko(s,l,p,x,T){var N=Lo();return N=N===null?null:{parent:ln._currentValue,pool:N},l.memoizedState={baseLanes:p,cachePool:N},s!==null&&rf(l,null),Km(),jy(l),s!==null&&rc(s,l,x,!0),l.childLanes=T,null}function Hs(s,l){return l=hf({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function $a(s,l,p){return Zc(l,s.child,null,p),s=Hs(l,l.pendingProps),s.flags|=2,ms(l),l.memoizedState=null,s}function Id(s,l,p){var x=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ni){if(x.mode==="hidden")return s=Hs(l,x),l.lanes=536870912,co(null,s);if(Zm(l),(s=Hi)?(s=$A(s,Xa),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:zo!==null?{id:No,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},p=Py(s),p.return=l,l.child=p,Ya=l,Hi=null)):s=null,s===null)throw Jn(l);return l.lanes=536870912,null}return Hs(l,x)}var N=s.memoizedState;if(N!==null){var Y=N.dehydrated;if(Zm(l),T)if(l.flags&256)l.flags&=-257,l=$a(s,l,p);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(i(558));else if(Ji||rc(s,l,p,!1),T=(p&s.childLanes)!==0,Ji||T){if(x=Si,x!==null&&(Y=Us(x,p),Y!==0&&Y!==N.retryLane))throw N.retryLane=Y,nc(s,Y),d(x,s,Y),Ap;Sn(),l=$a(s,l,p)}else s=N.treeContext,Hi=Go(Y.nextSibling),Ya=l,ni=!0,ul=null,Xa=!1,s!==null&&yd(l,s),l=Hs(l,x),l.flags|=4096;return l}return s=Oo(s.child,{mode:x.mode,children:x.children}),s.ref=l.ref,l.child=s,s.return=l,s}function uo(s,l){var p=l.ref;if(p===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(l.flags|=4194816)}}function df(s,l,p,x,T){return qc(l),p=Qm(s,l,p,x,void 0,T),x=eg(),s!==null&&!Ji?(tg(s,l,T),fo(s,l,T)):(ni&&x&&np(l),l.flags|=1,ha(s,l,p,T),l.child)}function gr(s,l,p,x,T,N){return qc(l),l.updateQueue=null,p=Wy(l,x,p,T),Gy(s),x=eg(),s!==null&&!Ji?(tg(s,l,N),fo(s,l,N)):(ni&&x&&np(l),l.flags|=1,ha(s,l,p,N),l.child)}function sr(s,l,p,x,T){if(qc(l),l.stateNode===null){var N=ic,Y=p.contextType;typeof Y=="object"&&Y!==null&&(N=qa(Y)),N=new p(x,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Nd,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=x,N.state=l.memoizedState,N.refs={},Ym(l),Y=p.contextType,N.context=typeof Y=="object"&&Y!==null?qa(Y):ic,N.state=l.memoizedState,Y=p.getDerivedStateFromProps,typeof Y=="function"&&(uf(l,p,Y,x),N.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Y=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Y!==N.state&&Nd.enqueueReplaceState(N,N.state,null),Jc(l,x,N,T),Ad(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(s===null){N=l.stateNode;var oe=l.memoizedProps,Se=rr(p,oe);N.props=Se;var qe=N.context,ct=p.contextType;Y=ic,typeof ct=="object"&&ct!==null&&(Y=qa(ct));var xt=p.getDerivedStateFromProps;ct=typeof xt=="function"||typeof N.getSnapshotBeforeUpdate=="function",oe=l.pendingProps!==oe,ct||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(oe||qe!==Y)&&fx(l,N,x,Y),uc=!1;var et=l.memoizedState;N.state=et,Jc(l,x,N,T),Ad(),qe=l.memoizedState,oe||et!==qe||uc?(typeof xt=="function"&&(uf(l,p,xt,x),qe=l.memoizedState),(Se=uc||ux(l,p,Se,x,et,qe,Y))?(ct||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=qe),N.props=x,N.state=qe,N.context=Y,x=Se):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{N=l.stateNode,Xm(s,l),Y=l.memoizedProps,ct=rr(p,Y),N.props=ct,xt=l.pendingProps,et=N.context,qe=p.contextType,Se=ic,typeof qe=="object"&&qe!==null&&(Se=qa(qe)),oe=p.getDerivedStateFromProps,(qe=typeof oe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==xt||et!==Se)&&fx(l,N,x,Se),uc=!1,et=l.memoizedState,N.state=et,Jc(l,x,N,T),Ad();var it=l.memoizedState;Y!==xt||et!==it||uc||s!==null&&s.dependencies!==null&&nf(s.dependencies)?(typeof oe=="function"&&(uf(l,p,oe,x),it=l.memoizedState),(ct=uc||ux(l,p,ct,x,et,it,Se)||s!==null&&s.dependencies!==null&&nf(s.dependencies))?(qe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(x,it,Se),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(x,it,Se)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===s.memoizedProps&&et===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&et===s.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=it),N.props=x,N.state=it,N.context=Se,x=ct):(typeof N.componentDidUpdate!="function"||Y===s.memoizedProps&&et===s.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&et===s.memoizedState||(l.flags|=1024),x=!1)}return N=x,uo(s,l),x=(l.flags&128)!==0,N||x?(N=l.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,s!==null&&x?(l.child=Zc(l,s.child,null,T),l.child=Zc(l,null,p,T)):ha(s,l,p,T),l.memoizedState=N.state,s=l.child):s=fo(s,l,T),s}function li(s,l,p,x){return Xc(),l.flags|=256,ha(s,l,p,x),l.child}var bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(s){return{baseLanes:s,cachePool:sp()}}function Pd(s,l,p){return s=s!==null?s.childLanes&~p:0,l&&(s|=si),s}function _s(s,l,p){var x=l.pendingProps,T=!1,N=(l.flags&128)!==0,Y;if((Y=N)||(Y=s!==null&&s.memoizedState===null?!1:(fa.current&2)!==0),Y&&(T=!0,l.flags&=-129),Y=(l.flags&32)!==0,l.flags&=-33,s===null){if(ni){if(T?dc(l):gl(),(s=Hi)?(s=$A(s,Xa),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:zo!==null?{id:No,overflow:Do}:null,retryLane:536870912,hydrationErrors:null},p=Py(s),p.return=l,l.child=p,Ya=l,Hi=null)):s=null,s===null)throw Jn(l);return r3(s)?l.lanes=32:l.lanes=536870912,null}var oe=x.children;return x=x.fallback,T?(gl(),T=l.mode,oe=hf({mode:"hidden",children:oe},T),x=ll(x,T,p,null),oe.return=l,x.return=l,oe.sibling=x,l.child=oe,x=l.child,x.memoizedState=js(p),x.childLanes=Pd(s,Y,p),l.memoizedState=bs,co(null,x)):(dc(l),hc(l,oe))}var Se=s.memoizedState;if(Se!==null&&(oe=Se.dehydrated,oe!==null)){if(N)l.flags&256?(dc(l),l.flags&=-257,l=pf(s,l,p)):l.memoizedState!==null?(gl(),l.child=s.child,l.flags|=128,l=null):(gl(),oe=x.fallback,T=l.mode,x=hf({mode:"visible",children:x.children},T),oe=ll(oe,T,p,null),oe.flags|=2,x.return=l,oe.return=l,x.sibling=oe,l.child=x,Zc(l,s.child,null,p),x=l.child,x.memoizedState=js(p),x.childLanes=Pd(s,Y,p),l.memoizedState=bs,l=co(null,x));else if(dc(l),r3(oe)){if(Y=oe.nextSibling&&oe.nextSibling.dataset,Y)var qe=Y.dgst;Y=qe,x=Error(i(419)),x.stack="",x.digest=Y,xd({value:x,source:null,stack:null}),l=pf(s,l,p)}else if(Ji||rc(s,l,p,!1),Y=(p&s.childLanes)!==0,Ji||Y){if(Y=Si,Y!==null&&(x=Us(Y,p),x!==0&&x!==Se.retryLane))throw Se.retryLane=x,nc(s,x),d(Y,s,x),Ap;a3(oe)||Sn(),l=pf(s,l,p)}else a3(oe)?(l.flags|=192,l.child=s.child,l=null):(s=Se.treeContext,Hi=Go(oe.nextSibling),Ya=l,ni=!0,ul=null,Xa=!1,s!==null&&yd(l,s),l=hc(l,x.children),l.flags|=4096);return l}return T?(gl(),oe=x.fallback,T=l.mode,Se=s.child,qe=Se.sibling,x=Oo(Se,{mode:"hidden",children:x.children}),x.subtreeFlags=Se.subtreeFlags&65011712,qe!==null?oe=Oo(qe,oe):(oe=ll(oe,T,p,null),oe.flags|=2),oe.return=l,x.return=l,x.sibling=oe,l.child=x,co(null,x),x=l.child,oe=s.child.memoizedState,oe===null?oe=js(p):(T=oe.cachePool,T!==null?(Se=ln._currentValue,T=T.parent!==Se?{parent:Se,pool:Se}:T):T=sp(),oe={baseLanes:oe.baseLanes|p,cachePool:T}),x.memoizedState=oe,x.childLanes=Pd(s,Y,p),l.memoizedState=bs,co(s.child,x)):(dc(l),p=s.child,s=p.sibling,p=Oo(p,{mode:"visible",children:x.children}),p.return=l,p.sibling=null,s!==null&&(Y=l.deletions,Y===null?(l.deletions=[s],l.flags|=16):Y.push(s)),l.child=p,l.memoizedState=null,p)}function hc(s,l){return l=hf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function hf(s,l){return s=wr(22,s,null,l),s.lanes=0,s}function pf(s,l,p){return Zc(l,s.child,null,p),s=hc(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function tu(s,l,p){s.lanes|=l;var x=s.alternate;x!==null&&(x.lanes|=l),hl(s.return,l,p)}function Ud(s,l,p,x,T,N){var Y=s.memoizedState;Y===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:T,treeForkCount:N}:(Y.isBackwards=l,Y.rendering=null,Y.renderingStartTime=0,Y.last=x,Y.tail=p,Y.tailMode=T,Y.treeForkCount=N)}function Bd(s,l,p){var x=l.pendingProps,T=x.revealOrder,N=x.tail;x=x.children;var Y=fa.current,oe=(Y&2)!==0;if(oe?(Y=Y&1|2,l.flags|=128):Y&=1,fe(fa,Y),ha(s,l,x,p),x=ni?tf:0,!oe&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tu(s,p,l);else if(s.tag===19)tu(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(T){case"forwards":for(p=l.child,T=null;p!==null;)s=p.alternate,s!==null&&up(s)===null&&(T=p),p=p.sibling;p=T,p===null?(T=l.child,l.child=null):(T=p.sibling,p.sibling=null),Ud(l,!1,T,p,N,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&up(s)===null){l.child=T;break}s=T.sibling,T.sibling=p,p=T,T=s}Ud(l,!0,p,null,N,x);break;case"together":Ud(l,!1,null,null,void 0,x);break;default:l.memoizedState=null}return l.child}function fo(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),As|=l.lanes,(p&l.childLanes)===0)if(s!==null){if(rc(s,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,p=Oo(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=Oo(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function pc(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&nf(s)))}function kd(s,l,p){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),dl(l,ln,s.memoizedState.cache),Xc();break;case 27:case 5:De(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:dl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Zm(l),null;break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(dc(l),l.flags|=128,null):(p&l.child.childLanes)!==0?_s(s,l,p):(dc(l),s=fo(s,l,p),s!==null?s.sibling:null);dc(l);break;case 19:var T=(s.flags&128)!==0;if(x=(p&l.childLanes)!==0,x||(rc(s,l,p,!1),x=(p&l.childLanes)!==0),T){if(x)return Bd(s,l,p);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),fe(fa,fa.current),x)break;return null;case 22:return l.lanes=0,vs(s,l,p,l.pendingProps);case 24:dl(l,ln,s.memoizedState.cache)}return fo(s,l,p)}function wp(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps)Ji=!0;else{if(!pc(s,p)&&(l.flags&128)===0)return Ji=!1,kd(s,l,p);Ji=(s.flags&131072)!==0}else Ji=!1,ni&&(l.flags&1048576)!==0&&Im(l,tf,l.index);switch(l.lanes=0,l.tag){case 16:e:{var x=l.pendingProps;if(s=Kc(l.elementType),l.type=s,typeof s=="function")Er(s)?(x=rr(s,x),l.tag=1,l=sr(null,l,s,x,p)):(l.tag=0,l=df(null,l,s,x,p));else{if(s!=null){var T=s.$$typeof;if(T===R){l.tag=11,l=Dd(null,l,s,x,p);break e}else if(T===P){l.tag=14,l=Ld(null,l,s,x,p);break e}}throw l=X(s)||s,Error(i(306,l,""))}}return l;case 0:return df(s,l,l.type,l.pendingProps,p);case 1:return x=l.type,T=rr(x,l.pendingProps),sr(s,l,x,T,p);case 3:e:{if(ve(l,l.stateNode.containerInfo),s===null)throw Error(i(387));x=l.pendingProps;var N=l.memoizedState;T=N.element,Xm(s,l),Jc(l,x,null,p);var Y=l.memoizedState;if(x=Y.cache,dl(l,ln,x),x!==N.cache&&rp(l,[ln],p,!0),Ad(),x=Y.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:Y.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=li(s,l,x,p);break e}else if(x!==T){T=kr(Error(i(424)),l),xd(T),l=li(s,l,x,p);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Hi=Go(s.firstChild),Ya=l,ni=!0,ul=null,Xa=!0,p=Hy(l,null,x,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Xc(),x===T){l=fo(s,l,p);break e}ha(s,l,x,p)}l=l.child}return l;case 26:return uo(s,l),s===null?(p=tw(l.type,null,l.pendingProps,null))?l.memoizedState=p:ni||(p=l.type,s=l.pendingProps,x=_x(te.current).createElement(p),x[_n]=l,x[Vi]=s,zr(x,p,s),We(x),l.stateNode=x):l.memoizedState=tw(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return De(l),s===null&&ni&&(x=l.stateNode=JA(l.type,l.pendingProps,te.current),Ya=l,Xa=!0,T=Hi,_f(l.type)?(s3=T,Hi=Go(x.firstChild)):Hi=T),ha(s,l,l.pendingProps.children,p),uo(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ni&&((T=x=Hi)&&(x=oO(x,l.type,l.pendingProps,Xa),x!==null?(l.stateNode=x,Ya=l,Hi=Go(x.firstChild),Xa=!1,T=!0):T=!1),T||Jn(l)),De(l),T=l.type,N=l.pendingProps,Y=s!==null?s.memoizedProps:null,x=N.children,t3(T,N)?x=null:Y!==null&&t3(T,Y)&&(l.flags|=32),l.memoizedState!==null&&(T=Qm(s,l,U2,null,null,p),Ng._currentValue=T),uo(s,l),ha(s,l,x,p),l.child;case 6:return s===null&&ni&&((s=p=Hi)&&(p=lO(p,l.pendingProps,Xa),p!==null?(l.stateNode=p,Ya=l,Hi=null,s=!0):s=!1),s||Jn(l)),null;case 13:return _s(s,l,p);case 4:return ve(l,l.stateNode.containerInfo),x=l.pendingProps,s===null?l.child=Zc(l,null,x,p):ha(s,l,x,p),l.child;case 11:return Dd(s,l,l.type,l.pendingProps,p);case 7:return ha(s,l,l.pendingProps,p),l.child;case 8:return ha(s,l,l.pendingProps.children,p),l.child;case 12:return ha(s,l,l.pendingProps.children,p),l.child;case 10:return x=l.pendingProps,dl(l,l.type,x.value),ha(s,l,x.children,p),l.child;case 9:return T=l.type._context,x=l.pendingProps.children,qc(l),T=qa(T),x=x(T),l.flags|=1,ha(s,l,x,p),l.child;case 14:return Ld(s,l,l.type,l.pendingProps,p);case 15:return xs(s,l,l.type,l.pendingProps,p);case 19:return Bd(s,l,p);case 31:return Id(s,l,p);case 22:return vs(s,l,p,l.pendingProps);case 24:return qc(l),x=qa(ln),s===null?(T=Lo(),T===null&&(T=Si,N=Fm(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=p),T=N),l.memoizedState={parent:x,cache:T},Ym(l),dl(l,ln,T)):((s.lanes&p)!==0&&(Xm(s,l),Jc(l,null,null,p),Ad()),T=s.memoizedState,N=l.memoizedState,T.parent!==x?(T={parent:x,cache:x},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),dl(l,ln,x)):(x=N.cache,dl(l,ln,x),x!==T.cache&&rp(l,[ln],p,!0))),ha(s,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Gr(s){s.flags|=4}function mc(s,l,p,x,T){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(T&335544128)===T)if(s.stateNode.complete)s.flags|=8192;else if(Tt())s.flags|=8192;else throw hn=_d,bd}else s.flags&=-16777217}function vl(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sw(l))if(Tt())s.flags|=8192;else throw hn=_d,bd}function mf(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?bn():536870912,s.lanes|=l,ws|=l)}function Fd(s,l){if(!ni)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function Ci(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(l)for(var T=s.child;T!==null;)p|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)p|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=x,s.childLanes=p,l}function Mg(s,l,p){var x=l.pendingProps;switch(ac(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(l),null;case 1:return Ci(l),null;case 3:return p=l.stateNode,x=null,s!==null&&(x=s.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Fs(ln),ze(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Yc(l)?Gr(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pm())),Ci(l),null;case 26:var T=l.type,N=l.memoizedState;return s===null?(Gr(l),N!==null?(Ci(l),vl(l,N)):(Ci(l),mc(l,T,null,x,p))):N?N!==s.memoizedState?(Gr(l),Ci(l),vl(l,N)):(Ci(l),l.flags&=-16777217):(s=s.memoizedProps,s!==x&&Gr(l),Ci(l),mc(l,T,s,x,p)),null;case 27:if(rt(l),p=te.current,T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Gr(l);else{if(!x){if(l.stateNode===null)throw Error(i(166));return Ci(l),null}s=ge.current,Yc(l)?ap(l):(s=JA(T,x,p),l.stateNode=s,Gr(l))}return Ci(l),null;case 5:if(rt(l),T=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==x&&Gr(l);else{if(!x){if(l.stateNode===null)throw Error(i(166));return Ci(l),null}if(N=ge.current,Yc(l))ap(l);else{var Y=_x(te.current);switch(N){case 1:N=Y.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=Y.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=Y.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=Y.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=Y.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof x.is=="string"?Y.createElement("select",{is:x.is}):Y.createElement("select"),x.multiple?N.multiple=!0:x.size&&(N.size=x.size);break;default:N=typeof x.is=="string"?Y.createElement(T,{is:x.is}):Y.createElement(T)}}N[_n]=l,N[Vi]=x;e:for(Y=l.child;Y!==null;){if(Y.tag===5||Y.tag===6)N.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.tag!==27&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===l)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===l)break e;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}l.stateNode=N;e:switch(zr(N,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Gr(l)}}return Ci(l),mc(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,p),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==x&&Gr(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(i(166));if(s=te.current,Yc(l)){if(s=l.stateNode,p=l.memoizedProps,x=null,T=Ya,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}s[_n]=l,s=!!(s.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||VA(s.nodeValue,p)),s||Jn(l,!0)}else s=_x(s).createTextNode(x),s[_n]=l,l.stateNode=s}return Ci(l),null;case 31:if(p=l.memoizedState,s===null||s.memoizedState!==null){if(x=Yc(l),p!==null){if(s===null){if(!x)throw Error(i(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[_n]=l}else Xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ci(l),s=!1}else p=Pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),s=!0;if(!s)return l.flags&256?(ms(l),l):(ms(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Ci(l),null;case 13:if(x=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Yc(l),x!==null&&x.dehydrated!==null){if(s===null){if(!T)throw Error(i(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[_n]=l}else Xc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ci(l),T=!1}else T=Pm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(ms(l),l):(ms(l),null)}return ms(l),(l.flags&128)!==0?(l.lanes=p,l):(p=x!==null,s=s!==null&&s.memoizedState!==null,p&&(x=l.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),N=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(N=x.memoizedState.cachePool.pool),N!==T&&(x.flags|=2048)),p!==s&&p&&(l.child.flags|=8192),mf(l,l.updateQueue),Ci(l),null);case 4:return ze(),s===null&&K2(l.stateNode.containerInfo),Ci(l),null;case 10:return Fs(l.type),Ci(l),null;case 19:if(ie(fa),x=l.memoizedState,x===null)return Ci(l),null;if(T=(l.flags&128)!==0,N=x.rendering,N===null)if(T)Fd(x,!1);else{if(Mi!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(N=up(s),N!==null){for(l.flags|=128,Fd(x,!1),s=N.updateQueue,l.updateQueue=s,mf(l,s),l.subtreeFlags=0,s=p,p=l.child;p!==null;)hr(p,s),p=p.sibling;return fe(fa,fa.current&1|2),ni&&cl(l,x.treeForkCount),l.child}s=s.sibling}x.tail!==null&&Z()>Es&&(l.flags|=128,T=!0,Fd(x,!1),l.lanes=4194304)}else{if(!T)if(s=up(N),s!==null){if(l.flags|=128,T=!0,s=s.updateQueue,l.updateQueue=s,mf(l,s),Fd(x,!0),x.tail===null&&x.tailMode==="hidden"&&!N.alternate&&!ni)return Ci(l),null}else 2*Z()-x.renderingStartTime>Es&&p!==536870912&&(l.flags|=128,T=!0,Fd(x,!1),l.lanes=4194304);x.isBackwards?(N.sibling=l.child,l.child=N):(s=x.last,s!==null?s.sibling=N:l.child=N,x.last=N)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=Z(),s.sibling=null,p=fa.current,fe(fa,T?p&1|2:p&1),ni&&cl(l,x.treeForkCount),s):(Ci(l),null);case 22:case 23:return ms(l),mr(),x=l.memoizedState!==null,s!==null?s.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(p&536870912)!==0&&(l.flags&128)===0&&(Ci(l),l.subtreeFlags&6&&(l.flags|=8192)):Ci(l),p=l.updateQueue,p!==null&&mf(l,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==p&&(l.flags|=2048),s!==null&&ie(sc),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Fs(ln),Ci(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Ep(s,l){switch(ac(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Fs(ln),ze(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return rt(l),null;case 31:if(l.memoizedState!==null){if(ms(l),l.alternate===null)throw Error(i(340));Xc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(ms(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Xc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ie(fa),null;case 4:return ze(),null;case 10:return Fs(l.type),null;case 22:case 23:return ms(l),mr(),s!==null&&ie(sc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Fs(ln),null;case 25:return null;default:return null}}function nu(s,l){switch(ac(l),l.tag){case 3:Fs(ln),ze();break;case 26:case 27:case 5:rt(l);break;case 4:ze();break;case 31:l.memoizedState!==null&&ms(l);break;case 13:ms(l);break;case 19:ie(fa);break;case 10:Fs(l.type);break;case 22:case 23:ms(l),mr(),s!==null&&ie(sc);break;case 24:Fs(ln)}}function Fo(s,l){try{var p=l.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var T=x.next;p=T;do{if((p.tag&s)===s){x=void 0;var N=p.create,Y=p.inst;x=N(),Y.destroy=x}p=p.next}while(p!==T)}}catch(oe){Ui(l,l.return,oe)}}function Gs(s,l,p){try{var x=l.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var N=T.next;x=N;do{if((x.tag&s)===s){var Y=x.inst,oe=Y.destroy;if(oe!==void 0){Y.destroy=void 0,T=l;var Se=p,qe=oe;try{qe()}catch(ct){Ui(T,Se,ct)}}}x=x.next}while(x!==N)}}catch(ct){Ui(l,l.return,ct)}}function gc(s){var l=s.updateQueue;if(l!==null){var p=s.stateNode;try{ir(l,p)}catch(x){Ui(s,s.return,x)}}}function Ag(s,l,p){p.props=rr(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(x){Ui(s,l,x)}}function Vo(s,l){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var x=s.stateNode;break;case 30:x=s.stateNode;break;default:x=s.stateNode}typeof p=="function"?s.refCleanup=p(x):p.current=x}}catch(T){Ui(s,l,T)}}function Ss(s,l){var p=s.ref,x=s.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(T){Ui(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){Ui(s,l,T)}else p.current=null}function Ms(s){var l=s.type,p=s.memoizedProps,x=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(T){Ui(s,s.return,T)}}function Ws(s,l,p){try{var x=s.stateNode;tO(x,s.type,p,l),x[Vi]=l}catch(T){Ui(s,s.return,T)}}function Ca(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_f(s.type)||s.tag===4}function Ho(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ca(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_f(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function On(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,l):(l=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,l.appendChild(s),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Je));else if(x!==4&&(x===27&&_f(s.type)&&(p=s.stateNode,l=null),s=s.child,s!==null))for(On(s,l,p),s=s.sibling;s!==null;)On(s,l,p),s=s.sibling}function gi(s,l,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(x!==4&&(x===27&&_f(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(gi(s,l,p),s=s.sibling;s!==null;)gi(s,l,p),s=s.sibling}function va(s){var l=s.stateNode,p=s.memoizedProps;try{for(var x=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);zr(l,x,p),l[_n]=s,l[Vi]=p}catch(N){Ui(s,s.return,N)}}var Ys=!1,Qi=!1,bl=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,pa=null;function gf(s,l){if(s=s.containerInfo,Q2=Cx,s=qh(s),qu(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var T=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var Y=0,oe=-1,Se=-1,qe=0,ct=0,xt=s,et=null;t:for(;;){for(var it;xt!==p||T!==0&&xt.nodeType!==3||(oe=Y+T),xt!==N||x!==0&&xt.nodeType!==3||(Se=Y+x),xt.nodeType===3&&(Y+=xt.nodeValue.length),(it=xt.firstChild)!==null;)et=xt,xt=it;for(;;){if(xt===s)break t;if(et===p&&++qe===T&&(oe=Y),et===N&&++ct===x&&(Se=Y),(it=xt.nextSibling)!==null)break;xt=et,et=xt.parentNode}xt=it}p=oe===-1||Se===-1?null:{start:oe,end:Se}}else p=null}p=p||{start:0,end:0}}else p=null;for(e3={focusedElem:s,selectionRange:p},Cx=!1,pa=l;pa!==null;)if(l=pa,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,pa=s;else for(;pa!==null;){switch(l=pa,N=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(p=0;p<s.length;p++)T=s[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&N!==null){s=void 0,p=l,T=N.memoizedProps,N=N.memoizedState,x=p.stateNode;try{var Kt=rr(p.type,T);s=x.getSnapshotBeforeUpdate(Kt,N),x.__reactInternalSnapshotBeforeUpdate=s}catch(mn){Ui(p,p.return,mn)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,p=s.nodeType,p===9)i3(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":i3(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,pa=s;break}pa=l.return}}function px(s,l,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:_l(s,p),x&4&&Fo(5,p);break;case 1:if(_l(s,p),x&4)if(s=p.stateNode,l===null)try{s.componentDidMount()}catch(Y){Ui(p,p.return,Y)}else{var T=rr(p.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(Y){Ui(p,p.return,Y)}}x&64&&gc(p),x&512&&Vo(p,p.return);break;case 3:if(_l(s,p),x&64&&(s=p.updateQueue,s!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=p.child.stateNode;break;case 1:l=p.child.stateNode}try{ir(s,l)}catch(Y){Ui(p,p.return,Y)}}break;case 27:l===null&&x&4&&va(p);case 26:case 5:_l(s,p),l===null&&x&4&&Ms(p),x&512&&Vo(p,p.return);break;case 12:_l(s,p);break;case 31:_l(s,p),x&4&&Cp(s,p);break;case 13:_l(s,p),x&4&&wg(s,p),x&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=j9.bind(null,p),cO(s,p))));break;case 22:if(x=p.memoizedState!==null||Ys,!x){l=l!==null&&l.memoizedState!==null||Qi,T=Ys;var N=Qi;Ys=x,(Qi=l)&&!N?_i(s,p,(p.subtreeFlags&8772)!==0):_l(s,p),Ys=T,Qi=N}break;case 30:break;default:_l(s,p)}}function Tp(s){var l=s.alternate;l!==null&&(s.alternate=null,Tp(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Ii(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ci=null,Ra=!1;function yr(s,l,p){for(p=p.child;p!==null;)yc(s,l,p),p=p.sibling}function yc(s,l,p){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(je,p)}catch{}switch(p.tag){case 26:Qi||Ss(p,l),yr(s,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Qi||Ss(p,l);var x=ci,T=Ra;_f(p.type)&&(ci=p.stateNode,Ra=!1),yr(s,l,p),Rg(p.stateNode),ci=x,Ra=T;break;case 5:Qi||Ss(p,l);case 6:if(x=ci,T=Ra,ci=null,yr(s,l,p),ci=x,Ra=T,ci!==null)if(Ra)try{(ci.nodeType===9?ci.body:ci.nodeName==="HTML"?ci.ownerDocument.body:ci).removeChild(p.stateNode)}catch(N){Ui(p,l,N)}else try{ci.removeChild(p.stateNode)}catch(N){Ui(p,l,N)}break;case 18:ci!==null&&(Ra?(s=ci,XA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),kp(s)):XA(ci,p.stateNode));break;case 4:x=ci,T=Ra,ci=p.stateNode.containerInfo,Ra=!0,yr(s,l,p),ci=x,Ra=T;break;case 0:case 11:case 14:case 15:Gs(2,p,l),Qi||Gs(4,p,l),yr(s,l,p);break;case 1:Qi||(Ss(p,l),x=p.stateNode,typeof x.componentWillUnmount=="function"&&Ag(p,l,x)),yr(s,l,p);break;case 21:yr(s,l,p);break;case 22:Qi=(x=Qi)||p.memoizedState!==null,yr(s,l,p),Qi=x;break;default:yr(s,l,p)}}function Cp(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{kp(s)}catch(p){Ui(l,l.return,p)}}}function wg(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kp(s)}catch(p){Ui(l,l.return,p)}}function mx(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Vd),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Vd),l;default:throw Error(i(435,s.tag))}}function ba(s,l){var p=mx(s);l.forEach(function(x){if(!p.has(x)){p.add(x);var T=G9.bind(null,s,x);x.then(T,T)}})}function xr(s,l){var p=l.deletions;if(p!==null)for(var x=0;x<p.length;x++){var T=p[x],N=s,Y=l,oe=Y;e:for(;oe!==null;){switch(oe.tag){case 27:if(_f(oe.type)){ci=oe.stateNode,Ra=!1;break e}break;case 5:ci=oe.stateNode,Ra=!1;break e;case 3:case 4:ci=oe.stateNode.containerInfo,Ra=!0;break e}oe=oe.return}if(ci===null)throw Error(i(160));yc(N,Y,T),ci=null,Ra=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)xc(l,s),l=l.sibling}var Wr=null;function xc(s,l){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xr(l,s),ma(s),x&4&&(Gs(3,s,s.return),Fo(3,s),Gs(5,s,s.return));break;case 1:xr(l,s),ma(s),x&512&&(Qi||p===null||Ss(p,p.return)),x&64&&Ys&&(s=s.updateQueue,s!==null&&(x=s.callbacks,x!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var T=Wr;if(xr(l,s),ma(s),x&512&&(Qi||p===null||Ss(p,p.return)),x&4){var N=p!==null?p.memoizedState:null;if(x=s.memoizedState,p===null)if(x===null)if(s.stateNode===null){e:{x=s.type,p=s.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":N=T.getElementsByTagName("title")[0],(!N||N[hi]||N[_n]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(x),T.head.insertBefore(N,T.querySelector("head > title"))),zr(N,x,p),N[_n]=s,We(N),x=N;break e;case"link":var Y=aw("link","href",T).get(x+(p.href||""));if(Y){for(var oe=0;oe<Y.length;oe++)if(N=Y[oe],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){Y.splice(oe,1);break t}}N=T.createElement(x),zr(N,x,p),T.head.appendChild(N);break;case"meta":if(Y=aw("meta","content",T).get(x+(p.content||""))){for(oe=0;oe<Y.length;oe++)if(N=Y[oe],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){Y.splice(oe,1);break t}}N=T.createElement(x),zr(N,x,p),T.head.appendChild(N);break;default:throw Error(i(468,x))}N[_n]=s,We(N),x=N}s.stateNode=x}else rw(T,s.type,s.stateNode);else s.stateNode=iw(T,x,s.memoizedProps);else N!==x?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,x===null?rw(T,s.type,s.stateNode):iw(T,x,s.memoizedProps)):x===null&&s.stateNode!==null&&Ws(s,s.memoizedProps,p.memoizedProps)}break;case 27:xr(l,s),ma(s),x&512&&(Qi||p===null||Ss(p,p.return)),p!==null&&x&4&&Ws(s,s.memoizedProps,p.memoizedProps);break;case 5:if(xr(l,s),ma(s),x&512&&(Qi||p===null||Ss(p,p.return)),s.flags&32){T=s.stateNode;try{us(T,"")}catch(Kt){Ui(s,s.return,Kt)}}x&4&&s.stateNode!=null&&(T=s.memoizedProps,Ws(s,T,p!==null?p.memoizedProps:T)),x&1024&&(bl=!0);break;case 6:if(xr(l,s),ma(s),x&4){if(s.stateNode===null)throw Error(i(162));x=s.memoizedProps,p=s.stateNode;try{p.nodeValue=x}catch(Kt){Ui(s,s.return,Kt)}}break;case 3:if(Ax=null,T=Wr,Wr=Sx(l.containerInfo),xr(l,s),Wr=T,ma(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{kp(l.containerInfo)}catch(Kt){Ui(s,s.return,Kt)}bl&&(bl=!1,gx(s));break;case 4:x=Wr,Wr=Sx(s.stateNode.containerInfo),xr(l,s),ma(s),Wr=x;break;case 12:xr(l,s),ma(s);break;case 31:xr(l,s),ma(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,ba(s,x)));break;case 13:xr(l,s),ma(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Al=Z()),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,ba(s,x)));break;case 22:T=s.memoizedState!==null;var Se=p!==null&&p.memoizedState!==null,qe=Ys,ct=Qi;if(Ys=qe||T,Qi=ct||Se,xr(l,s),Qi=ct,Ys=qe,ma(s),x&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(p===null||Se||Ys||Qi||iu(s)),p=null,l=s;;){if(l.tag===5||l.tag===26){if(p===null){Se=p=l;try{if(N=Se.stateNode,T)Y=N.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{oe=Se.stateNode;var xt=Se.memoizedProps.style,et=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;oe.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Kt){Ui(Se,Se.return,Kt)}}}else if(l.tag===6){if(p===null){Se=l;try{Se.stateNode.nodeValue=T?"":Se.memoizedProps}catch(Kt){Ui(Se,Se.return,Kt)}}}else if(l.tag===18){if(p===null){Se=l;try{var it=Se.stateNode;T?qA(it,!0):qA(Se.stateNode,!1)}catch(Kt){Ui(Se,Se.return,Kt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=s.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,ba(s,p))));break;case 19:xr(l,s),ma(s),x&4&&(x=s.updateQueue,x!==null&&(s.updateQueue=null,ba(s,x)));break;case 30:break;case 21:break;default:xr(l,s),ma(s)}}function ma(s){var l=s.flags;if(l&2){try{for(var p,x=s.return;x!==null;){if(Ca(x)){p=x;break}x=x.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var T=p.stateNode,N=Ho(s);gi(s,N,T);break;case 5:var Y=p.stateNode;p.flags&32&&(us(Y,""),p.flags&=-33);var oe=Ho(s);gi(s,oe,Y);break;case 3:case 4:var Se=p.stateNode.containerInfo,qe=Ho(s);On(s,qe,Se);break;default:throw Error(i(161))}}catch(ct){Ui(s,s.return,ct)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function gx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;gx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function _l(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)px(s,l.alternate,l),l=l.sibling}function iu(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Gs(4,l,l.return),iu(l);break;case 1:Ss(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&Ag(l,l.return,p),iu(l);break;case 27:Rg(l.stateNode);case 26:case 5:Ss(l,l.return),iu(l);break;case 22:l.memoizedState===null&&iu(l);break;case 30:iu(l);break;default:iu(l)}s=s.sibling}}function _i(s,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,T=s,N=l,Y=N.flags;switch(N.tag){case 0:case 11:case 15:_i(T,N,p),Fo(4,N);break;case 1:if(_i(T,N,p),x=N,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(qe){Ui(x,x.return,qe)}if(x=N,T=x.updateQueue,T!==null){var oe=x.stateNode;try{var Se=T.shared.hiddenCallbacks;if(Se!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Se.length;T++)Po(Se[T],oe)}catch(qe){Ui(x,x.return,qe)}}p&&Y&64&&gc(N),Vo(N,N.return);break;case 27:va(N);case 26:case 5:_i(T,N,p),p&&x===null&&Y&4&&Ms(N),Vo(N,N.return);break;case 12:_i(T,N,p);break;case 31:_i(T,N,p),p&&Y&4&&Cp(T,N);break;case 13:_i(T,N,p),p&&Y&4&&wg(T,N);break;case 22:N.memoizedState===null&&_i(T,N,p),Vo(N,N.return);break;case 30:break;default:_i(T,N,p)}l=l.sibling}}function Rp(s,l){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&nr(p))}function Sl(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&nr(s))}function Ua(s,l,p,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ra(s,l,p,x),l=l.sibling}function ra(s,l,p,x){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Ua(s,l,p,x),T&2048&&Fo(9,l);break;case 1:Ua(s,l,p,x);break;case 3:Ua(s,l,p,x),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&nr(s)));break;case 12:if(T&2048){Ua(s,l,p,x),s=l.stateNode;try{var N=l.memoizedProps,Y=N.id,oe=N.onPostCommit;typeof oe=="function"&&oe(Y,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Se){Ui(l,l.return,Se)}}else Ua(s,l,p,x);break;case 31:Ua(s,l,p,x);break;case 13:Ua(s,l,p,x);break;case 23:break;case 22:N=l.stateNode,Y=l.alternate,l.memoizedState!==null?N._visibility&2?Ua(s,l,p,x):yf(s,l):N._visibility&2?Ua(s,l,p,x):(N._visibility|=2,vc(s,l,p,x,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Rp(Y,l);break;case 24:Ua(s,l,p,x),T&2048&&Sl(l.alternate,l);break;default:Ua(s,l,p,x)}}function vc(s,l,p,x,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=s,Y=l,oe=p,Se=x,qe=Y.flags;switch(Y.tag){case 0:case 11:case 15:vc(N,Y,oe,Se,T),Fo(8,Y);break;case 23:break;case 22:var ct=Y.stateNode;Y.memoizedState!==null?ct._visibility&2?vc(N,Y,oe,Se,T):yf(N,Y):(ct._visibility|=2,vc(N,Y,oe,Se,T)),T&&qe&2048&&Rp(Y.alternate,Y);break;case 24:vc(N,Y,oe,Se,T),T&&qe&2048&&Sl(Y.alternate,Y);break;default:vc(N,Y,oe,Se,T)}l=l.sibling}}function yf(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=s,x=l,T=x.flags;switch(x.tag){case 22:yf(p,x),T&2048&&Rp(x.alternate,x);break;case 24:yf(p,x),T&2048&&Sl(x.alternate,x);break;default:yf(p,x)}l=l.sibling}}var ga=8192;function au(s,l,p){if(s.subtreeFlags&ga)for(s=s.child;s!==null;)_a(s,l,p),s=s.sibling}function _a(s,l,p){switch(s.tag){case 26:au(s,l,p),s.flags&ga&&s.memoizedState!==null&&_O(p,Wr,s.memoizedState,s.memoizedProps);break;case 5:au(s,l,p);break;case 3:case 4:var x=Wr;Wr=Sx(s.stateNode.containerInfo),au(s,l,p),Wr=x;break;case 22:s.memoizedState===null&&(x=s.alternate,x!==null&&x.memoizedState!==null?(x=ga,ga=16777216,au(s,l,p),ga=x):au(s,l,p));break;default:au(s,l,p)}}function Yr(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Rr(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var x=l[p];pa=x,Hd(x,s)}Yr(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ru(s),s=s.sibling}function ru(s){switch(s.tag){case 0:case 11:case 15:Rr(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:Rr(s);break;case 12:Rr(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Op(s)):Rr(s);break;default:Rr(s)}}function Op(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var x=l[p];pa=x,Hd(x,s)}Yr(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Gs(8,l,l.return),Op(l);break;case 22:p=l.stateNode,p._visibility&2&&(p._visibility&=-3,Op(l));break;default:Op(l)}s=s.sibling}}function Hd(s,l){for(;pa!==null;){var p=pa;switch(p.tag){case 0:case 11:case 15:Gs(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:nr(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,pa=x;else e:for(p=s;pa!==null;){x=pa;var T=x.sibling,N=x.return;if(Tp(x),x===p){pa=null;break e}if(T!==null){T.return=N,pa=T;break e}pa=N}}}var zp={getCacheForType:function(s){var l=qa(ln),p=l.data.get(s);return p===void 0&&(p=s(),l.data.set(s,p)),p},cacheSignal:function(){return qa(ln).controller.signal}},Np=typeof WeakMap=="function"?WeakMap:Map,ri=0,Si=null,zn=null,Qn=0,cn=0,jn=null,wn=!1,Bn=!1,Di=!1,Sa=0,Mi=0,As=0,Ml=0,ho=0,si=0,ws=0,po=null,vr=null,Xr=!1,Al=0,xf=0,Es=1/0,vf=null,jo=null,sa=0,mo=null,Ts=null,Xs=0,wl=0,su=null,Dp=null,ou=0,lu=null;function Or(){return(ri&2)!==0&&Qn!==0?Qn&-Qn:H.T!==null?Y2():ja()}function u(){if(si===0)if((Qn&536870912)===0||ni){var s=ft;ft<<=1,(ft&3932160)===0&&(ft=262144),si=s}else si=536870912;return s=Pa.current,s!==null&&(s.flags|=32),si}function d(s,l,p){(s===Si&&(cn===2||cn===9)||s.cancelPendingCommit!==null)&&(Ue(s,0),j(s,Qn,si,!1)),di(s,p),((ri&2)===0||s!==Si)&&(s===Si&&((ri&2)===0&&(Ml|=p),Mi===4&&j(s,Qn,si,!1)),bc(s))}function _(s,l,p){if((ri&6)!==0)throw Error(i(327));var x=!p&&(l&127)===0&&(l&s.expiredLanes)===0||Ot(s,l),T=x?cu(s,l):qr(s,l,!0),N=x;do{if(T===0){Bn&&!x&&j(s,l,0,!1);break}else{if(p=s.current.alternate,N&&!k(p)){T=qr(s,l,!1),N=!1;continue}if(T===2){if(N=l,s.errorRecoveryDisabledLanes&N)var Y=0;else Y=s.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){l=Y;e:{var oe=s;T=po;var Se=oe.current.memoizedState.isDehydrated;if(Se&&(Ue(oe,Y).flags|=256),Y=qr(oe,Y,!1),Y!==2){if(Di&&!Se){oe.errorRecoveryDisabledLanes|=N,Ml|=N,T=4;break e}N=vr,vr=T,N!==null&&(vr===null?vr=N:vr.push.apply(vr,N))}T=Y}if(N=!1,T!==2)continue}}if(T===1){Ue(s,0),j(s,l,0,!0);break}e:{switch(x=s,N=T,N){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:j(x,l,si,!wn);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(T=Al+300-Z(),10<T)){if(j(x,l,si,!wn),lt(x,0,!0)!==0)break e;Xs=l,x.timeoutHandle=WA(C.bind(null,x,p,vr,vf,Xr,l,si,Ml,ws,wn,N,"Throttled",-0,0),T);break e}C(x,p,vr,vf,Xr,l,si,Ml,ws,wn,N,null,-0,0)}}break}while(!0);bc(s)}function C(s,l,p,x,T,N,Y,oe,Se,qe,ct,xt,et,it){if(s.timeoutHandle=-1,xt=l.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Je},_a(l,N,xt);var Kt=(N&62914560)===N?Al-Z():(N&4194048)===N?xf-Z():0;if(Kt=SO(xt,Kt),Kt!==null){Xs=N,s.cancelPendingCommit=Kt(yn.bind(null,s,l,N,p,x,T,Y,oe,Se,ct,xt,null,et,it)),j(s,N,Y,!qe);return}}yn(s,l,N,p,x,T,Y,oe,Se)}function k(s){for(var l=s;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var T=p[x],N=T.getSnapshot;T=T.value;try{if(!Zi(N(),T))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function j(s,l,p,x){l&=~ho,l&=~Ml,s.suspendedLanes|=l,s.pingedLanes&=~l,x&&(s.warmLanes|=l),x=s.expirationTimes;for(var T=l;0<T;){var N=31-be(T),Y=1<<N;x[N]=-1,T&=~Y}p!==0&&la(s,p,l)}function ue(){return(ri&6)===0?(Eg(0),!1):!0}function _e(){if(zn!==null){if(cn===0)var s=zn.return;else s=zn,pr=fl=null,ng(s),lc=null,cc=0,s=zn;for(;s!==null;)nu(s.alternate,s),s=s.return;zn=null}}function Ue(s,l){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,aO(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),Xs=0,_e(),Si=s,zn=p=Oo(s.current,null),Qn=l,cn=0,jn=null,wn=!1,Bn=Ot(s,l),Di=!1,ws=si=ho=Ml=As=Mi=0,vr=po=null,Xr=!1,(l&8)!==0&&(l|=l&32);var x=s.entangledLanes;if(x!==0)for(s=s.entanglements,x&=l;0<x;){var T=31-be(x),N=1<<T;l|=s[T],x&=~N}return Sa=l,tc(),p}function ht(s,l){gn=null,H.H=Od,l===oc||l===lo?(l=op(),cn=3):l===bd?(l=op(),cn=4):cn=l===Ap?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,jn=l,zn===null&&(Mi=1,Mp(s,kr(l,s.current)))}function Tt(){var s=Pa.current;return s===null?!0:(Qn&4194048)===Qn?Vs===null:(Qn&62914560)===Qn||(Qn&536870912)!==0?s===Vs:!1}function It(){var s=H.H;return H.H=Od,s===null?Od:s}function Vt(){var s=H.A;return H.A=zp,s}function Sn(){Mi=4,wn||(Qn&4194048)!==Qn&&Pa.current!==null||(Bn=!0),(As&134217727)===0&&(Ml&134217727)===0||Si===null||j(Si,Qn,si,!1)}function qr(s,l,p){var x=ri;ri|=2;var T=It(),N=Vt();(Si!==s||Qn!==l)&&(vf=null,Ue(s,l)),l=!1;var Y=Mi;e:do try{if(cn!==0&&zn!==null){var oe=zn,Se=jn;switch(cn){case 8:_e(),Y=6;break e;case 3:case 2:case 9:case 6:Pa.current===null&&(l=!0);var qe=cn;if(cn=0,jn=null,At(s,oe,Se,qe),p&&Bn){Y=0;break e}break;default:qe=cn,cn=0,jn=null,At(s,oe,Se,qe)}}jd(),Y=Mi;break}catch(ct){ht(s,ct)}while(!0);return l&&s.shellSuspendCounter++,pr=fl=null,ri=x,H.H=T,H.A=N,zn===null&&(Si=null,Qn=0,tc()),Y}function jd(){for(;zn!==null;)Ie(zn)}function cu(s,l){var p=ri;ri|=2;var x=It(),T=Vt();Si!==s||Qn!==l?(vf=null,Es=Z()+500,Ue(s,l)):Bn=Ot(s,l);e:do try{if(cn!==0&&zn!==null){l=zn;var N=jn;t:switch(cn){case 1:cn=0,jn=null,At(s,l,N,1);break;case 2:case 9:if(Vy(N)){cn=0,jn=null,tt(l);break}l=function(){cn!==2&&cn!==9||Si!==s||(cn=7),bc(s)},N.then(l,l);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Vy(N)?(cn=0,jn=null,tt(l)):(cn=0,jn=null,At(s,l,N,7));break;case 5:var Y=null;switch(zn.tag){case 26:Y=zn.memoizedState;case 5:case 27:var oe=zn;if(Y?sw(Y):oe.stateNode.complete){cn=0,jn=null;var Se=oe.sibling;if(Se!==null)zn=Se;else{var qe=oe.return;qe!==null?(zn=qe,an(qe)):zn=null}break t}}cn=0,jn=null,At(s,l,N,5);break;case 6:cn=0,jn=null,At(s,l,N,6);break;case 8:_e(),Mi=6;break e;default:throw Error(i(462))}}Qe();break}catch(ct){ht(s,ct)}while(!0);return pr=fl=null,H.H=x,H.A=T,ri=p,zn!==null?0:(Si=null,Qn=0,tc(),Mi)}function Qe(){for(;zn!==null&&!Ye();)Ie(zn)}function Ie(s){var l=wp(s.alternate,s,Sa);s.memoizedProps=s.pendingProps,l===null?an(s):zn=l}function tt(s){var l=s,p=l.alternate;switch(l.tag){case 15:case 0:l=gr(p,l,l.pendingProps,l.type,void 0,Qn);break;case 11:l=gr(p,l,l.pendingProps,l.type.render,l.ref,Qn);break;case 5:ng(l);default:nu(p,l),l=zn=hr(l,Sa),l=wp(p,l,Sa)}s.memoizedProps=s.pendingProps,l===null?an(s):zn=l}function At(s,l,p,x){pr=fl=null,ng(l),lc=null,cc=0;var T=l.return;try{if(ys(s,T,l,p,Qn)){Mi=1,Mp(s,kr(p,s.current)),zn=null;return}}catch(N){if(T!==null)throw zn=T,N;Mi=1,Mp(s,kr(p,s.current)),zn=null;return}l.flags&32768?(ni||x===1?s=!0:Bn||(Qn&536870912)!==0?s=!1:(wn=s=!0,(x===2||x===9||x===3||x===6)&&(x=Pa.current,x!==null&&x.tag===13&&(x.flags|=16384))),ji(l,s)):an(l)}function an(s){var l=s;do{if((l.flags&32768)!==0){ji(l,wn);return}s=l.return;var p=Mg(l.alternate,l,Sa);if(p!==null){zn=p;return}if(l=l.sibling,l!==null){zn=l;return}zn=l=s}while(l!==null);Mi===0&&(Mi=5)}function ji(s,l){do{var p=Ep(s.alternate,s);if(p!==null){p.flags&=32767,zn=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(s=s.sibling,s!==null)){zn=s;return}zn=s=p}while(s!==null);Mi=6,zn=null}function yn(s,l,p,x,T,N,Y,oe,Se){s.cancelPendingCommit=null;do Lp();while(sa!==0);if((ri&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(N=l.lanes|l.childLanes,N|=Qh,Yt(s,p,N,Y,oe,Se),s===Si&&(zn=Si=null,Qn=0),Ts=l,mo=s,Xs=p,wl=N,su=T,Dp=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,W9(Te,function(){return CA(),null})):(s.callbackNode=null,s.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=H.T,H.T=null,T=K.p,K.p=2,Y=ri,ri|=4;try{gf(s,l,p)}finally{ri=Y,K.p=T,H.T=x}}sa=1,ui(),Ba(),fi()}}function ui(){if(sa===1){sa=0;var s=mo,l=Ts,p=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var x=K.p;K.p=2;var T=ri;ri|=4;try{xc(l,s);var N=e3,Y=qh(s.containerInfo),oe=N.focusedElem,Se=N.selectionRange;if(Y!==oe&&oe&&oe.ownerDocument&&Xh(oe.ownerDocument.documentElement,oe)){if(Se!==null&&qu(oe)){var qe=Se.start,ct=Se.end;if(ct===void 0&&(ct=qe),"selectionStart"in oe)oe.selectionStart=qe,oe.selectionEnd=Math.min(ct,oe.value.length);else{var xt=oe.ownerDocument||document,et=xt&&xt.defaultView||window;if(et.getSelection){var it=et.getSelection(),Kt=oe.textContent.length,mn=Math.min(Se.start,Kt),Wi=Se.end===void 0?mn:Math.min(Se.end,Kt);!it.extend&&mn>Wi&&(Y=Wi,Wi=mn,mn=Y);var Pe=zm(oe,mn),Re=zm(oe,Wi);if(Pe&&Re&&(it.rangeCount!==1||it.anchorNode!==Pe.node||it.anchorOffset!==Pe.offset||it.focusNode!==Re.node||it.focusOffset!==Re.offset)){var Xe=xt.createRange();Xe.setStart(Pe.node,Pe.offset),it.removeAllRanges(),mn>Wi?(it.addRange(Xe),it.extend(Re.node,Re.offset)):(Xe.setEnd(Re.node,Re.offset),it.addRange(Xe))}}}}for(xt=[],it=oe;it=it.parentNode;)it.nodeType===1&&xt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<xt.length;oe++){var mt=xt[oe];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Cx=!!Q2,e3=Q2=null}finally{ri=T,K.p=x,H.T=p}}s.current=l,sa=2}}function Ba(){if(sa===2){sa=0;var s=mo,l=Ts,p=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var x=K.p;K.p=2;var T=ri;ri|=4;try{px(s,l.alternate,l)}finally{ri=T,K.p=x,H.T=p}}sa=3}}function fi(){if(sa===4||sa===3){sa=0,de();var s=mo,l=Ts,p=Xs,x=Dp;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?sa=5:(sa=0,Ts=mo=null,El(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(jo=null),os(p),l=l.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(je,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=H.T,T=K.p,K.p=2,H.T=null;try{for(var N=s.onRecoverableError,Y=0;Y<x.length;Y++){var oe=x[Y];N(oe.value,{componentStack:oe.stack})}}finally{H.T=l,K.p=T}}(Xs&3)!==0&&Lp(),bc(s),T=s.pendingLanes,(p&261930)!==0&&(T&42)!==0?s===lu?ou++:(ou=0,lu=s):ou=0,Eg(0)}}function El(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,nr(l)))}function Lp(){return ui(),Ba(),fi(),CA()}function CA(){if(sa!==5)return!1;var s=mo,l=wl;wl=0;var p=os(Xs),x=H.T,T=K.p;try{K.p=32>p?32:p,H.T=null,p=su,su=null;var N=mo,Y=Xs;if(sa=0,Ts=mo=null,Xs=0,(ri&6)!==0)throw Error(i(331));var oe=ri;if(ri|=4,ru(N.current),ra(N,N.current,Y,p),ri=oe,Eg(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(je,N)}catch{}return!0}finally{K.p=T,H.T=x,El(s,l)}}function RA(s,l,p){l=kr(p,l),l=Sg(s.stateNode,l,2),s=ml(s,l,2),s!==null&&(di(s,2),bc(s))}function Ui(s,l,p){if(s.tag===3)RA(s,s,p);else for(;l!==null;){if(l.tag===3){RA(l,s,p);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(jo===null||!jo.has(x))){s=kr(p,s),p=ff(2),x=ml(l,p,2),x!==null&&(jr(p,x,l,s),di(x,2),bc(x));break}}l=l.return}}function j2(s,l,p){var x=s.pingCache;if(x===null){x=s.pingCache=new Np;var T=new Set;x.set(l,T)}else T=x.get(l),T===void 0&&(T=new Set,x.set(l,T));T.has(p)||(Di=!0,T.add(p),s=H9.bind(null,s,l,p),l.then(s,s))}function H9(s,l,p){var x=s.pingCache;x!==null&&x.delete(l),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Si===s&&(Qn&p)===p&&(Mi===4||Mi===3&&(Qn&62914560)===Qn&&300>Z()-Al?(ri&2)===0&&Ue(s,0):ho|=p,ws===Qn&&(ws=0)),bc(s)}function OA(s,l){l===0&&(l=bn()),s=nc(s,l),s!==null&&(di(s,l),bc(s))}function j9(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),OA(s,p)}function G9(s,l){var p=0;switch(s.tag){case 31:case 13:var x=s.stateNode,T=s.memoizedState;T!==null&&(p=T.retryLane);break;case 19:x=s.stateNode;break;case 22:x=s.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(l),OA(s,p)}function W9(s,l){return ke(s,l)}var yx=null,Ip=null,G2=!1,xx=!1,W2=!1,bf=0;function bc(s){s!==Ip&&s.next===null&&(Ip===null?yx=Ip=s:Ip=Ip.next=s),xx=!0,G2||(G2=!0,X9())}function Eg(s,l){if(!W2&&xx){W2=!0;do for(var p=!1,x=yx;x!==null;){if(s!==0){var T=x.pendingLanes;if(T===0)var N=0;else{var Y=x.suspendedLanes,oe=x.pingedLanes;N=(1<<31-be(42|s)+1)-1,N&=T&~(Y&~oe),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,LA(x,N))}else N=Qn,N=lt(x,x===Si?N:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(N&3)===0||Ot(x,N)||(p=!0,LA(x,N));x=x.next}while(p);W2=!1}}function Y9(){zA()}function zA(){xx=G2=!1;var s=0;bf!==0&&iO()&&(s=bf);for(var l=Z(),p=null,x=yx;x!==null;){var T=x.next,N=NA(x,l);N===0?(x.next=null,p===null?yx=T:p.next=T,T===null&&(Ip=p)):(p=x,(s!==0||(N&3)!==0)&&(xx=!0)),x=T}sa!==0&&sa!==5||Eg(s),bf!==0&&(bf=0)}function NA(s,l){for(var p=s.suspendedLanes,x=s.pingedLanes,T=s.expirationTimes,N=s.pendingLanes&-62914561;0<N;){var Y=31-be(N),oe=1<<Y,Se=T[Y];Se===-1?((oe&p)===0||(oe&x)!==0)&&(T[Y]=Wt(oe,l)):Se<=l&&(s.expiredLanes|=oe),N&=~oe}if(l=Si,p=Qn,p=lt(s,s===l?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x=s.callbackNode,p===0||s===l&&(cn===2||cn===9)||s.cancelPendingCommit!==null)return x!==null&&x!==null&&Ke(x),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||Ot(s,p)){if(l=p&-p,l===s.callbackPriority)return l;switch(x!==null&&Ke(x),os(p)){case 2:case 8:p=Ne;break;case 32:p=Te;break;case 268435456:p=Fe;break;default:p=Te}return x=DA.bind(null,s),p=ke(p,x),s.callbackPriority=l,s.callbackNode=p,l}return x!==null&&x!==null&&Ke(x),s.callbackPriority=2,s.callbackNode=null,2}function DA(s,l){if(sa!==0&&sa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(Lp()&&s.callbackNode!==p)return null;var x=Qn;return x=lt(s,s===Si?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),x===0?null:(_(s,x,l),NA(s,Z()),s.callbackNode!=null&&s.callbackNode===p?DA.bind(null,s):null)}function LA(s,l){if(Lp())return null;_(s,l,!0)}function X9(){rO(function(){(ri&6)!==0?ke(Me,Y9):zA()})}function Y2(){if(bf===0){var s=pl;s===0&&(s=at,at<<=1,(at&261888)===0&&(at=256)),bf=s}return bf}function IA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:me(""+s)}function PA(s,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,s.id&&p.setAttribute("form",s.id),l.parentNode.insertBefore(p,l),s=new FormData(s),p.parentNode.removeChild(p),s}function q9(s,l,p,x,T){if(l==="submit"&&p&&p.stateNode===T){var N=IA((T[Vi]||null).action),Y=x.submitter;Y&&(l=(l=Y[Vi]||null)?IA(l.formAction):Y.getAttribute("formAction"),l!==null&&(N=l,Y=null));var oe=new rd("action","action",null,x,T);s.push({event:oe,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(bf!==0){var Se=Y?PA(T,Y):new FormData(T);yg(p,{pending:!0,data:Se,method:T.method,action:N},null,Se)}}else typeof N=="function"&&(oe.preventDefault(),Se=Y?PA(T,Y):new FormData(T),yg(p,{pending:!0,data:Se,method:T.method,action:N},N,Se))},currentTarget:T}]})}}for(var X2=0;X2<Jh.length;X2++){var q2=Jh[X2],$9=q2.toLowerCase(),K9=q2[0].toUpperCase()+q2.slice(1);dr($9,"on"+K9)}dr(Br,"onAnimationEnd"),dr(Nm,"onAnimationIteration"),dr(Ro,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(Ju,"onTransitionRun"),dr(Ql,"onTransitionStart"),dr(Dm,"onTransitionCancel"),dr(Zh,"onTransitionEnd"),Bt("onMouseEnter",["mouseout","mouseover"]),Bt("onMouseLeave",["mouseout","mouseover"]),Bt("onPointerEnter",["pointerout","pointerover"]),Bt("onPointerLeave",["pointerout","pointerover"]),zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tg));function UA(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],T=x.event;x=x.listeners;e:{var N=void 0;if(l)for(var Y=x.length-1;0<=Y;Y--){var oe=x[Y],Se=oe.instance,qe=oe.currentTarget;if(oe=oe.listener,Se!==N&&T.isPropagationStopped())break e;N=oe,T.currentTarget=qe;try{N(T)}catch(ct){ec(ct)}T.currentTarget=null,N=Se}else for(Y=0;Y<x.length;Y++){if(oe=x[Y],Se=oe.instance,qe=oe.currentTarget,oe=oe.listener,Se!==N&&T.isPropagationStopped())break e;N=oe,T.currentTarget=qe;try{N(T)}catch(ct){ec(ct)}T.currentTarget=null,N=Se}}}}function ii(s,l){var p=l[Bs];p===void 0&&(p=l[Bs]=new Set);var x=s+"__bubble";p.has(x)||(BA(l,s,2,!1),p.add(x))}function $2(s,l,p){var x=0;l&&(x|=4),BA(p,s,x,l)}var vx="_reactListening"+Math.random().toString(36).slice(2);function K2(s){if(!s[vx]){s[vx]=!0,Le.forEach(function(p){p!=="selectionchange"&&(Z9.has(p)||$2(p,!1,s),$2(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[vx]||(l[vx]=!0,$2("selectionchange",!1,l))}}function BA(s,l,p,x){switch(hw(l)){case 2:var T=wO;break;case 8:T=EO;break;default:T=f3}p=T.bind(null,l,p,s),T=void 0,!Qt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),x?T!==void 0?s.addEventListener(l,p,{capture:!0,passive:T}):s.addEventListener(l,p,!0):T!==void 0?s.addEventListener(l,p,{passive:T}):s.addEventListener(l,p,!1)}function Z2(s,l,p,x,T){var N=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var Y=x.tag;if(Y===3||Y===4){var oe=x.stateNode.containerInfo;if(oe===T)break;if(Y===4)for(Y=x.return;Y!==null;){var Se=Y.tag;if((Se===3||Se===4)&&Y.stateNode.containerInfo===T)return;Y=Y.return}for(;oe!==null;){if(Y=Pi(oe),Y===null)return;if(Se=Y.tag,Se===5||Se===6||Se===26||Se===27){x=N=Y;continue e}oe=oe.parentNode}}x=x.return}qt(function(){var qe=N,ct=kt(p),xt=[];e:{var et=ol.get(s);if(et!==void 0){var it=rd,Kt=s;switch(s){case"keypress":if(ua(p)===0)break e;case"keydown":case"keyup":it=_m;break;case"focusin":Kt="focus",it=Hh;break;case"focusout":Kt="blur",it=Hh;break;case"beforeblur":case"afterblur":it=Hh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=rl;break;case Br:case Nm:case Ro:it=Sy;break;case Zh:it=I2;break;case"scroll":case"scrollend":it=Fh;break;case"wheel":it=Xl;break;case"copy":case"cut":case"paste":it=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=jh;break;case"toggle":case"beforetoggle":it=Mm}var mn=(l&4)!==0,Wi=!mn&&(s==="scroll"||s==="scrollend"),Pe=mn?et!==null?et+"Capture":null:et;mn=[];for(var Re=qe,Xe;Re!==null;){var mt=Re;if(Xe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Xe===null||Pe===null||(mt=Ft(Re,Pe),mt!=null&&mn.push(Cg(Re,mt,Xe))),Wi)break;Re=Re.return}0<mn.length&&(et=new it(et,Kt,null,p,ct),xt.push({event:et,listeners:mn}))}}if((l&7)===0){e:{if(et=s==="mouseover"||s==="pointerover",it=s==="mouseout"||s==="pointerout",et&&p!==st&&(Kt=p.relatedTarget||p.fromElement)&&(Pi(Kt)||Kt[fr]))break e;if((it||et)&&(et=ct.window===ct?ct:(et=ct.ownerDocument)?et.defaultView||et.parentWindow:window,it?(Kt=p.relatedTarget||p.toElement,it=qe,Kt=Kt?Pi(Kt):null,Kt!==null&&(Wi=r(Kt),mn=Kt.tag,Kt!==Wi||mn!==5&&mn!==27&&mn!==6)&&(Kt=null)):(it=null,Kt=qe),it!==Kt)){if(mn=xy,mt="onMouseLeave",Pe="onMouseEnter",Re="mouse",(s==="pointerout"||s==="pointerover")&&(mn=jh,mt="onPointerLeave",Pe="onPointerEnter",Re="pointer"),Wi=it==null?et:Ce(it),Xe=Kt==null?et:Ce(Kt),et=new mn(mt,Re+"leave",it,p,ct),et.target=Wi,et.relatedTarget=Xe,mt=null,Pi(ct)===qe&&(mn=new mn(Pe,Re+"enter",Kt,p,ct),mn.target=Xe,mn.relatedTarget=Wi,mt=mn),Wi=mt,it&&Kt)t:{for(mn=J9,Pe=it,Re=Kt,Xe=0,mt=Pe;mt;mt=mn(mt))Xe++;mt=0;for(var fn=Re;fn;fn=mn(fn))mt++;for(;0<Xe-mt;)Pe=mn(Pe),Xe--;for(;0<mt-Xe;)Re=mn(Re),mt--;for(;Xe--;){if(Pe===Re||Re!==null&&Pe===Re.alternate){mn=Pe;break t}Pe=mn(Pe),Re=mn(Re)}mn=null}else mn=null;it!==null&&kA(xt,et,it,mn,!1),Kt!==null&&Wi!==null&&kA(xt,Wi,Kt,mn,!0)}}e:{if(et=qe?Ce(qe):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var Ai=Cm;else if(Em(et))if(fd)Ai=Dy;else{Ai=Kl;var nn=dd}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?qe&&J(qe.elementType)&&(Ai=Cm):Ai=Ny;if(Ai&&(Ai=Ai(s,qe))){Yh(xt,Ai,p,ct);break e}nn&&nn(s,et,qe),s==="focusout"&&qe&&et.type==="number"&&qe.memoizedProps.value!=null&&aa(et,"number",et.value)}switch(nn=qe?Ce(qe):window,s){case"focusin":(Em(nn)||nn.contentEditable==="true")&&($u=nn,$h=qe,Ku=null);break;case"focusout":Ku=$h=$u=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,Kh(xt,p,ct);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":Kh(xt,p,ct)}var kn;if(Fc)e:{switch(s){case"compositionstart":var oi="onCompositionStart";break e;case"compositionend":oi="onCompositionEnd";break e;case"compositionupdate":oi="onCompositionUpdate";break e}oi=void 0}else $l?Gh(s,p)&&(oi="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(oi="onCompositionStart");oi&&(tr&&p.locale!=="ko"&&($l||oi!=="onCompositionStart"?oi==="onCompositionEnd"&&$l&&(kn=Ur()):(Hn=ct,Yn="value"in Hn?Hn.value:Hn.textContent,$l=!0)),nn=bx(qe,oi),0<nn.length&&(oi=new ym(oi,s,null,p,ct),xt.push({event:oi,listeners:nn}),kn?oi.data=kn:(kn=ju(p),kn!==null&&(oi.data=kn)))),(kn=Vc?Wh(s,p):Ry(s,p))&&(oi=bx(qe,"onBeforeInput"),0<oi.length&&(nn=new ym("onBeforeInput","beforeinput",null,p,ct),xt.push({event:nn,listeners:oi}),nn.data=kn)),q9(xt,s,qe,p,ct)}UA(xt,l)})}function Cg(s,l,p){return{instance:s,listener:l,currentTarget:p}}function bx(s,l){for(var p=l+"Capture",x=[];s!==null;){var T=s,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Ft(s,p),T!=null&&x.unshift(Cg(s,T,N)),T=Ft(s,l),T!=null&&x.push(Cg(s,T,N))),s.tag===3)return x;s=s.return}return[]}function J9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kA(s,l,p,x,T){for(var N=l._reactName,Y=[];p!==null&&p!==x;){var oe=p,Se=oe.alternate,qe=oe.stateNode;if(oe=oe.tag,Se!==null&&Se===x)break;oe!==5&&oe!==26&&oe!==27||qe===null||(Se=qe,T?(qe=Ft(p,N),qe!=null&&Y.unshift(Cg(p,qe,Se))):T||(qe=Ft(p,N),qe!=null&&Y.push(Cg(p,qe,Se)))),p=p.return}Y.length!==0&&s.push({event:l,listeners:Y})}var Q9=/\r\n?/g,eO=/\u0000|\uFFFD/g;function FA(s){return(typeof s=="string"?s:""+s).replace(Q9,`
`).replace(eO,"")}function VA(s,l){return l=FA(l),FA(s)===l}function Gi(s,l,p,x,T,N){switch(p){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||us(s,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&us(s,""+x);break;case"className":Wn(s,"class",x);break;case"tabIndex":Wn(s,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(s,p,x);break;case"style":ee(s,x,N);break;case"data":if(l!=="object"){Wn(s,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||p!=="href")){s.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=me(""+x),s.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(l!=="input"&&Gi(s,l,"name",T.name,T,null),Gi(s,l,"formEncType",T.formEncType,T,null),Gi(s,l,"formMethod",T.formMethod,T,null),Gi(s,l,"formTarget",T.formTarget,T,null)):(Gi(s,l,"encType",T.encType,T,null),Gi(s,l,"method",T.method,T,null),Gi(s,l,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){s.removeAttribute(p);break}x=me(""+x),s.setAttribute(p,x);break;case"onClick":x!=null&&(s.onclick=Je);break;case"onScroll":x!=null&&ii("scroll",s);break;case"onScrollEnd":x!=null&&ii("scrollend",s);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(p=x.__html,p!=null){if(T.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":s.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){s.removeAttribute("xlink:href");break}p=me(""+x),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""+x):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":x===!0?s.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?s.setAttribute(p,x):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?s.setAttribute(p,x):s.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?s.removeAttribute(p):s.setAttribute(p,x);break;case"popover":ii("beforetoggle",s),ii("toggle",s),An(s,"popover",x);break;case"xlinkActuate":Zn(s,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Zn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Zn(s,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Zn(s,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Zn(s,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Zn(s,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":An(s,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=he.get(p)||p,An(s,p,x))}}function J2(s,l,p,x,T,N){switch(p){case"style":ee(s,x,N);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(p=x.__html,p!=null){if(T.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof x=="string"?us(s,x):(typeof x=="number"||typeof x=="bigint")&&us(s,""+x);break;case"onScroll":x!=null&&ii("scroll",s);break;case"onScrollEnd":x!=null&&ii("scrollend",s);break;case"onClick":x!=null&&(s.onclick=Je);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),l=p.slice(2,T?p.length-7:void 0),N=s[Vi]||null,N=N!=null?N[p]:null,typeof N=="function"&&s.removeEventListener(l,N,T),typeof x=="function")){typeof N!="function"&&N!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(l,x,T);break e}p in s?s[p]=x:x===!0?s.setAttribute(p,""):An(s,p,x)}}}function zr(s,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ii("error",s),ii("load",s);var x=!1,T=!1,N;for(N in p)if(p.hasOwnProperty(N)){var Y=p[N];if(Y!=null)switch(N){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Gi(s,l,N,Y,p,null)}}T&&Gi(s,l,"srcSet",p.srcSet,p,null),x&&Gi(s,l,"src",p.src,p,null);return;case"input":ii("invalid",s);var oe=N=Y=T=null,Se=null,qe=null;for(x in p)if(p.hasOwnProperty(x)){var ct=p[x];if(ct!=null)switch(x){case"name":T=ct;break;case"type":Y=ct;break;case"checked":Se=ct;break;case"defaultChecked":qe=ct;break;case"value":N=ct;break;case"defaultValue":oe=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,l));break;default:Gi(s,l,x,ct,p,null)}}bi(s,N,oe,Se,qe,Y,T,!1);return;case"select":ii("invalid",s),x=Y=N=null;for(T in p)if(p.hasOwnProperty(T)&&(oe=p[T],oe!=null))switch(T){case"value":N=oe;break;case"defaultValue":Y=oe;break;case"multiple":x=oe;default:Gi(s,l,T,oe,p,null)}l=N,p=Y,s.multiple=!!x,l!=null?ea(s,!!x,l,!1):p!=null&&ea(s,!!x,p,!0);return;case"textarea":ii("invalid",s),N=T=x=null;for(Y in p)if(p.hasOwnProperty(Y)&&(oe=p[Y],oe!=null))switch(Y){case"value":x=oe;break;case"defaultValue":T=oe;break;case"children":N=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(91));break;default:Gi(s,l,Y,oe,p,null)}$i(s,x,T,N);return;case"option":for(Se in p)if(p.hasOwnProperty(Se)&&(x=p[Se],x!=null))switch(Se){case"selected":s.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Gi(s,l,Se,x,p,null)}return;case"dialog":ii("beforetoggle",s),ii("toggle",s),ii("cancel",s),ii("close",s);break;case"iframe":case"object":ii("load",s);break;case"video":case"audio":for(x=0;x<Tg.length;x++)ii(Tg[x],s);break;case"image":ii("error",s),ii("load",s);break;case"details":ii("toggle",s);break;case"embed":case"source":case"link":ii("error",s),ii("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in p)if(p.hasOwnProperty(qe)&&(x=p[qe],x!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Gi(s,l,qe,x,p,null)}return;default:if(J(l)){for(ct in p)p.hasOwnProperty(ct)&&(x=p[ct],x!==void 0&&J2(s,l,ct,x,p,void 0));return}}for(oe in p)p.hasOwnProperty(oe)&&(x=p[oe],x!=null&&Gi(s,l,oe,x,p,null))}function tO(s,l,p,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,Y=null,oe=null,Se=null,qe=null,ct=null;for(it in p){var xt=p[it];if(p.hasOwnProperty(it)&&xt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Se=xt;default:x.hasOwnProperty(it)||Gi(s,l,it,null,x,xt)}}for(var et in x){var it=x[et];if(xt=p[et],x.hasOwnProperty(et)&&(it!=null||xt!=null))switch(et){case"type":N=it;break;case"name":T=it;break;case"checked":qe=it;break;case"defaultChecked":ct=it;break;case"value":Y=it;break;case"defaultValue":oe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,l));break;default:it!==xt&&Gi(s,l,et,it,x,xt)}}cs(s,Y,oe,Se,qe,ct,N,T);return;case"select":it=Y=oe=et=null;for(N in p)if(Se=p[N],p.hasOwnProperty(N)&&Se!=null)switch(N){case"value":break;case"multiple":it=Se;default:x.hasOwnProperty(N)||Gi(s,l,N,null,x,Se)}for(T in x)if(N=x[T],Se=p[T],x.hasOwnProperty(T)&&(N!=null||Se!=null))switch(T){case"value":et=N;break;case"defaultValue":oe=N;break;case"multiple":Y=N;default:N!==Se&&Gi(s,l,T,N,x,Se)}l=oe,p=Y,x=it,et!=null?ea(s,!!p,et,!1):!!x!=!!p&&(l!=null?ea(s,!!p,l,!0):ea(s,!!p,p?[]:"",!1));return;case"textarea":it=et=null;for(oe in p)if(T=p[oe],p.hasOwnProperty(oe)&&T!=null&&!x.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:Gi(s,l,oe,null,x,T)}for(Y in x)if(T=x[Y],N=p[Y],x.hasOwnProperty(Y)&&(T!=null||N!=null))switch(Y){case"value":et=T;break;case"defaultValue":it=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==N&&Gi(s,l,Y,T,x,N)}ta(s,et,it);return;case"option":for(var Kt in p)if(et=p[Kt],p.hasOwnProperty(Kt)&&et!=null&&!x.hasOwnProperty(Kt))switch(Kt){case"selected":s.selected=!1;break;default:Gi(s,l,Kt,null,x,et)}for(Se in x)if(et=x[Se],it=p[Se],x.hasOwnProperty(Se)&&et!==it&&(et!=null||it!=null))switch(Se){case"selected":s.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Gi(s,l,Se,et,x,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in p)et=p[mn],p.hasOwnProperty(mn)&&et!=null&&!x.hasOwnProperty(mn)&&Gi(s,l,mn,null,x,et);for(qe in x)if(et=x[qe],it=p[qe],x.hasOwnProperty(qe)&&et!==it&&(et!=null||it!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,l));break;default:Gi(s,l,qe,et,x,it)}return;default:if(J(l)){for(var Wi in p)et=p[Wi],p.hasOwnProperty(Wi)&&et!==void 0&&!x.hasOwnProperty(Wi)&&J2(s,l,Wi,void 0,x,et);for(ct in x)et=x[ct],it=p[ct],!x.hasOwnProperty(ct)||et===it||et===void 0&&it===void 0||J2(s,l,ct,et,x,it);return}}for(var Pe in p)et=p[Pe],p.hasOwnProperty(Pe)&&et!=null&&!x.hasOwnProperty(Pe)&&Gi(s,l,Pe,null,x,et);for(xt in x)et=x[xt],it=p[xt],!x.hasOwnProperty(xt)||et===it||et==null&&it==null||Gi(s,l,xt,et,x,it)}function HA(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nO(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var T=p[x],N=T.transferSize,Y=T.initiatorType,oe=T.duration;if(N&&oe&&HA(Y)){for(Y=0,oe=T.responseEnd,x+=1;x<p.length;x++){var Se=p[x],qe=Se.startTime;if(qe>oe)break;var ct=Se.transferSize,xt=Se.initiatorType;ct&&HA(xt)&&(Se=Se.responseEnd,Y+=ct*(Se<oe?1:(oe-qe)/(Se-qe)))}if(--x,l+=8*(N+Y)/(T.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Q2=null,e3=null;function _x(s){return s.nodeType===9?s:s.ownerDocument}function jA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GA(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function t3(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var n3=null;function iO(){var s=window.event;return s&&s.type==="popstate"?s===n3?!1:(n3=s,!0):(n3=null,!1)}var WA=typeof setTimeout=="function"?setTimeout:void 0,aO=typeof clearTimeout=="function"?clearTimeout:void 0,YA=typeof Promise=="function"?Promise:void 0,rO=typeof queueMicrotask=="function"?queueMicrotask:typeof YA<"u"?function(s){return YA.resolve(null).then(s).catch(sO)}:WA;function sO(s){setTimeout(function(){throw s})}function _f(s){return s==="head"}function XA(s,l){var p=l,x=0;do{var T=p.nextSibling;if(s.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(x===0){s.removeChild(T),kp(l);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")Rg(s.ownerDocument.documentElement);else if(p==="head"){p=s.ownerDocument.head,Rg(p);for(var N=p.firstChild;N;){var Y=N.nextSibling,oe=N.nodeName;N[hi]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=Y}}else p==="body"&&Rg(s.ownerDocument.body);p=T}while(p);kp(l)}function qA(s,l){var p=s;s=0;do{var x=p.nextSibling;if(p.nodeType===1?l?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(l?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(s===0)break;s--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||s++;p=x}while(p)}function i3(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":i3(p),Ii(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function oO(s,l,p,x){for(;s.nodeType===1;){var T=p;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(x){if(!s[hi])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(N=s.getAttribute("rel"),N==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(N!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(N=s.getAttribute("src"),(N!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===N)return s}else return s;if(s=Go(s.nextSibling),s===null)break}return null}function lO(s,l,p){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=Go(s.nextSibling),s===null))return null;return s}function $A(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Go(s.nextSibling),s===null))return null;return s}function a3(s){return s.data==="$?"||s.data==="$~"}function r3(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function cO(s,l){var p=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||p.readyState!=="loading")l();else{var x=function(){l(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),s._reactRetry=x}}function Go(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var s3=null;function KA(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"||p==="/&"){if(l===0)return Go(s.nextSibling);l--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||l++}s=s.nextSibling}return null}function ZA(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(l===0)return s;l--}else p!=="/$"&&p!=="/&"||l++}s=s.previousSibling}return null}function JA(s,l,p){switch(l=_x(p),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Rg(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Ii(s)}var Wo=new Map,QA=new Set;function Sx(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var uu=K.d;K.d={f:uO,r:fO,D:dO,C:hO,L:pO,m:mO,X:yO,S:gO,M:xO};function uO(){var s=uu.f(),l=ue();return s||l}function fO(s){var l=ae(s);l!==null&&l.tag===5&&l.type==="form"?xg(l):uu.r(s)}var Pp=typeof document>"u"?null:document;function ew(s,l,p){var x=Pp;if(x&&typeof l=="string"&&l){var T=Ei(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),QA.has(T)||(QA.add(T),s={rel:s,crossOrigin:p,href:l},x.querySelector(T)===null&&(l=x.createElement("link"),zr(l,"link",s),We(l),x.head.appendChild(l)))}}function dO(s){uu.D(s),ew("dns-prefetch",s,null)}function hO(s,l){uu.C(s,l),ew("preconnect",s,l)}function pO(s,l,p){uu.L(s,l,p);var x=Pp;if(x&&s&&l){var T='link[rel="preload"][as="'+Ei(l)+'"]';l==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+Ei(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+Ei(p.imageSizes)+'"]')):T+='[href="'+Ei(s)+'"]';var N=T;switch(l){case"style":N=Up(s);break;case"script":N=Bp(s)}Wo.has(N)||(s=g({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:s,as:l},p),Wo.set(N,s),x.querySelector(T)!==null||l==="style"&&x.querySelector(Og(N))||l==="script"&&x.querySelector(zg(N))||(l=x.createElement("link"),zr(l,"link",s),We(l),x.head.appendChild(l)))}}function mO(s,l){uu.m(s,l);var p=Pp;if(p&&s){var x=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Ei(x)+'"][href="'+Ei(s)+'"]',N=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Bp(s)}if(!Wo.has(N)&&(s=g({rel:"modulepreload",href:s},l),Wo.set(N,s),p.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(zg(N)))return}x=p.createElement("link"),zr(x,"link",s),We(x),p.head.appendChild(x)}}}function gO(s,l,p){uu.S(s,l,p);var x=Pp;if(x&&s){var T=$e(x).hoistableStyles,N=Up(s);l=l||"default";var Y=T.get(N);if(!Y){var oe={loading:0,preload:null};if(Y=x.querySelector(Og(N)))oe.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":l},p),(p=Wo.get(N))&&o3(s,p);var Se=Y=x.createElement("link");We(Se),zr(Se,"link",s),Se._p=new Promise(function(qe,ct){Se.onload=qe,Se.onerror=ct}),Se.addEventListener("load",function(){oe.loading|=1}),Se.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,Mx(Y,l,x)}Y={type:"stylesheet",instance:Y,count:1,state:oe},T.set(N,Y)}}}function yO(s,l){uu.X(s,l);var p=Pp;if(p&&s){var x=$e(p).hoistableScripts,T=Bp(s),N=x.get(T);N||(N=p.querySelector(zg(T)),N||(s=g({src:s,async:!0},l),(l=Wo.get(T))&&l3(s,l),N=p.createElement("script"),We(N),zr(N,"link",s),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function xO(s,l){uu.M(s,l);var p=Pp;if(p&&s){var x=$e(p).hoistableScripts,T=Bp(s),N=x.get(T);N||(N=p.querySelector(zg(T)),N||(s=g({src:s,async:!0,type:"module"},l),(l=Wo.get(T))&&l3(s,l),N=p.createElement("script"),We(N),zr(N,"link",s),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},x.set(T,N))}}function tw(s,l,p,x){var T=(T=te.current)?Sx(T):null;if(!T)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=Up(p.href),p=$e(T).hoistableStyles,x=p.get(l),x||(x={type:"style",instance:null,count:0,state:null},p.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=Up(p.href);var N=$e(T).hoistableStyles,Y=N.get(s);if(Y||(T=T.ownerDocument||T,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(s,Y),(N=T.querySelector(Og(s)))&&!N._p&&(Y.instance=N,Y.state.loading=5),Wo.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Wo.set(s,p),N||vO(T,s,p,Y.state))),l&&x===null)throw Error(i(528,""));return Y}if(l&&x!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Bp(p),p=$e(T).hoistableScripts,x=p.get(l),x||(x={type:"script",instance:null,count:0,state:null},p.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Up(s){return'href="'+Ei(s)+'"'}function Og(s){return'link[rel="stylesheet"]['+s+"]"}function nw(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function vO(s,l,p,x){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=s.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),zr(l,"link",p),We(l),s.head.appendChild(l))}function Bp(s){return'[src="'+Ei(s)+'"]'}function zg(s){return"script[async]"+s}function iw(s,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var x=s.querySelector('style[data-href~="'+Ei(p.href)+'"]');if(x)return l.instance=x,We(x),x;var T=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(s.ownerDocument||s).createElement("style"),We(x),zr(x,"style",T),Mx(x,p.precedence,s),l.instance=x;case"stylesheet":T=Up(p.href);var N=s.querySelector(Og(T));if(N)return l.state.loading|=4,l.instance=N,We(N),N;x=nw(p),(T=Wo.get(T))&&o3(x,T),N=(s.ownerDocument||s).createElement("link"),We(N);var Y=N;return Y._p=new Promise(function(oe,Se){Y.onload=oe,Y.onerror=Se}),zr(N,"link",x),l.state.loading|=4,Mx(N,p.precedence,s),l.instance=N;case"script":return N=Bp(p.src),(T=s.querySelector(zg(N)))?(l.instance=T,We(T),T):(x=p,(T=Wo.get(N))&&(x=g({},p),l3(x,T)),s=s.ownerDocument||s,T=s.createElement("script"),We(T),zr(T,"link",x),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,Mx(x,p.precedence,s));return l.instance}function Mx(s,l,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,N=T,Y=0;Y<x.length;Y++){var oe=x[Y];if(oe.dataset.precedence===l)N=oe;else if(N!==T)break}N?N.parentNode.insertBefore(s,N.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(s,l.firstChild))}function o3(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function l3(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Ax=null;function aw(s,l,p){if(Ax===null){var x=new Map,T=Ax=new Map;T.set(p,x)}else T=Ax,x=T.get(p),x||(x=new Map,T.set(p,x));if(x.has(s))return x;for(x.set(s,null),p=p.getElementsByTagName(s),T=0;T<p.length;T++){var N=p[T];if(!(N[hi]||N[_n]||s==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=N.getAttribute(l)||"";Y=s+Y;var oe=x.get(Y);oe?oe.push(N):x.set(Y,[N])}}return x}function rw(s,l,p){s=s.ownerDocument||s,s.head.insertBefore(p,l==="title"?s.querySelector("head > title"):null)}function bO(s,l,p){if(p===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function sw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function _O(s,l,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=Up(x.href),N=l.querySelector(Og(T));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=wx.bind(s),l.then(s,s)),p.state.loading|=4,p.instance=N,We(N);return}N=l.ownerDocument||l,x=nw(x),(T=Wo.get(T))&&o3(x,T),N=N.createElement("link"),We(N);var Y=N;Y._p=new Promise(function(oe,Se){Y.onload=oe,Y.onerror=Se}),zr(N,"link",x),p.instance=N}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(p,l),(l=p.state.preload)&&(p.state.loading&3)===0&&(s.count++,p=wx.bind(s),l.addEventListener("load",p),l.addEventListener("error",p))}}var c3=0;function SO(s,l){return s.stylesheets&&s.count===0&&Tx(s,s.stylesheets),0<s.count||0<s.imgCount?function(p){var x=setTimeout(function(){if(s.stylesheets&&Tx(s,s.stylesheets),s.unsuspend){var N=s.unsuspend;s.unsuspend=null,N()}},6e4+l);0<s.imgBytes&&c3===0&&(c3=62500*nO());var T=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Tx(s,s.stylesheets),s.unsuspend)){var N=s.unsuspend;s.unsuspend=null,N()}},(s.imgBytes>c3?50:800)+l);return s.unsuspend=p,function(){s.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function wx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tx(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ex=null;function Tx(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ex=new Map,l.forEach(MO,s),Ex=null,wx.call(s))}function MO(s,l){if(!(l.state.loading&4)){var p=Ex.get(s);if(p)var x=p.get(null);else{p=new Map,Ex.set(s,p);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var Y=T[N];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(p.set(Y.dataset.precedence,Y),x=Y)}x&&p.set(null,x)}T=l.instance,Y=T.getAttribute("data-precedence"),N=p.get(Y)||x,N===x&&p.set(null,T),p.set(Y,T),this.count++,x=wx.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),N?N.parentNode.insertBefore(T,N.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var Ng={$$typeof:w,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function AO(s,l,p,x,T,N,Y,oe,Se){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tn(0),this.hiddenUpdates=tn(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function ow(s,l,p,x,T,N,Y,oe,Se,qe,ct,xt){return s=new AO(s,l,p,Y,Se,qe,ct,xt,oe),l=1,N===!0&&(l|=24),N=wr(3,null,null,l),s.current=N,N.stateNode=s,l=Fm(),l.refCount++,s.pooledCache=l,l.refCount++,N.memoizedState={element:x,isDehydrated:p,cache:l},Ym(N),s}function lw(s){return s?(s=ic,s):ic}function cw(s,l,p,x,T,N){T=lw(T),x.context===null?x.context=T:x.pendingContext=T,x=Io(l),x.payload={element:p},N=N===void 0?null:N,N!==null&&(x.callback=N),p=ml(s,x,l),p!==null&&(d(p,s,l),fc(p,s,l))}function uw(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function u3(s,l){uw(s,l),(s=s.alternate)&&uw(s,l)}function fw(s){if(s.tag===13||s.tag===31){var l=nc(s,67108864);l!==null&&d(l,s,67108864),u3(s,67108864)}}function dw(s){if(s.tag===13||s.tag===31){var l=Or();l=ia(l);var p=nc(s,l);p!==null&&d(p,s,l),u3(s,l)}}var Cx=!0;function wO(s,l,p,x){var T=H.T;H.T=null;var N=K.p;try{K.p=2,f3(s,l,p,x)}finally{K.p=N,H.T=T}}function EO(s,l,p,x){var T=H.T;H.T=null;var N=K.p;try{K.p=8,f3(s,l,p,x)}finally{K.p=N,H.T=T}}function f3(s,l,p,x){if(Cx){var T=d3(x);if(T===null)Z2(s,l,x,Rx,p),pw(s,x);else if(CO(T,s,l,p,x))x.stopPropagation();else if(pw(s,x),l&4&&-1<TO.indexOf(s)){for(;T!==null;){var N=ae(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Y=yt(N.pendingLanes);if(Y!==0){var oe=N;for(oe.pendingLanes|=2,oe.entangledLanes|=2;Y;){var Se=1<<31-be(Y);oe.entanglements[1]|=Se,Y&=~Se}bc(N),(ri&6)===0&&(Es=Z()+500,Eg(0))}}break;case 31:case 13:oe=nc(N,2),oe!==null&&d(oe,N,2),ue(),u3(N,2)}if(N=d3(x),N===null&&Z2(s,l,x,Rx,p),N===T)break;T=N}T!==null&&x.stopPropagation()}else Z2(s,l,x,null,p)}}function d3(s){return s=kt(s),h3(s)}var Rx=null;function h3(s){if(Rx=null,s=Pi(s),s!==null){var l=r(s);if(l===null)s=null;else{var p=l.tag;if(p===13){if(s=o(l),s!==null)return s;s=null}else if(p===31){if(s=c(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Rx=s,null}function hw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Me:return 2;case Ne:return 8;case Te:case gt:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var p3=!1,Sf=null,Mf=null,Af=null,Dg=new Map,Lg=new Map,wf=[],TO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pw(s,l){switch(s){case"focusin":case"focusout":Sf=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Af=null;break;case"pointerover":case"pointerout":Dg.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(l.pointerId)}}function Ig(s,l,p,x,T,N){return s===null||s.nativeEvent!==N?(s={blockedOn:l,domEventName:p,eventSystemFlags:x,nativeEvent:N,targetContainers:[T]},l!==null&&(l=ae(l),l!==null&&fw(l)),s):(s.eventSystemFlags|=x,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function CO(s,l,p,x,T){switch(l){case"focusin":return Sf=Ig(Sf,s,l,p,x,T),!0;case"dragenter":return Mf=Ig(Mf,s,l,p,x,T),!0;case"mouseover":return Af=Ig(Af,s,l,p,x,T),!0;case"pointerover":var N=T.pointerId;return Dg.set(N,Ig(Dg.get(N)||null,s,l,p,x,T)),!0;case"gotpointercapture":return N=T.pointerId,Lg.set(N,Ig(Lg.get(N)||null,s,l,p,x,T)),!0}return!1}function mw(s){var l=Pi(s.target);if(l!==null){var p=r(l);if(p!==null){if(l=p.tag,l===13){if(l=o(p),l!==null){s.blockedOn=l,Ga(s.priority,function(){dw(p)});return}}else if(l===31){if(l=c(p),l!==null){s.blockedOn=l,Ga(s.priority,function(){dw(p)});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ox(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=d3(s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);st=x,p.target.dispatchEvent(x),st=null}else return l=ae(p),l!==null&&fw(l),s.blockedOn=p,!1;l.shift()}return!0}function gw(s,l,p){Ox(s)&&p.delete(l)}function RO(){p3=!1,Sf!==null&&Ox(Sf)&&(Sf=null),Mf!==null&&Ox(Mf)&&(Mf=null),Af!==null&&Ox(Af)&&(Af=null),Dg.forEach(gw),Lg.forEach(gw)}function zx(s,l){s.blockedOn===l&&(s.blockedOn=null,p3||(p3=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,RO)))}var Nx=null;function yw(s){Nx!==s&&(Nx=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nx===s&&(Nx=null);for(var l=0;l<s.length;l+=3){var p=s[l],x=s[l+1],T=s[l+2];if(typeof x!="function"){if(h3(x||p)===null)continue;break}var N=ae(p);N!==null&&(s.splice(l,3),l-=3,yg(N,{pending:!0,data:T,method:p.method,action:x},x,T))}}))}function kp(s){function l(Se){return zx(Se,s)}Sf!==null&&zx(Sf,s),Mf!==null&&zx(Mf,s),Af!==null&&zx(Af,s),Dg.forEach(l),Lg.forEach(l);for(var p=0;p<wf.length;p++){var x=wf[p];x.blockedOn===s&&(x.blockedOn=null)}for(;0<wf.length&&(p=wf[0],p.blockedOn===null);)mw(p),p.blockedOn===null&&wf.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var T=p[x],N=p[x+1],Y=T[Vi]||null;if(typeof N=="function")Y||yw(p);else if(Y){var oe=null;if(N&&N.hasAttribute("formAction")){if(T=N,Y=N[Vi]||null)oe=Y.formAction;else if(h3(T)!==null)continue}else oe=Y.action;typeof oe=="function"?p[x+1]=oe:(p.splice(x,3),x-=3),yw(p)}}}function xw(){function s(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(Y){return T=Y})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function m3(s){this._internalRoot=s}Dx.prototype.render=m3.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,x=Or();cw(p,x,s,l,null,null)},Dx.prototype.unmount=m3.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;cw(s.current,2,null,s,null,null),ue(),l[fr]=null}};function Dx(s){this._internalRoot=s}Dx.prototype.unstable_scheduleHydration=function(s){if(s){var l=ja();s={blockedOn:null,target:s,priority:l};for(var p=0;p<wf.length&&l!==0&&l<wf[p].priority;p++);wf.splice(p,0,s),p===0&&mw(s)}};var vw=e.version;if(vw!=="19.2.0")throw Error(i(527,vw,"19.2.0"));K.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var OO={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lx.isDisabled&&Lx.supportsFiber)try{je=Lx.inject(OO),Ze=Lx}catch{}}return Ug.createRoot=function(s,l){if(!a(s))throw Error(i(299));var p=!1,x="",T=_g,N=dx,Y=Sp;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError)),l=ow(s,1,!1,null,null,p,x,null,T,N,Y,xw),s[fr]=l.current,K2(s),new m3(l)},Ug.hydrateRoot=function(s,l,p){if(!a(s))throw Error(i(299));var x=!1,T="",N=_g,Y=dx,oe=Sp,Se=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(Y=p.onCaughtError),p.onRecoverableError!==void 0&&(oe=p.onRecoverableError),p.formState!==void 0&&(Se=p.formState)),l=ow(s,1,!0,l,p!=null?p:null,x,T,Se,N,Y,oe,xw),l.context=lw(null),p=l.current,x=Or(),x=ia(x),T=Io(x),T.callback=null,ml(p,T,x),p=x,l.current.lanes=p,di(l,p),bc(l),s[fr]=l.current,K2(s),new Dx(l)},Ug.version="19.2.0",Ug}var Rw;function HO(){if(Rw)return x3.exports;Rw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),x3.exports=VO(),x3.exports}var jO=HO();const GO=Q1(jO),T1={black:"#000",white:"#fff"},Fp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Vp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Hp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},jp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Bg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},WO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Lu(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const Nc="$$material";function z0(){return z0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},z0.apply(null,arguments)}function YO(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function XO(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var qO=(function(){function n(t){var i=this;this._insertTag=function(a){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,r),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XO(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var r=YO(a);try{r.insertRule(i,r.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},n})(),Qr="-ms-",hb="-moz-",Ri="-webkit-",L4="comm",j5="rule",G5="decl",$O="@import",I4="@keyframes",KO="@layer",ZO=Math.abs,v_=String.fromCharCode,JO=Object.assign;function QO(n,e){return Nr(n,0)^45?(((e<<2^Nr(n,0))<<2^Nr(n,1))<<2^Nr(n,2))<<2^Nr(n,3):0}function P4(n){return n.trim()}function ez(n,e){return(n=e.exec(n))?n[0]:n}function Oi(n,e,t){return n.replace(e,t)}function KS(n,e){return n.indexOf(e)}function Nr(n,e){return n.charCodeAt(e)|0}function C1(n,e,t){return n.slice(e,t)}function Ec(n){return n.length}function W5(n){return n.length}function Ix(n,e){return e.push(n),n}function tz(n,e){return n.map(e).join("")}var b_=1,N0=1,U4=0,no=0,Ja=0,am="";function __(n,e,t,i,a,r,o){return{value:n,root:e,parent:t,type:i,props:a,children:r,line:b_,column:N0,length:o,return:""}}function kg(n,e){return JO(__("",null,null,"",null,null,0),n,{length:-n.length},e)}function nz(){return Ja}function iz(){return Ja=no>0?Nr(am,--no):0,N0--,Ja===10&&(N0=1,b_--),Ja}function _o(){return Ja=no<U4?Nr(am,no++):0,N0++,Ja===10&&(N0=1,b_++),Ja}function Dc(){return Nr(am,no)}function Zv(){return no}function ey(n,e){return C1(am,n,e)}function R1(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B4(n){return b_=N0=1,U4=Ec(am=n),no=0,[]}function k4(n){return am="",n}function Jv(n){return P4(ey(no-1,ZS(n===91?n+2:n===40?n+1:n)))}function az(n){for(;(Ja=Dc())&&Ja<33;)_o();return R1(n)>2||R1(Ja)>3?"":" "}function rz(n,e){for(;--e&&_o()&&!(Ja<48||Ja>102||Ja>57&&Ja<65||Ja>70&&Ja<97););return ey(n,Zv()+(e<6&&Dc()==32&&_o()==32))}function ZS(n){for(;_o();)switch(Ja){case n:return no;case 34:case 39:n!==34&&n!==39&&ZS(Ja);break;case 40:n===41&&ZS(n);break;case 92:_o();break}return no}function sz(n,e){for(;_o()&&n+Ja!==57;)if(n+Ja===84&&Dc()===47)break;return"/*"+ey(e,no-1)+"*"+v_(n===47?n:_o())}function oz(n){for(;!R1(Dc());)_o();return ey(n,no)}function lz(n){return k4(Qv("",null,null,null,[""],n=B4(n),0,[0],n))}function Qv(n,e,t,i,a,r,o,c,f){for(var h=0,m=0,g=o,v=0,y=0,b=0,M=1,A=1,S=1,E=0,w="",R=a,z=r,O=i,P=w;A;)switch(b=E,E=_o()){case 40:if(b!=108&&Nr(P,g-1)==58){KS(P+=Oi(Jv(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:P+=Jv(E);break;case 9:case 10:case 13:case 32:P+=az(b);break;case 92:P+=rz(Zv()-1,7);continue;case 47:switch(Dc()){case 42:case 47:Ix(cz(sz(_o(),Zv()),e,t),f);break;default:P+="/"}break;case 123*M:c[h++]=Ec(P)*S;case 125*M:case 59:case 0:switch(E){case 0:case 125:A=0;case 59+m:S==-1&&(P=Oi(P,/\f/g,"")),y>0&&Ec(P)-g&&Ix(y>32?zw(P+";",i,t,g-1):zw(Oi(P," ","")+";",i,t,g-2),f);break;case 59:P+=";";default:if(Ix(O=Ow(P,e,t,h,m,a,c,w,R=[],z=[],g),r),E===123)if(m===0)Qv(P,e,O,O,R,r,g,c,z);else switch(v===99&&Nr(P,3)===110?100:v){case 100:case 108:case 109:case 115:Qv(n,O,O,i&&Ix(Ow(n,O,O,0,0,a,c,w,a,R=[],g),z),a,z,g,c,i?R:z);break;default:Qv(P,O,O,O,[""],z,0,c,z)}}h=m=y=0,M=S=1,w=P="",g=o;break;case 58:g=1+Ec(P),y=b;default:if(M<1){if(E==123)--M;else if(E==125&&M++==0&&iz()==125)continue}switch(P+=v_(E),E*M){case 38:S=m>0?1:(P+="\f",-1);break;case 44:c[h++]=(Ec(P)-1)*S,S=1;break;case 64:Dc()===45&&(P+=Jv(_o())),v=Dc(),m=g=Ec(w=P+=oz(Zv())),E++;break;case 45:b===45&&Ec(P)==2&&(M=0)}}return r}function Ow(n,e,t,i,a,r,o,c,f,h,m){for(var g=a-1,v=a===0?r:[""],y=W5(v),b=0,M=0,A=0;b<i;++b)for(var S=0,E=C1(n,g+1,g=ZO(M=o[b])),w=n;S<y;++S)(w=P4(M>0?v[S]+" "+E:Oi(E,/&\f/g,v[S])))&&(f[A++]=w);return __(n,e,t,a===0?j5:c,f,h,m)}function cz(n,e,t){return __(n,e,t,L4,v_(nz()),C1(n,2,-2),0)}function zw(n,e,t,i){return __(n,e,t,G5,C1(n,0,i),C1(n,i+1,-1),i)}function E0(n,e){for(var t="",i=W5(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function uz(n,e,t,i){switch(n.type){case KO:if(n.children.length)break;case $O:case G5:return n.return=n.return||n.value;case L4:return"";case I4:return n.return=n.value+"{"+E0(n.children,i)+"}";case j5:n.value=n.props.join(",")}return Ec(t=E0(n.children,i))?n.return=n.value+"{"+t+"}":""}function fz(n){var e=W5(n);return function(t,i,a,r){for(var o="",c=0;c<e;c++)o+=n[c](t,i,a,r)||"";return o}}function dz(n){return function(e){e.root||(e=e.return)&&n(e)}}function F4(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var hz=function(e,t,i){for(var a=0,r=0;a=r,r=Dc(),a===38&&r===12&&(t[i]=1),!R1(r);)_o();return ey(e,no)},pz=function(e,t){var i=-1,a=44;do switch(R1(a)){case 0:a===38&&Dc()===12&&(t[i]=1),e[i]+=hz(no-1,t,i);break;case 2:e[i]+=Jv(a);break;case 4:if(a===44){e[++i]=Dc()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=v_(a)}while(a=_o());return e},mz=function(e,t){return k4(pz(B4(e),t))},Nw=new WeakMap,gz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Nw.get(i))&&!a){Nw.set(e,!0);for(var r=[],o=mz(t,r),c=i.props,f=0,h=0;f<o.length;f++)for(var m=0;m<c.length;m++,h++)e.props[h]=r[f]?o[f].replace(/&\f/g,c[m]):c[m]+" "+o[f]}}},yz=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function V4(n,e){switch(QO(n,e)){case 5103:return Ri+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ri+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ri+n+hb+n+Qr+n+n;case 6828:case 4268:return Ri+n+Qr+n+n;case 6165:return Ri+n+Qr+"flex-"+n+n;case 5187:return Ri+n+Oi(n,/(\w+).+(:[^]+)/,Ri+"box-$1$2"+Qr+"flex-$1$2")+n;case 5443:return Ri+n+Qr+"flex-item-"+Oi(n,/flex-|-self/,"")+n;case 4675:return Ri+n+Qr+"flex-line-pack"+Oi(n,/align-content|flex-|-self/,"")+n;case 5548:return Ri+n+Qr+Oi(n,"shrink","negative")+n;case 5292:return Ri+n+Qr+Oi(n,"basis","preferred-size")+n;case 6060:return Ri+"box-"+Oi(n,"-grow","")+Ri+n+Qr+Oi(n,"grow","positive")+n;case 4554:return Ri+Oi(n,/([^-])(transform)/g,"$1"+Ri+"$2")+n;case 6187:return Oi(Oi(Oi(n,/(zoom-|grab)/,Ri+"$1"),/(image-set)/,Ri+"$1"),n,"")+n;case 5495:case 3959:return Oi(n,/(image-set\([^]*)/,Ri+"$1$`$1");case 4968:return Oi(Oi(n,/(.+:)(flex-)?(.*)/,Ri+"box-pack:$3"+Qr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ri+n+n;case 4095:case 3583:case 4068:case 2532:return Oi(n,/(.+)-inline(.+)/,Ri+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ec(n)-1-e>6)switch(Nr(n,e+1)){case 109:if(Nr(n,e+4)!==45)break;case 102:return Oi(n,/(.+:)(.+)-([^]+)/,"$1"+Ri+"$2-$3$1"+hb+(Nr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~KS(n,"stretch")?V4(Oi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Nr(n,e+1)!==115)break;case 6444:switch(Nr(n,Ec(n)-3-(~KS(n,"!important")&&10))){case 107:return Oi(n,":",":"+Ri)+n;case 101:return Oi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ri+(Nr(n,14)===45?"inline-":"")+"box$3$1"+Ri+"$2$3$1"+Qr+"$2box$3")+n}break;case 5936:switch(Nr(n,e+11)){case 114:return Ri+n+Qr+Oi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ri+n+Qr+Oi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ri+n+Qr+Oi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ri+n+Qr+n+n}return n}var xz=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case G5:e.return=V4(e.value,e.length);break;case I4:return E0([kg(e,{value:Oi(e.value,"@","@"+Ri)})],a);case j5:if(e.length)return tz(e.props,function(r){switch(ez(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return E0([kg(e,{props:[Oi(r,/:(read-\w+)/,":"+hb+"$1")]})],a);case"::placeholder":return E0([kg(e,{props:[Oi(r,/:(plac\w+)/,":"+Ri+"input-$1")]}),kg(e,{props:[Oi(r,/:(plac\w+)/,":"+hb+"$1")]}),kg(e,{props:[Oi(r,/:(plac\w+)/,Qr+"input-$1")]})],a)}return""})}},vz=[xz],bz=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(M){var A=M.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(M),M.setAttribute("data-s",""))})}var a=e.stylisPlugins||vz,r={},o,c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(M){for(var A=M.getAttribute("data-emotion").split(" "),S=1;S<A.length;S++)r[A[S]]=!0;c.push(M)});var f,h=[gz,yz];{var m,g=[uz,dz(function(M){m.insert(M)})],v=fz(h.concat(a,g)),y=function(A){return E0(lz(A),v)};f=function(A,S,E,w){m=E,y(A?A+"{"+S.styles+"}":S.styles),w&&(b.inserted[S.name]=!0)}}var b={key:t,sheet:new qO({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:f};return b.sheet.hydrate(c),b},S3={exports:{}},Li={};var Dw;function _z(){if(Dw)return Li;Dw=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,M=n?Symbol.for("react.block"):60121,A=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function w(z){if(typeof z=="object"&&z!==null){var O=z.$$typeof;switch(O){case e:switch(z=z.type,z){case f:case h:case i:case r:case a:case g:return z;default:switch(z=z&&z.$$typeof,z){case c:case m:case b:case y:case o:return z;default:return O}}case t:return O}}}function R(z){return w(z)===h}return Li.AsyncMode=f,Li.ConcurrentMode=h,Li.ContextConsumer=c,Li.ContextProvider=o,Li.Element=e,Li.ForwardRef=m,Li.Fragment=i,Li.Lazy=b,Li.Memo=y,Li.Portal=t,Li.Profiler=r,Li.StrictMode=a,Li.Suspense=g,Li.isAsyncMode=function(z){return R(z)||w(z)===f},Li.isConcurrentMode=R,Li.isContextConsumer=function(z){return w(z)===c},Li.isContextProvider=function(z){return w(z)===o},Li.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===e},Li.isForwardRef=function(z){return w(z)===m},Li.isFragment=function(z){return w(z)===i},Li.isLazy=function(z){return w(z)===b},Li.isMemo=function(z){return w(z)===y},Li.isPortal=function(z){return w(z)===t},Li.isProfiler=function(z){return w(z)===r},Li.isStrictMode=function(z){return w(z)===a},Li.isSuspense=function(z){return w(z)===g},Li.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===h||z===r||z===a||z===g||z===v||typeof z=="object"&&z!==null&&(z.$$typeof===b||z.$$typeof===y||z.$$typeof===o||z.$$typeof===c||z.$$typeof===m||z.$$typeof===A||z.$$typeof===S||z.$$typeof===E||z.$$typeof===M)},Li.typeOf=w,Li}var Lw;function Sz(){return Lw||(Lw=1,S3.exports=_z()),S3.exports}var M3,Iw;function Mz(){if(Iw)return M3;Iw=1;var n=Sz(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=i,r[n.Memo]=a;function o(b){return n.isMemo(b)?a:r[b.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function y(b,M,A){if(typeof M!="string"){if(v){var S=g(M);S&&S!==v&&y(b,S,A)}var E=f(M);h&&(E=E.concat(h(M)));for(var w=o(b),R=o(M),z=0;z<E.length;++z){var O=E[z];if(!t[O]&&!(A&&A[O])&&!(R&&R[O])&&!(w&&w[O])){var P=m(M,O);try{c(b,O,P)}catch{}}}}return b}return M3=y,M3}Mz();var Az=!0;function H4(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(i+=a+" ")}),i}var Y5=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||Az===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},X5=function(e,t,i){Y5(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+a:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function wz(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ez={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tz=/[A-Z]|^ms/g,Cz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j4=function(e){return e.charCodeAt(1)===45},Pw=function(e){return e!=null&&typeof e!="boolean"},A3=F4(function(n){return j4(n)?n:n.replace(Tz,"-$&").toLowerCase()}),Uw=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Cz,function(i,a,r){return Tc={name:a,styles:r,next:Tc},a})}return Ez[e]!==1&&!j4(e)&&typeof t=="number"&&t!==0?t+"px":t};function O1(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return Tc={name:a.name,styles:a.styles,next:Tc},a.name;var r=t;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)Tc={name:o.name,styles:o.styles,next:Tc},o=o.next;var c=r.styles+";";return c}return Rz(n,e,t)}case"function":{if(n!==void 0){var f=Tc,h=t(n);return Tc=f,O1(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function Rz(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=O1(n,e,t[a])+";";else for(var r in t){var o=t[r];if(typeof o!="object"){var c=o;e!=null&&e[c]!==void 0?i+=r+"{"+e[c]+"}":Pw(c)&&(i+=A3(r)+":"+Uw(r,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var f=0;f<o.length;f++)Pw(o[f])&&(i+=A3(r)+":"+Uw(r,o[f])+";");else{var h=O1(n,e,o);switch(r){case"animation":case"animationName":{i+=A3(r)+":"+h+";";break}default:i+=r+"{"+h+"}"}}}return i}var Bw=/label:\s*([^\s;{]+)\s*(;|$)/g,Tc;function ty(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,a="";Tc=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,a+=O1(t,e,r);else{var o=r;a+=o[0]}for(var c=1;c<n.length;c++)if(a+=O1(t,e,n[c]),i){var f=r;a+=f[c]}Bw.lastIndex=0;for(var h="",m;(m=Bw.exec(a))!==null;)h+="-"+m[1];var g=wz(a)+h;return{name:g,styles:a,next:Tc}}var Oz=function(e){return e()},G4=$S.useInsertionEffect?$S.useInsertionEffect:!1,W4=G4||Oz,kw=G4||F.useLayoutEffect,Y4=F.createContext(typeof HTMLElement<"u"?bz({key:"css"}):null);Y4.Provider;var q5=function(e){return F.forwardRef(function(t,i){var a=F.useContext(Y4);return e(t,a,i)})},ny=F.createContext({}),$5={}.hasOwnProperty,JS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zz=function(e,t){var i={};for(var a in t)$5.call(t,a)&&(i[a]=t[a]);return i[JS]=e,i},Nz=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Y5(t,i,a),W4(function(){return X5(t,i,a)}),null},Dz=q5(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var a=n[JS],r=[i],o="";typeof n.className=="string"?o=H4(e.registered,r,n.className):n.className!=null&&(o=n.className+" ");var c=ty(r,void 0,F.useContext(ny));o+=e.key+"-"+c.name;var f={};for(var h in n)$5.call(n,h)&&h!=="css"&&h!==JS&&(f[h]=n[h]);return f.className=o,t&&(f.ref=t),F.createElement(F.Fragment,null,F.createElement(Nz,{cache:e,serialized:c,isStringTag:typeof a=="string"}),F.createElement(a,f))}),Lz=Dz,Fw=function(e,t){var i=arguments;if(t==null||!$5.call(t,"css"))return F.createElement.apply(void 0,i);var a=i.length,r=new Array(a);r[0]=Lz,r[1]=zz(e,t);for(var o=2;o<a;o++)r[o]=i[o];return F.createElement.apply(null,r)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Fw||(Fw={}));var Iz=q5(function(n,e){var t=n.styles,i=ty([t],void 0,F.useContext(ny)),a=F.useRef();return kw(function(){var r=e.key+"-global",o=new e.sheet.constructor({key:r,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,f=document.querySelector('style[data-emotion="'+r+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),f!==null&&(c=!0,f.setAttribute("data-emotion",r),o.hydrate([f])),a.current=[o,c],function(){o.flush()}},[e]),kw(function(){var r=a.current,o=r[0],c=r[1];if(c){r[1]=!1;return}if(i.next!==void 0&&X5(e,i.next,!0),o.tags.length){var f=o.tags[o.tags.length-1].nextElementSibling;o.before=f,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function K5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return ty(e)}function iy(){var n=K5.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Pz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Uz=F4(function(n){return Pz.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Bz=Uz,kz=function(e){return e!=="theme"},Vw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Bz:kz},Hw=function(e,t,i){var a;if(t){var r=t.shouldForwardProp;a=e.__emotion_forwardProp&&r?function(o){return e.__emotion_forwardProp(o)&&r(o)}:r}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},Fz=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Y5(t,i,a),W4(function(){return X5(t,i,a)}),null},Vz=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,r,o;t!==void 0&&(r=t.label,o=t.target);var c=Hw(e,t,i),f=c||Vw(a),h=!f("as");return function(){var m=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&g.push("label:"+r+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var v=m[0];g.push(v[0]);for(var y=m.length,b=1;b<y;b++)g.push(m[b],v[b])}var M=q5(function(A,S,E){var w=h&&A.as||a,R="",z=[],O=A;if(A.theme==null){O={};for(var P in A)O[P]=A[P];O.theme=F.useContext(ny)}typeof A.className=="string"?R=H4(S.registered,z,A.className):A.className!=null&&(R=A.className+" ");var B=ty(g.concat(z),S.registered,O);R+=S.key+"-"+B.name,o!==void 0&&(R+=" "+o);var L=h&&c===void 0?Vw(w):f,D={};for(var V in A)h&&V==="as"||L(V)&&(D[V]=A[V]);return D.className=R,E&&(D.ref=E),F.createElement(F.Fragment,null,F.createElement(Fz,{cache:S,serialized:B,isStringTag:typeof w=="string"}),F.createElement(w,D))});return M.displayName=r!==void 0?r:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",M.defaultProps=e.defaultProps,M.__emotion_real=M,M.__emotion_base=a,M.__emotion_styles=g,M.__emotion_forwardProp=c,Object.defineProperty(M,"toString",{value:function(){return"."+o}}),M.withComponent=function(A,S){var E=n(A,z0({},t,S,{shouldForwardProp:Hw(M,S,!0)}));return E.apply(void 0,g)},M}},Hz=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],QS=Vz.bind(null);Hz.forEach(function(n){QS[n]=QS(n)});function jz(n){return n==null||Object.keys(n).length===0}function X4(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?a=>e(jz(a)?t:a):e;return I.jsx(Iz,{styles:i})}function q4(n,e){return QS(n,e)}function Gz(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const jw=[];function jf(n){return jw[0]=n,ty(jw)}var w3={exports:{}},Yi={};var Gw;function Wz(){if(Gw)return Yi;Gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function b(M){if(typeof M=="object"&&M!==null){var A=M.$$typeof;switch(A){case n:switch(M=M.type,M){case t:case a:case i:case f:case h:case v:return M;default:switch(M=M&&M.$$typeof,M){case o:case c:case g:case m:return M;case r:return M;default:return A}}case e:return A}}}return Yi.ContextConsumer=r,Yi.ContextProvider=o,Yi.Element=n,Yi.ForwardRef=c,Yi.Fragment=t,Yi.Lazy=g,Yi.Memo=m,Yi.Portal=e,Yi.Profiler=a,Yi.StrictMode=i,Yi.Suspense=f,Yi.SuspenseList=h,Yi.isContextConsumer=function(M){return b(M)===r},Yi.isContextProvider=function(M){return b(M)===o},Yi.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===n},Yi.isForwardRef=function(M){return b(M)===c},Yi.isFragment=function(M){return b(M)===t},Yi.isLazy=function(M){return b(M)===g},Yi.isMemo=function(M){return b(M)===m},Yi.isPortal=function(M){return b(M)===e},Yi.isProfiler=function(M){return b(M)===a},Yi.isStrictMode=function(M){return b(M)===i},Yi.isSuspense=function(M){return b(M)===f},Yi.isSuspenseList=function(M){return b(M)===h},Yi.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===t||M===a||M===i||M===f||M===h||typeof M=="object"&&M!==null&&(M.$$typeof===g||M.$$typeof===m||M.$$typeof===o||M.$$typeof===r||M.$$typeof===c||M.$$typeof===y||M.getModuleId!==void 0)},Yi.typeOf=b,Yi}var Ww;function Yz(){return Ww||(Ww=1,w3.exports=Wz()),w3.exports}var $4=Yz();function Cc(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function K4(n){if(F.isValidElement(n)||$4.isValidElementType(n)||!Cc(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=K4(n[t])}),e}function as(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Cc(n)&&Cc(e)&&Object.keys(e).forEach(a=>{F.isValidElement(e[a])||$4.isValidElementType(e[a])?i[a]=e[a]:Cc(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&Cc(n[a])?i[a]=as(n[a],e[a],t):t.clone?i[a]=Cc(e[a])?K4(e[a]):e[a]:i[a]=e[a]}),i}const Xz=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function qz(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...a}=n,r=Xz(e),o=Object.keys(r);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-i/100}${t})`}function h(v,y){const b=o.indexOf(y);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[o[b]]=="number"?e[o[b]]:y)-i/100}${t})`}function m(v){return o.indexOf(v)+1<o.length?h(v,o[o.indexOf(v)+1]):c(v)}function g(v){const y=o.indexOf(v);return y===0?c(o[1]):y===o.length-1?f(o[y]):h(v,o[o.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:o,values:r,up:c,down:f,between:h,only:m,not:g,unit:t,...a}}function Yw(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,a)=>{var o,c;const r=/min-width:\s*([0-9.]+)/;return+(((o=i.match(r))==null?void 0:o[1])||0)-+(((c=a.match(r))==null?void 0:c[1])||0)});return t.length?t.reduce((i,a)=>{const r=e[a];return delete i[a],i[a]=r,i},{...e}):e}function $z(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Kz(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,a]=t,r=Number.isNaN(+i)?i||0:+i;return n.containerQueries(a).up(r)}function Zz(n){const e=(r,o)=>r.replace("@media",o?`@container ${o}`:"@container");function t(r,o){r.up=(...c)=>e(n.breakpoints.up(...c),o),r.down=(...c)=>e(n.breakpoints.down(...c),o),r.between=(...c)=>e(n.breakpoints.between(...c),o),r.only=(...c)=>e(n.breakpoints.only(...c),o),r.not=(...c)=>{const f=e(n.breakpoints.not(...c),o);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const i={},a=r=>(t(i,r),i);return t(a),{...n,containerQueries:a}}const Jz={borderRadius:4};function d1(n,e){return e?as(n,e,{clone:!1}):n}const S_={xs:0,sm:600,md:900,lg:1200,xl:1536},Xw={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${S_[n]}px)`},Qz={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:S_[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Iu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const r=i.breakpoints||Xw;return e.reduce((o,c,f)=>(o[r.up(r.keys[f])]=t(e[f]),o),{})}if(typeof e=="object"){const r=i.breakpoints||Xw;return Object.keys(e).reduce((o,c)=>{if($z(r.keys,c)){const f=Kz(i.containerQueries?i:Qz,c);f&&(o[f]=t(e[c],c))}else if(Object.keys(r.values||S_).includes(c)){const f=r.up(c);o[f]=t(e[c],c)}else{const f=c;o[f]=e[f]}return o},{})}return t(e)}function eN(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,a)=>{const r=n.up(a);return i[r]={},i},{}))||{}}function qw(n,e){return n.reduce((t,i)=>{const a=t[i];return(!a||Object.keys(a).length===0)&&delete t[i],t},e)}function Mt(n){if(typeof n!="string")throw new Error(Lu(7));return n.charAt(0).toUpperCase()+n.slice(1)}function M_(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((a,r)=>a&&a[r]?a[r]:null,n);if(i!=null)return i}return e.split(".").reduce((i,a)=>i&&i[a]!=null?i[a]:null,n)}function pb(n,e,t,i=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||i:a=M_(n,t)||i,e&&(a=e(a,i,n)),a}function Ha(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:a}=n,r=o=>{if(o[e]==null)return null;const c=o[e],f=o.theme,h=M_(f,i)||{};return Iu(o,c,g=>{let v=pb(h,a,g);return g===v&&typeof g=="string"&&(v=pb(h,a,`${e}${g==="default"?"":Mt(g)}`,g)),t===!1?v:{[t]:v}})};return r.propTypes={},r.filterProps=[e],r}function tN(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const nN={m:"margin",p:"padding"},iN={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$w={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aN=tN(n=>{if(n.length>2)if($w[n])n=$w[n];else return[n];const[e,t]=n.split(""),i=nN[e],a=iN[t]||"";return Array.isArray(a)?a.map(r=>i+r):[i+a]}),Z5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],J5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Z5,...J5];function ay(n,e,t,i){var r;const a=(r=M_(n,e,!0))!=null?r:t;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),f=a[c];return o>=0?f:typeof f=="number"?-f:typeof f=="string"&&f.startsWith("var(")?`calc(-1 * ${f})`:`-${f}`}:typeof a=="function"?a:()=>{}}function Q5(n){return ay(n,"spacing",8)}function ry(n,e){return typeof e=="string"||e==null?e:n(e)}function rN(n,e){return t=>n.reduce((i,a)=>(i[a]=ry(e,t),i),{})}function sN(n,e,t,i){if(!e.includes(t))return null;const a=aN(t),r=rN(a,i),o=n[t];return Iu(n,o,r)}function Z4(n,e){const t=Q5(n.theme);return Object.keys(n).map(i=>sN(n,e,i,t)).reduce(d1,{})}function za(n){return Z4(n,Z5)}za.propTypes={};za.filterProps=Z5;function Na(n){return Z4(n,J5)}Na.propTypes={};Na.filterProps=J5;function J4(n=8,e=Q5({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(r=>{const o=e(r);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function A_(...n){const e=n.reduce((i,a)=>(a.filterProps.forEach(r=>{i[r]=a}),i),{}),t=i=>Object.keys(i).reduce((a,r)=>e[r]?d1(a,e[r](i)):a,{});return t.propTypes={},t.filterProps=n.reduce((i,a)=>i.concat(a.filterProps),[]),t}function qo(n){return typeof n!="number"?n:`${n}px solid`}function nl(n,e){return Ha({prop:n,themeKey:"borders",transform:e})}const oN=nl("border",qo),lN=nl("borderTop",qo),cN=nl("borderRight",qo),uN=nl("borderBottom",qo),fN=nl("borderLeft",qo),dN=nl("borderColor"),hN=nl("borderTopColor"),pN=nl("borderRightColor"),mN=nl("borderBottomColor"),gN=nl("borderLeftColor"),yN=nl("outline",qo),xN=nl("outlineColor"),w_=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=ay(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:ry(e,i)});return Iu(n,n.borderRadius,t)}return null};w_.propTypes={};w_.filterProps=["borderRadius"];A_(oN,lN,cN,uN,fN,dN,hN,pN,mN,gN,w_,yN,xN);const E_=n=>{if(n.gap!==void 0&&n.gap!==null){const e=ay(n.theme,"spacing",8),t=i=>({gap:ry(e,i)});return Iu(n,n.gap,t)}return null};E_.propTypes={};E_.filterProps=["gap"];const T_=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=ay(n.theme,"spacing",8),t=i=>({columnGap:ry(e,i)});return Iu(n,n.columnGap,t)}return null};T_.propTypes={};T_.filterProps=["columnGap"];const C_=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=ay(n.theme,"spacing",8),t=i=>({rowGap:ry(e,i)});return Iu(n,n.rowGap,t)}return null};C_.propTypes={};C_.filterProps=["rowGap"];const vN=Ha({prop:"gridColumn"}),bN=Ha({prop:"gridRow"}),_N=Ha({prop:"gridAutoFlow"}),SN=Ha({prop:"gridAutoColumns"}),MN=Ha({prop:"gridAutoRows"}),AN=Ha({prop:"gridTemplateColumns"}),wN=Ha({prop:"gridTemplateRows"}),EN=Ha({prop:"gridTemplateAreas"}),TN=Ha({prop:"gridArea"});A_(E_,T_,C_,vN,bN,_N,SN,MN,AN,wN,EN,TN);function T0(n,e){return e==="grey"?e:n}const CN=Ha({prop:"color",themeKey:"palette",transform:T0}),RN=Ha({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:T0}),ON=Ha({prop:"backgroundColor",themeKey:"palette",transform:T0});A_(CN,RN,ON);function xo(n){return n<=1&&n!==0?`${n*100}%`:n}const zN=Ha({prop:"width",transform:xo}),eM=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var a,r,o,c,f;const i=((o=(r=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:r.values)==null?void 0:o[t])||S_[t];return i?((f=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:xo(t)}};return Iu(n,n.maxWidth,e)}return null};eM.filterProps=["maxWidth"];const NN=Ha({prop:"minWidth",transform:xo}),DN=Ha({prop:"height",transform:xo}),LN=Ha({prop:"maxHeight",transform:xo}),IN=Ha({prop:"minHeight",transform:xo});Ha({prop:"size",cssProperty:"width",transform:xo});Ha({prop:"size",cssProperty:"height",transform:xo});const PN=Ha({prop:"boxSizing"});A_(zN,eM,NN,DN,LN,IN,PN);const sy={border:{themeKey:"borders",transform:qo},borderTop:{themeKey:"borders",transform:qo},borderRight:{themeKey:"borders",transform:qo},borderBottom:{themeKey:"borders",transform:qo},borderLeft:{themeKey:"borders",transform:qo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w_},color:{themeKey:"palette",transform:T0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:T0},backgroundColor:{themeKey:"palette",transform:T0},p:{style:Na},pt:{style:Na},pr:{style:Na},pb:{style:Na},pl:{style:Na},px:{style:Na},py:{style:Na},padding:{style:Na},paddingTop:{style:Na},paddingRight:{style:Na},paddingBottom:{style:Na},paddingLeft:{style:Na},paddingX:{style:Na},paddingY:{style:Na},paddingInline:{style:Na},paddingInlineStart:{style:Na},paddingInlineEnd:{style:Na},paddingBlock:{style:Na},paddingBlockStart:{style:Na},paddingBlockEnd:{style:Na},m:{style:za},mt:{style:za},mr:{style:za},mb:{style:za},ml:{style:za},mx:{style:za},my:{style:za},margin:{style:za},marginTop:{style:za},marginRight:{style:za},marginBottom:{style:za},marginLeft:{style:za},marginX:{style:za},marginY:{style:za},marginInline:{style:za},marginInlineStart:{style:za},marginInlineEnd:{style:za},marginBlock:{style:za},marginBlockStart:{style:za},marginBlockEnd:{style:za},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E_},rowGap:{style:C_},columnGap:{style:T_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xo},maxWidth:{style:eM},minWidth:{transform:xo},height:{transform:xo},maxHeight:{transform:xo},minHeight:{transform:xo},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function UN(...n){const e=n.reduce((i,a)=>i.concat(Object.keys(a)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function BN(n,e){return typeof n=="function"?n(e):n}function kN(){function n(t,i,a,r){const o={[t]:i,theme:a},c=r[t];if(!c)return{[t]:i};const{cssProperty:f=t,themeKey:h,transform:m,style:g}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const v=M_(a,h)||{};return g?g(o):Iu(o,i,b=>{let M=pb(v,m,b);return b===M&&typeof b=="string"&&(M=pb(v,m,`${t}${b==="default"?"":Mt(b)}`,b)),f===!1?M:{[f]:M}})}function e(t){var f;const{sx:i,theme:a={},nested:r}=t||{};if(!i)return null;const o=(f=a.unstable_sxConfig)!=null?f:sy;function c(h){let m=h;if(typeof h=="function")m=h(a);else if(typeof h!="object")return h;if(!m)return null;const g=eN(a.breakpoints),v=Object.keys(g);let y=g;return Object.keys(m).forEach(b=>{const M=BN(m[b],a);if(M!=null)if(typeof M=="object")if(o[b])y=d1(y,n(b,M,a,o));else{const A=Iu({theme:a},M,S=>({[b]:S}));UN(A,M)?y[b]=e({sx:M,theme:a,nested:!0}):y=d1(y,A)}else y=d1(y,n(b,M,a,o))}),!r&&a.modularCssLayers?{"@layer sx":Yw(a,qw(v,y))}:Yw(a,qw(v,y))}return Array.isArray(i)?i.map(c):c(i)}return e}const Yf=kN();Yf.filterProps=["sx"];function FN(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let a=t.getColorSchemeSelector(n);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return t.palette.mode===n?e:{}}function tM(n={},...e){const{breakpoints:t={},palette:i={},spacing:a,shape:r={},...o}=n,c=qz(t),f=J4(a);let h=as({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:f,shape:{...Jz,...r}},o);return h=Zz(h),h.applyStyles=FN,h=e.reduce((m,g)=>as(m,g),h),h.unstable_sxConfig={...sy,...o==null?void 0:o.unstable_sxConfig},h.unstable_sx=function(g){return Yf({sx:g,theme:this})},h}function VN(n){return Object.keys(n).length===0}function nM(n=null){const e=F.useContext(ny);return!e||VN(e)?n:e}const HN=tM();function iM(n=HN){return nM(n)}function E3(n){const e=jf(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function Q4({styles:n,themeId:e,defaultTheme:t={}}){const i=iM(t),a=e&&i[e]||i;let r=typeof n=="function"?n(a):n;return a.modularCssLayers&&(Array.isArray(r)?r=r.map(o=>E3(typeof o=="function"?o(a):o)):r=E3(r)),I.jsx(X4,{styles:r})}const jN=n=>{var i,a;const e={systemProps:{},otherProps:{}},t=(a=(i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)!=null?a:sy;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function eR(n){const{sx:e,...t}=n,{systemProps:i,otherProps:a}=jN(t);let r;return Array.isArray(e)?r=[i,...e]:typeof e=="function"?r=(...o)=>{const c=e(...o);return Cc(c)?{...i,...c}:i}:r={...i,...e},{...a,sx:r}}const Kw=n=>n,GN=()=>{let n=Kw;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Kw}}},tR=GN();function nR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=nR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function en(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=nR(n))&&(i&&(i+=" "),i+=e);return i}function WN(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:a}=n,r=q4("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Yf);return F.forwardRef(function(f,h){const m=iM(t),{className:g,component:v="div",...y}=eR(f);return I.jsx(r,{as:v,ref:h,className:en(g,a?a(i):i),theme:e&&m[e]||m,...y})})}const YN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $n(n,e,t="Mui"){const i=YN[e];return i?`${t}-${i}`:`${tR.generate(n)}-${e}`}function Gn(n,e,t="Mui"){const i={};return e.forEach(a=>{i[a]=$n(n,a,t)}),i}function iR(n){const{variants:e,...t}=n,i={variants:e,style:jf(t),isProcessed:!0};return i.style===t||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=jf(a.style))}),i}const XN=tM();function T3(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function mh(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function qN(n){return n?(e,t)=>t[n]:null}function $N(n,e,t){n.theme=JN(n.theme)?t:n.theme[e]||n.theme}function eb(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(a=>eb(n,a,t));if(Array.isArray(i==null?void 0:i.variants)){let a;if(i.isProcessed)a=t?mh(i.style,t):i.style;else{const{variants:r,...o}=i;a=t?mh(jf(o),t):o}return aR(n,i.variants,[a],t)}return i!=null&&i.isProcessed?t?mh(jf(i.style),t):i.style:t?mh(jf(i),t):i}function aR(n,e,t=[],i=void 0){var r;let a;e:for(let o=0;o<e.length;o+=1){const c=e[o];if(typeof c.props=="function"){if(a!=null||(a={...n,...n.ownerState,ownerState:n.ownerState}),!c.props(a))continue}else for(const f in c.props)if(n[f]!==c.props[f]&&((r=n.ownerState)==null?void 0:r[f])!==c.props[f])continue e;typeof c.style=="function"?(a!=null||(a={...n,...n.ownerState,ownerState:n.ownerState}),t.push(i?mh(jf(c.style(a)),i):c.style(a))):t.push(i?mh(jf(c.style),i):c.style)}return t}function KN(n={}){const{themeId:e,defaultTheme:t=XN,rootShouldForwardProp:i=T3,slotShouldForwardProp:a=T3}=n;function r(c){$N(c,e,t)}return(c,f={})=>{Gz(c,O=>O.filter(P=>P!==Yf));const{name:h,slot:m,skipVariantsResolver:g,skipSx:v,overridesResolver:y=qN(eD(m)),...b}=f,M=h&&h.startsWith("Mui")||m?"components":"custom",A=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,S=v||!1;let E=T3;m==="Root"||m==="root"?E=i:m?E=a:QN(c)&&(E=void 0);const w=q4(c,{shouldForwardProp:E,label:ZN(),...b}),R=O=>{if(O.__emotion_real===O)return O;if(typeof O=="function")return function(B){return eb(B,O,B.theme.modularCssLayers?M:void 0)};if(Cc(O)){const P=iR(O);return function(L){return P.variants?eb(L,P,L.theme.modularCssLayers?M:void 0):L.theme.modularCssLayers?mh(P.style,M):P.style}}return O},z=(...O)=>{const P=[],B=O.map(R),L=[];if(P.push(r),h&&y&&L.push(function(G){var K,Q;const $=(Q=(K=G.theme.components)==null?void 0:K[h])==null?void 0:Q.styleOverrides;if(!$)return null;const H={};for(const W in $)H[W]=eb(G,$[W],G.theme.modularCssLayers?"theme":void 0);return y(G,H)}),h&&!A&&L.push(function(G){var H,K;const X=G.theme,$=(K=(H=X==null?void 0:X.components)==null?void 0:H[h])==null?void 0:K.variants;return $?aR(G,$,[],G.theme.modularCssLayers?"theme":void 0):null}),S||L.push(Yf),Array.isArray(B[0])){const U=B.shift(),G=new Array(P.length).fill(""),X=new Array(L.length).fill("");let $;$=[...G,...U,...X],$.raw=[...G,...U.raw,...X],P.unshift($)}const D=[...P,...B,...L],V=w(...D);return c.muiName&&(V.muiName=c.muiName),V};return w.withConfig&&(z.withConfig=w.withConfig),z}}function ZN(n,e){return void 0}function JN(n){for(const e in n)return!1;return!0}function QN(n){return typeof n=="string"&&n.charCodeAt(0)>96}function eD(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function mb(n,e,t=!1){const i={...e};for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const r=a;if(r==="components"||r==="slots")i[r]={...n[r],...i[r]};else if(r==="componentsProps"||r==="slotProps"){const o=n[r],c=e[r];if(!c)i[r]=o||{};else if(!o)i[r]=c;else{i[r]={...c};for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const h=f;i[r][h]=mb(o[h],c[h],t)}}}else r==="className"&&t&&e.className?i.className=en(n==null?void 0:n.className,e==null?void 0:e.className):r==="style"&&t&&e.style?i.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:i[r]===void 0&&(i[r]=n[r])}return i}const Jo=typeof window<"u"?F.useLayoutEffect:F.useEffect;function _0(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function aM(n,e=0,t=1){return _0(n,e,t)}function tD(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,a)=>a<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Xf(n){if(n.type)return n;if(n.charAt(0)==="#")return Xf(tD(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Lu(9,n));let i=n.substring(e+1,n.length-1),a;if(t==="color"){if(i=i.split(" "),a=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Lu(10,a))}else i=i.split(",");return i=i.map(r=>parseFloat(r)),{type:t,values:i,colorSpace:a}}const nD=n=>{const e=Xf(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},r1=(n,e)=>{try{return nD(n)}catch{return n}};function R_(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((a,r)=>r<3?parseInt(a,10):a):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function rR(n){n=Xf(n);const{values:e}=n,t=e[0],i=e[1]/100,a=e[2]/100,r=i*Math.min(a,1-a),o=(h,m=(h+t/30)%12)=>a-r*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const f=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(c+="a",f.push(e[3])),R_({type:c,values:f})}function e5(n){n=Xf(n);let e=n.type==="hsl"||n.type==="hsla"?Xf(rR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function iD(n,e){const t=e5(n),i=e5(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function gb(n,e){return n=Xf(n),e=aM(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,R_(n)}function Gd(n,e,t){try{return gb(n,e)}catch{return n}}function O_(n,e){if(n=Xf(n),e=aM(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return R_(n)}function Bi(n,e,t){try{return O_(n,e)}catch{return n}}function z_(n,e){if(n=Xf(n),e=aM(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return R_(n)}function ki(n,e,t){try{return z_(n,e)}catch{return n}}function t5(n,e=.15){return e5(n)>.5?O_(n,e):z_(n,e)}function Px(n,e,t){try{return t5(n,e)}catch{return n}}const sR=F.createContext(null);function rM(){return F.useContext(sR)}const aD=typeof Symbol=="function"&&Symbol.for,rD=aD?Symbol.for("mui.nested"):"__THEME_NESTED__";function sD(n,e){return typeof e=="function"?e(n):{...n,...e}}function oD(n){const{children:e,theme:t}=n,i=rM(),a=F.useMemo(()=>{const r=i===null?{...t}:sD(i,t);return r!=null&&(r[rD]=i!==null),r},[t,i]);return I.jsx(sR.Provider,{value:a,children:e})}const oR=F.createContext();function lD({value:n,...e}){return I.jsx(oR.Provider,{value:n!=null?n:!0,...e})}const N_=()=>{const n=F.useContext(oR);return n!=null?n:!1},lR=F.createContext(void 0);function cD({value:n,children:e}){return I.jsx(lR.Provider,{value:n,children:e})}function uD(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const a=e.components[t];return a.defaultProps?mb(a.defaultProps,i,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?mb(a,i,e.components.mergeClassNameAndStyle):i}function fD({props:n,name:e}){const t=F.useContext(lR);return uD({props:n,name:e,theme:{components:t}})}let Zw=0;function dD(n){const[e,t]=F.useState(n),i=n||e;return F.useEffect(()=>{e==null&&(Zw+=1,t(`mui-${Zw}`))},[e]),i}const hD={...$S},Jw=hD.useId;function rm(n){if(Jw!==void 0){const e=Jw();return n!=null?n:e}return dD(n)}function pD(n){const e=nM(),t=rm()||"",{modularCssLayers:i}=n;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!i||e!==null?a="":typeof i=="string"?a=i.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,Jo(()=>{var c,f;const r=document.querySelector("head");if(!r)return;const o=r.firstChild;if(a){if(o&&((c=o.hasAttribute)!=null&&c.call(o,"data-mui-layer-order"))&&o.getAttribute("data-mui-layer-order")===t)return;const h=document.createElement("style");h.setAttribute("data-mui-layer-order",t),h.textContent=a,r.prepend(h)}else(f=r.querySelector(`style[data-mui-layer-order="${t}"]`))==null||f.remove()},[a,t]),a?I.jsx(Q4,{styles:a}):null}const Qw={};function eE(n,e,t,i=!1){return F.useMemo(()=>{const a=n&&e[n]||e;if(typeof t=="function"){const r=t(a),o=n?{...e,[n]:r}:r;return i?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function cR(n){const{children:e,theme:t,themeId:i}=n,a=nM(Qw),r=rM()||Qw,o=eE(i,a,t),c=eE(i,r,t,!0),f=(i?o[i]:o).direction==="rtl",h=pD(o);return I.jsx(oD,{theme:c,children:I.jsx(ny.Provider,{value:o,children:I.jsx(lD,{value:f,children:I.jsxs(cD,{value:i?o[i].components:o.components,children:[h,e]})})})})}const tE={theme:void 0};function mD(n){let e,t;return function(a){let r=e;return(r===void 0||a.theme!==t)&&(tE.theme=a.theme,r=iR(n(tE)),e=r,t=a.theme),r}}const sM="mode",oM="color-scheme",gD="data-color-scheme";function yD(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:a=sM,colorSchemeStorageKey:r=oM,attribute:o=gD,colorSchemeNode:c="document.documentElement",nonce:f}=n||{};let h="",m=o;if(o==="class"&&(m=".%s"),o==="data"&&(m="[data-%s]"),m.startsWith(".")){const v=m.substring(1);h+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const g=m.match(/\[([^[\]]+)\]/);if(g){const[v,y]=g[1].split("=");y||(h+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else h+=`${c}.setAttribute('${m}', colorScheme);`;return I.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${r}-dark') || '${i}';
  const light = localStorage.getItem('${r}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function xD(){}const vD=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return xD;const i=a=>{const r=a.newValue;a.key===n&&t(r)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function C3(){}function nE(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function uR(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function bD(n){return uR(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function _D(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:a=[],modeStorageKey:r=sM,colorSchemeStorageKey:o=oM,storageWindow:c=typeof window>"u"?void 0:window,storageManager:f=vD,noSsr:h=!1}=n,m=a.join(","),g=a.length>1,v=F.useMemo(()=>f==null?void 0:f({key:r,storageWindow:c}),[f,r,c]),y=F.useMemo(()=>f==null?void 0:f({key:`${o}-light`,storageWindow:c}),[f,o,c]),b=F.useMemo(()=>f==null?void 0:f({key:`${o}-dark`,storageWindow:c}),[f,o,c]),[M,A]=F.useState(()=>{const B=(v==null?void 0:v.get(e))||e,L=(y==null?void 0:y.get(t))||t,D=(b==null?void 0:b.get(i))||i;return{mode:B,systemMode:nE(B),lightColorScheme:L,darkColorScheme:D}}),[S,E]=F.useState(h||!g);F.useEffect(()=>{E(!0)},[]);const w=bD(M),R=F.useCallback(B=>{A(L=>{if(B===L.mode)return L;const D=B!=null?B:e;return v==null||v.set(D),{...L,mode:D,systemMode:nE(D)}})},[v,e]),z=F.useCallback(B=>{B?typeof B=="string"?B&&!m.includes(B)?console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`):A(L=>{const D={...L};return uR(L,V=>{V==="light"&&(y==null||y.set(B),D.lightColorScheme=B),V==="dark"&&(b==null||b.set(B),D.darkColorScheme=B)}),D}):A(L=>{const D={...L},V=B.light===null?t:B.light,U=B.dark===null?i:B.dark;return V&&(m.includes(V)?(D.lightColorScheme=V,y==null||y.set(V)):console.error(`\`${V}\` does not exist in \`theme.colorSchemes\`.`)),U&&(m.includes(U)?(D.darkColorScheme=U,b==null||b.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),D}):A(L=>(y==null||y.set(t),b==null||b.set(i),{...L,lightColorScheme:t,darkColorScheme:i}))},[m,y,b,t,i]),O=F.useCallback(B=>{M.mode==="system"&&A(L=>{const D=B!=null&&B.matches?"dark":"light";return L.systemMode===D?L:{...L,systemMode:D}})},[M.mode]),P=F.useRef(O);return P.current=O,F.useEffect(()=>{if(typeof window.matchMedia!="function"||!g)return;const B=(...D)=>P.current(...D),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(B),B(L),()=>{L.removeListener(B)}},[g]),F.useEffect(()=>{if(g){const B=(v==null?void 0:v.subscribe(V=>{(!V||["light","dark","system"].includes(V))&&R(V||e)}))||C3,L=(y==null?void 0:y.subscribe(V=>{(!V||m.match(V))&&z({light:V})}))||C3,D=(b==null?void 0:b.subscribe(V=>{(!V||m.match(V))&&z({dark:V})}))||C3;return()=>{B(),L(),D()}}},[z,R,m,e,c,g,v,y,b]),{...M,mode:S?M.mode:void 0,systemMode:S?M.systemMode:void 0,colorScheme:S?w:void 0,setMode:R,setColorScheme:z}}const SD="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function MD(n){const{themeId:e,theme:t={},modeStorageKey:i=sM,colorSchemeStorageKey:a=oM,disableTransitionOnChange:r=!1,defaultColorScheme:o,resolveTheme:c}=n,f={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=F.createContext(void 0),m=()=>F.useContext(h)||f,g={},v={};function y(S){var Me,Ne,Te,gt;const{children:E,theme:w,modeStorageKey:R=i,colorSchemeStorageKey:z=a,disableTransitionOnChange:O=r,storageManager:P,storageWindow:B=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,disableNestedContext:V=!1,disableStyleSheetGeneration:U=!1,defaultMode:G="system",forceThemeRerender:X=!1,noSsr:$}=S,H=F.useRef(!1),K=rM(),Q=F.useContext(h),W=!!Q&&!V,ce=F.useMemo(()=>w||(typeof t=="function"?t():t),[w]),q=ce[e],ie=q||ce,{colorSchemes:fe=g,components:ge=v,cssVarPrefix:re}=ie,te=Object.keys(fe).filter(Fe=>!!fe[Fe]).join(","),se=F.useMemo(()=>te.split(","),[te]),ve=typeof o=="string"?o:o.light,ze=typeof o=="string"?o:o.dark,De=fe[ve]&&fe[ze]?G:((Ne=(Me=fe[ie.defaultColorScheme])==null?void 0:Me.palette)==null?void 0:Ne.mode)||((Te=ie.palette)==null?void 0:Te.mode),{mode:rt,setMode:nt,systemMode:Ge,lightColorScheme:Ee,darkColorScheme:ne,colorScheme:Oe,setColorScheme:Ae}=_D({supportedColorSchemes:se,defaultLightColorScheme:ve,defaultDarkColorScheme:ze,modeStorageKey:R,colorSchemeStorageKey:z,defaultMode:De,storageManager:P,storageWindow:B,noSsr:$});let Ve=rt,Be=Oe;W&&(Ve=Q.mode,Be=Q.colorScheme);let ke=Be||ie.defaultColorScheme;ie.vars&&!X&&(ke=ie.defaultColorScheme);const Ke=F.useMemo(()=>{var ot;const Fe=((ot=ie.generateThemeVars)==null?void 0:ot.call(ie))||ie.vars,dt={...ie,components:ge,colorSchemes:fe,cssVarPrefix:re,vars:Fe};if(typeof dt.generateSpacing=="function"&&(dt.spacing=dt.generateSpacing()),ke){const je=fe[ke];je&&typeof je=="object"&&Object.keys(je).forEach(Ze=>{je[Ze]&&typeof je[Ze]=="object"?dt[Ze]={...dt[Ze],...je[Ze]}:dt[Ze]=je[Ze]})}return c?c(dt):dt},[ie,ke,ge,fe,re]),Ye=ie.colorSchemeSelector;Jo(()=>{if(Be&&D&&Ye&&Ye!=="media"){const Fe=Ye;let dt=Ye;if(Fe==="class"&&(dt=".%s"),Fe==="data"&&(dt="[data-%s]"),Fe!=null&&Fe.startsWith("data-")&&!Fe.includes("%s")&&(dt=`[${Fe}="%s"]`),dt.startsWith("."))D.classList.remove(...se.map(ot=>dt.substring(1).replace("%s",ot))),D.classList.add(dt.substring(1).replace("%s",Be));else{const ot=dt.replace("%s",Be).match(/\[([^\]]+)\]/);if(ot){const[je,Ze]=ot[1].split("=");Ze||se.forEach(Dt=>{D.removeAttribute(je.replace(Be,Dt))}),D.setAttribute(je,Ze?Ze.replace(/"|'/g,""):"")}else D.setAttribute(dt,Be)}}},[Be,Ye,D,se]),F.useEffect(()=>{let Fe;if(O&&H.current&&L){const dt=L.createElement("style");dt.appendChild(L.createTextNode(SD)),L.head.appendChild(dt),window.getComputedStyle(L.body),Fe=setTimeout(()=>{L.head.removeChild(dt)},1)}return()=>{clearTimeout(Fe)}},[Be,O,L]),F.useEffect(()=>(H.current=!0,()=>{H.current=!1}),[]);const de=F.useMemo(()=>({allColorSchemes:se,colorScheme:Be,darkColorScheme:ne,lightColorScheme:Ee,mode:Ve,setColorScheme:Ae,setMode:nt,systemMode:Ge}),[se,Be,ne,Ee,Ve,Ae,nt,Ge,Ke.colorSchemeSelector]);let Z=!0;(U||ie.cssVariables===!1||W&&(K==null?void 0:K.cssVarPrefix)===re)&&(Z=!1);const xe=I.jsxs(F.Fragment,{children:[I.jsx(cR,{themeId:q?e:void 0,theme:Ke,children:E}),Z&&I.jsx(X4,{styles:((gt=Ke.generateStyleSheets)==null?void 0:gt.call(Ke))||[]})]});return W?xe:I.jsx(h.Provider,{value:de,children:xe})}const b=typeof o=="string"?o:o.light,M=typeof o=="string"?o:o.dark;return{CssVarsProvider:y,useColorScheme:m,getInitColorSchemeScript:S=>yD({colorSchemeStorageKey:a,defaultLightColorScheme:b,defaultDarkColorScheme:M,modeStorageKey:i,...S})}}function AD(n=""){function e(...i){if(!i.length)return"";const a=i[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...i.slice(1))})`:`, ${a}`}return(i,...a)=>`var(--${n?`${n}-`:""}${i}${e(...a)})`}const iE=(n,e,t,i=[])=>{let a=n;e.forEach((r,o)=>{o===e.length-1?Array.isArray(a)?a[Number(r)]=t:a&&typeof a=="object"&&(a[r]=t):a&&typeof a=="object"&&(a[r]||(a[r]=i.includes(r)?[]:{}),a=a[r])})},wD=(n,e,t)=>{function i(a,r=[],o=[]){Object.entries(a).forEach(([c,f])=>{(!t||t&&!t([...r,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?i(f,[...r,c],Array.isArray(f)?[...o,c]:o):e([...r,c],f,o))})}i(n)},ED=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function R3(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},a={},r={},o={};return wD(n,(c,f,h)=>{if((typeof f=="string"||typeof f=="number")&&(!i||!i(c,f))){const m=`--${t?`${t}-`:""}${c.join("-")}`,g=ED(c,f);Object.assign(a,{[m]:g}),iE(r,c,`var(${m})`,h),iE(o,c,`var(${m}, ${g})`,h)}},c=>c[0]==="vars"),{css:a,vars:r,varsWithDefaults:o}}function TD(n,e={}){const{getSelector:t=S,disableCssColorScheme:i,colorSchemeSelector:a,enableContrastVars:r}=e,{colorSchemes:o={},components:c,defaultColorScheme:f="light",...h}=n,{vars:m,css:g,varsWithDefaults:v}=R3(h,e);let y=v;const b={},{[f]:M,...A}=o;if(Object.entries(A||{}).forEach(([R,z])=>{const{vars:O,css:P,varsWithDefaults:B}=R3(z,e);y=as(y,B),b[R]={css:P,vars:O}}),M){const{css:R,vars:z,varsWithDefaults:O}=R3(M,e);y=as(y,O),b[f]={css:R,vars:z}}function S(R,z){var P,B;let O=a;if(a==="class"&&(O=".%s"),a==="data"&&(O="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(O=`[${a}="%s"]`),R){if(O==="media")return n.defaultColorScheme===R?":root":{[`@media (prefers-color-scheme: ${((B=(P=o[R])==null?void 0:P.palette)==null?void 0:B.mode)||R})`]:{":root":z}};if(O)return n.defaultColorScheme===R?`:root, ${O.replace("%s",String(R))}`:O.replace("%s",String(R))}return":root"}return{vars:y,generateThemeVars:()=>{let R={...m};return Object.entries(b).forEach(([,{vars:z}])=>{R=as(R,z)}),R},generateStyleSheets:()=>{var L,D;const R=[],z=n.defaultColorScheme||"light";function O(V,U){Object.keys(U).length&&R.push(typeof V=="string"?{[V]:{...U}}:V)}O(t(void 0,{...g}),g);const{[z]:P,...B}=b;if(P){const{css:V}=P,U=(D=(L=o[z])==null?void 0:L.palette)==null?void 0:D.mode,G=!i&&U?{colorScheme:U,...V}:{...V};O(t(z,{...G}),G)}return Object.entries(B).forEach(([V,{css:U}])=>{var $,H;const G=(H=($=o[V])==null?void 0:$.palette)==null?void 0:H.mode,X=!i&&G?{colorScheme:G,...U}:{...U};O(t(V,{...X}),X)}),r&&R.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),R}}}function CD(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Kn(n,e,t=void 0){const i={};for(const a in n){const r=n[a];let o="",c=!0;for(let f=0;f<r.length;f+=1){const h=r[f];h&&(o+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(o+=" "+t[h]))}i[a]=o}return i}function O3(n,e){var t,i,a,r;return F.isValidElement(n)&&e.indexOf((r=n.type.muiName)!=null?r:(a=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:a.muiName)!==-1}function fR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:T1.white,default:T1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const dR=fR();function hR(){return{text:{primary:T1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:T1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const n5=hR();function aE(n,e,t,i){const a=i.light||i,r=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=z_(n.main,a):e==="dark"&&(n.dark=O_(n.main,r)))}function rE(n,e,t,i,a){const r=a.light||a,o=a.dark||a*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(r*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(o*100).toFixed(0)}%)`))}function RD(n="light"){return n==="dark"?{main:Hp[200],light:Hp[50],dark:Hp[400]}:{main:Hp[700],light:Hp[400],dark:Hp[800]}}function OD(n="light"){return n==="dark"?{main:Vp[200],light:Vp[50],dark:Vp[400]}:{main:Vp[500],light:Vp[300],dark:Vp[700]}}function zD(n="light"){return n==="dark"?{main:Fp[500],light:Fp[300],dark:Fp[700]}:{main:Fp[700],light:Fp[400],dark:Fp[800]}}function ND(n="light"){return n==="dark"?{main:jp[400],light:jp[300],dark:jp[700]}:{main:jp[700],light:jp[500],dark:jp[900]}}function DD(n="light"){return n==="dark"?{main:Gp[400],light:Gp[300],dark:Gp[700]}:{main:Gp[800],light:Gp[500],dark:Gp[900]}}function LD(n="light"){return n==="dark"?{main:Bg[400],light:Bg[300],dark:Bg[700]}:{main:"#ed6c02",light:Bg[500],dark:Bg[900]}}function ID(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function lM(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:a,...r}=n,o=n.primary||RD(e),c=n.secondary||OD(e),f=n.error||zD(e),h=n.info||ND(e),m=n.success||DD(e),g=n.warning||LD(e);function v(A){return a?ID(A):iD(A,n5.text.primary)>=t?n5.text.primary:dR.text.primary}const y=({color:A,name:S,mainShade:E=500,lightShade:w=300,darkShade:R=700})=>{if(A={...A},!A.main&&A[E]&&(A.main=A[E]),!A.hasOwnProperty("main"))throw new Error(Lu(11,S?` (${S})`:"",E));if(typeof A.main!="string")throw new Error(Lu(12,S?` (${S})`:"",JSON.stringify(A.main)));return a?(rE(a,A,"light",w,i),rE(a,A,"dark",R,i)):(aE(A,"light",w,i),aE(A,"dark",R,i)),A.contrastText||(A.contrastText=v(A.main)),A};let b;return e==="light"?b=fR():e==="dark"&&(b=hR()),as({common:{...T1},mode:e,primary:y({color:o,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:f,name:"error"}),warning:y({color:g,name:"warning"}),info:y({color:h,name:"info"}),success:y({color:m,name:"success"}),grey:WO,contrastThreshold:t,getContrastText:v,augmentColor:y,tonalOffset:i,...b},r)}function PD(n){const e={};return Object.entries(n).forEach(i=>{const[a,r]=i;typeof r=="object"&&(e[a]=`${r.fontStyle?`${r.fontStyle} `:""}${r.fontVariant?`${r.fontVariant} `:""}${r.fontWeight?`${r.fontWeight} `:""}${r.fontStretch?`${r.fontStretch} `:""}${r.fontSize||""}${r.lineHeight?`/${r.lineHeight} `:""}${r.fontFamily||""}`)}),e}function UD(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function BD(n){return Math.round(n*1e5)/1e5}const sE={textTransform:"uppercase"},oE='"Roboto", "Helvetica", "Arial", sans-serif';function pR(n,e){const{fontFamily:t=oE,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:r=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,v=i/14,y=m||(A=>`${A/f*v}rem`),b=(A,S,E,w,R)=>({fontFamily:t,fontWeight:A,fontSize:y(S),lineHeight:E,...t===oE?{letterSpacing:`${BD(w/S)}em`}:{},...R,...h}),M={h1:b(a,96,1.167,-1.5),h2:b(a,60,1.2,-.5),h3:b(r,48,1.167,0),h4:b(r,34,1.235,.25),h5:b(r,24,1.334,0),h6:b(o,20,1.6,.15),subtitle1:b(r,16,1.75,.15),subtitle2:b(o,14,1.57,.1),body1:b(r,16,1.5,.15),body2:b(r,14,1.43,.15),button:b(o,14,1.75,.4,sE),caption:b(r,12,1.66,.4),overline:b(r,12,2.66,1,sE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return as({htmlFontSize:f,pxToRem:y,fontFamily:t,fontSize:i,fontWeightLight:a,fontWeightRegular:r,fontWeightMedium:o,fontWeightBold:c,...M},g,{clone:!1})}const kD=.2,FD=.14,VD=.12;function ya(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${kD})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${FD})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${VD})`].join(",")}const HD=["none",ya(0,2,1,-1,0,1,1,0,0,1,3,0),ya(0,3,1,-2,0,2,2,0,0,1,5,0),ya(0,3,3,-2,0,3,4,0,0,1,8,0),ya(0,2,4,-1,0,4,5,0,0,1,10,0),ya(0,3,5,-1,0,5,8,0,0,1,14,0),ya(0,3,5,-1,0,6,10,0,0,1,18,0),ya(0,4,5,-2,0,7,10,1,0,2,16,1),ya(0,5,5,-3,0,8,10,1,0,3,14,2),ya(0,5,6,-3,0,9,12,1,0,3,16,2),ya(0,6,6,-3,0,10,14,1,0,4,18,3),ya(0,6,7,-4,0,11,15,1,0,4,20,3),ya(0,7,8,-4,0,12,17,2,0,5,22,4),ya(0,7,8,-4,0,13,19,2,0,5,24,4),ya(0,7,9,-4,0,14,21,2,0,5,26,4),ya(0,8,9,-5,0,15,22,2,0,6,28,5),ya(0,8,10,-5,0,16,24,2,0,6,30,5),ya(0,8,11,-5,0,17,26,2,0,6,32,5),ya(0,9,11,-5,0,18,28,2,0,7,34,6),ya(0,9,12,-6,0,19,29,2,0,7,36,6),ya(0,10,13,-6,0,20,31,3,0,8,38,7),ya(0,10,13,-6,0,21,33,3,0,8,40,7),ya(0,10,14,-6,0,22,35,3,0,8,42,7),ya(0,11,14,-7,0,23,36,3,0,9,44,8),ya(0,11,15,-7,0,24,38,3,0,9,46,8)],jD={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mR={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lE(n){return`${Math.round(n)}ms`}function GD(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function WD(n){const e={...jD,...n.easing},t={...mR,...n.duration};return{getAutoHeightDuration:GD,create:(a=["all"],r={})=>{const{duration:o=t.standard,easing:c=e.easeInOut,delay:f=0,...h}=r;return(Array.isArray(a)?a:[a]).map(m=>`${m} ${typeof o=="string"?o:lE(o)} ${c} ${typeof f=="string"?f:lE(f)}`).join(",")},...n,easing:e,duration:t}}const YD={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function XD(n){return Cc(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function gR(n={}){const e={...n};function t(i){const a=Object.entries(i);for(let r=0;r<a.length;r++){const[o,c]=a[r];!XD(c)||o.startsWith("unstable_")?delete i[o]:Cc(c)&&(i[o]={...c},t(i[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cE(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const qD=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function $D(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:gb(e,qD(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${cE(t)})`:z_(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${cE(t)})`:O_(e,t)}})}function i5(n={},...e){const{breakpoints:t,mixins:i={},spacing:a,palette:r={},transitions:o={},typography:c={},shape:f,colorSpace:h,...m}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Lu(20));const g=lM({...r,colorSpace:h}),v=tM(n);let y=as(v,{mixins:UD(v.breakpoints,i),palette:g,shadows:HD.slice(),typography:pR(g,c),transitions:WD(o),zIndex:{...YD}});return y=as(y,m),y=e.reduce((b,M)=>as(b,M),y),y.unstable_sxConfig={...sy,...m==null?void 0:m.unstable_sxConfig},y.unstable_sx=function(M){return Yf({sx:M,theme:this})},y.toRuntimeSource=gR,$D(y),y}function a5(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const KD=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=a5(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function yR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function xR(n){return n==="dark"?KD:[]}function ZD(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:a,...r}=n,o=lM({...e,colorSpace:a});return{palette:o,opacity:{...yR(o.mode),...t},overlays:i||xR(o.mode),...r}}function JD(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const QD=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],eL=n=>(e,t)=>{const i=n.rootSelector||":root",a=n.colorSchemeSelector;let r=a;if(a==="class"&&(r=".%s"),a==="data"&&(r="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(r=`[${a}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return QD(n.cssVarPrefix).forEach(c=>{o[c]=t[c],delete t[c]}),r==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:o}}:r?{[r.replace("%s",e)]:o,[`${i}, ${r.replace("%s",e)}`]:t}:{[i]:{...t,...o}}}if(r&&r!=="media")return`${i}, ${r.replace("%s",String(e))}`}else if(e){if(r==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(r)return r.replace("%s",String(e))}return i};function tL(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ut(n,e,t){!n[e]&&t&&(n[e]=t)}function s1(n){return typeof n!="string"||!n.startsWith("hsl")?n:rR(n)}function du(n,e){`${e}Channel`in n||(n[`${e}Channel`]=r1(s1(n[e])))}function nL(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const _c=n=>{try{return n()}catch{}},iL=(n="mui")=>AD(n);function z3(n,e,t,i,a){if(!t)return;t=t===!0?{}:t;const r=a==="dark"?"dark":"light";if(!i){e[a]=ZD({...t,palette:{mode:r,...t==null?void 0:t.palette},colorSpace:n});return}const{palette:o,...c}=i5({...i,palette:{mode:r,...t==null?void 0:t.palette},colorSpace:n});return e[a]={...t,palette:o,opacity:{...yR(r),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||xR(r)},c}function aL(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:a=!1,cssVarPrefix:r="mui",nativeColor:o=!1,shouldSkipGeneratingVar:c=JD,colorSchemeSelector:f=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...m}=n,g=Object.keys(t)[0],v=i||(t.light&&g!=="light"?"light":g),y=iL(r),{[v]:b,light:M,dark:A,...S}=t,E={...S};let w=b;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(w=!0),!w)throw new Error(Lu(21,v));let R;o&&(R="oklch");const z=z3(R,E,w,m,v);M&&!E.light&&z3(R,E,M,void 0,"light"),A&&!E.dark&&z3(R,E,A,void 0,"dark");let O={defaultColorScheme:v,...z,cssVarPrefix:r,colorSchemeSelector:f,rootSelector:h,getCssVar:y,colorSchemes:E,font:{...PD(z.typography),...z.font},spacing:nL(m.spacing)};Object.keys(O.colorSchemes).forEach(V=>{const U=O.colorSchemes[V].palette,G=$=>{const H=$.split("-"),K=H[1],Q=H[2];return y($,U[K][Q])};U.mode==="light"&&(ut(U.common,"background","#fff"),ut(U.common,"onBackground","#000")),U.mode==="dark"&&(ut(U.common,"background","#000"),ut(U.common,"onBackground","#fff"));function X($,H,K){if(R){let Q;return $===Gd&&(Q=`transparent ${((1-K)*100).toFixed(0)}%`),$===Bi&&(Q=`#000 ${(K*100).toFixed(0)}%`),$===ki&&(Q=`#fff ${(K*100).toFixed(0)}%`),`color-mix(in ${R}, ${H}, ${Q})`}return $(H,K)}if(tL(U,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),U.mode==="light"){ut(U.Alert,"errorColor",X(Bi,U.error.light,.6)),ut(U.Alert,"infoColor",X(Bi,U.info.light,.6)),ut(U.Alert,"successColor",X(Bi,U.success.light,.6)),ut(U.Alert,"warningColor",X(Bi,U.warning.light,.6)),ut(U.Alert,"errorFilledBg",G("palette-error-main")),ut(U.Alert,"infoFilledBg",G("palette-info-main")),ut(U.Alert,"successFilledBg",G("palette-success-main")),ut(U.Alert,"warningFilledBg",G("palette-warning-main")),ut(U.Alert,"errorFilledColor",_c(()=>U.getContrastText(U.error.main))),ut(U.Alert,"infoFilledColor",_c(()=>U.getContrastText(U.info.main))),ut(U.Alert,"successFilledColor",_c(()=>U.getContrastText(U.success.main))),ut(U.Alert,"warningFilledColor",_c(()=>U.getContrastText(U.warning.main))),ut(U.Alert,"errorStandardBg",X(ki,U.error.light,.9)),ut(U.Alert,"infoStandardBg",X(ki,U.info.light,.9)),ut(U.Alert,"successStandardBg",X(ki,U.success.light,.9)),ut(U.Alert,"warningStandardBg",X(ki,U.warning.light,.9)),ut(U.Alert,"errorIconColor",G("palette-error-main")),ut(U.Alert,"infoIconColor",G("palette-info-main")),ut(U.Alert,"successIconColor",G("palette-success-main")),ut(U.Alert,"warningIconColor",G("palette-warning-main")),ut(U.AppBar,"defaultBg",G("palette-grey-100")),ut(U.Avatar,"defaultBg",G("palette-grey-400")),ut(U.Button,"inheritContainedBg",G("palette-grey-300")),ut(U.Button,"inheritContainedHoverBg",G("palette-grey-A100")),ut(U.Chip,"defaultBorder",G("palette-grey-400")),ut(U.Chip,"defaultAvatarColor",G("palette-grey-700")),ut(U.Chip,"defaultIconColor",G("palette-grey-700")),ut(U.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ut(U.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ut(U.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ut(U.LinearProgress,"primaryBg",X(ki,U.primary.main,.62)),ut(U.LinearProgress,"secondaryBg",X(ki,U.secondary.main,.62)),ut(U.LinearProgress,"errorBg",X(ki,U.error.main,.62)),ut(U.LinearProgress,"infoBg",X(ki,U.info.main,.62)),ut(U.LinearProgress,"successBg",X(ki,U.success.main,.62)),ut(U.LinearProgress,"warningBg",X(ki,U.warning.main,.62)),ut(U.Skeleton,"bg",R?X(Gd,U.text.primary,.11):`rgba(${G("palette-text-primaryChannel")} / 0.11)`),ut(U.Slider,"primaryTrack",X(ki,U.primary.main,.62)),ut(U.Slider,"secondaryTrack",X(ki,U.secondary.main,.62)),ut(U.Slider,"errorTrack",X(ki,U.error.main,.62)),ut(U.Slider,"infoTrack",X(ki,U.info.main,.62)),ut(U.Slider,"successTrack",X(ki,U.success.main,.62)),ut(U.Slider,"warningTrack",X(ki,U.warning.main,.62));const $=R?X(Bi,U.background.default,.6825):Px(U.background.default,.8);ut(U.SnackbarContent,"bg",$),ut(U.SnackbarContent,"color",_c(()=>R?n5.text.primary:U.getContrastText($))),ut(U.SpeedDialAction,"fabHoverBg",Px(U.background.paper,.15)),ut(U.StepConnector,"border",G("palette-grey-400")),ut(U.StepContent,"border",G("palette-grey-400")),ut(U.Switch,"defaultColor",G("palette-common-white")),ut(U.Switch,"defaultDisabledColor",G("palette-grey-100")),ut(U.Switch,"primaryDisabledColor",X(ki,U.primary.main,.62)),ut(U.Switch,"secondaryDisabledColor",X(ki,U.secondary.main,.62)),ut(U.Switch,"errorDisabledColor",X(ki,U.error.main,.62)),ut(U.Switch,"infoDisabledColor",X(ki,U.info.main,.62)),ut(U.Switch,"successDisabledColor",X(ki,U.success.main,.62)),ut(U.Switch,"warningDisabledColor",X(ki,U.warning.main,.62)),ut(U.TableCell,"border",X(ki,X(Gd,U.divider,1),.88)),ut(U.Tooltip,"bg",X(Gd,U.grey[700],.92))}if(U.mode==="dark"){ut(U.Alert,"errorColor",X(ki,U.error.light,.6)),ut(U.Alert,"infoColor",X(ki,U.info.light,.6)),ut(U.Alert,"successColor",X(ki,U.success.light,.6)),ut(U.Alert,"warningColor",X(ki,U.warning.light,.6)),ut(U.Alert,"errorFilledBg",G("palette-error-dark")),ut(U.Alert,"infoFilledBg",G("palette-info-dark")),ut(U.Alert,"successFilledBg",G("palette-success-dark")),ut(U.Alert,"warningFilledBg",G("palette-warning-dark")),ut(U.Alert,"errorFilledColor",_c(()=>U.getContrastText(U.error.dark))),ut(U.Alert,"infoFilledColor",_c(()=>U.getContrastText(U.info.dark))),ut(U.Alert,"successFilledColor",_c(()=>U.getContrastText(U.success.dark))),ut(U.Alert,"warningFilledColor",_c(()=>U.getContrastText(U.warning.dark))),ut(U.Alert,"errorStandardBg",X(Bi,U.error.light,.9)),ut(U.Alert,"infoStandardBg",X(Bi,U.info.light,.9)),ut(U.Alert,"successStandardBg",X(Bi,U.success.light,.9)),ut(U.Alert,"warningStandardBg",X(Bi,U.warning.light,.9)),ut(U.Alert,"errorIconColor",G("palette-error-main")),ut(U.Alert,"infoIconColor",G("palette-info-main")),ut(U.Alert,"successIconColor",G("palette-success-main")),ut(U.Alert,"warningIconColor",G("palette-warning-main")),ut(U.AppBar,"defaultBg",G("palette-grey-900")),ut(U.AppBar,"darkBg",G("palette-background-paper")),ut(U.AppBar,"darkColor",G("palette-text-primary")),ut(U.Avatar,"defaultBg",G("palette-grey-600")),ut(U.Button,"inheritContainedBg",G("palette-grey-800")),ut(U.Button,"inheritContainedHoverBg",G("palette-grey-700")),ut(U.Chip,"defaultBorder",G("palette-grey-700")),ut(U.Chip,"defaultAvatarColor",G("palette-grey-300")),ut(U.Chip,"defaultIconColor",G("palette-grey-300")),ut(U.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ut(U.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ut(U.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ut(U.LinearProgress,"primaryBg",X(Bi,U.primary.main,.5)),ut(U.LinearProgress,"secondaryBg",X(Bi,U.secondary.main,.5)),ut(U.LinearProgress,"errorBg",X(Bi,U.error.main,.5)),ut(U.LinearProgress,"infoBg",X(Bi,U.info.main,.5)),ut(U.LinearProgress,"successBg",X(Bi,U.success.main,.5)),ut(U.LinearProgress,"warningBg",X(Bi,U.warning.main,.5)),ut(U.Skeleton,"bg",R?X(Gd,U.text.primary,.13):`rgba(${G("palette-text-primaryChannel")} / 0.13)`),ut(U.Slider,"primaryTrack",X(Bi,U.primary.main,.5)),ut(U.Slider,"secondaryTrack",X(Bi,U.secondary.main,.5)),ut(U.Slider,"errorTrack",X(Bi,U.error.main,.5)),ut(U.Slider,"infoTrack",X(Bi,U.info.main,.5)),ut(U.Slider,"successTrack",X(Bi,U.success.main,.5)),ut(U.Slider,"warningTrack",X(Bi,U.warning.main,.5));const $=R?X(ki,U.background.default,.985):Px(U.background.default,.98);ut(U.SnackbarContent,"bg",$),ut(U.SnackbarContent,"color",_c(()=>R?dR.text.primary:U.getContrastText($))),ut(U.SpeedDialAction,"fabHoverBg",Px(U.background.paper,.15)),ut(U.StepConnector,"border",G("palette-grey-600")),ut(U.StepContent,"border",G("palette-grey-600")),ut(U.Switch,"defaultColor",G("palette-grey-300")),ut(U.Switch,"defaultDisabledColor",G("palette-grey-600")),ut(U.Switch,"primaryDisabledColor",X(Bi,U.primary.main,.55)),ut(U.Switch,"secondaryDisabledColor",X(Bi,U.secondary.main,.55)),ut(U.Switch,"errorDisabledColor",X(Bi,U.error.main,.55)),ut(U.Switch,"infoDisabledColor",X(Bi,U.info.main,.55)),ut(U.Switch,"successDisabledColor",X(Bi,U.success.main,.55)),ut(U.Switch,"warningDisabledColor",X(Bi,U.warning.main,.55)),ut(U.TableCell,"border",X(Bi,X(Gd,U.divider,1),.68)),ut(U.Tooltip,"bg",X(Gd,U.grey[700],.92))}du(U.background,"default"),du(U.background,"paper"),du(U.common,"background"),du(U.common,"onBackground"),du(U,"divider"),Object.keys(U).forEach($=>{const H=U[$];$!=="tonalOffset"&&H&&typeof H=="object"&&(H.main&&ut(U[$],"mainChannel",r1(s1(H.main))),H.light&&ut(U[$],"lightChannel",r1(s1(H.light))),H.dark&&ut(U[$],"darkChannel",r1(s1(H.dark))),H.contrastText&&ut(U[$],"contrastTextChannel",r1(s1(H.contrastText))),$==="text"&&(du(U[$],"primary"),du(U[$],"secondary")),$==="action"&&(H.active&&du(U[$],"active"),H.selected&&du(U[$],"selected")))})}),O=e.reduce((V,U)=>as(V,U),O);const P={prefix:r,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:eL(O),enableContrastVars:o},{vars:B,generateThemeVars:L,generateStyleSheets:D}=TD(O,P);return O.vars=B,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([V,U])=>{O[V]=U}),O.generateThemeVars=L,O.generateStyleSheets=D,O.generateSpacing=function(){return J4(m.spacing,Q5(this))},O.getColorSchemeSelector=CD(f),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=c,O.unstable_sxConfig={...sy,...m==null?void 0:m.unstable_sxConfig},O.unstable_sx=function(U){return Yf({sx:U,theme:this})},O.toRuntimeSource=gR,O}function uE(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:lM({...t===!0?{}:t.palette,mode:e})})}function D_(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:r=t==null?void 0:t.mode,...o}=n,c=r||"light",f=a==null?void 0:a[c],h={...a,...t?{[c]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return i5(n,...e);let m=t;"palette"in n||h[c]&&(h[c]!==!0?m=h[c].palette:c==="dark"&&(m={mode:"dark"}));const g=i5({...n,palette:m},...e);return g.defaultColorScheme=c,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},uE(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},uE(g,"light",h.light)),g}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),aL({...o,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const cM=D_();function sm(){const n=iM(cM);return n[Nc]||n}function L_(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const To=n=>L_(n)&&n!=="classes",Et=KN({themeId:Nc,defaultTheme:cM,rootShouldForwardProp:To});function rL({theme:n,...e}){const t=Nc in n?n[Nc]:void 0;return I.jsx(cR,{...e,themeId:t?Nc:void 0,theme:t||n})}const Ux={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:sL}=MD({themeId:Nc,theme:()=>D_({cssVariables:!0}),colorSchemeStorageKey:Ux.colorSchemeStorageKey,modeStorageKey:Ux.modeStorageKey,defaultColorScheme:{light:Ux.defaultLightColorScheme,dark:Ux.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:pR(n.palette,n.typography)};return e.unstable_sx=function(i){return Yf({sx:i,theme:this})},e}}),oL=sL;function lL({theme:n,...e}){const t=F.useMemo(()=>{if(typeof n=="function")return n;const i=Nc in n?n[Nc]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return t?I.jsx(rL,{theme:t,...e}):I.jsx(oL,{theme:n,...e})}function fE(...n){return n.reduce((e,t)=>t==null?e:function(...a){e.apply(this,a),t.apply(this,a)},()=>{})}function cL(n){return I.jsx(Q4,{...n,defaultTheme:cM,themeId:Nc})}function uM(n){return function(t){return I.jsx(cL,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function uL(){return eR}const xn=mD;function ti(n){return fD(n)}function fL(n){return $n("MuiSvgIcon",n)}Gn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const dL=n=>{const{color:e,fontSize:t,classes:i}=n,a={root:["root",e!=="inherit"&&`color${Mt(e)}`,`fontSize${Mt(t)}`]};return Kn(a,fL,i)},hL=Et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Mt(t.color)}`],e[`fontSize${Mt(t.fontSize)}`]]}})(xn(({theme:n})=>{var e,t,i,a,r,o,c,f,h,m,g,v,y,b,M,A,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(a=(i=((t=n.vars)!=null?t:n).transitions)==null?void 0:i.duration)==null?void 0:a.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:h.call(f,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(m=n.typography)==null?void 0:m.pxToRem)==null?void 0:g.call(m,35))||"2.1875rem"}},...Object.entries(((v=n.vars)!=null?v:n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var R,z,O;return{props:{color:w},style:{color:(O=(z=((R=n.vars)!=null?R:n).palette)==null?void 0:z[w])==null?void 0:O.main}}}),{props:{color:"action"},style:{color:(M=(b=((y=n.vars)!=null?y:n).palette)==null?void 0:b.action)==null?void 0:M.active}},{props:{color:"disabled"},style:{color:(E=(S=((A=n.vars)!=null?A:n).palette)==null?void 0:S.action)==null?void 0:E.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),r5=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiSvgIcon"}),{children:a,className:r,color:o="inherit",component:c="svg",fontSize:f="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:v="0 0 24 24",...y}=i,b=F.isValidElement(a)&&a.type==="svg",M={...i,color:o,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:v,hasSvgAsChild:b},A={};m||(A.viewBox=v);const S=dL(M);return I.jsxs(hL,{as:c,className:en(S.root,r),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...y,...b&&a.props,ownerState:M,children:[b?a.props.children:a,g?I.jsx("title",{children:g}):null]})});r5.muiName="SvgIcon";function Vn(n,e){function t(i,a){return I.jsx(r5,{"data-testid":void 0,ref:a,...i,children:n})}return t.muiName=r5.muiName,F.memo(F.forwardRef(t))}function vR(n,e=166){let t;function i(...a){const r=()=>{n.apply(this,a)};clearTimeout(t),t=setTimeout(r,e)}return i.clear=()=>{clearTimeout(t)},i}function Qa(n){return n&&n.ownerDocument||document}function Pu(n){return Qa(n).defaultView||window}function dE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function D0(n){const{controlled:e,default:t,name:i,state:a="value"}=n,{current:r}=F.useRef(e!==void 0),[o,c]=F.useState(t),f=r?e:o,h=F.useCallback(m=>{r||c(m)},[]);return[f,h]}function Ls(n){const e=F.useRef(n);return Jo(()=>{e.current=n}),F.useRef((...t)=>(0,e.current)(...t)).current}function Va(...n){const e=F.useRef(void 0),t=F.useCallback(i=>{const a=n.map(r=>{if(r==null)return null;if(typeof r=="function"){const o=r,c=o(i);return typeof c=="function"?c:()=>{o(null)}}return r.current=i,()=>{r.current=null}});return()=>{a.forEach(r=>r==null?void 0:r())}},n);return F.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function pL(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function bR(n,e){if(!n)return e;function t(o,c){const f={};return Object.keys(c).forEach(h=>{pL(h,c[h])&&typeof o[h]=="function"&&(f[h]=(...m)=>{o[h](...m),c[h](...m)})}),f}if(typeof n=="function"||typeof e=="function")return o=>{const c=typeof e=="function"?e(o):e,f=typeof n=="function"?n({...o,...c}):n,h=en(o==null?void 0:o.className,c==null?void 0:c.className,f==null?void 0:f.className),m=t(f,c);return{...c,...f,...m,...!!h&&{className:h},...(c==null?void 0:c.style)&&(f==null?void 0:f.style)&&{style:{...c.style,...f.style}},...(c==null?void 0:c.sx)&&(f==null?void 0:f.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(f.sx)?f.sx:[f.sx]]}}};const i=e,a=t(n,i),r=en(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...a,...!!r&&{className:r},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function _R(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function s5(n,e){return s5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},s5(n,e)}function SR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,s5(n,e)}var L0=D4();const Bx=Q1(L0),hE={disabled:!1},yb=qi.createContext(null);var mL=function(e){return e.scrollTop},o1="unmounted",lh="exited",ch="entering",S0="entered",o5="exiting",Hl=(function(n){SR(e,n);function e(i,a){var r;r=n.call(this,i,a)||this;var o=a,c=o&&!o.isMounting?i.enter:i.appear,f;return r.appearStatus=null,i.in?c?(f=lh,r.appearStatus=ch):f=S0:i.unmountOnExit||i.mountOnEnter?f=o1:f=lh,r.state={status:f},r.nextCallback=null,r}e.getDerivedStateFromProps=function(a,r){var o=a.in;return o&&r.status===o1?{status:lh}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var r=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==ch&&o!==S0&&(r=ch):(o===ch||o===S0)&&(r=o5)}this.updateStatus(!1,r)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,r,o,c;return r=o=c=a,a!=null&&typeof a!="number"&&(r=a.exit,o=a.enter,c=a.appear!==void 0?a.appear:o),{exit:r,enter:o,appear:c}},t.updateStatus=function(a,r){if(a===void 0&&(a=!1),r!==null)if(this.cancelNextCallback(),r===ch){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Bx.findDOMNode(this);o&&mL(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lh&&this.setState({status:o1})},t.performEnter=function(a){var r=this,o=this.props.enter,c=this.context?this.context.isMounting:a,f=this.props.nodeRef?[c]:[Bx.findDOMNode(this),c],h=f[0],m=f[1],g=this.getTimeouts(),v=c?g.appear:g.enter;if(!a&&!o||hE.disabled){this.safeSetState({status:S0},function(){r.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:ch},function(){r.props.onEntering(h,m),r.onTransitionEnd(v,function(){r.safeSetState({status:S0},function(){r.props.onEntered(h,m)})})})},t.performExit=function(){var a=this,r=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Bx.findDOMNode(this);if(!r||hE.disabled){this.safeSetState({status:lh},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:o5},function(){a.props.onExiting(c),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:lh},function(){a.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,r){r=this.setNextCallback(r),this.setState(a,r)},t.setNextCallback=function(a){var r=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,r.nextCallback=null,a(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(a,r){this.setNextCallback(r);var o=this.props.nodeRef?this.props.nodeRef.current:Bx.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=f[0],m=f[1];this.props.addEndListener(h,m)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===o1)return null;var r=this.props,o=r.children;r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef;var c=_R(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qi.createElement(yb.Provider,{value:null},typeof o=="function"?o(a,c):qi.cloneElement(qi.Children.only(o),c))},e})(qi.Component);Hl.contextType=yb;Hl.propTypes={};function Wp(){}Hl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wp,onEntering:Wp,onEntered:Wp,onExit:Wp,onExiting:Wp,onExited:Wp};Hl.UNMOUNTED=o1;Hl.EXITED=lh;Hl.ENTERING=ch;Hl.ENTERED=S0;Hl.EXITING=o5;function gL(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fM(n,e){var t=function(r){return e&&F.isValidElement(r)?e(r):r},i=Object.create(null);return n&&F.Children.map(n,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function yL(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var i=Object.create(null),a=[];for(var r in n)r in e?a.length&&(i[r]=a,a=[]):a.push(r);var o,c={};for(var f in e){if(i[f])for(o=0;o<i[f].length;o++){var h=i[f][o];c[i[f][o]]=t(h)}c[f]=t(f)}for(o=0;o<a.length;o++)c[a[o]]=t(a[o]);return c}function gh(n,e,t){return t[e]!=null?t[e]:n.props[e]}function xL(n,e){return fM(n.children,function(t){return F.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:gh(t,"appear",n),enter:gh(t,"enter",n),exit:gh(t,"exit",n)})})}function vL(n,e,t){var i=fM(n.children),a=yL(e,i);return Object.keys(a).forEach(function(r){var o=a[r];if(F.isValidElement(o)){var c=r in e,f=r in i,h=e[r],m=F.isValidElement(h)&&!h.props.in;f&&(!c||m)?a[r]=F.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:gh(o,"exit",n),enter:gh(o,"enter",n)}):!f&&c&&!m?a[r]=F.cloneElement(o,{in:!1}):f&&c&&F.isValidElement(h)&&(a[r]=F.cloneElement(o,{onExited:t.bind(null,o),in:h.props.in,exit:gh(o,"exit",n),enter:gh(o,"enter",n)}))}}),a}var bL=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},_L={component:"div",childFactory:function(e){return e}},dM=(function(n){SR(e,n);function e(i,a){var r;r=n.call(this,i,a)||this;var o=r.handleExited.bind(gL(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,r){var o=r.children,c=r.handleExited,f=r.firstRender;return{children:f?xL(a,c):vL(a,o,c),firstRender:!1}},t.handleExited=function(a,r){var o=fM(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(r),this.mounted&&this.setState(function(c){var f=z0({},c.children);return delete f[a.key],{children:f}}))},t.render=function(){var a=this.props,r=a.component,o=a.childFactory,c=_R(a,["component","childFactory"]),f=this.state.contextValue,h=bL(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,r===null?qi.createElement(yb.Provider,{value:f},h):qi.createElement(yb.Provider,{value:f},qi.createElement(r,c,h))},e})(qi.Component);dM.propTypes={};dM.defaultProps=_L;const pE={};function MR(n,e){const t=F.useRef(pE);return t.current===pE&&(t.current=n(e)),t}const SL=[];function ML(n){F.useEffect(n,SL)}class I_{constructor(){fu(this,"currentId",null);fu(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});fu(this,"disposeEffect",()=>this.clear)}static create(){return new I_}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function kf(){const n=MR(I_.create).current;return ML(n.disposeEffect),n}const AR=n=>n.scrollTop;function I0(n,e){var r,o;const{timeout:t,easing:i,style:a={}}=n;return{duration:(r=a.transitionDuration)!=null?r:typeof t=="number"?t:t[e.mode]||0,easing:(o=a.transitionTimingFunction)!=null?o:typeof i=="object"?i[e.mode]:i,delay:a.transitionDelay}}function Gf(n){return typeof n=="string"}function wR(n,e,t){return n===void 0||Gf(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function ER(n,e,t){return typeof n=="function"?n(e,t):n}function _h(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function mE(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function TR(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:a,className:r}=n;if(!e){const y=en(t==null?void 0:t.className,r,a==null?void 0:a.className,i==null?void 0:i.className),b={...t==null?void 0:t.style,...a==null?void 0:a.style,...i==null?void 0:i.style},M={...t,...a,...i};return y.length>0&&(M.className=y),Object.keys(b).length>0&&(M.style=b),{props:M,internalRef:void 0}}const o=_h({...a,...i}),c=mE(i),f=mE(a),h=e(o),m=en(h==null?void 0:h.className,t==null?void 0:t.className,r,a==null?void 0:a.className,i==null?void 0:i.className),g={...h==null?void 0:h.style,...t==null?void 0:t.style,...a==null?void 0:a.style,...i==null?void 0:i.style},v={...h,...t,...f,...c};return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:h.ref}}function En(n,e){const{className:t,elementType:i,ownerState:a,externalForwardedProps:r,internalForwardedProps:o,shouldForwardComponentProp:c=!1,...f}=e,{component:h,slots:m={[n]:void 0},slotProps:g={[n]:void 0},...v}=r,y=m[n]||i,b=ER(g[n],a),{props:{component:M,...A},internalRef:S}=TR({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:b}),E=Va(S,b==null?void 0:b.ref,e.ref),w=n==="root"?M||h:M,R=wR(y,{...n==="root"&&!h&&!m[n]&&o,...n!=="root"&&!m[n]&&o,...A,...w&&!c&&{as:w},...w&&c&&{component:w},ref:E},a);return[y,R]}function AL(n){return $n("MuiCollapse",n)}Gn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const wL=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Kn(i,AL,t)},EL=Et("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(xn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),TL=Et("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),CL=Et("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),z1=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiCollapse"}),{addEndListener:a,children:r,className:o,collapsedSize:c="0px",component:f,easing:h,in:m,onEnter:g,onEntered:v,onEntering:y,onExit:b,onExited:M,onExiting:A,orientation:S="vertical",slots:E={},slotProps:w={},style:R,timeout:z=mR.standard,TransitionComponent:O=Hl,...P}=i,B={...i,orientation:S,collapsedSize:c},L=wL(B),D=sm(),V=kf(),U=F.useRef(null),G=F.useRef(),X=typeof c=="number"?`${c}px`:c,$=S==="horizontal",H=$?"width":"height",K=F.useRef(null),Q=Va(t,K),W=ne=>Oe=>{if(ne){const Ae=K.current;Oe===void 0?ne(Ae):ne(Ae,Oe)}},ce=()=>U.current?U.current[$?"clientWidth":"clientHeight"]:0,q=W((ne,Oe)=>{U.current&&$&&(U.current.style.position="absolute"),ne.style[H]=X,g&&g(ne,Oe)}),ie=W((ne,Oe)=>{const Ae=ce();U.current&&$&&(U.current.style.position="");const{duration:Ve,easing:Be}=I0({style:R,timeout:z,easing:h},{mode:"enter"});if(z==="auto"){const ke=D.transitions.getAutoHeightDuration(Ae);ne.style.transitionDuration=`${ke}ms`,G.current=ke}else ne.style.transitionDuration=typeof Ve=="string"?Ve:`${Ve}ms`;ne.style[H]=`${Ae}px`,ne.style.transitionTimingFunction=Be,y&&y(ne,Oe)}),fe=W((ne,Oe)=>{ne.style[H]="auto",v&&v(ne,Oe)}),ge=W(ne=>{ne.style[H]=`${ce()}px`,b&&b(ne)}),re=W(M),te=W(ne=>{const Oe=ce(),{duration:Ae,easing:Ve}=I0({style:R,timeout:z,easing:h},{mode:"exit"});if(z==="auto"){const Be=D.transitions.getAutoHeightDuration(Oe);ne.style.transitionDuration=`${Be}ms`,G.current=Be}else ne.style.transitionDuration=typeof Ae=="string"?Ae:`${Ae}ms`;ne.style[H]=X,ne.style.transitionTimingFunction=Ve,A&&A(ne)}),se=ne=>{z==="auto"&&V.start(G.current||0,ne),a&&a(K.current,ne)},ve={slots:E,slotProps:w,component:f},[ze,De]=En("root",{ref:Q,className:en(L.root,o),elementType:EL,externalForwardedProps:ve,ownerState:B,additionalProps:{style:{[$?"minWidth":"minHeight"]:X,...R}}}),[rt,nt]=En("wrapper",{ref:U,className:L.wrapper,elementType:TL,externalForwardedProps:ve,ownerState:B}),[Ge,Ee]=En("wrapperInner",{className:L.wrapperInner,elementType:CL,externalForwardedProps:ve,ownerState:B});return I.jsx(O,{in:m,onEnter:q,onEntered:fe,onEntering:ie,onExit:ge,onExited:re,onExiting:te,addEndListener:se,nodeRef:K,timeout:z==="auto"?null:z,...P,children:(ne,{ownerState:Oe,...Ae})=>{const Ve={...B,state:ne};return I.jsx(ze,{...De,className:en(De.className,{entered:L.entered,exited:!m&&X==="0px"&&L.hidden}[ne]),ownerState:Ve,...Ae,children:I.jsx(rt,{...nt,ownerState:Ve,children:I.jsx(Ge,{...Ee,ownerState:Ve,children:r})})})}})});z1&&(z1.muiSupportAuto=!0);function RL(n){return $n("MuiPaper",n)}Gn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const OL=n=>{const{square:e,elevation:t,variant:i,classes:a}=n,r={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return Kn(r,RL,a)},zL=Et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(xn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),hM=F.forwardRef(function(e,t){var y;const i=ti({props:e,name:"MuiPaper"}),a=sm(),{className:r,component:o="div",elevation:c=1,square:f=!1,variant:h="elevation",...m}=i,g={...i,component:o,elevation:c,square:f,variant:h},v=OL(g);return I.jsx(zL,{as:o,ownerState:g,className:en(v.root,r),ref:t,...m,style:{...h==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[c],...a.vars&&{"--Paper-overlay":(y=a.vars.overlays)==null?void 0:y[c]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${gb("#fff",a5(c))}, ${gb("#fff",a5(c))})`}},...m.style}})}),CR=F.createContext({});function NL(n){return $n("MuiAccordion",n)}const kx=Gn("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),DL=n=>{const{classes:e,square:t,expanded:i,disabled:a,disableGutters:r}=n;return Kn({root:["root",!t&&"rounded",i&&"expanded",a&&"disabled",!r&&"gutters"],heading:["heading"],region:["region"]},NL,e)},LL=Et(hM,{name:"MuiAccordion",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${kx.region}`]:e.region},e.root,!t.square&&e.rounded,!t.disableGutters&&e.gutters]}})(xn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{position:"relative",transition:n.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(n.vars||n).palette.divider,transition:n.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${kx.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${kx.disabled}`]:{backgroundColor:(n.vars||n).palette.action.disabledBackground}}}),xn(({theme:n})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(n.vars||n).shape.borderRadius,borderBottomRightRadius:(n.vars||n).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${kx.expanded}`]:{margin:"16px 0"}}}]}))),IL=Et("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),PL=Et("div",{name:"MuiAccordion",slot:"Region"})({}),UL=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiAccordion"}),{children:a,className:r,defaultExpanded:o=!1,disabled:c=!1,disableGutters:f=!1,expanded:h,onChange:m,square:g=!1,slots:v={},slotProps:y={},TransitionComponent:b,TransitionProps:M,...A}=i,[S,E]=D0({controlled:h,default:o,name:"Accordion",state:"expanded"}),w=F.useCallback(ce=>{E(!S),m&&m(ce,!S)},[S,m,E]),[R,...z]=F.Children.toArray(a),O=F.useMemo(()=>({expanded:S,disabled:c,disableGutters:f,toggle:w}),[S,c,f,w]),P={...i,square:g,disabled:c,disableGutters:f,expanded:S},B=DL(P),L={transition:b,...v},D={transition:M,...y},V={slots:L,slotProps:D},[U,G]=En("root",{elementType:LL,externalForwardedProps:{...V,...A},className:en(B.root,r),shouldForwardComponentProp:!0,ownerState:P,ref:t,additionalProps:{square:g}}),[X,$]=En("heading",{elementType:IL,externalForwardedProps:V,className:B.heading,ownerState:P}),[H,K]=En("transition",{elementType:z1,externalForwardedProps:V,ownerState:P}),[Q,W]=En("region",{elementType:PL,externalForwardedProps:V,ownerState:P,className:B.region,additionalProps:{"aria-labelledby":R.props.id,id:R.props["aria-controls"],role:"region"}});return I.jsxs(U,{...G,children:[I.jsx(X,{...$,children:I.jsx(CR.Provider,{value:O,children:R})}),I.jsx(H,{in:S,timeout:"auto",...K,children:I.jsx(Q,{...W,children:z})})]})});function BL(n){return $n("MuiAccordionDetails",n)}Gn("MuiAccordionDetails",["root"]);const kL=n=>{const{classes:e}=n;return Kn({root:["root"]},BL,e)},FL=Et("div",{name:"MuiAccordionDetails",slot:"Root"})(xn(({theme:n})=>({padding:n.spacing(1,2,2)}))),VL=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiAccordionDetails"}),{className:a,...r}=i,o=i,c=kL(o);return I.jsx(FL,{className:en(c.root,a),ref:t,ownerState:o,...r})});function P0(n){try{return n.matches(":focus-visible")}catch{}return!1}class xb{constructor(){fu(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new xb}static use(){const e=MR(xb.create).current,[t,i]=F.useState(!1);return e.shouldMount=t,e.setShouldMount=i,F.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=jL(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function HL(){return xb.use()}function jL(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t}function GL(n){const{className:e,classes:t,pulsate:i=!1,rippleX:a,rippleY:r,rippleSize:o,in:c,onExited:f,timeout:h}=n,[m,g]=F.useState(!1),v=en(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),y={width:o,height:o,top:-(o/2)+r,left:-(o/2)+a},b=en(t.child,m&&t.childLeaving,i&&t.childPulsate);return!c&&!m&&g(!0),F.useEffect(()=>{if(!c&&f!=null){const M=setTimeout(f,h);return()=>{clearTimeout(M)}}},[f,c,h]),I.jsx("span",{className:v,style:y,children:I.jsx("span",{className:b})})}const Xo=Gn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),l5=550,WL=80,YL=iy`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,XL=iy`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,qL=iy`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,$L=Et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),KL=Et(GL,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Xo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${YL};
    animation-duration: ${l5}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Xo.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Xo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Xo.childLeaving} {
    opacity: 0;
    animation-name: ${XL};
    animation-duration: ${l5}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Xo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${qL};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,ZL=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:r={},className:o,...c}=i,[f,h]=F.useState([]),m=F.useRef(0),g=F.useRef(null);F.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const v=F.useRef(!1),y=kf(),b=F.useRef(null),M=F.useRef(null),A=F.useCallback(R=>{const{pulsate:z,rippleX:O,rippleY:P,rippleSize:B,cb:L}=R;h(D=>[...D,I.jsx(KL,{classes:{ripple:en(r.ripple,Xo.ripple),rippleVisible:en(r.rippleVisible,Xo.rippleVisible),ripplePulsate:en(r.ripplePulsate,Xo.ripplePulsate),child:en(r.child,Xo.child),childLeaving:en(r.childLeaving,Xo.childLeaving),childPulsate:en(r.childPulsate,Xo.childPulsate)},timeout:l5,pulsate:z,rippleX:O,rippleY:P,rippleSize:B},m.current)]),m.current+=1,g.current=L},[r]),S=F.useCallback((R={},z={},O=()=>{})=>{const{pulsate:P=!1,center:B=a||z.pulsate,fakeElement:L=!1}=z;if((R==null?void 0:R.type)==="mousedown"&&v.current){v.current=!1;return}(R==null?void 0:R.type)==="touchstart"&&(v.current=!0);const D=L?null:M.current,V=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,G,X;if(B||R===void 0||R.clientX===0&&R.clientY===0||!R.clientX&&!R.touches)U=Math.round(V.width/2),G=Math.round(V.height/2);else{const{clientX:$,clientY:H}=R.touches&&R.touches.length>0?R.touches[0]:R;U=Math.round($-V.left),G=Math.round(H-V.top)}if(B)X=Math.sqrt((2*V.width**2+V.height**2)/3),X%2===0&&(X+=1);else{const $=Math.max(Math.abs((D?D.clientWidth:0)-U),U)*2+2,H=Math.max(Math.abs((D?D.clientHeight:0)-G),G)*2+2;X=Math.sqrt($**2+H**2)}R!=null&&R.touches?b.current===null&&(b.current=()=>{A({pulsate:P,rippleX:U,rippleY:G,rippleSize:X,cb:O})},y.start(WL,()=>{b.current&&(b.current(),b.current=null)})):A({pulsate:P,rippleX:U,rippleY:G,rippleSize:X,cb:O})},[a,A,y]),E=F.useCallback(()=>{S({},{pulsate:!0})},[S]),w=F.useCallback((R,z)=>{if(y.clear(),(R==null?void 0:R.type)==="touchend"&&b.current){b.current(),b.current=null,y.start(0,()=>{w(R,z)});return}b.current=null,h(O=>O.length>0?O.slice(1):O),g.current=z},[y]);return F.useImperativeHandle(t,()=>({pulsate:E,start:S,stop:w}),[E,S,w]),I.jsx($L,{className:en(Xo.root,r.root,o),ref:M,...c,children:I.jsx(dM,{component:null,exit:!0,children:f})})});function JL(n){return $n("MuiButtonBase",n)}const QL=Gn("MuiButtonBase",["root","disabled","focusVisible"]),e7=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:a}=n,o=Kn({root:["root",e&&"disabled",t&&"focusVisible"]},JL,a);return t&&i&&(o.root+=` ${i}`),o},t7=Et("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${QL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),U0=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:r=!1,children:o,className:c,component:f="button",disabled:h=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:v=!1,focusVisibleClassName:y,LinkComponent:b="a",onBlur:M,onClick:A,onContextMenu:S,onDragLeave:E,onFocus:w,onFocusVisible:R,onKeyDown:z,onKeyUp:O,onMouseDown:P,onMouseLeave:B,onMouseUp:L,onTouchEnd:D,onTouchMove:V,onTouchStart:U,tabIndex:G=0,TouchRippleProps:X,touchRippleRef:$,type:H,...K}=i,Q=F.useRef(null),W=HL(),ce=Va(W.ref,$),[q,ie]=F.useState(!1);h&&q&&ie(!1),F.useImperativeHandle(a,()=>({focusVisible:()=>{ie(!0),Q.current.focus()}}),[]);const fe=W.shouldMount&&!m&&!h;F.useEffect(()=>{q&&v&&!m&&W.pulsate()},[m,v,q,W]);const ge=hu(W,"start",P,g),re=hu(W,"stop",S,g),te=hu(W,"stop",E,g),se=hu(W,"stop",L,g),ve=hu(W,"stop",Ye=>{q&&Ye.preventDefault(),B&&B(Ye)},g),ze=hu(W,"start",U,g),De=hu(W,"stop",D,g),rt=hu(W,"stop",V,g),nt=hu(W,"stop",Ye=>{P0(Ye.target)||ie(!1),M&&M(Ye)},!1),Ge=Ls(Ye=>{Q.current||(Q.current=Ye.currentTarget),P0(Ye.target)&&(ie(!0),R&&R(Ye)),w&&w(Ye)}),Ee=()=>{const Ye=Q.current;return f&&f!=="button"&&!(Ye.tagName==="A"&&Ye.href)},ne=Ls(Ye=>{v&&!Ye.repeat&&q&&Ye.key===" "&&W.stop(Ye,()=>{W.start(Ye)}),Ye.target===Ye.currentTarget&&Ee()&&Ye.key===" "&&Ye.preventDefault(),z&&z(Ye),Ye.target===Ye.currentTarget&&Ee()&&Ye.key==="Enter"&&!h&&(Ye.preventDefault(),A&&A(Ye))}),Oe=Ls(Ye=>{v&&Ye.key===" "&&q&&!Ye.defaultPrevented&&W.stop(Ye,()=>{W.pulsate(Ye)}),O&&O(Ye),A&&Ye.target===Ye.currentTarget&&Ee()&&Ye.key===" "&&!Ye.defaultPrevented&&A(Ye)});let Ae=f;Ae==="button"&&(K.href||K.to)&&(Ae=b);const Ve={};Ae==="button"?(Ve.type=H===void 0?"button":H,Ve.disabled=h):(!K.href&&!K.to&&(Ve.role="button"),h&&(Ve["aria-disabled"]=h));const Be=Va(t,Q),ke={...i,centerRipple:r,component:f,disabled:h,disableRipple:m,disableTouchRipple:g,focusRipple:v,tabIndex:G,focusVisible:q},Ke=e7(ke);return I.jsxs(t7,{as:Ae,className:en(Ke.root,c),ownerState:ke,onBlur:nt,onClick:A,onContextMenu:re,onFocus:Ge,onKeyDown:ne,onKeyUp:Oe,onMouseDown:ge,onMouseLeave:ve,onMouseUp:se,onDragLeave:te,onTouchEnd:De,onTouchMove:rt,onTouchStart:ze,ref:Be,tabIndex:h?-1:G,type:H,...Ve,...K,children:[o,fe?I.jsx(ZL,{ref:ce,center:r,...X}):null]})});function hu(n,e,t,i=!1){return Ls(a=>(t&&t(a),i||n[e](a),!0))}function n7(n){return $n("MuiAccordionSummary",n)}const M0=Gn("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),i7=n=>{const{classes:e,expanded:t,disabled:i,disableGutters:a}=n;return Kn({root:["root",t&&"expanded",i&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",t&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",t&&"expanded"]},n7,e)},a7=Et(U0,{name:"MuiAccordionSummary",slot:"Root"})(xn(({theme:n})=>{const e={duration:n.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:n.spacing(0,2),transition:n.transitions.create(["min-height","background-color"],e),[`&.${M0.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${M0.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`&:hover:not(.${M0.disabled})`]:{cursor:"pointer"},variants:[{props:t=>!t.disableGutters,style:{[`&.${M0.expanded}`]:{minHeight:64}}}]}})),r7=Et("span",{name:"MuiAccordionSummary",slot:"Content"})(xn(({theme:n})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:n.transitions.create(["margin"],{duration:n.transitions.duration.shortest}),[`&.${M0.expanded}`]:{margin:"20px 0"}}}]}))),s7=Et("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(xn(({theme:n})=>({display:"flex",color:(n.vars||n).palette.action.active,transform:"rotate(0deg)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),[`&.${M0.expanded}`]:{transform:"rotate(180deg)"}}))),o7=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiAccordionSummary"}),{children:a,className:r,expandIcon:o,focusVisibleClassName:c,onClick:f,slots:h,slotProps:m,...g}=i,{disabled:v=!1,disableGutters:y,expanded:b,toggle:M}=F.useContext(CR),A=D=>{M&&M(D),f&&f(D)},S={...i,expanded:b,disabled:v,disableGutters:y},E=i7(S),w={slots:h,slotProps:m},[R,z]=En("root",{ref:t,shouldForwardComponentProp:!0,className:en(E.root,r),elementType:a7,externalForwardedProps:{...w,...g},ownerState:S,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:v,"aria-expanded":b,focusVisibleClassName:en(E.focusVisible,c)},getSlotProps:D=>({...D,onClick:V=>{var U;(U=D.onClick)==null||U.call(D,V),A(V)}})}),[O,P]=En("content",{className:E.content,elementType:r7,externalForwardedProps:w,ownerState:S}),[B,L]=En("expandIconWrapper",{className:E.expandIconWrapper,elementType:s7,externalForwardedProps:w,ownerState:S});return I.jsxs(R,{...z,children:[I.jsx(O,{...P,children:a}),o&&I.jsx(B,{...L,children:o})]})});function l7(n){return typeof n.main=="string"}function c7(n,e=[]){if(!l7(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function or(n=[]){return([,e])=>e&&c7(e,n)}function u7(n){return $n("MuiCircularProgress",n)}Gn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Tl=44,c5=iy`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,u5=iy`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,f7=typeof c5!="string"?K5`
        animation: ${c5} 1.4s linear infinite;
      `:null,d7=typeof u5!="string"?K5`
        animation: ${u5} 1.4s ease-in-out infinite;
      `:null,h7=n=>{const{classes:e,variant:t,color:i,disableShrink:a}=n,r={root:["root",t,`color${Mt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Mt(t)}`,a&&"circleDisableShrink"]};return Kn(r,u7,e)},p7=Et("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Mt(t.color)}`]]}})(xn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:f7||{animation:`${c5} 1.4s linear infinite`}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),m7=Et("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),g7=Et("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Mt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(xn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:d7||{animation:`${u5} 1.4s ease-in-out infinite`}}]}))),y7=Et("circle",{name:"MuiCircularProgress",slot:"Track"})(xn(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),Uu=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiCircularProgress"}),{className:a,color:r="primary",disableShrink:o=!1,enableTrackSlot:c=!1,size:f=40,style:h,thickness:m=3.6,value:g=0,variant:v="indeterminate",...y}=i,b={...i,color:r,disableShrink:o,size:f,thickness:m,value:g,variant:v,enableTrackSlot:c},M=h7(b),A={},S={},E={};if(v==="determinate"){const w=2*Math.PI*((Tl-m)/2);A.strokeDasharray=w.toFixed(3),E["aria-valuenow"]=Math.round(g),A.strokeDashoffset=`${((100-g)/100*w).toFixed(3)}px`,S.transform="rotate(-90deg)"}return I.jsx(p7,{className:en(M.root,a),style:{width:f,height:f,...S,...h},ownerState:b,ref:t,role:"progressbar",...E,...y,children:I.jsxs(m7,{className:M.svg,ownerState:b,viewBox:`${Tl/2} ${Tl/2} ${Tl} ${Tl}`,children:[c?I.jsx(y7,{className:M.track,ownerState:b,cx:Tl,cy:Tl,r:(Tl-m)/2,fill:"none",strokeWidth:m,"aria-hidden":"true"}):null,I.jsx(g7,{className:M.circle,style:A,ownerState:b,cx:Tl,cy:Tl,r:(Tl-m)/2,fill:"none",strokeWidth:m})]})})});function x7(n){return $n("MuiIconButton",n)}const gE=Gn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),v7=n=>{const{classes:e,disabled:t,color:i,edge:a,size:r,loading:o}=n,c={root:["root",o&&"loading",t&&"disabled",i!=="default"&&`color${Mt(i)}`,a&&`edge${Mt(a)}`,`size${Mt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Kn(c,x7,e)},b7=Et(U0,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Mt(t.color)}`],t.edge&&e[`edge${Mt(t.edge)}`],e[`size${Mt(t.size)}`]]}})(xn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),xn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${gE.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${gE.loading}`]:{color:"transparent"}}))),_7=Et("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Mo=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiIconButton"}),{edge:a=!1,children:r,className:o,color:c="default",disabled:f=!1,disableFocusRipple:h=!1,size:m="medium",id:g,loading:v=null,loadingIndicator:y,...b}=i,M=rm(g),A=y!=null?y:I.jsx(Uu,{"aria-labelledby":M,color:"inherit",size:16}),S={...i,edge:a,color:c,disabled:f,disableFocusRipple:h,loading:v,loadingIndicator:A,size:m},E=v7(S);return I.jsxs(b7,{id:v?M:g,className:en(E.root,o),centerRipple:!0,focusRipple:!h,disabled:f||v,ref:t,...b,ownerState:S,children:[typeof v=="boolean"&&I.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:I.jsx(_7,{className:E.loadingIndicator,ownerState:S,children:v&&A})}),r]})});function S7(n){return $n("MuiTypography",n)}Gn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const M7={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},A7=uL(),w7=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:a,variant:r,classes:o}=n,c={root:["root",r,n.align!=="inherit"&&`align${Mt(e)}`,t&&"gutterBottom",i&&"noWrap",a&&"paragraph"]};return Kn(c,S7,o)},E7=Et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Mt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(xn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(or()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Mt(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),yE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_t=F.forwardRef(function(e,t){const{color:i,...a}=ti({props:e,name:"MuiTypography"}),r=!M7[i],o=A7({...a,...r&&{color:i}}),{align:c="inherit",className:f,component:h,gutterBottom:m=!1,noWrap:g=!1,paragraph:v=!1,variant:y="body1",variantMapping:b=yE,...M}=o,A={...o,align:c,color:i,className:f,component:h,gutterBottom:m,noWrap:g,paragraph:v,variant:y,variantMapping:b},S=h||(v?"p":b[y]||yE[y])||"span",E=w7(A);return I.jsx(E7,{as:S,ref:t,className:en(E.root,f),...M,ownerState:A,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...M.style}})});var eo="top",Qo="bottom",el="right",to="left",pM="auto",oy=[eo,Qo,el,to],B0="start",N1="end",T7="clippingParents",RR="viewport",Fg="popper",C7="reference",xE=oy.reduce(function(n,e){return n.concat([e+"-"+B0,e+"-"+N1])},[]),OR=[].concat(oy,[pM]).reduce(function(n,e){return n.concat([e,e+"-"+B0,e+"-"+N1])},[]),R7="beforeRead",O7="read",z7="afterRead",N7="beforeMain",D7="main",L7="afterMain",I7="beforeWrite",P7="write",U7="afterWrite",B7=[R7,O7,z7,N7,D7,L7,I7,P7,U7];function Uc(n){return n?(n.nodeName||"").toLowerCase():null}function Ao(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Eh(n){var e=Ao(n).Element;return n instanceof e||n instanceof Element}function Zo(n){var e=Ao(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function mM(n){if(typeof ShadowRoot>"u")return!1;var e=Ao(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function k7(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},a=e.attributes[t]||{},r=e.elements[t];!Zo(r)||!Uc(r)||(Object.assign(r.style,i),Object.keys(a).forEach(function(o){var c=a[o];c===!1?r.removeAttribute(o):r.setAttribute(o,c===!0?"":c)}))})}function F7(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var a=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),c=o.reduce(function(f,h){return f[h]="",f},{});!Zo(a)||!Uc(a)||(Object.assign(a.style,c),Object.keys(r).forEach(function(f){a.removeAttribute(f)}))})}}const V7={name:"applyStyles",enabled:!0,phase:"write",fn:k7,effect:F7,requires:["computeStyles"]};function Lc(n){return n.split("-")[0]}var Sh=Math.max,vb=Math.min,k0=Math.round;function f5(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zR(){return!/^((?!chrome|android).)*safari/i.test(f5())}function F0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),a=1,r=1;e&&Zo(n)&&(a=n.offsetWidth>0&&k0(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&k0(i.height)/n.offsetHeight||1);var o=Eh(n)?Ao(n):window,c=o.visualViewport,f=!zR()&&t,h=(i.left+(f&&c?c.offsetLeft:0))/a,m=(i.top+(f&&c?c.offsetTop:0))/r,g=i.width/a,v=i.height/r;return{width:g,height:v,top:m,right:h+g,bottom:m+v,left:h,x:h,y:m}}function gM(n){var e=F0(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function NR(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&mM(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Bu(n){return Ao(n).getComputedStyle(n)}function H7(n){return["table","td","th"].indexOf(Uc(n))>=0}function Zf(n){return((Eh(n)?n.ownerDocument:n.document)||window.document).documentElement}function P_(n){return Uc(n)==="html"?n:n.assignedSlot||n.parentNode||(mM(n)?n.host:null)||Zf(n)}function vE(n){return!Zo(n)||Bu(n).position==="fixed"?null:n.offsetParent}function j7(n){var e=/firefox/i.test(f5()),t=/Trident/i.test(f5());if(t&&Zo(n)){var i=Bu(n);if(i.position==="fixed")return null}var a=P_(n);for(mM(a)&&(a=a.host);Zo(a)&&["html","body"].indexOf(Uc(a))<0;){var r=Bu(a);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return a;a=a.parentNode}return null}function ly(n){for(var e=Ao(n),t=vE(n);t&&H7(t)&&Bu(t).position==="static";)t=vE(t);return t&&(Uc(t)==="html"||Uc(t)==="body"&&Bu(t).position==="static")?e:t||j7(n)||e}function yM(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function h1(n,e,t){return Sh(n,vb(e,t))}function G7(n,e,t){var i=h1(n,e,t);return i>t?t:i}function DR(){return{top:0,right:0,bottom:0,left:0}}function LR(n){return Object.assign({},DR(),n)}function IR(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var W7=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,LR(typeof e!="number"?e:IR(e,oy))};function Y7(n){var e,t=n.state,i=n.name,a=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,c=Lc(t.placement),f=yM(c),h=[to,el].indexOf(c)>=0,m=h?"height":"width";if(!(!r||!o)){var g=W7(a.padding,t),v=gM(r),y=f==="y"?eo:to,b=f==="y"?Qo:el,M=t.rects.reference[m]+t.rects.reference[f]-o[f]-t.rects.popper[m],A=o[f]-t.rects.reference[f],S=ly(r),E=S?f==="y"?S.clientHeight||0:S.clientWidth||0:0,w=M/2-A/2,R=g[y],z=E-v[m]-g[b],O=E/2-v[m]/2+w,P=h1(R,O,z),B=f;t.modifiersData[i]=(e={},e[B]=P,e.centerOffset=P-O,e)}}function X7(n){var e=n.state,t=n.options,i=t.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||NR(e.elements.popper,a)&&(e.elements.arrow=a))}const q7={name:"arrow",enabled:!0,phase:"main",fn:Y7,effect:X7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function V0(n){return n.split("-")[1]}var $7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K7(n,e){var t=n.x,i=n.y,a=e.devicePixelRatio||1;return{x:k0(t*a)/a||0,y:k0(i*a)/a||0}}function bE(n){var e,t=n.popper,i=n.popperRect,a=n.placement,r=n.variation,o=n.offsets,c=n.position,f=n.gpuAcceleration,h=n.adaptive,m=n.roundOffsets,g=n.isFixed,v=o.x,y=v===void 0?0:v,b=o.y,M=b===void 0?0:b,A=typeof m=="function"?m({x:y,y:M}):{x:y,y:M};y=A.x,M=A.y;var S=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),w=to,R=eo,z=window;if(h){var O=ly(t),P="clientHeight",B="clientWidth";if(O===Ao(t)&&(O=Zf(t),Bu(O).position!=="static"&&c==="absolute"&&(P="scrollHeight",B="scrollWidth")),O=O,a===eo||(a===to||a===el)&&r===N1){R=Qo;var L=g&&O===z&&z.visualViewport?z.visualViewport.height:O[P];M-=L-i.height,M*=f?1:-1}if(a===to||(a===eo||a===Qo)&&r===N1){w=el;var D=g&&O===z&&z.visualViewport?z.visualViewport.width:O[B];y-=D-i.width,y*=f?1:-1}}var V=Object.assign({position:c},h&&$7),U=m===!0?K7({x:y,y:M},Ao(t)):{x:y,y:M};if(y=U.x,M=U.y,f){var G;return Object.assign({},V,(G={},G[R]=E?"0":"",G[w]=S?"0":"",G.transform=(z.devicePixelRatio||1)<=1?"translate("+y+"px, "+M+"px)":"translate3d("+y+"px, "+M+"px, 0)",G))}return Object.assign({},V,(e={},e[R]=E?M+"px":"",e[w]=S?y+"px":"",e.transform="",e))}function Z7(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,c=t.roundOffsets,f=c===void 0?!0:c,h={placement:Lc(e.placement),variation:V0(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bE(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bE(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const J7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z7,data:{}};var Fx={passive:!0};function Q7(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,r=a===void 0?!0:a,o=i.resize,c=o===void 0?!0:o,f=Ao(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(m){m.addEventListener("scroll",t.update,Fx)}),c&&f.addEventListener("resize",t.update,Fx),function(){r&&h.forEach(function(m){m.removeEventListener("scroll",t.update,Fx)}),c&&f.removeEventListener("resize",t.update,Fx)}}const eI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Q7,data:{}};var tI={left:"right",right:"left",bottom:"top",top:"bottom"};function tb(n){return n.replace(/left|right|bottom|top/g,function(e){return tI[e]})}var nI={start:"end",end:"start"};function _E(n){return n.replace(/start|end/g,function(e){return nI[e]})}function xM(n){var e=Ao(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function vM(n){return F0(Zf(n)).left+xM(n).scrollLeft}function iI(n,e){var t=Ao(n),i=Zf(n),a=t.visualViewport,r=i.clientWidth,o=i.clientHeight,c=0,f=0;if(a){r=a.width,o=a.height;var h=zR();(h||!h&&e==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}return{width:r,height:o,x:c+vM(n),y:f}}function aI(n){var e,t=Zf(n),i=xM(n),a=(e=n.ownerDocument)==null?void 0:e.body,r=Sh(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Sh(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-i.scrollLeft+vM(n),f=-i.scrollTop;return Bu(a||t).direction==="rtl"&&(c+=Sh(t.clientWidth,a?a.clientWidth:0)-r),{width:r,height:o,x:c,y:f}}function bM(n){var e=Bu(n),t=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+i)}function PR(n){return["html","body","#document"].indexOf(Uc(n))>=0?n.ownerDocument.body:Zo(n)&&bM(n)?n:PR(P_(n))}function p1(n,e){var t;e===void 0&&(e=[]);var i=PR(n),a=i===((t=n.ownerDocument)==null?void 0:t.body),r=Ao(i),o=a?[r].concat(r.visualViewport||[],bM(i)?i:[]):i,c=e.concat(o);return a?c:c.concat(p1(P_(o)))}function d5(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function rI(n,e){var t=F0(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function SE(n,e,t){return e===RR?d5(iI(n,t)):Eh(e)?rI(e,t):d5(aI(Zf(n)))}function sI(n){var e=p1(P_(n)),t=["absolute","fixed"].indexOf(Bu(n).position)>=0,i=t&&Zo(n)?ly(n):n;return Eh(i)?e.filter(function(a){return Eh(a)&&NR(a,i)&&Uc(a)!=="body"}):[]}function oI(n,e,t,i){var a=e==="clippingParents"?sI(n):[].concat(e),r=[].concat(a,[t]),o=r[0],c=r.reduce(function(f,h){var m=SE(n,h,i);return f.top=Sh(m.top,f.top),f.right=vb(m.right,f.right),f.bottom=vb(m.bottom,f.bottom),f.left=Sh(m.left,f.left),f},SE(n,o,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function UR(n){var e=n.reference,t=n.element,i=n.placement,a=i?Lc(i):null,r=i?V0(i):null,o=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(a){case eo:f={x:o,y:e.y-t.height};break;case Qo:f={x:o,y:e.y+e.height};break;case el:f={x:e.x+e.width,y:c};break;case to:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var h=a?yM(a):null;if(h!=null){var m=h==="y"?"height":"width";switch(r){case B0:f[h]=f[h]-(e[m]/2-t[m]/2);break;case N1:f[h]=f[h]+(e[m]/2-t[m]/2);break}}return f}function D1(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=i===void 0?n.placement:i,r=t.strategy,o=r===void 0?n.strategy:r,c=t.boundary,f=c===void 0?T7:c,h=t.rootBoundary,m=h===void 0?RR:h,g=t.elementContext,v=g===void 0?Fg:g,y=t.altBoundary,b=y===void 0?!1:y,M=t.padding,A=M===void 0?0:M,S=LR(typeof A!="number"?A:IR(A,oy)),E=v===Fg?C7:Fg,w=n.rects.popper,R=n.elements[b?E:v],z=oI(Eh(R)?R:R.contextElement||Zf(n.elements.popper),f,m,o),O=F0(n.elements.reference),P=UR({reference:O,element:w,placement:a}),B=d5(Object.assign({},w,P)),L=v===Fg?B:O,D={top:z.top-L.top+S.top,bottom:L.bottom-z.bottom+S.bottom,left:z.left-L.left+S.left,right:L.right-z.right+S.right},V=n.modifiersData.offset;if(v===Fg&&V){var U=V[a];Object.keys(D).forEach(function(G){var X=[el,Qo].indexOf(G)>=0?1:-1,$=[eo,Qo].indexOf(G)>=0?"y":"x";D[G]+=U[$]*X})}return D}function lI(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=t.boundary,r=t.rootBoundary,o=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,h=f===void 0?OR:f,m=V0(i),g=m?c?xE:xE.filter(function(b){return V0(b)===m}):oy,v=g.filter(function(b){return h.indexOf(b)>=0});v.length===0&&(v=g);var y=v.reduce(function(b,M){return b[M]=D1(n,{placement:M,boundary:a,rootBoundary:r,padding:o})[Lc(M)],b},{});return Object.keys(y).sort(function(b,M){return y[b]-y[M]})}function cI(n){if(Lc(n)===pM)return[];var e=tb(n);return[_E(n),e,_E(e)]}function uI(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,r=a===void 0?!0:a,o=t.altAxis,c=o===void 0?!0:o,f=t.fallbackPlacements,h=t.padding,m=t.boundary,g=t.rootBoundary,v=t.altBoundary,y=t.flipVariations,b=y===void 0?!0:y,M=t.allowedAutoPlacements,A=e.options.placement,S=Lc(A),E=S===A,w=f||(E||!b?[tb(A)]:cI(A)),R=[A].concat(w).reduce(function(ge,re){return ge.concat(Lc(re)===pM?lI(e,{placement:re,boundary:m,rootBoundary:g,padding:h,flipVariations:b,allowedAutoPlacements:M}):re)},[]),z=e.rects.reference,O=e.rects.popper,P=new Map,B=!0,L=R[0],D=0;D<R.length;D++){var V=R[D],U=Lc(V),G=V0(V)===B0,X=[eo,Qo].indexOf(U)>=0,$=X?"width":"height",H=D1(e,{placement:V,boundary:m,rootBoundary:g,altBoundary:v,padding:h}),K=X?G?el:to:G?Qo:eo;z[$]>O[$]&&(K=tb(K));var Q=tb(K),W=[];if(r&&W.push(H[U]<=0),c&&W.push(H[K]<=0,H[Q]<=0),W.every(function(ge){return ge})){L=V,B=!1;break}P.set(V,W)}if(B)for(var ce=b?3:1,q=function(re){var te=R.find(function(se){var ve=P.get(se);if(ve)return ve.slice(0,re).every(function(ze){return ze})});if(te)return L=te,"break"},ie=ce;ie>0;ie--){var fe=q(ie);if(fe==="break")break}e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}}const fI={name:"flip",enabled:!0,phase:"main",fn:uI,requiresIfExists:["offset"],data:{_skip:!1}};function ME(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function AE(n){return[eo,el,Qo,to].some(function(e){return n[e]>=0})}function dI(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,r=e.modifiersData.preventOverflow,o=D1(e,{elementContext:"reference"}),c=D1(e,{altBoundary:!0}),f=ME(o,i),h=ME(c,a,r),m=AE(f),g=AE(h);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const hI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dI};function pI(n,e,t){var i=Lc(n),a=[to,eo].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],c=r[1];return o=o||0,c=(c||0)*a,[to,el].indexOf(i)>=0?{x:c,y:o}:{x:o,y:c}}function mI(n){var e=n.state,t=n.options,i=n.name,a=t.offset,r=a===void 0?[0,0]:a,o=OR.reduce(function(m,g){return m[g]=pI(g,e.rects,r),m},{}),c=o[e.placement],f=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=o}const gI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mI};function yI(n){var e=n.state,t=n.name;e.modifiersData[t]=UR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const xI={name:"popperOffsets",enabled:!0,phase:"read",fn:yI,data:{}};function vI(n){return n==="x"?"y":"x"}function bI(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,r=a===void 0?!0:a,o=t.altAxis,c=o===void 0?!1:o,f=t.boundary,h=t.rootBoundary,m=t.altBoundary,g=t.padding,v=t.tether,y=v===void 0?!0:v,b=t.tetherOffset,M=b===void 0?0:b,A=D1(e,{boundary:f,rootBoundary:h,padding:g,altBoundary:m}),S=Lc(e.placement),E=V0(e.placement),w=!E,R=yM(S),z=vI(R),O=e.modifiersData.popperOffsets,P=e.rects.reference,B=e.rects.popper,L=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,D=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(O){if(r){var G,X=R==="y"?eo:to,$=R==="y"?Qo:el,H=R==="y"?"height":"width",K=O[R],Q=K+A[X],W=K-A[$],ce=y?-B[H]/2:0,q=E===B0?P[H]:B[H],ie=E===B0?-B[H]:-P[H],fe=e.elements.arrow,ge=y&&fe?gM(fe):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DR(),te=re[X],se=re[$],ve=h1(0,P[H],ge[H]),ze=w?P[H]/2-ce-ve-te-D.mainAxis:q-ve-te-D.mainAxis,De=w?-P[H]/2+ce+ve+se+D.mainAxis:ie+ve+se+D.mainAxis,rt=e.elements.arrow&&ly(e.elements.arrow),nt=rt?R==="y"?rt.clientTop||0:rt.clientLeft||0:0,Ge=(G=V==null?void 0:V[R])!=null?G:0,Ee=K+ze-Ge-nt,ne=K+De-Ge,Oe=h1(y?vb(Q,Ee):Q,K,y?Sh(W,ne):W);O[R]=Oe,U[R]=Oe-K}if(c){var Ae,Ve=R==="x"?eo:to,Be=R==="x"?Qo:el,ke=O[z],Ke=z==="y"?"height":"width",Ye=ke+A[Ve],de=ke-A[Be],Z=[eo,to].indexOf(S)!==-1,xe=(Ae=V==null?void 0:V[z])!=null?Ae:0,Me=Z?Ye:ke-P[Ke]-B[Ke]-xe+D.altAxis,Ne=Z?ke+P[Ke]+B[Ke]-xe-D.altAxis:de,Te=y&&Z?G7(Me,ke,Ne):h1(y?Me:Ye,ke,y?Ne:de);O[z]=Te,U[z]=Te-ke}e.modifiersData[i]=U}}const _I={name:"preventOverflow",enabled:!0,phase:"main",fn:bI,requiresIfExists:["offset"]};function SI(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function MI(n){return n===Ao(n)||!Zo(n)?xM(n):SI(n)}function AI(n){var e=n.getBoundingClientRect(),t=k0(e.width)/n.offsetWidth||1,i=k0(e.height)/n.offsetHeight||1;return t!==1||i!==1}function wI(n,e,t){t===void 0&&(t=!1);var i=Zo(e),a=Zo(e)&&AI(e),r=Zf(e),o=F0(n,a,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!t)&&((Uc(e)!=="body"||bM(r))&&(c=MI(e)),Zo(e)?(f=F0(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):r&&(f.x=vM(r))),{x:o.left+c.scrollLeft-f.x,y:o.top+c.scrollTop-f.y,width:o.width,height:o.height}}function EI(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function a(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&a(f)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||a(r)}),i}function TI(n){var e=EI(n);return B7.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}function CI(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function RI(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var wE={placement:"bottom",modifiers:[],strategy:"absolute"};function EE(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function OI(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,a=e.defaultOptions,r=a===void 0?wE:a;return function(c,f,h){h===void 0&&(h=r);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},wE,r),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},g=[],v=!1,y={state:m,setOptions:function(S){var E=typeof S=="function"?S(m.options):S;M(),m.options=Object.assign({},r,m.options,E),m.scrollParents={reference:Eh(c)?p1(c):c.contextElement?p1(c.contextElement):[],popper:p1(f)};var w=TI(RI([].concat(i,m.options.modifiers)));return m.orderedModifiers=w.filter(function(R){return R.enabled}),b(),y.update()},forceUpdate:function(){if(!v){var S=m.elements,E=S.reference,w=S.popper;if(EE(E,w)){m.rects={reference:wI(E,ly(w),m.options.strategy==="fixed"),popper:gM(w)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(D){return m.modifiersData[D.name]=Object.assign({},D.data)});for(var R=0;R<m.orderedModifiers.length;R++){if(m.reset===!0){m.reset=!1,R=-1;continue}var z=m.orderedModifiers[R],O=z.fn,P=z.options,B=P===void 0?{}:P,L=z.name;typeof O=="function"&&(m=O({state:m,options:B,name:L,instance:y})||m)}}}},update:CI(function(){return new Promise(function(A){y.forceUpdate(),A(m)})}),destroy:function(){M(),v=!0}};if(!EE(c,f))return y;y.setOptions(h).then(function(A){!v&&h.onFirstUpdate&&h.onFirstUpdate(A)});function b(){m.orderedModifiers.forEach(function(A){var S=A.name,E=A.options,w=E===void 0?{}:E,R=A.effect;if(typeof R=="function"){var z=R({state:m,name:S,instance:y,options:w}),O=function(){};g.push(z||O)}})}function M(){g.forEach(function(A){return A()}),g=[]}return y}}var zI=[eI,xI,J7,V7,gI,fI,_I,q7,hI],NI=OI({defaultModifiers:zI});function wc(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:a=!1,...r}=n,o=a?{}:ER(t,i),{props:c,internalRef:f}=TR({...r,externalSlotProps:o}),h=Va(f,o==null?void 0:o.ref,(g=n.additionalProps)==null?void 0:g.ref);return wR(e,{...c,ref:h},i)}function Lh(n){var e;return parseInt(F.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function DI(n){return typeof n=="function"?n():n}const BR=F.forwardRef(function(e,t){const{children:i,container:a,disablePortal:r=!1}=e,[o,c]=F.useState(null),f=Va(F.isValidElement(i)?Lh(i):null,t);if(Jo(()=>{r||c(DI(a)||document.body)},[a,r]),Jo(()=>{if(o&&!r)return dE(t,o),()=>{dE(t,null)}},[t,o,r]),r){if(F.isValidElement(i)){const h={ref:f};return F.cloneElement(i,h)}return i}return o&&L0.createPortal(i,o)});function LI(n){return $n("MuiPopper",n)}Gn("MuiPopper",["root"]);function II(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function h5(n){return typeof n=="function"?n():n}function PI(n){return n.nodeType!==void 0}const UI=n=>{const{classes:e}=n;return Kn({root:["root"]},LI,e)},BI={},kI=F.forwardRef(function(e,t){var $;const{anchorEl:i,children:a,direction:r,disablePortal:o,modifiers:c,open:f,placement:h,popperOptions:m,popperRef:g,slotProps:v={},slots:y={},TransitionProps:b,ownerState:M,...A}=e,S=F.useRef(null),E=Va(S,t),w=F.useRef(null),R=Va(w,g),z=F.useRef(R);Jo(()=>{z.current=R},[R]),F.useImperativeHandle(g,()=>w.current,[]);const O=II(h,r),[P,B]=F.useState(O),[L,D]=F.useState(h5(i));F.useEffect(()=>{w.current&&w.current.forceUpdate()}),F.useEffect(()=>{i&&D(h5(i))},[i]),Jo(()=>{if(!L||!f)return;const H=W=>{B(W.placement)};let K=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{H(W)}}];c!=null&&(K=K.concat(c)),m&&m.modifiers!=null&&(K=K.concat(m.modifiers));const Q=NI(L,S.current,{placement:O,...m,modifiers:K});return z.current(Q),()=>{Q.destroy(),z.current(null)}},[L,o,c,f,m,O]);const V={placement:P};b!==null&&(V.TransitionProps=b);const U=UI(e),G=($=y.root)!=null?$:"div",X=wc({elementType:G,externalSlotProps:v.root,externalForwardedProps:A,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:U.root});return I.jsx(G,{...X,children:typeof a=="function"?a(V):a})}),FI=F.forwardRef(function(e,t){const{anchorEl:i,children:a,container:r,direction:o="ltr",disablePortal:c=!1,keepMounted:f=!1,modifiers:h,open:m,placement:g="bottom",popperOptions:v=BI,popperRef:y,style:b,transition:M=!1,slotProps:A={},slots:S={},...E}=e,[w,R]=F.useState(!0),z=()=>{R(!1)},O=()=>{R(!0)};if(!f&&!m&&(!M||w))return null;let P;if(r)P=r;else if(i){const D=h5(i);P=D&&PI(D)?Qa(D).body:Qa(null).body}const B=!m&&f&&(!M||w)?"none":void 0,L=M?{in:m,onEnter:z,onExited:O}:void 0;return I.jsx(BR,{disablePortal:c,container:P,children:I.jsx(kI,{anchorEl:i,direction:o,disablePortal:c,modifiers:h,ref:t,open:M?!w:m,placement:g,popperOptions:v,popperRef:y,slotProps:A,slots:S,...E,style:{position:"fixed",top:0,left:0,display:B,...b},TransitionProps:L,children:a})})}),VI=Et(FI,{name:"MuiPopper",slot:"Root"})({}),kR=F.forwardRef(function(e,t){var P;const i=N_(),a=ti({props:e,name:"MuiPopper"}),{anchorEl:r,component:o,components:c,componentsProps:f,container:h,disablePortal:m,keepMounted:g,modifiers:v,open:y,placement:b,popperOptions:M,popperRef:A,transition:S,slots:E,slotProps:w,...R}=a,z=(P=E==null?void 0:E.root)!=null?P:c==null?void 0:c.Root,O={anchorEl:r,container:h,disablePortal:m,keepMounted:g,modifiers:v,open:y,placement:b,popperOptions:M,popperRef:A,transition:S,...R};return I.jsx(VI,{as:o,direction:i?"rtl":"ltr",slots:{root:z},slotProps:w!=null?w:f,...O,ref:t})}),HI=Vn(I.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function jI(n){return $n("MuiChip",n)}const ai=Gn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),GI=n=>{const{classes:e,disabled:t,size:i,color:a,iconColor:r,onDelete:o,clickable:c,variant:f}=n,h={root:["root",f,t&&"disabled",`size${Mt(i)}`,`color${Mt(a)}`,c&&"clickable",c&&`clickableColor${Mt(a)}`,o&&"deletable",o&&`deletableColor${Mt(a)}`,`${f}${Mt(a)}`],label:["label",`label${Mt(i)}`],avatar:["avatar",`avatar${Mt(i)}`,`avatarColor${Mt(a)}`],icon:["icon",`icon${Mt(i)}`,`iconColor${Mt(r)}`],deleteIcon:["deleteIcon",`deleteIcon${Mt(i)}`,`deleteIconColor${Mt(a)}`,`deleteIcon${Mt(f)}Color${Mt(a)}`]};return Kn(h,jI,e)},WI=Et("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:a,clickable:r,onDelete:o,size:c,variant:f}=t;return[{[`& .${ai.avatar}`]:e.avatar},{[`& .${ai.avatar}`]:e[`avatar${Mt(c)}`]},{[`& .${ai.avatar}`]:e[`avatarColor${Mt(i)}`]},{[`& .${ai.icon}`]:e.icon},{[`& .${ai.icon}`]:e[`icon${Mt(c)}`]},{[`& .${ai.icon}`]:e[`iconColor${Mt(a)}`]},{[`& .${ai.deleteIcon}`]:e.deleteIcon},{[`& .${ai.deleteIcon}`]:e[`deleteIcon${Mt(c)}`]},{[`& .${ai.deleteIcon}`]:e[`deleteIconColor${Mt(i)}`]},{[`& .${ai.deleteIcon}`]:e[`deleteIcon${Mt(f)}Color${Mt(i)}`]},e.root,e[`size${Mt(c)}`],e[`color${Mt(i)}`],r&&e.clickable,r&&i!=="default"&&e[`clickableColor${Mt(i)})`],o&&e.deletable,o&&i!=="default"&&e[`deletableColor${Mt(i)}`],e[f],e[`${f}${Mt(i)}`]]}})(xn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ai.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ai.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${ai.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${ai.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${ai.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${ai.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ai.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ai.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ai.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(or(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${ai.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${ai.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${ai.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ai.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(or(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${ai.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${ai.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(or(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${ai.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${ai.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${ai.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${ai.avatar}`]:{marginLeft:4},[`& .${ai.avatarSmall}`]:{marginLeft:2},[`& .${ai.icon}`]:{marginLeft:4},[`& .${ai.iconSmall}`]:{marginLeft:2},[`& .${ai.deleteIcon}`]:{marginRight:5},[`& .${ai.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(or()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${ai.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${ai.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${ai.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),YI=Et("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${Mt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function TE(n){return n.key==="Backspace"||n.key==="Delete"}const H0=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiChip"}),{avatar:a,className:r,clickable:o,color:c="default",component:f,deleteIcon:h,disabled:m=!1,icon:g,label:v,onClick:y,onDelete:b,onKeyDown:M,onKeyUp:A,size:S="medium",variant:E="filled",tabIndex:w,skipFocusWhenDisabled:R=!1,slots:z={},slotProps:O={},...P}=i,B=F.useRef(null),L=Va(B,t),D=te=>{te.stopPropagation(),b&&b(te)},V=te=>{te.currentTarget===te.target&&TE(te)&&te.preventDefault(),M&&M(te)},U=te=>{te.currentTarget===te.target&&b&&TE(te)&&b(te),A&&A(te)},G=o!==!1&&y?!0:o,X=G||b?U0:f||"div",$={...i,component:X,disabled:m,size:S,color:c,iconColor:F.isValidElement(g)&&g.props.color||c,onDelete:!!b,clickable:G,variant:E},H=GI($),K=X===U0?{component:f||"div",focusVisibleClassName:H.focusVisible,...b&&{disableRipple:!0}}:{};let Q=null;b&&(Q=h&&F.isValidElement(h)?F.cloneElement(h,{className:en(h.props.className,H.deleteIcon),onClick:D}):I.jsx(HI,{className:H.deleteIcon,onClick:D}));let W=null;a&&F.isValidElement(a)&&(W=F.cloneElement(a,{className:en(H.avatar,a.props.className)}));let ce=null;g&&F.isValidElement(g)&&(ce=F.cloneElement(g,{className:en(H.icon,g.props.className)}));const q={slots:z,slotProps:O},[ie,fe]=En("root",{elementType:WI,externalForwardedProps:{...q,...P},ownerState:$,shouldForwardComponentProp:!0,ref:L,className:en(H.root,r),additionalProps:{disabled:G&&m?!0:void 0,tabIndex:R&&m?-1:w,...K},getSlotProps:te=>({...te,onClick:se=>{var ve;(ve=te.onClick)==null||ve.call(te,se),y==null||y(se)},onKeyDown:se=>{var ve;(ve=te.onKeyDown)==null||ve.call(te,se),V(se)},onKeyUp:se=>{var ve;(ve=te.onKeyUp)==null||ve.call(te,se),U(se)}})}),[ge,re]=En("label",{elementType:YI,externalForwardedProps:q,ownerState:$,className:H.label});return I.jsxs(ie,{as:X,...fe,children:[W||ce,I.jsx(ge,{...re,children:v}),Q]})});function Vx(n){return parseInt(n,10)||0}const XI={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function qI(n){for(const e in n)return!1;return!0}function CE(n){return qI(n)||n.outerHeightStyle===0&&!n.overflowing}const $I=F.forwardRef(function(e,t){const{onChange:i,maxRows:a,minRows:r=1,style:o,value:c,...f}=e,{current:h}=F.useRef(c!=null),m=F.useRef(null),g=Va(t,m),v=F.useRef(null),y=F.useRef(null),b=F.useCallback(()=>{const w=m.current,R=y.current;if(!w||!R)return;const O=Pu(w).getComputedStyle(w);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};R.style.width=O.width,R.value=w.value||e.placeholder||"x",R.value.slice(-1)===`
`&&(R.value+=" ");const P=O.boxSizing,B=Vx(O.paddingBottom)+Vx(O.paddingTop),L=Vx(O.borderBottomWidth)+Vx(O.borderTopWidth),D=R.scrollHeight;R.value="x";const V=R.scrollHeight;let U=D;r&&(U=Math.max(Number(r)*V,U)),a&&(U=Math.min(Number(a)*V,U)),U=Math.max(U,V);const G=U+(P==="border-box"?B+L:0),X=Math.abs(U-D)<=1;return{outerHeightStyle:G,overflowing:X}},[a,r,e.placeholder]),M=Ls(()=>{const w=m.current,R=b();if(!w||!R||CE(R))return!1;const z=R.outerHeightStyle;return v.current!=null&&v.current!==z}),A=F.useCallback(()=>{const w=m.current,R=b();if(!w||!R||CE(R))return;const z=R.outerHeightStyle;v.current!==z&&(v.current=z,w.style.height=`${z}px`),w.style.overflow=R.overflowing?"hidden":""},[b]),S=F.useRef(-1);Jo(()=>{const w=vR(A),R=m==null?void 0:m.current;if(!R)return;const z=Pu(R);z.addEventListener("resize",w);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(()=>{M()&&(O.unobserve(R),cancelAnimationFrame(S.current),A(),S.current=requestAnimationFrame(()=>{O.observe(R)}))}),O.observe(R)),()=>{w.clear(),cancelAnimationFrame(S.current),z.removeEventListener("resize",w),O&&O.disconnect()}},[b,A,M]),Jo(()=>{A()});const E=w=>{h||A();const R=w.target,z=R.value.length,O=R.value.endsWith(`
`),P=R.selectionStart===z;O&&P&&R.setSelectionRange(z,z),i&&i(w)};return I.jsxs(F.Fragment,{children:[I.jsx("textarea",{value:c,onChange:E,ref:g,rows:r,style:o,...f}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:{...XI.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Ih({props:n,states:e,muiFormControl:t}){return e.reduce((i,a)=>(i[a]=n[a],t&&typeof n[a]>"u"&&(i[a]=t[a]),i),{})}const _M=F.createContext(void 0);function Jf(){return F.useContext(_M)}function RE(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function bb(n,e=!1){return n&&(RE(n.value)&&n.value!==""||e&&RE(n.defaultValue)&&n.defaultValue!=="")}function KI(n){return n.startAdornment}function ZI(n){return $n("MuiInputBase",n)}const j0=Gn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var OE;const U_=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Mt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},B_=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},JI=n=>{const{classes:e,color:t,disabled:i,error:a,endAdornment:r,focused:o,formControl:c,fullWidth:f,hiddenLabel:h,multiline:m,readOnly:g,size:v,startAdornment:y,type:b}=n,M={root:["root",`color${Mt(t)}`,i&&"disabled",a&&"error",f&&"fullWidth",o&&"focused",c&&"formControl",v&&v!=="medium"&&`size${Mt(v)}`,m&&"multiline",y&&"adornedStart",r&&"adornedEnd",h&&"hiddenLabel",g&&"readOnly"],input:["input",i&&"disabled",b==="search"&&"inputTypeSearch",m&&"inputMultiline",v==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",y&&"inputAdornedStart",r&&"inputAdornedEnd",g&&"readOnly"]};return Kn(M,ZI,e)},k_=Et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:U_})(xn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${j0.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),F_=Et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:B_})(xn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},a=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${j0.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${j0.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:r})=>!r.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:r})=>r.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),zE=uM({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),V_=F.forwardRef(function(e,t){var dt;const i=ti({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:r,autoFocus:o,className:c,color:f,components:h={},componentsProps:m={},defaultValue:g,disabled:v,disableInjectingGlobalStyles:y,endAdornment:b,error:M,fullWidth:A=!1,id:S,inputComponent:E="input",inputProps:w={},inputRef:R,margin:z,maxRows:O,minRows:P,multiline:B=!1,name:L,onBlur:D,onChange:V,onClick:U,onFocus:G,onKeyDown:X,onKeyUp:$,placeholder:H,readOnly:K,renderSuffix:Q,rows:W,size:ce,slotProps:q={},slots:ie={},startAdornment:fe,type:ge="text",value:re,...te}=i,se=w.value!=null?w.value:re,{current:ve}=F.useRef(se!=null),ze=F.useRef(),De=F.useCallback(ot=>{},[]),rt=Va(ze,R,w.ref,De),[nt,Ge]=F.useState(!1),Ee=Jf(),ne=Ih({props:i,muiFormControl:Ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=Ee?Ee.focused:nt,F.useEffect(()=>{!Ee&&v&&nt&&(Ge(!1),D&&D())},[Ee,v,nt,D]);const Oe=Ee&&Ee.onFilled,Ae=Ee&&Ee.onEmpty,Ve=F.useCallback(ot=>{bb(ot)?Oe&&Oe():Ae&&Ae()},[Oe,Ae]);Jo(()=>{ve&&Ve({value:se})},[se,Ve,ve]);const Be=ot=>{G&&G(ot),w.onFocus&&w.onFocus(ot),Ee&&Ee.onFocus?Ee.onFocus(ot):Ge(!0)},ke=ot=>{D&&D(ot),w.onBlur&&w.onBlur(ot),Ee&&Ee.onBlur?Ee.onBlur(ot):Ge(!1)},Ke=(ot,...je)=>{if(!ve){const Ze=ot.target||ze.current;if(Ze==null)throw new Error(Lu(1));Ve({value:Ze.value})}w.onChange&&w.onChange(ot,...je),V&&V(ot,...je)};F.useEffect(()=>{Ve(ze.current)},[]);const Ye=ot=>{ze.current&&ot.currentTarget===ot.target&&ze.current.focus(),U&&U(ot)};let de=E,Z=w;B&&de==="input"&&(W?Z={type:void 0,minRows:W,maxRows:W,...Z}:Z={type:void 0,maxRows:O,minRows:P,...Z},de=$I);const xe=ot=>{Ve(ot.animationName==="mui-auto-fill-cancel"?ze.current:{value:"x"})};F.useEffect(()=>{Ee&&Ee.setAdornedStart(!!fe)},[Ee,fe]);const Me={...i,color:ne.color||"primary",disabled:ne.disabled,endAdornment:b,error:ne.error,focused:ne.focused,formControl:Ee,fullWidth:A,hiddenLabel:ne.hiddenLabel,multiline:B,size:ne.size,startAdornment:fe,type:ge},Ne=JI(Me),Te=ie.root||h.Root||k_,gt=q.root||m.root||{},Fe=ie.input||h.Input||F_;return Z={...Z,...(dt=q.input)!=null?dt:m.input},I.jsxs(F.Fragment,{children:[!y&&typeof zE=="function"&&(OE||(OE=I.jsx(zE,{}))),I.jsxs(Te,{...gt,ref:t,onClick:Ye,...te,...!Gf(Te)&&{ownerState:{...Me,...gt.ownerState}},className:en(Ne.root,gt.className,c,K&&"MuiInputBase-readOnly"),children:[fe,I.jsx(_M.Provider,{value:null,children:I.jsx(Fe,{"aria-invalid":ne.error,"aria-describedby":a,autoComplete:r,autoFocus:o,defaultValue:g,disabled:ne.disabled,id:S,onAnimationStart:xe,name:L,placeholder:H,readOnly:K,required:ne.required,rows:W,value:se,onKeyDown:X,onKeyUp:$,type:ge,...Z,...!Gf(Fe)&&{as:de,ownerState:{...Me,...Z.ownerState}},ref:rt,className:en(Ne.input,Z.className,K&&"MuiInputBase-readOnly"),onBlur:ke,onChange:Ke,onFocus:Be})}),b,Q?Q({...ne,startAdornment:fe}):null]})]})});function QI(n){return $n("MuiInput",n)}const Vg={...j0,...Gn("MuiInput",["root","underline","input"])};function eP(n){return $n("MuiOutlinedInput",n)}const Sc={...j0,...Gn("MuiOutlinedInput",["root","notchedOutline","input"])};function tP(n){return $n("MuiFilledInput",n)}const Wd={...j0,...Gn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},nP=Vn(I.jsx("path",{d:"M7 10l5 5 5-5z"})),iP=Vn(I.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function aP(n){return $n("MuiAvatar",n)}Gn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const rP=n=>{const{classes:e,variant:t,colorDefault:i}=n;return Kn({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},aP,e)},sP=Et("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(xn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),oP=Et("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lP=Et(iP,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function cP({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[a,r]=F.useState(!1);return F.useEffect(()=>{if(!t&&!i)return;r(!1);let o=!0;const c=new Image;return c.onload=()=>{o&&r("loaded")},c.onerror=()=>{o&&r("error")},c.crossOrigin=n,c.referrerPolicy=e,c.src=t,i&&(c.srcset=i),()=>{o=!1}},[n,e,t,i]),a}const uP=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiAvatar"}),{alt:a,children:r,className:o,component:c="div",slots:f={},slotProps:h={},imgProps:m,sizes:g,src:v,srcSet:y,variant:b="circular",...M}=i;let A=null;const S={...i,component:c,variant:b},E=cP({...m,...typeof h.img=="function"?h.img(S):h.img,src:v,srcSet:y}),w=v||y,R=w&&E!=="error";S.colorDefault=!R,delete S.ownerState;const z=rP(S),[O,P]=En("root",{ref:t,className:en(z.root,o),elementType:sP,externalForwardedProps:{slots:f,slotProps:h,component:c,...M},ownerState:S}),[B,L]=En("img",{className:z.img,elementType:oP,externalForwardedProps:{slots:f,slotProps:{img:{...m,...h.img}}},additionalProps:{alt:a,src:v,srcSet:y,sizes:g},ownerState:S}),[D,V]=En("fallback",{className:z.fallback,elementType:lP,externalForwardedProps:{slots:f,slotProps:h},shouldForwardComponentProp:!0,ownerState:S});return R?A=I.jsx(B,{...L}):r||r===0?A=r:w&&a?A=a[0]:A=I.jsx(D,{...V}),I.jsx(O,{...P,children:A})}),fP={entering:{opacity:1},entered:{opacity:1}},dP=F.forwardRef(function(e,t){const i=sm(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:c,easing:f,in:h,onEnter:m,onEntered:g,onEntering:v,onExit:y,onExited:b,onExiting:M,style:A,timeout:S=a,TransitionComponent:E=Hl,...w}=e,R=F.useRef(null),z=Va(R,Lh(c),t),O=X=>$=>{if(X){const H=R.current;$===void 0?X(H):X(H,$)}},P=O(v),B=O((X,$)=>{AR(X);const H=I0({style:A,timeout:S,easing:f},{mode:"enter"});X.style.webkitTransition=i.transitions.create("opacity",H),X.style.transition=i.transitions.create("opacity",H),m&&m(X,$)}),L=O(g),D=O(M),V=O(X=>{const $=I0({style:A,timeout:S,easing:f},{mode:"exit"});X.style.webkitTransition=i.transitions.create("opacity",$),X.style.transition=i.transitions.create("opacity",$),y&&y(X)}),U=O(b),G=X=>{r&&r(R.current,X)};return I.jsx(E,{appear:o,in:h,nodeRef:R,onEnter:B,onEntered:L,onEntering:P,onExit:V,onExited:U,onExiting:D,addEndListener:G,timeout:S,...w,children:(X,{ownerState:$,...H})=>F.cloneElement(c,{style:{opacity:0,visibility:X==="exited"&&!h?"hidden":void 0,...fP[X],...A,...c.props.style},ref:z,...H})})});function hP(n){return $n("MuiBackdrop",n)}Gn("MuiBackdrop",["root","invisible"]);const pP=n=>{const{classes:e,invisible:t}=n;return Kn({root:["root",t&&"invisible"]},hP,e)},mP=Et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),gP=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiBackdrop"}),{children:a,className:r,component:o="div",invisible:c=!1,open:f,components:h={},componentsProps:m={},slotProps:g={},slots:v={},TransitionComponent:y,transitionDuration:b,...M}=i,A={...i,component:o,invisible:c},S=pP(A),E={transition:y,root:h.Root,...v},w={...m,...g},R={component:o,slots:E,slotProps:w},[z,O]=En("root",{elementType:mP,externalForwardedProps:R,className:en(S.root,r),ownerState:A}),[P,B]=En("transition",{elementType:dP,externalForwardedProps:R,ownerState:A});return I.jsx(P,{in:f,timeout:b,...M,...B,children:I.jsx(z,{"aria-hidden":!0,...O,classes:S,ref:t,children:a})})}),yP=Gn("MuiBox",["root"]),xP=D_(),we=WN({themeId:Nc,defaultTheme:xP,defaultClassName:yP.root,generateClassName:tR.generate});function vP(n){return $n("MuiButton",n)}const Yd=Gn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),bP=F.createContext({}),_P=F.createContext(void 0),SP=n=>{const{color:e,disableElevation:t,fullWidth:i,size:a,variant:r,loading:o,loadingPosition:c,classes:f}=n,h={root:["root",o&&"loading",r,`${r}${Mt(e)}`,`size${Mt(a)}`,`${r}Size${Mt(a)}`,`color${Mt(e)}`,t&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${Mt(c)}`],startIcon:["icon","startIcon",`iconSize${Mt(a)}`],endIcon:["icon","endIcon",`iconSize${Mt(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},m=Kn(h,vP,f);return{...f,...m}},FR=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],MP=Et(U0,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Mt(t.color)}`],e[`size${Mt(t.size)}`],e[`${t.variant}Size${Mt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(xn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Yd.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Yd.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Yd.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Yd.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(or()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Yd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Yd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Yd.loading}`]:{color:"transparent"}}}]}})),AP=Et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Mt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...FR]})),wP=Et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Mt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...FR]})),EP=Et("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),NE=Et("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),zu=F.forwardRef(function(e,t){const i=F.useContext(bP),a=F.useContext(_P),r=mb(i,e),o=ti({props:r,name:"MuiButton"}),{children:c,color:f="primary",component:h="button",className:m,disabled:g=!1,disableElevation:v=!1,disableFocusRipple:y=!1,endIcon:b,focusVisibleClassName:M,fullWidth:A=!1,id:S,loading:E=null,loadingIndicator:w,loadingPosition:R="center",size:z="medium",startIcon:O,type:P,variant:B="text",...L}=o,D=rm(S),V=w!=null?w:I.jsx(Uu,{"aria-labelledby":D,color:"inherit",size:16}),U={...o,color:f,component:h,disabled:g,disableElevation:v,disableFocusRipple:y,fullWidth:A,loading:E,loadingIndicator:V,loadingPosition:R,size:z,type:P,variant:B},G=SP(U),X=(O||E&&R==="start")&&I.jsx(AP,{className:G.startIcon,ownerState:U,children:O||I.jsx(NE,{className:G.loadingIconPlaceholder,ownerState:U})}),$=(b||E&&R==="end")&&I.jsx(wP,{className:G.endIcon,ownerState:U,children:b||I.jsx(NE,{className:G.loadingIconPlaceholder,ownerState:U})}),H=a||"",K=typeof E=="boolean"?I.jsx("span",{className:G.loadingWrapper,style:{display:"contents"},children:E&&I.jsx(EP,{className:G.loadingIndicator,ownerState:U,children:V})}):null;return I.jsxs(MP,{ownerState:U,className:en(i.className,G.root,m,H),component:h,disabled:g||E,focusRipple:!y,focusVisibleClassName:en(G.focusVisible,M),ref:t,type:P,id:E?D:S,...L,classes:G,children:[X,R!=="end"&&K,c,R==="end"&&K,$]})});function TP(n){return $n("PrivateSwitchBase",n)}Gn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const CP=n=>{const{classes:e,checked:t,disabled:i,edge:a}=n,r={root:["root",t&&"checked",i&&"disabled",a&&`edge${Mt(a)}`],input:["input"]};return Kn(r,TP,e)},RP=Et(U0,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),OP=Et("input",{name:"MuiSwitchBase",shouldForwardProp:To})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),VR=F.forwardRef(function(e,t){const{autoFocus:i,checked:a,checkedIcon:r,defaultChecked:o,disabled:c,disableFocusRipple:f=!1,edge:h=!1,icon:m,id:g,inputProps:v,inputRef:y,name:b,onBlur:M,onChange:A,onFocus:S,readOnly:E,required:w=!1,tabIndex:R,type:z,value:O,slots:P={},slotProps:B={},...L}=e,[D,V]=D0({controlled:a,default:!!o,name:"SwitchBase",state:"checked"}),U=Jf(),G=re=>{S&&S(re),U&&U.onFocus&&U.onFocus(re)},X=re=>{M&&M(re),U&&U.onBlur&&U.onBlur(re)},$=re=>{if(re.nativeEvent.defaultPrevented)return;const te=re.target.checked;V(te),A&&A(re,te)};let H=c;U&&typeof H>"u"&&(H=U.disabled);const K=z==="checkbox"||z==="radio",Q={...e,checked:D,disabled:H,disableFocusRipple:f,edge:h},W=CP(Q),ce={slots:P,slotProps:{input:v,...B}},[q,ie]=En("root",{ref:t,elementType:RP,className:W.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,component:"span",...L},getSlotProps:re=>({...re,onFocus:te=>{var se;(se=re.onFocus)==null||se.call(re,te),G(te)},onBlur:te=>{var se;(se=re.onBlur)==null||se.call(re,te),X(te)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!f,disabled:H,role:void 0,tabIndex:null}}),[fe,ge]=En("input",{ref:y,elementType:OP,className:W.input,externalForwardedProps:ce,getSlotProps:re=>({...re,onChange:te=>{var se;(se=re.onChange)==null||se.call(re,te),$(te)}}),ownerState:Q,additionalProps:{autoFocus:i,checked:a,defaultChecked:o,disabled:H,id:K?g:void 0,name:b,readOnly:E,required:w,tabIndex:R,type:z,...z==="checkbox"&&O===void 0?{}:{value:O}}});return I.jsxs(q,{...ie,children:[I.jsx(fe,{...ge}),D?r:m]})}),zP=Vn(I.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),NP=Vn(I.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),DP=Vn(I.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function LP(n){return $n("MuiCheckbox",n)}const N3=Gn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),IP=n=>{const{classes:e,indeterminate:t,color:i,size:a}=n,r={root:["root",t&&"indeterminate",`color${Mt(i)}`,`size${Mt(a)}`]},o=Kn(r,LP,e);return{...e,...o}},PP=Et(VR,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${Mt(t.size)}`],t.color!=="default"&&e[`color${Mt(t.color)}`]]}})(xn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&.${N3.checked}, &.${N3.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${N3.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),UP=I.jsx(NP,{}),BP=I.jsx(zP,{}),kP=I.jsx(DP,{}),FP=F.forwardRef(function(e,t){var P,B,L;const i=ti({props:e,name:"MuiCheckbox"}),{checkedIcon:a=UP,color:r="primary",icon:o=BP,indeterminate:c=!1,indeterminateIcon:f=kP,inputProps:h,size:m="medium",disableRipple:g=!1,className:v,slots:y={},slotProps:b={},...M}=i,A=c?f:o,S=c?f:a,E={...i,disableRipple:g,color:r,indeterminate:c,size:m},w=IP(E),R=(P=b.input)!=null?P:h,[z,O]=En("root",{ref:t,elementType:PP,className:en(w.root,v),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:b,...M},ownerState:E,additionalProps:{type:"checkbox",icon:F.cloneElement(A,{fontSize:(B=A.props.fontSize)!=null?B:m}),checkedIcon:F.cloneElement(S,{fontSize:(L=S.props.fontSize)!=null?L:m}),disableRipple:g,slots:y,slotProps:{input:bR(typeof R=="function"?R(E):R,{"data-indeterminate":c})}}});return I.jsx(z,{...O,classes:w})});function DE(n){return n.substring(2).toLowerCase()}function VP(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function HP(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:a,touchEvent:r="onTouchEnd"}=n,o=F.useRef(!1),c=F.useRef(null),f=F.useRef(!1),h=F.useRef(!1);F.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const m=Va(Lh(e),c),g=Ls(b=>{const M=h.current;h.current=!1;const A=Qa(c.current);if(!f.current||!c.current||"clientX"in b&&VP(b,A))return;if(o.current){o.current=!1;return}let S;b.composedPath?S=b.composedPath().includes(c.current):S=!A.documentElement.contains(b.target)||c.current.contains(b.target),!S&&(t||!M)&&a(b)}),v=b=>M=>{h.current=!0;const A=e.props[b];A&&A(M)},y={ref:m};return r!==!1&&(y[r]=v(r)),F.useEffect(()=>{if(r!==!1){const b=DE(r),M=Qa(c.current),A=()=>{o.current=!0};return M.addEventListener(b,g),M.addEventListener("touchmove",A),()=>{M.removeEventListener(b,g),M.removeEventListener("touchmove",A)}}},[g,r]),i!==!1&&(y[i]=v(i)),F.useEffect(()=>{if(i!==!1){const b=DE(i),M=Qa(c.current);return M.addEventListener(b,g),()=>{M.removeEventListener(b,g)}}},[g,i]),F.cloneElement(e,y)}const p5=typeof uM({})=="function",jP=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),GP=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),HR=(n,e=!1)=>{var r,o;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([c,f])=>{var m,g;const h=n.getColorSchemeSelector(c);h.startsWith("@")?t[h]={":root":{colorScheme:(m=f.palette)==null?void 0:m.mode}}:t[h.replace(/\s*&/,"")]={colorScheme:(g=f.palette)==null?void 0:g.mode}});let i={html:jP(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...GP(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const a=(o=(r=n.components)==null?void 0:r.MuiCssBaseline)==null?void 0:o.styleOverrides;return a&&(i=[i,a]),i},nb="mui-ecs",WP=n=>{const e=HR(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${nb})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,a])=>{var o,c;const r=n.getColorSchemeSelector(i);r.startsWith("@")?t[r]={[`:root:not(:has(.${nb}))`]:{colorScheme:(o=a.palette)==null?void 0:o.mode}}:t[r.replace(/\s*&/,"")]={[`&:not(:has(.${nb}))`]:{colorScheme:(c=a.palette)==null?void 0:c.mode}}}),e},YP=uM(p5?({theme:n,enableColorScheme:e})=>HR(n,e):({theme:n})=>WP(n));function XP(n){const e=ti({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return I.jsxs(F.Fragment,{children:[p5&&I.jsx(YP,{enableColorScheme:i}),!p5&&!i&&I.jsx("span",{className:nb,style:{display:"none"}}),t]})}function jR(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function qP(n){const e=Qa(n);return e.body===n?Pu(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function m1(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function LE(n){return parseInt(Pu(n).getComputedStyle(n).paddingRight,10)||0}function $P(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function IE(n,e,t,i,a){const r=[e,t,...i];[].forEach.call(n.children,o=>{const c=!r.includes(o),f=!$P(o);c&&f&&m1(o,a)})}function D3(n,e){let t=-1;return n.some((i,a)=>e(i)?(t=a,!0):!1),t}function KP(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(qP(i)){const o=jR(Pu(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${LE(i)+o}px`;const c=Qa(i).querySelectorAll(".mui-fixed");[].forEach.call(c,f=>{t.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${LE(f)+o}px`})}let r;if(i.parentNode instanceof DocumentFragment)r=Qa(i).body;else{const o=i.parentElement,c=Pu(i);r=(o==null?void 0:o.nodeName)==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:i}t.push({value:r.style.overflow,property:"overflow",el:r},{value:r.style.overflowX,property:"overflow-x",el:r},{value:r.style.overflowY,property:"overflow-y",el:r}),r.style.overflow="hidden"}return()=>{t.forEach(({value:r,el:o,property:c})=>{r?o.style.setProperty(c,r):o.style.removeProperty(c)})}}function ZP(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class JP{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&m1(e.modalRef,!1);const a=ZP(t);IE(t,e.mount,e.modalRef,a,!0);const r=D3(this.containers,o=>o.container===t);return r!==-1?(this.containers[r].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:a}),i)}mount(e,t){const i=D3(this.containers,r=>r.modals.includes(e)),a=this.containers[i];a.restore||(a.restore=KP(a,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const a=D3(this.containers,o=>o.modals.includes(e)),r=this.containers[a];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(i,1),r.modals.length===0)r.restore&&r.restore(),e.modalRef&&m1(e.modalRef,t),IE(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(a,1);else{const o=r.modals[r.modals.length-1];o.modalRef&&m1(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const QP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function eU(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function tU(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function nU(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||tU(n))}function iU(n){const e=[],t=[];return Array.from(n.querySelectorAll(QP)).forEach((i,a)=>{const r=eU(i);r===-1||!nU(i)||(r===0?e.push(i):t.push({documentOrder:a,tabIndex:r,node:i}))}),t.sort((i,a)=>i.tabIndex===a.tabIndex?i.documentOrder-a.documentOrder:i.tabIndex-a.tabIndex).map(i=>i.node).concat(e)}function aU(){return!0}function rU(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:a=!1,getTabbable:r=iU,isEnabled:o=aU,open:c}=n,f=F.useRef(!1),h=F.useRef(null),m=F.useRef(null),g=F.useRef(null),v=F.useRef(null),y=F.useRef(!1),b=F.useRef(null),M=Va(Lh(e),b),A=F.useRef(null);F.useEffect(()=>{!c||!b.current||(y.current=!t)},[t,c]),F.useEffect(()=>{if(!c||!b.current)return;const w=Qa(b.current);return b.current.contains(w.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),y.current&&b.current.focus()),()=>{a||(g.current&&g.current.focus&&(f.current=!0,g.current.focus()),g.current=null)}},[c]),F.useEffect(()=>{if(!c||!b.current)return;const w=Qa(b.current),R=P=>{A.current=P,!(i||!o()||P.key!=="Tab")&&w.activeElement===b.current&&P.shiftKey&&(f.current=!0,m.current&&m.current.focus())},z=()=>{var L,D;const P=b.current;if(P===null)return;if(!w.hasFocus()||!o()||f.current){f.current=!1;return}if(P.contains(w.activeElement)||i&&w.activeElement!==h.current&&w.activeElement!==m.current)return;if(w.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!y.current)return;let B=[];if((w.activeElement===h.current||w.activeElement===m.current)&&(B=r(b.current)),B.length>0){const V=!!((L=A.current)!=null&&L.shiftKey&&((D=A.current)==null?void 0:D.key)==="Tab"),U=B[0],G=B[B.length-1];typeof U!="string"&&typeof G!="string"&&(V?G.focus():U.focus())}else P.focus()};w.addEventListener("focusin",z),w.addEventListener("keydown",R,!0);const O=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&z()},50);return()=>{clearInterval(O),w.removeEventListener("focusin",z),w.removeEventListener("keydown",R,!0)}},[t,i,a,o,c,r]);const S=w=>{g.current===null&&(g.current=w.relatedTarget),y.current=!0,v.current=w.target;const R=e.props.onFocus;R&&R(w)},E=w=>{g.current===null&&(g.current=w.relatedTarget),y.current=!0};return I.jsxs(F.Fragment,{children:[I.jsx("div",{tabIndex:c?0:-1,onFocus:E,ref:h,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:M,onFocus:S}),I.jsx("div",{tabIndex:c?0:-1,onFocus:E,ref:m,"data-testid":"sentinelEnd"})]})}function sU(n){return typeof n=="function"?n():n}function oU(n){return n?n.props.hasOwnProperty("in"):!1}const PE=()=>{},Hx=new JP;function lU(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:a=!1,onTransitionEnter:r,onTransitionExited:o,children:c,onClose:f,open:h,rootRef:m}=n,g=F.useRef({}),v=F.useRef(null),y=F.useRef(null),b=Va(y,m),[M,A]=F.useState(!h),S=oU(c);let E=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(E=!1);const w=()=>Qa(v.current),R=()=>(g.current.modalRef=y.current,g.current.mount=v.current,g.current),z=()=>{Hx.mount(R(),{disableScrollLock:i}),y.current&&(y.current.scrollTop=0)},O=Ls(()=>{const $=sU(e)||w().body;Hx.add(R(),$),y.current&&z()}),P=()=>Hx.isTopModal(R()),B=Ls($=>{v.current=$,$&&(h&&P()?z():y.current&&m1(y.current,E))}),L=F.useCallback(()=>{Hx.remove(R(),E)},[E]);F.useEffect(()=>()=>{L()},[L]),F.useEffect(()=>{h?O():(!S||!a)&&L()},[h,L,S,a,O]);const D=$=>H=>{var K;(K=$.onKeyDown)==null||K.call($,H),!(H.key!=="Escape"||H.which===229||!P())&&(t||(H.stopPropagation(),f&&f(H,"escapeKeyDown")))},V=$=>H=>{var K;(K=$.onClick)==null||K.call($,H),H.target===H.currentTarget&&f&&f(H,"backdropClick")};return{getRootProps:($={})=>{const H=_h(n);delete H.onTransitionEnter,delete H.onTransitionExited;const K={...H,...$};return{role:"presentation",...K,onKeyDown:D(K),ref:b}},getBackdropProps:($={})=>{const H=$;return{"aria-hidden":!0,...H,onClick:V(H),open:h}},getTransitionProps:()=>{var K,Q;const $=()=>{A(!1),r&&r()},H=()=>{A(!0),o&&o(),a&&L()};return{onEnter:fE($,(K=c==null?void 0:c.props.onEnter)!=null?K:PE),onExited:fE(H,(Q=c==null?void 0:c.props.onExited)!=null?Q:PE)}},rootRef:b,portalRef:B,isTopModal:P,exited:M,hasTransition:S}}function cU(n){return $n("MuiModal",n)}Gn("MuiModal",["root","hidden","backdrop"]);const uU=n=>{const{open:e,exited:t,classes:i}=n;return Kn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},cU,i)},fU=Et("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(xn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),dU=Et(gP,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),hU=F.forwardRef(function(e,t){const i=ti({name:"MuiModal",props:e}),{BackdropComponent:a=dU,BackdropProps:r,classes:o,className:c,closeAfterTransition:f=!1,children:h,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:M=!1,disableEscapeKeyDown:A=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:w=!1,hideBackdrop:R=!1,keepMounted:z=!1,onClose:O,onTransitionEnter:P,onTransitionExited:B,open:L,slotProps:D={},slots:V={},theme:U,...G}=i,X={...i,closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:M,disableEscapeKeyDown:A,disablePortal:S,disableRestoreFocus:E,disableScrollLock:w,hideBackdrop:R,keepMounted:z},{getRootProps:$,getBackdropProps:H,getTransitionProps:K,portalRef:Q,isTopModal:W,exited:ce,hasTransition:q}=lU({...X,rootRef:t}),ie={...X,exited:ce},fe=uU(ie),ge={};if(h.props.tabIndex===void 0&&(ge.tabIndex="-1"),q){const{onEnter:De,onExited:rt}=K();ge.onEnter=De,ge.onExited=rt}const re={slots:{root:v.Root,backdrop:v.Backdrop,...V},slotProps:{...y,...D}},[te,se]=En("root",{ref:t,elementType:fU,externalForwardedProps:{...re,...G,component:g},getSlotProps:$,ownerState:ie,className:en(c,fe==null?void 0:fe.root,!ie.open&&ie.exited&&(fe==null?void 0:fe.hidden))}),[ve,ze]=En("backdrop",{ref:r==null?void 0:r.ref,elementType:a,externalForwardedProps:re,shouldForwardComponentProp:!0,additionalProps:r,getSlotProps:De=>H({...De,onClick:rt=>{De!=null&&De.onClick&&De.onClick(rt)}}),className:en(r==null?void 0:r.className,fe==null?void 0:fe.backdrop),ownerState:ie});return!z&&!L&&(!q||ce)?null:I.jsx(BR,{ref:Q,container:m,disablePortal:S,children:I.jsxs(te,{...se,children:[!R&&a?I.jsx(ve,{...ze}):null,I.jsx(rU,{disableEnforceFocus:M,disableAutoFocus:b,disableRestoreFocus:E,isEnabled:W,open:L,children:F.cloneElement(h,ge)})]})})}),pU=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:a,size:r,hiddenLabel:o,multiline:c}=n,f={root:["root",!t&&"underline",i&&"adornedStart",a&&"adornedEnd",r==="small"&&`size${Mt(r)}`,o&&"hiddenLabel",c&&"multiline"],input:["input"]},h=Kn(f,tP,e);return{...e,...h}},mU=Et(k_,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...U_(n,e),!t.disableUnderline&&e.underline]}})(xn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",r=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Wd.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Wd.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:r},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wd.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wd.disabled}, .${Wd.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Wd.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(or()).map(([o])=>{var c;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(c=(n.vars||n).palette[o])==null?void 0:c.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:c})=>o.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),gU=Et(F_,{name:"MuiFilledInput",slot:"Input",overridesResolver:B_})(xn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),SM=F.forwardRef(function(e,t){var z,O,P,B;const i=ti({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:r={},componentsProps:o,fullWidth:c=!1,hiddenLabel:f,inputComponent:h="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text",...b}=i,M={...i,disableUnderline:a,fullWidth:c,inputComponent:h,multiline:m,type:y},A=pU(i),S={root:{ownerState:M},input:{ownerState:M}},E=(g!=null?g:o)?as(S,g!=null?g:o):S,w=(O=(z=v.root)!=null?z:r.Root)!=null?O:mU,R=(B=(P=v.input)!=null?P:r.Input)!=null?B:gU;return I.jsx(V_,{slots:{root:w,input:R},slotProps:E,fullWidth:c,inputComponent:h,multiline:m,ref:t,type:y,...b,classes:A})});SM.muiName="Input";function yU(n){return $n("MuiFormControl",n)}Gn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const xU=n=>{const{classes:e,margin:t,fullWidth:i}=n,a={root:["root",t!=="none"&&`margin${Mt(t)}`,i&&"fullWidth"]};return Kn(a,yU,e)},vU=Et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Mt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),bU=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiFormControl"}),{children:a,className:r,color:o="primary",component:c="div",disabled:f=!1,error:h=!1,focused:m,fullWidth:g=!1,hiddenLabel:v=!1,margin:y="none",required:b=!1,size:M="medium",variant:A="outlined",...S}=i,E={...i,color:o,component:c,disabled:f,error:h,fullWidth:g,hiddenLabel:v,margin:y,required:b,size:M,variant:A},w=xU(E),[R,z]=F.useState(()=>{let $=!1;return a&&F.Children.forEach(a,H=>{if(!O3(H,["Input","Select"]))return;const K=O3(H,["Select"])?H.props.input:H;K&&KI(K.props)&&($=!0)}),$}),[O,P]=F.useState(()=>{let $=!1;return a&&F.Children.forEach(a,H=>{O3(H,["Input","Select"])&&(bb(H.props,!0)||bb(H.props.inputProps,!0))&&($=!0)}),$}),[B,L]=F.useState(!1);f&&B&&L(!1);const D=m!==void 0&&!f?m:B;let V;F.useRef(!1);const U=F.useCallback(()=>{P(!0)},[]),G=F.useCallback(()=>{P(!1)},[]),X=F.useMemo(()=>({adornedStart:R,setAdornedStart:z,color:o,disabled:f,error:h,filled:O,focused:D,fullWidth:g,hiddenLabel:v,size:M,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:G,onFilled:U,registerEffect:V,required:b,variant:A}),[R,o,f,h,O,D,g,v,V,G,U,b,M,A]);return I.jsx(_M.Provider,{value:X,children:I.jsx(vU,{as:c,ownerState:E,className:en(w.root,r),ref:t,...S,children:a})})});function _U(n){return $n("MuiFormControlLabel",n)}const l1=Gn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),SU=n=>{const{classes:e,disabled:t,labelPlacement:i,error:a,required:r}=n,o={root:["root",t&&"disabled",`labelPlacement${Mt(i)}`,a&&"error",r&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",a&&"error"]};return Kn(o,_U,e)},MU=Et("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${l1.label}`]:e.label},e.root,e[`labelPlacement${Mt(t.labelPlacement)}`]]}})(xn(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${l1.disabled}`]:{cursor:"default"},[`& .${l1.label}`]:{[`&.${l1.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),AU=Et("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(xn(({theme:n})=>({[`&.${l1.error}`]:{color:(n.vars||n).palette.error.main}}))),wU=F.forwardRef(function(e,t){var $;const i=ti({props:e,name:"MuiFormControlLabel"}),{checked:a,className:r,componentsProps:o={},control:c,disabled:f,disableTypography:h,inputRef:m,label:g,labelPlacement:v="end",name:y,onChange:b,required:M,slots:A={},slotProps:S={},value:E,...w}=i,R=Jf(),z=($=f!=null?f:c.props.disabled)!=null?$:R==null?void 0:R.disabled,O=M!=null?M:c.props.required,P={disabled:z,required:O};["checked","name","onChange","value","inputRef"].forEach(H=>{typeof c.props[H]>"u"&&typeof i[H]<"u"&&(P[H]=i[H])});const B=Ih({props:i,muiFormControl:R,states:["error"]}),L={...i,disabled:z,labelPlacement:v,required:O,error:B.error},D=SU(L),V={slots:A,slotProps:{...o,...S}},[U,G]=En("typography",{elementType:_t,externalForwardedProps:V,ownerState:L});let X=g;return X!=null&&X.type!==_t&&!h&&(X=I.jsx(U,{component:"span",...G,className:en(D.label,G==null?void 0:G.className),children:X})),I.jsxs(MU,{className:en(D.root,r),ownerState:L,ref:t,...w,children:[F.cloneElement(c,P),O?I.jsxs("div",{children:[X,I.jsxs(AU,{ownerState:L,"aria-hidden":!0,className:D.asterisk,children:["","*"]})]}):X]})});function EU(n){return $n("MuiFormHelperText",n)}const UE=Gn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var BE;const TU=n=>{const{classes:e,contained:t,size:i,disabled:a,error:r,filled:o,focused:c,required:f}=n,h={root:["root",a&&"disabled",r&&"error",i&&`size${Mt(i)}`,t&&"contained",c&&"focused",o&&"filled",f&&"required"]};return Kn(h,EU,e)},CU=Et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Mt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(xn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${UE.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${UE.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),RU=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiFormHelperText"}),{children:a,className:r,component:o="p",disabled:c,error:f,filled:h,focused:m,margin:g,required:v,variant:y,...b}=i,M=Jf(),A=Ih({props:i,muiFormControl:M,states:["variant","size","disabled","error","filled","focused","required"]}),S={...i,component:o,contained:A.variant==="filled"||A.variant==="outlined",variant:A.variant,size:A.size,disabled:A.disabled,error:A.error,filled:A.filled,focused:A.focused,required:A.required};delete S.ownerState;const E=TU(S);return I.jsx(CU,{as:o,className:en(E.root,r),ref:t,...b,ownerState:S,children:a===" "?BE||(BE=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):a})});function OU(n){return $n("MuiFormLabel",n)}const g1=Gn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zU=n=>{const{classes:e,color:t,focused:i,disabled:a,error:r,filled:o,required:c}=n,f={root:["root",`color${Mt(t)}`,a&&"disabled",r&&"error",o&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",r&&"error"]};return Kn(f,OU,e)},NU=Et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(xn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&.${g1.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${g1.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${g1.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),DU=Et("span",{name:"MuiFormLabel",slot:"Asterisk"})(xn(({theme:n})=>({[`&.${g1.error}`]:{color:(n.vars||n).palette.error.main}}))),LU=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiFormLabel"}),{children:a,className:r,color:o,component:c="label",disabled:f,error:h,filled:m,focused:g,required:v,...y}=i,b=Jf(),M=Ih({props:i,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),A={...i,color:M.color||"primary",component:c,disabled:M.disabled,error:M.error,filled:M.filled,focused:M.focused,required:M.required},S=zU(A);return I.jsxs(NU,{as:c,ownerState:A,className:en(S.root,r),ref:t,...y,children:[a,M.required&&I.jsxs(DU,{ownerState:A,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]})});function m5(n){return`scale(${n}, ${n**2})`}const IU={entering:{opacity:1,transform:m5(1)},entered:{opacity:1,transform:"none"}},L3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),L1=F.forwardRef(function(e,t){const{addEndListener:i,appear:a=!0,children:r,easing:o,in:c,onEnter:f,onEntered:h,onEntering:m,onExit:g,onExited:v,onExiting:y,style:b,timeout:M="auto",TransitionComponent:A=Hl,...S}=e,E=kf(),w=F.useRef(),R=sm(),z=F.useRef(null),O=Va(z,Lh(r),t),P=$=>H=>{if($){const K=z.current;H===void 0?$(K):$(K,H)}},B=P(m),L=P(($,H)=>{AR($);const{duration:K,delay:Q,easing:W}=I0({style:b,timeout:M,easing:o},{mode:"enter"});let ce;M==="auto"?(ce=R.transitions.getAutoHeightDuration($.clientHeight),w.current=ce):ce=K,$.style.transition=[R.transitions.create("opacity",{duration:ce,delay:Q}),R.transitions.create("transform",{duration:L3?ce:ce*.666,delay:Q,easing:W})].join(","),f&&f($,H)}),D=P(h),V=P(y),U=P($=>{const{duration:H,delay:K,easing:Q}=I0({style:b,timeout:M,easing:o},{mode:"exit"});let W;M==="auto"?(W=R.transitions.getAutoHeightDuration($.clientHeight),w.current=W):W=H,$.style.transition=[R.transitions.create("opacity",{duration:W,delay:K}),R.transitions.create("transform",{duration:L3?W:W*.666,delay:L3?K:K||W*.333,easing:Q})].join(","),$.style.opacity=0,$.style.transform=m5(.75),g&&g($)}),G=P(v),X=$=>{M==="auto"&&E.start(w.current||0,$),i&&i(z.current,$)};return I.jsx(A,{appear:a,in:c,nodeRef:z,onEnter:L,onEntered:D,onEntering:B,onExit:U,onExited:G,onExiting:V,addEndListener:X,timeout:M==="auto"?null:M,...S,children:($,{ownerState:H,...K})=>F.cloneElement(r,{style:{opacity:0,transform:m5(.75),visibility:$==="exited"&&!c?"hidden":void 0,...IU[$],...b,...r.props.style},ref:O,...K})})});L1&&(L1.muiSupportAuto=!0);const PU=n=>{const{classes:e,disableUnderline:t}=n,a=Kn({root:["root",!t&&"underline"],input:["input"]},QI,e);return{...e,...a}},UU=Et(k_,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...U_(n,e),!t.disableUnderline&&e.underline]}})(xn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vg.disabled}, .${Vg.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Vg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(or()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),BU=Et(F_,{name:"MuiInput",slot:"Input",overridesResolver:B_})({}),MM=F.forwardRef(function(e,t){var R,z,O,P;const i=ti({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:r={},componentsProps:o,fullWidth:c=!1,inputComponent:f="input",multiline:h=!1,slotProps:m,slots:g={},type:v="text",...y}=i,b=PU(i),A={root:{ownerState:{disableUnderline:a}}},S=(m!=null?m:o)?as(m!=null?m:o,A):A,E=(z=(R=g.root)!=null?R:r.Root)!=null?z:UU,w=(P=(O=g.input)!=null?O:r.Input)!=null?P:BU;return I.jsx(V_,{slots:{root:E,input:w},slotProps:S,fullWidth:c,inputComponent:f,multiline:h,ref:t,type:v,...y,classes:b})});MM.muiName="Input";function kU(n){return $n("MuiInputLabel",n)}Gn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const FU=n=>{const{classes:e,formControl:t,size:i,shrink:a,disableAnimation:r,variant:o,required:c}=n,f={root:["root",t&&"formControl",!r&&"animated",a&&"shrink",i&&i!=="medium"&&`size${Mt(i)}`,o],asterisk:[c&&"asterisk"]},h=Kn(f,kU,e);return{...e,...h}},VU=Et(LU,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${g1.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(xn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),HU=F.forwardRef(function(e,t){const i=ti({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:r,shrink:o,variant:c,className:f,...h}=i,m=Jf();let g=o;typeof g>"u"&&m&&(g=m.filled||m.focused||m.adornedStart);const v=Ih({props:i,muiFormControl:m,states:["size","variant","required","focused"]}),y={...i,disableAnimation:a,formControl:m,shrink:g,size:v.size,variant:v.variant,required:v.required,focused:v.focused},b=FU(y);return I.jsx(VU,{"data-shrink":g,ref:t,className:en(b.root,f),...h,ownerState:y,classes:b})}),jU=F.createContext({});function GU(n){return $n("MuiList",n)}Gn("MuiList",["root","padding","dense","subheader"]);const WU=n=>{const{classes:e,disablePadding:t,dense:i,subheader:a}=n;return Kn({root:["root",!t&&"padding",i&&"dense",a&&"subheader"]},GU,e)},YU=Et("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),XU=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiList"}),{children:a,className:r,component:o="ul",dense:c=!1,disablePadding:f=!1,subheader:h,...m}=i,g=F.useMemo(()=>({dense:c}),[c]),v={...i,component:o,dense:c,disablePadding:f},y=WU(v);return I.jsx(jU.Provider,{value:g,children:I.jsxs(YU,{as:o,className:en(y.root,r),ref:t,ownerState:v,...m,children:[h,a]})})});function I3(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function kE(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function GR(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Hg(n,e,t,i,a,r){let o=!1,c=a(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(o)return!1;o=!0}const f=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!GR(c,r)||f)c=a(n,c,t);else return c.focus(),!0}return!1}const qU=F.forwardRef(function(e,t){const{actions:i,autoFocus:a=!1,autoFocusItem:r=!1,children:o,className:c,disabledItemsFocusable:f=!1,disableListWrap:h=!1,onKeyDown:m,variant:g="selectedMenu",...v}=e,y=F.useRef(null),b=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Jo(()=>{a&&y.current.focus()},[a]),F.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(w,{direction:R})=>{const z=!y.current.style.width;if(w.clientHeight<y.current.clientHeight&&z){const O=`${jR(Pu(w))}px`;y.current.style[R==="rtl"?"paddingLeft":"paddingRight"]=O,y.current.style.width=`calc(100% + ${O})`}return y.current}}),[]);const M=w=>{const R=y.current,z=w.key;if(w.ctrlKey||w.metaKey||w.altKey){m&&m(w);return}const P=Qa(R).activeElement;if(z==="ArrowDown")w.preventDefault(),Hg(R,P,h,f,I3);else if(z==="ArrowUp")w.preventDefault(),Hg(R,P,h,f,kE);else if(z==="Home")w.preventDefault(),Hg(R,null,h,f,I3);else if(z==="End")w.preventDefault(),Hg(R,null,h,f,kE);else if(z.length===1){const B=b.current,L=z.toLowerCase(),D=performance.now();B.keys.length>0&&(D-B.lastTime>500?(B.keys=[],B.repeating=!0,B.previousKeyMatched=!0):B.repeating&&L!==B.keys[0]&&(B.repeating=!1)),B.lastTime=D,B.keys.push(L);const V=P&&!B.repeating&&GR(P,B);B.previousKeyMatched&&(V||Hg(R,P,!1,f,I3,B))?w.preventDefault():B.previousKeyMatched=!1}m&&m(w)},A=Va(y,t);let S=-1;F.Children.forEach(o,(w,R)=>{if(!F.isValidElement(w)){S===R&&(S+=1,S>=o.length&&(S=-1));return}w.props.disabled||(g==="selectedMenu"&&w.props.selected||S===-1)&&(S=R),S===R&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(S+=1,S>=o.length&&(S=-1))});const E=F.Children.map(o,(w,R)=>{if(R===S){const z={};return r&&(z.autoFocus=!0),w.props.tabIndex===void 0&&g==="selectedMenu"&&(z.tabIndex=0),F.cloneElement(w,z)}return w});return I.jsx(XU,{role:"menu",ref:A,className:c,onKeyDown:M,tabIndex:a?0:-1,...v,children:E})});function $U(n){return $n("MuiPopover",n)}Gn("MuiPopover",["root","paper"]);function FE(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function VE(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function HE(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function jx(n){return typeof n=="function"?n():n}const KU=n=>{const{classes:e}=n;return Kn({root:["root"],paper:["paper"]},$U,e)},ZU=Et(hU,{name:"MuiPopover",slot:"Root"})({}),WR=Et(hM,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),JU=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiPopover"}),{action:a,anchorEl:r,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:h,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:M={},slots:A={},slotProps:S={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:R="auto",TransitionProps:z={},disableScrollLock:O=!1,...P}=i,B=F.useRef(),L={...i,anchorOrigin:o,anchorReference:f,elevation:v,marginThreshold:y,transformOrigin:E,TransitionComponent:w,transitionDuration:R,TransitionProps:z},D=KU(L),V=F.useCallback(()=>{if(f==="anchorPosition")return c;const De=jx(r),nt=(De&&De.nodeType===1?De:Qa(B.current).body).getBoundingClientRect();return{top:nt.top+FE(nt,o.vertical),left:nt.left+VE(nt,o.horizontal)}},[r,o.horizontal,o.vertical,c,f]),U=F.useCallback(De=>({vertical:FE(De,E.vertical),horizontal:VE(De,E.horizontal)}),[E.horizontal,E.vertical]),G=F.useCallback(De=>{const rt={width:De.offsetWidth,height:De.offsetHeight},nt=U(rt);if(f==="none")return{top:null,left:null,transformOrigin:HE(nt)};const Ge=V();let Ee=Ge.top-nt.vertical,ne=Ge.left-nt.horizontal;const Oe=Ee+rt.height,Ae=ne+rt.width,Ve=Pu(jx(r)),Be=Ve.innerHeight-y,ke=Ve.innerWidth-y;if(y!==null&&Ee<y){const Ke=Ee-y;Ee-=Ke,nt.vertical+=Ke}else if(y!==null&&Oe>Be){const Ke=Oe-Be;Ee-=Ke,nt.vertical+=Ke}if(y!==null&&ne<y){const Ke=ne-y;ne-=Ke,nt.horizontal+=Ke}else if(Ae>ke){const Ke=Ae-ke;ne-=Ke,nt.horizontal+=Ke}return{top:`${Math.round(Ee)}px`,left:`${Math.round(ne)}px`,transformOrigin:HE(nt)}},[r,f,V,U,y]),[X,$]=F.useState(b),H=F.useCallback(()=>{const De=B.current;if(!De)return;const rt=G(De);rt.top!==null&&De.style.setProperty("top",rt.top),rt.left!==null&&(De.style.left=rt.left),De.style.transformOrigin=rt.transformOrigin,$(!0)},[G]);F.useEffect(()=>(O&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)),[r,O,H]);const K=()=>{H()},Q=()=>{$(!1)};F.useEffect(()=>{b&&H()}),F.useImperativeHandle(a,()=>b?{updatePosition:()=>{H()}}:null,[b,H]),F.useEffect(()=>{if(!b)return;const De=vR(()=>{H()}),rt=Pu(jx(r));return rt.addEventListener("resize",De),()=>{De.clear(),rt.removeEventListener("resize",De)}},[r,b,H]);let W=R;const ce={slots:{transition:w,...A},slotProps:{transition:z,paper:M,...S}},[q,ie]=En("transition",{elementType:L1,externalForwardedProps:ce,ownerState:L,getSlotProps:De=>({...De,onEntering:(rt,nt)=>{var Ge;(Ge=De.onEntering)==null||Ge.call(De,rt,nt),K()},onExited:rt=>{var nt;(nt=De.onExited)==null||nt.call(De,rt),Q()}}),additionalProps:{appear:!0,in:b}});R==="auto"&&!q.muiSupportAuto&&(W=void 0);const fe=g||(r?Qa(jx(r)).body:void 0),[ge,{slots:re,slotProps:te,...se}]=En("root",{ref:t,elementType:ZU,externalForwardedProps:{...ce,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:A.backdrop},slotProps:{backdrop:bR(typeof S.backdrop=="function"?S.backdrop(L):S.backdrop,{invisible:!0})},container:fe,open:b},ownerState:L,className:en(D.root,m)}),[ve,ze]=En("paper",{ref:B,className:D.paper,elementType:WR,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:X?void 0:{opacity:0}},ownerState:L});return I.jsx(ge,{...se,...!Gf(ge)&&{slots:re,slotProps:te,disableScrollLock:O},children:I.jsx(q,{...ie,timeout:W,children:I.jsx(ve,{...ze,children:h})})})});function QU(n){return $n("MuiMenu",n)}Gn("MuiMenu",["root","paper","list"]);const eB={vertical:"top",horizontal:"right"},tB={vertical:"top",horizontal:"left"},nB=n=>{const{classes:e}=n;return Kn({root:["root"],paper:["paper"],list:["list"]},QU,e)},iB=Et(JU,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),aB=Et(WR,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),rB=Et(qU,{name:"MuiMenu",slot:"List"})({outline:0}),sB=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:r,className:o,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:h,open:m,PaperProps:g={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:b,...M}={},variant:A="selectedMenu",slots:S={},slotProps:E={},...w}=i,R=N_(),z={...i,autoFocus:a,disableAutoFocusItem:c,MenuListProps:f,onEntering:b,PaperProps:g,transitionDuration:y,TransitionProps:M,variant:A},O=nB(z),P=a&&!c&&m,B=F.useRef(null),L=(W,ce)=>{B.current&&B.current.adjustStyleForScrollbar(W,{direction:R?"rtl":"ltr"}),b&&b(W,ce)},D=W=>{W.key==="Tab"&&(W.preventDefault(),h&&h(W,"tabKeyDown"))};let V=-1;F.Children.map(r,(W,ce)=>{F.isValidElement(W)&&(W.props.disabled||(A==="selectedMenu"&&W.props.selected||V===-1)&&(V=ce))});const U={slots:S,slotProps:{list:f,transition:M,paper:g,...E}},G=wc({elementType:S.root,externalSlotProps:E.root,ownerState:z,className:[O.root,o]}),[X,$]=En("paper",{className:O.paper,elementType:aB,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:z}),[H,K]=En("list",{className:en(O.list,f.className),elementType:rB,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:W=>({...W,onKeyDown:ce=>{var q;D(ce),(q=W.onKeyDown)==null||q.call(W,ce)}}),ownerState:z}),Q=typeof U.slotProps.transition=="function"?U.slotProps.transition(z):U.slotProps.transition;return I.jsx(iB,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:R?"right":"left"},transformOrigin:R?eB:tB,slots:{root:S.root,paper:X,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:G,paper:$,backdrop:typeof E.backdrop=="function"?E.backdrop(z):E.backdrop,transition:{...Q,onEntering:(...W)=>{var ce;L(...W),(ce=Q==null?void 0:Q.onEntering)==null||ce.call(Q,...W)}}},open:m,ref:t,transitionDuration:y,ownerState:z,...w,classes:v,children:I.jsx(H,{actions:B,autoFocus:a&&(V===-1||c),autoFocusItem:P,variant:A,...K,children:r})})});function oB(n){return $n("MuiNativeSelect",n)}const AM=Gn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lB=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:r,error:o}=n,c={select:["select",t,i&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${Mt(t)}`,r&&"iconOpen",i&&"disabled"]};return Kn(c,oB,e)},YR=Et("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${AM.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),cB=Et(YR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:To,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${AM.multiple}`]:e.multiple}]}})({}),XR=Et("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${AM.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),uB=Et(XR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Mt(t.variant)}`],t.open&&e.iconOpen]}})({}),fB=F.forwardRef(function(e,t){const{className:i,disabled:a,error:r,IconComponent:o,inputRef:c,variant:f="standard",...h}=e,m={...e,disabled:a,variant:f,error:r},g=lB(m);return I.jsxs(F.Fragment,{children:[I.jsx(cB,{ownerState:m,className:en(g.select,i),disabled:a,ref:c||t,...h}),e.multiple?null:I.jsx(uB,{as:o,ownerState:m,className:g.icon})]})});var jE;const dB=Et("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:To})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),hB=Et("legend",{name:"MuiNotchedOutlined",shouldForwardProp:To})(xn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function pB(n){const{children:e,classes:t,className:i,label:a,notched:r,...o}=n,c=a!=null&&a!=="",f={...n,notched:r,withLabel:c};return I.jsx(dB,{"aria-hidden":!0,className:i,ownerState:f,...o,children:I.jsx(hB,{ownerState:f,children:c?I.jsx("span",{children:a}):jE||(jE=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const mB=n=>{const{classes:e}=n,i=Kn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},eP,e);return{...e,...i}},gB=Et(k_,{shouldForwardProp:n=>To(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:U_})(xn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Sc.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sc.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${Sc.focused} .${Sc.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(or()).map(([t])=>({props:{color:t},style:{[`&.${Sc.focused} .${Sc.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Sc.error} .${Sc.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Sc.disabled} .${Sc.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),yB=Et(pB,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(xn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),xB=Et(F_,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:B_})(xn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),wM=F.forwardRef(function(e,t){var O,P,B,L;const i=ti({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:r=!1,inputComponent:o="input",label:c,multiline:f=!1,notched:h,slots:m={},slotProps:g={},type:v="text",...y}=i,b=mB(i),M=Jf(),A=Ih({props:i,muiFormControl:M,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...i,color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:M,fullWidth:r,hiddenLabel:A.hiddenLabel,multiline:f,size:A.size,type:v},E=(P=(O=m.root)!=null?O:a.Root)!=null?P:gB,w=(L=(B=m.input)!=null?B:a.Input)!=null?L:xB,[R,z]=En("notchedOutline",{elementType:yB,className:b.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:m,slotProps:g},additionalProps:{label:c!=null&&c!==""&&A.required?I.jsxs(F.Fragment,{children:[c,"","*"]}):c}});return I.jsx(V_,{slots:{root:E,input:w},slotProps:g,renderSuffix:D=>I.jsx(R,{...z,notched:typeof h<"u"?h:!!(D.startAdornment||D.filled||D.focused)}),fullWidth:r,inputComponent:o,multiline:f,ref:t,type:v,...y,classes:{...b,notchedOutline:null}})});wM.muiName="Input";const vB={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function qR(n){return $n("MuiSelect",n)}const jg=Gn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var GE;const bB=Et(YR,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${jg.select}`]:e.select},{[`&.${jg.select}`]:e[t.variant]},{[`&.${jg.error}`]:e.error},{[`&.${jg.multiple}`]:e.multiple}]}})({[`&.${jg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_B=Et(XR,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Mt(t.variant)}`],t.open&&e.iconOpen]}})({}),SB=Et("input",{shouldForwardProp:n=>L_(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function WE(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function MB(n){return n==null||typeof n=="string"&&!n.trim()}const AB=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:r,error:o}=n,c={select:["select",t,i&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${Mt(t)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Kn(c,qR,e)},wB=F.forwardRef(function(e,t){var Dt,be,He,vt;const{"aria-describedby":i,"aria-label":a,autoFocus:r,autoWidth:o,children:c,className:f,defaultOpen:h,defaultValue:m,disabled:g,displayEmpty:v,error:y=!1,IconComponent:b,inputRef:M,labelId:A,MenuProps:S={},multiple:E,name:w,onBlur:R,onChange:z,onClose:O,onFocus:P,onOpen:B,open:L,readOnly:D,renderValue:V,required:U,SelectDisplayProps:G={},tabIndex:X,type:$,value:H,variant:K="standard",...Q}=e,[W,ce]=D0({controlled:H,default:m,name:"Select"}),[q,ie]=D0({controlled:L,default:h,name:"Select"}),fe=F.useRef(null),ge=F.useRef(null),[re,te]=F.useState(null),{current:se}=F.useRef(L!=null),[ve,ze]=F.useState(),De=Va(t,M),rt=F.useCallback(ye=>{ge.current=ye,ye&&te(ye)},[]),nt=re==null?void 0:re.parentNode;F.useImperativeHandle(De,()=>({focus:()=>{ge.current.focus()},node:fe.current,value:W}),[W]),F.useEffect(()=>{h&&q&&re&&!se&&(ze(o?null:nt.clientWidth),ge.current.focus())},[re,o]),F.useEffect(()=>{r&&ge.current.focus()},[r]),F.useEffect(()=>{if(!A)return;const ye=Qa(ge.current).getElementById(A);if(ye){const at=()=>{getSelection().isCollapsed&&ge.current.focus()};return ye.addEventListener("click",at),()=>{ye.removeEventListener("click",at)}}},[A]);const Ge=(ye,at)=>{ye?B&&B(at):O&&O(at),se||(ze(o?null:nt.clientWidth),ie(ye))},Ee=ye=>{ye.button===0&&(ye.preventDefault(),ge.current.focus(),Ge(!0,ye))},ne=ye=>{Ge(!1,ye)},Oe=F.Children.toArray(c),Ae=ye=>{const at=Oe.find(ft=>ft.props.value===ye.target.value);at!==void 0&&(ce(at.props.value),z&&z(ye,at))},Ve=ye=>at=>{let ft;if(at.currentTarget.hasAttribute("tabindex")){if(E){ft=Array.isArray(W)?W.slice():[];const bt=W.indexOf(ye.props.value);bt===-1?ft.push(ye.props.value):ft.splice(bt,1)}else ft=ye.props.value;if(ye.props.onClick&&ye.props.onClick(at),W!==ft&&(ce(ft),z)){const bt=at.nativeEvent||at,yt=new bt.constructor(bt.type,bt);Object.defineProperty(yt,"target",{writable:!0,value:{value:ft,name:w}}),z(yt,ye)}E||Ge(!1,at)}},Be=ye=>{D||[" ","ArrowUp","ArrowDown","Enter"].includes(ye.key)&&(ye.preventDefault(),Ge(!0,ye))},ke=re!==null&&q,Ke=ye=>{!ke&&R&&(Object.defineProperty(ye,"target",{writable:!0,value:{value:W,name:w}}),R(ye))};delete Q["aria-invalid"];let Ye,de;const Z=[];let xe=!1;(bb({value:W})||v)&&(V?Ye=V(W):xe=!0);const Me=Oe.map(ye=>{if(!F.isValidElement(ye))return null;let at;if(E){if(!Array.isArray(W))throw new Error(Lu(2));at=W.some(ft=>WE(ft,ye.props.value)),at&&xe&&Z.push(ye.props.children)}else at=WE(W,ye.props.value),at&&xe&&(de=ye.props.children);return F.cloneElement(ye,{"aria-selected":at?"true":"false",onClick:Ve(ye),onKeyUp:ft=>{ft.key===" "&&ft.preventDefault(),ye.props.onKeyUp&&ye.props.onKeyUp(ft)},role:"option",selected:at,value:void 0,"data-value":ye.props.value})});xe&&(E?Z.length===0?Ye=null:Ye=Z.reduce((ye,at,ft)=>(ye.push(at),ft<Z.length-1&&ye.push(", "),ye),[]):Ye=de);let Ne=ve;!o&&se&&re&&(Ne=nt.clientWidth);let Te;typeof X<"u"?Te=X:Te=g?null:0;const gt=G.id||(w?`mui-component-select-${w}`:void 0),Fe={...e,variant:K,value:W,open:ke,error:y},dt=AB(Fe),ot={...S.PaperProps,...typeof((Dt=S.slotProps)==null?void 0:Dt.paper)=="function"?S.slotProps.paper(Fe):(be=S.slotProps)==null?void 0:be.paper},je={...S.MenuListProps,...typeof((He=S.slotProps)==null?void 0:He.list)=="function"?S.slotProps.list(Fe):(vt=S.slotProps)==null?void 0:vt.list},Ze=rm();return I.jsxs(F.Fragment,{children:[I.jsx(bB,{as:"div",ref:rt,tabIndex:Te,role:"combobox","aria-controls":ke?Ze:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":ke?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[A,gt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":U?"true":void 0,"aria-invalid":y?"true":void 0,onKeyDown:Be,onMouseDown:g||D?null:Ee,onBlur:Ke,onFocus:P,...G,ownerState:Fe,className:en(G.className,dt.select,f),id:gt,children:MB(Ye)?GE||(GE=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ye}),I.jsx(SB,{"aria-invalid":y,value:Array.isArray(W)?W.join(","):W,name:w,ref:fe,"aria-hidden":!0,onChange:Ae,tabIndex:-1,disabled:g,className:dt.nativeInput,autoFocus:r,required:U,...Q,ownerState:Fe}),I.jsx(_B,{as:b,className:dt.icon,ownerState:Fe}),I.jsx(sB,{id:`menu-${w||""}`,anchorEl:nt,open:ke,onClose:ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":A,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:Ze,...je},paper:{...ot,style:{minWidth:Ne,...ot!=null?ot.style:null}}},children:Me})]})}),EB=n=>{const{classes:e}=n,i=Kn({root:["root"]},qR,e);return{...e,...i}},EM={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>To(n)&&n!=="variant"},TB=Et(MM,EM)(""),CB=Et(wM,EM)(""),RB=Et(SM,EM)(""),$R=F.forwardRef(function(e,t){const i=ti({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:r,classes:o={},className:c,defaultOpen:f=!1,displayEmpty:h=!1,IconComponent:m=nP,id:g,input:v,inputProps:y,label:b,labelId:M,MenuProps:A,multiple:S=!1,native:E=!1,onClose:w,onOpen:R,open:z,renderValue:O,SelectDisplayProps:P,variant:B="outlined",...L}=i,D=E?fB:wB,V=Jf(),U=Ih({props:i,muiFormControl:V,states:["variant","error"]}),G=U.variant||B,X={...i,variant:G,classes:o},$=EB(X),{root:H,...K}=$,Q=v||{standard:I.jsx(TB,{ownerState:X}),outlined:I.jsx(CB,{label:b,ownerState:X}),filled:I.jsx(RB,{ownerState:X})}[G],W=Va(t,Lh(Q));return I.jsx(F.Fragment,{children:F.cloneElement(Q,{inputComponent:D,inputProps:{children:r,error:U.error,IconComponent:m,variant:G,type:void 0,multiple:S,...E?{id:g}:{autoWidth:a,defaultOpen:f,displayEmpty:h,labelId:M,MenuProps:A,onClose:w,onOpen:R,open:z,renderValue:O,SelectDisplayProps:{id:g,...P}},...y,classes:y?as(K,y.classes):K,...v?v.props.inputProps:{}},...(S&&E||h)&&G==="outlined"?{notched:!0}:{},ref:W,className:en(Q.props.className,c,$.root),...!v&&{variant:G},...L})})});$R.muiName="Select";function OB(n,e,t=(i,a)=>i===a){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}const zB=2;function Yp(n,e,t,i,a){return t===1?Math.min(n+e,a):Math.max(n-e,i)}function KR(n,e){return n-e}function YE(n,e){var i;const{index:t}=(i=n.reduce((a,r,o)=>{const c=Math.abs(e-r);return a===null||c<a.distance||c===a.distance?{distance:c,index:o}:a},null))!=null?i:{};return t}function Gx(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const a=t.changedTouches[i];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function _b(n,e,t){return(n-e)*100/(t-e)}function NB(n,e,t){return(t-e)*n+e}function DB(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function LB(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(DB(e)))}function XE({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(KR)}function Wx({sliderRef:n,activeIndex:e,setActive:t}){var a,r,o;const i=Qa(n.current);(!((a=n.current)!=null&&a.contains(i.activeElement))||Number((r=i==null?void 0:i.activeElement)==null?void 0:r.getAttribute("data-index"))!==e)&&((o=n.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function Yx(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?OB(n,e):!1}const IB={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},PB=n=>n;let Xx;function qE(){return Xx===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Xx=CSS.supports("touch-action","none"):Xx=!0),Xx}function UB(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:a=!1,isRtl:r=!1,marks:o=!1,max:c=100,min:f=0,name:h,onChange:m,onChangeCommitted:g,orientation:v="horizontal",rootRef:y,scale:b=PB,step:M=1,shiftStep:A=10,tabIndex:S,value:E}=n,w=F.useRef(void 0),[R,z]=F.useState(-1),[O,P]=F.useState(-1),[B,L]=F.useState(!1),D=F.useRef(0),V=F.useRef(null),[U,G]=D0({controlled:E,default:t!=null?t:f,name:"Slider"}),X=m&&((xe,Me,Ne)=>{const Te=xe.nativeEvent||xe,gt=new Te.constructor(Te.type,Te);Object.defineProperty(gt,"target",{writable:!0,value:{value:Me,name:h}}),V.current=Me,m(gt,Me,Ne)}),$=Array.isArray(U);let H=$?U.slice().sort(KR):[U];H=H.map(xe=>xe==null?f:_0(xe,f,c));const K=o===!0&&M!==null?[...Array(Math.floor((c-f)/M)+1)].map((xe,Me)=>({value:f+M*Me})):o||[],Q=K.map(xe=>xe.value),[W,ce]=F.useState(-1),q=F.useRef(null),ie=Va(y,q),fe=xe=>Me=>{var Te;const Ne=Number(Me.currentTarget.getAttribute("data-index"));P0(Me.target)&&ce(Ne),P(Ne),(Te=xe==null?void 0:xe.onFocus)==null||Te.call(xe,Me)},ge=xe=>Me=>{var Ne;P0(Me.target)||ce(-1),P(-1),(Ne=xe==null?void 0:xe.onBlur)==null||Ne.call(xe,Me)},re=(xe,Me)=>{var dt;const Ne=Number(xe.currentTarget.getAttribute("data-index")),Te=H[Ne],gt=Q.indexOf(Te);let Fe=Me;if(K&&M==null){const ot=Q[Q.length-1];Fe>=ot?Fe=ot:Fe<=Q[0]?Fe=Q[0]:Fe=Fe<Te?Q[gt-1]:Q[gt+1]}if(Fe=_0(Fe,f,c),$){a&&(Fe=_0(Fe,H[Ne-1]||-1/0,H[Ne+1]||1/0));const ot=Fe;Fe=XE({values:H,newValue:Fe,index:Ne});let je=Ne;a||(je=Fe.indexOf(ot)),Wx({sliderRef:q,activeIndex:je})}G(Fe),ce(Ne),X&&!Yx(Fe,U)&&X(xe,Fe,Ne),g&&g(xe,(dt=V.current)!=null?dt:Fe)},te=xe=>Me=>{var Ne;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Me.key)){Me.preventDefault();const Te=Number(Me.currentTarget.getAttribute("data-index")),gt=H[Te];let Fe=null;if(M!=null){const dt=Me.shiftKey?A:M;switch(Me.key){case"ArrowUp":Fe=Yp(gt,dt,1,f,c);break;case"ArrowRight":Fe=Yp(gt,dt,r?-1:1,f,c);break;case"ArrowDown":Fe=Yp(gt,dt,-1,f,c);break;case"ArrowLeft":Fe=Yp(gt,dt,r?1:-1,f,c);break;case"PageUp":Fe=Yp(gt,A,1,f,c);break;case"PageDown":Fe=Yp(gt,A,-1,f,c);break;case"Home":Fe=f;break;case"End":Fe=c;break}}else if(K){const dt=Q[Q.length-1],ot=Q.indexOf(gt),je=[r?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ze=[r?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];je.includes(Me.key)?ot===0?Fe=Q[0]:Fe=Q[ot-1]:Ze.includes(Me.key)&&(ot===Q.length-1?Fe=dt:Fe=Q[ot+1])}Fe!=null&&re(Me,Fe)}(Ne=xe==null?void 0:xe.onKeyDown)==null||Ne.call(xe,Me)};Jo(()=>{var xe;i&&q.current.contains(document.activeElement)&&((xe=document.activeElement)==null||xe.blur())},[i]),i&&R!==-1&&z(-1),i&&W!==-1&&ce(-1);const se=xe=>Me=>{var Ne;(Ne=xe.onChange)==null||Ne.call(xe,Me),re(Me,Me.target.valueAsNumber)},ve=F.useRef(void 0);let ze=v;r&&v==="horizontal"&&(ze+="-reverse");const De=({finger:xe,move:Me=!1})=>{const{current:Ne}=q,{width:Te,height:gt,bottom:Fe,left:dt}=Ne.getBoundingClientRect();let ot;ze.startsWith("vertical")?ot=(Fe-xe.y)/gt:ot=(xe.x-dt)/Te,ze.includes("-reverse")&&(ot=1-ot);let je;if(je=NB(ot,f,c),M)je=LB(je,M,f);else{const Dt=YE(Q,je);je=Q[Dt]}je=_0(je,f,c);let Ze=0;if($){Me?Ze=ve.current:Ze=YE(H,je),a&&(je=_0(je,H[Ze-1]||-1/0,H[Ze+1]||1/0));const Dt=je;je=XE({values:H,newValue:je,index:Ze}),a&&Me||(Ze=je.indexOf(Dt),ve.current=Ze)}return{newValue:je,activeIndex:Ze}},rt=Ls(xe=>{const Me=Gx(xe,w);if(!Me)return;if(D.current+=1,xe.type==="mousemove"&&xe.buttons===0){nt(xe);return}const{newValue:Ne,activeIndex:Te}=De({finger:Me,move:!0});Wx({sliderRef:q,activeIndex:Te,setActive:z}),G(Ne),!B&&D.current>zB&&L(!0),X&&!Yx(Ne,U)&&X(xe,Ne,Te)}),nt=Ls(xe=>{var Te;const Me=Gx(xe,w);if(L(!1),!Me)return;const{newValue:Ne}=De({finger:Me,move:!0});z(-1),xe.type==="touchend"&&P(-1),g&&g(xe,(Te=V.current)!=null?Te:Ne),w.current=void 0,Ee()}),Ge=Ls(xe=>{if(i)return;qE()||xe.preventDefault();const Me=xe.changedTouches[0];Me!=null&&(w.current=Me.identifier);const Ne=Gx(xe,w);if(Ne!==!1){const{newValue:gt,activeIndex:Fe}=De({finger:Ne});Wx({sliderRef:q,activeIndex:Fe,setActive:z}),G(gt),X&&!Yx(gt,U)&&X(xe,gt,Fe)}D.current=0;const Te=Qa(q.current);Te.addEventListener("touchmove",rt,{passive:!0}),Te.addEventListener("touchend",nt,{passive:!0})}),Ee=F.useCallback(()=>{const xe=Qa(q.current);xe.removeEventListener("mousemove",rt),xe.removeEventListener("mouseup",nt),xe.removeEventListener("touchmove",rt),xe.removeEventListener("touchend",nt)},[nt,rt]);F.useEffect(()=>{const{current:xe}=q;return xe.addEventListener("touchstart",Ge,{passive:qE()}),()=>{xe.removeEventListener("touchstart",Ge),Ee()}},[Ee,Ge]),F.useEffect(()=>{i&&Ee()},[i,Ee]);const ne=xe=>Me=>{var gt;if((gt=xe.onMouseDown)==null||gt.call(xe,Me),i||Me.defaultPrevented||Me.button!==0)return;Me.preventDefault();const Ne=Gx(Me,w);if(Ne!==!1){const{newValue:Fe,activeIndex:dt}=De({finger:Ne});Wx({sliderRef:q,activeIndex:dt,setActive:z}),G(Fe),X&&!Yx(Fe,U)&&X(Me,Fe,dt)}D.current=0;const Te=Qa(q.current);Te.addEventListener("mousemove",rt,{passive:!0}),Te.addEventListener("mouseup",nt)},Oe=_b($?H[0]:f,f,c),Ae=_b(H[H.length-1],f,c)-Oe,Ve=(xe={})=>{const Me=_h(xe),Ne={onMouseDown:ne(Me||{})},Te={...Me,...Ne};return{...xe,ref:ie,...Te}},Be=xe=>Me=>{var Te;(Te=xe.onMouseOver)==null||Te.call(xe,Me);const Ne=Number(Me.currentTarget.getAttribute("data-index"));P(Ne)},ke=xe=>Me=>{var Ne;(Ne=xe.onMouseLeave)==null||Ne.call(xe,Me),P(-1)},Ke=(xe={})=>{const Me=_h(xe),Ne={onMouseOver:Be(Me||{}),onMouseLeave:ke(Me||{})};return{...xe,...Me,...Ne}},Ye=xe=>({pointerEvents:R!==-1&&R!==xe?"none":void 0});let de;return v==="vertical"&&(de=r?"vertical-rl":"vertical-lr"),{active:R,axis:ze,axisProps:IB,dragging:B,focusedThumbIndex:W,getHiddenInputProps:(xe={})=>{var gt;const Me=_h(xe),Ne={onChange:se(Me||{}),onFocus:fe(Me||{}),onBlur:ge(Me||{}),onKeyDown:te(Me||{})},Te={...Me,...Ne};return{tabIndex:S,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":b(c),"aria-valuemin":b(f),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":(gt=n.step)!=null?gt:void 0,disabled:i,...xe,...Te,style:{...vB,direction:r?"rtl":"ltr",width:"100%",height:"100%",writingMode:de}}},getRootProps:Ve,getThumbProps:Ke,marks:K,open:O,range:$,rootRef:ie,trackLeap:Ae,trackOffset:Oe,values:H,getThumbStyle:Ye}}const BB=n=>!n||!Gf(n);function kB(n){return $n("MuiSlider",n)}const Ko=Gn("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),FB=n=>{const{open:e}=n;return{offset:en(e&&Ko.valueLabelOpen),circle:Ko.valueLabelCircle,label:Ko.valueLabelLabel}};function VB(n){const{children:e,className:t,value:i}=n,a=FB(n);return e?F.cloneElement(e,{className:e.props.className},I.jsxs(F.Fragment,{children:[e.props.children,I.jsx("span",{className:en(a.offset,t),"aria-hidden":!0,children:I.jsx("span",{className:a.circle,children:I.jsx("span",{className:a.label,children:i})})})]})):null}function $E(n){return n}const HB=Et("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Mt(t.color)}`],t.size!=="medium"&&e[`size${Mt(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(xn(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Ko.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${Ko.dragging}`]:{[`& .${Ko.thumb}, & .${Ko.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),jB=Et("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),GB=Et("span",{name:"MuiSlider",slot:"Track"})(xn(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:n.lighten(n.palette[e].main,.62),borderColor:n.lighten(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:n.darken(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:n.darken(n.palette[e].main,.5)})}}}))]}))),WB=Et("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Mt(t.color)}`],t.size!=="medium"&&e[`thumbSize${Mt(t.size)}`]]}})(xn(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Ko.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Ko.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${n.alpha((n.vars||n).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Ko.active}`]:{boxShadow:`0px 0px 0px 14px ${n.alpha((n.vars||n).palette[e].main,.16)}`}}}))]}))),YB=Et(VB,{name:"MuiSlider",slot:"ValueLabel"})(xn(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Ko.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Ko.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),XB=Et("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>L_(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(xn(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),qB=Et("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>L_(n)&&n!=="markLabelActive"})(xn(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),$B=n=>{const{disabled:e,dragging:t,marked:i,orientation:a,track:r,classes:o,color:c,size:f}=n,h={root:["root",e&&"disabled",t&&"dragging",i&&"marked",a==="vertical"&&"vertical",r==="inverted"&&"trackInverted",r===!1&&"trackFalse",c&&`color${Mt(c)}`,f&&`size${Mt(f)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",f&&`thumbSize${Mt(f)}`,c&&`thumbColor${Mt(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Kn(h,kB,o)},KB=({children:n})=>n,H_=F.forwardRef(function(e,t){var bt,yt,lt,Ot,Wt,bn,tn,di,Yt,la,Mr,Us,ia,os,ja,Ga,ca,_n,Vi,fr,Bs,al,Wl,io;const i=ti({props:e,name:"MuiSlider"}),a=N_(),{"aria-label":r,"aria-valuetext":o,"aria-labelledby":c,component:f="span",components:h={},componentsProps:m={},color:g="primary",classes:v,className:y,disableSwap:b=!1,disabled:M=!1,getAriaLabel:A,getAriaValueText:S,marks:E=!1,max:w=100,min:R=0,name:z,onChange:O,onChangeCommitted:P,orientation:B="horizontal",shiftStep:L=10,size:D="medium",step:V=1,scale:U=$E,slotProps:G,slots:X,tabIndex:$,track:H="normal",value:K,valueLabelDisplay:Q="off",valueLabelFormat:W=$E,...ce}=i,q={...i,isRtl:a,max:w,min:R,classes:v,disabled:M,disableSwap:b,orientation:B,marks:E,color:g,size:D,step:V,shiftStep:L,scale:U,track:H,valueLabelDisplay:Q,valueLabelFormat:W},{axisProps:ie,getRootProps:fe,getHiddenInputProps:ge,getThumbProps:re,open:te,active:se,axis:ve,focusedThumbIndex:ze,range:De,dragging:rt,marks:nt,values:Ge,trackOffset:Ee,trackLeap:ne,getThumbStyle:Oe}=UB({...q,rootRef:t});q.marked=nt.length>0&&nt.some(hi=>hi.label),q.dragging=rt,q.focusedThumbIndex=ze;const Ae=$B(q),Ve=(yt=(bt=X==null?void 0:X.root)!=null?bt:h.Root)!=null?yt:HB,Be=(Ot=(lt=X==null?void 0:X.rail)!=null?lt:h.Rail)!=null?Ot:jB,ke=(bn=(Wt=X==null?void 0:X.track)!=null?Wt:h.Track)!=null?bn:GB,Ke=(di=(tn=X==null?void 0:X.thumb)!=null?tn:h.Thumb)!=null?di:WB,Ye=(la=(Yt=X==null?void 0:X.valueLabel)!=null?Yt:h.ValueLabel)!=null?la:YB,de=(Us=(Mr=X==null?void 0:X.mark)!=null?Mr:h.Mark)!=null?Us:XB,Z=(os=(ia=X==null?void 0:X.markLabel)!=null?ia:h.MarkLabel)!=null?os:qB,xe=(Ga=(ja=X==null?void 0:X.input)!=null?ja:h.Input)!=null?Ga:"input",Me=(ca=G==null?void 0:G.root)!=null?ca:m.root,Ne=(_n=G==null?void 0:G.rail)!=null?_n:m.rail,Te=(Vi=G==null?void 0:G.track)!=null?Vi:m.track,gt=(fr=G==null?void 0:G.thumb)!=null?fr:m.thumb,Fe=(Bs=G==null?void 0:G.valueLabel)!=null?Bs:m.valueLabel,dt=(al=G==null?void 0:G.mark)!=null?al:m.mark,ot=(Wl=G==null?void 0:G.markLabel)!=null?Wl:m.markLabel,je=(io=G==null?void 0:G.input)!=null?io:m.input,Ze=wc({elementType:Ve,getSlotProps:fe,externalSlotProps:Me,externalForwardedProps:ce,additionalProps:{...BB(Ve)&&{as:f}},ownerState:{...q,...Me==null?void 0:Me.ownerState},className:[Ae.root,y]}),Dt=wc({elementType:Be,externalSlotProps:Ne,ownerState:q,className:Ae.rail}),be=wc({elementType:ke,externalSlotProps:Te,additionalProps:{style:{...ie[ve].offset(Ee),...ie[ve].leap(ne)}},ownerState:{...q,...Te==null?void 0:Te.ownerState},className:Ae.track}),He=wc({elementType:Ke,getSlotProps:re,externalSlotProps:gt,ownerState:{...q,...gt==null?void 0:gt.ownerState},className:Ae.thumb}),vt=wc({elementType:Ye,externalSlotProps:Fe,ownerState:{...q,...Fe==null?void 0:Fe.ownerState},className:Ae.valueLabel}),ye=wc({elementType:de,externalSlotProps:dt,ownerState:q,className:Ae.mark}),at=wc({elementType:Z,externalSlotProps:ot,ownerState:q,className:Ae.markLabel}),ft=wc({elementType:xe,getSlotProps:ge,externalSlotProps:je,ownerState:q});return I.jsxs(Ve,{...Ze,children:[I.jsx(Be,{...Dt}),I.jsx(ke,{...be}),nt.filter(hi=>hi.value>=R&&hi.value<=w).map((hi,Ii)=>{const Pi=_b(hi.value,R,w),ae=ie[ve].offset(Pi);let Ce;return H===!1?Ce=Ge.includes(hi.value):Ce=H==="normal"&&(De?hi.value>=Ge[0]&&hi.value<=Ge[Ge.length-1]:hi.value<=Ge[0])||H==="inverted"&&(De?hi.value<=Ge[0]||hi.value>=Ge[Ge.length-1]:hi.value>=Ge[0]),I.jsxs(F.Fragment,{children:[I.jsx(de,{"data-index":Ii,...ye,...!Gf(de)&&{markActive:Ce},style:{...ae,...ye.style},className:en(ye.className,Ce&&Ae.markActive)}),hi.label!=null?I.jsx(Z,{"aria-hidden":!0,"data-index":Ii,...at,...!Gf(Z)&&{markLabelActive:Ce},style:{...ae,...at.style},className:en(Ae.markLabel,at.className,Ce&&Ae.markLabelActive),children:hi.label}):null]},Ii)}),Ge.map((hi,Ii)=>{const Pi=_b(hi,R,w),ae=ie[ve].offset(Pi),Ce=Q==="off"?KB:Ye;return I.jsx(Ce,{...!Gf(Ce)&&{valueLabelFormat:W,valueLabelDisplay:Q,value:typeof W=="function"?W(U(hi),Ii):W,index:Ii,open:te===Ii||se===Ii||Q==="on",disabled:M},...vt,children:I.jsx(Ke,{"data-index":Ii,...He,className:en(Ae.thumb,He.className,se===Ii&&Ae.active,ze===Ii&&Ae.focusVisible),style:{...ae,...Oe(Ii),...He.style},children:I.jsx(xe,{"data-index":Ii,"aria-label":A?A(Ii):r,"aria-valuenow":U(hi),"aria-labelledby":c,"aria-valuetext":S?S(U(hi),Ii):o,value:Ge[Ii],...ft})})},Ii)})]})});function ZB(n={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:i,open:a,resumeHideDuration:r}=n,o=kf();F.useEffect(()=>{if(!a)return;function S(E){E.defaultPrevented||E.key==="Escape"&&(i==null||i(E,"escapeKeyDown"))}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[a,i]);const c=Ls((S,E)=>{i==null||i(S,E)}),f=Ls(S=>{!i||S==null||o.start(S,()=>{c(null,"timeout")})});F.useEffect(()=>(a&&f(e),o.clear),[a,e,f,o]);const h=S=>{i==null||i(S,"clickaway")},m=o.clear,g=F.useCallback(()=>{e!=null&&f(r!=null?r:e*.5)},[e,r,f]),v=S=>E=>{const w=S.onBlur;w==null||w(E),g()},y=S=>E=>{const w=S.onFocus;w==null||w(E),m()},b=S=>E=>{const w=S.onMouseEnter;w==null||w(E),m()},M=S=>E=>{const w=S.onMouseLeave;w==null||w(E),g()};return F.useEffect(()=>{if(!t&&a)return window.addEventListener("focus",g),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",m)}},[t,a,g,m]),{getRootProps:(S={})=>{const E={..._h(n),..._h(S)};return{role:"presentation",...S,...E,onBlur:v(E),onFocus:y(E),onMouseEnter:b(E),onMouseLeave:M(E)}},onClickAway:h}}function JB(n){return $n("MuiSnackbarContent",n)}Gn("MuiSnackbarContent",["root","message","action"]);const QB=n=>{const{classes:e}=n;return Kn({root:["root"],action:["action"],message:["message"]},JB,e)},ek=Et(hM,{name:"MuiSnackbarContent",slot:"Root"})(xn(({theme:n})=>{const e=n.palette.mode==="light"?.8:.98;return{...n.typography.body2,color:n.vars?n.vars.palette.SnackbarContent.color:n.palette.getContrastText(t5(n.palette.background.default,e)),backgroundColor:n.vars?n.vars.palette.SnackbarContent.bg:t5(n.palette.background.default,e),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[n.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),tk=Et("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),nk=Et("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ik=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiSnackbarContent"}),{action:a,className:r,message:o,role:c="alert",...f}=i,h=i,m=QB(h);return I.jsxs(ek,{role:c,elevation:6,className:en(m.root,r),ownerState:h,ref:t,...f,children:[I.jsx(tk,{className:m.message,ownerState:h,children:o}),a?I.jsx(nk,{className:m.action,ownerState:h,children:a}):null]})});function ak(n){return $n("MuiSnackbar",n)}Gn("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const rk=n=>{const{classes:e,anchorOrigin:t}=n,i={root:["root",`anchorOrigin${Mt(t.vertical)}${Mt(t.horizontal)}`]};return Kn(i,ak,e)},sk=Et("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`anchorOrigin${Mt(t.anchorOrigin.vertical)}${Mt(t.anchorOrigin.horizontal)}`]]}})(xn(({theme:n})=>({zIndex:(n.vars||n).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[n.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[n.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[n.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[n.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[n.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),ok=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiSnackbar"}),a=sm(),r={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:c,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:h=null,children:m,className:g,ClickAwayListenerProps:v,ContentProps:y,disableWindowBlurListener:b=!1,message:M,onBlur:A,onClose:S,onFocus:E,onMouseEnter:w,onMouseLeave:R,open:z,resumeHideDuration:O,slots:P={},slotProps:B={},TransitionComponent:L,transitionDuration:D=r,TransitionProps:{onEnter:V,onExited:U,...G}={},...X}=i,$={...i,anchorOrigin:{vertical:c,horizontal:f},autoHideDuration:h,disableWindowBlurListener:b,TransitionComponent:L,transitionDuration:D},H=rk($),{getRootProps:K,onClickAway:Q}=ZB({...$}),[W,ce]=F.useState(!0),q=Ge=>{ce(!0),U&&U(Ge)},ie=(Ge,Ee)=>{ce(!1),V&&V(Ge,Ee)},fe={slots:{transition:L,...P},slotProps:{content:y,clickAwayListener:v,transition:G,...B}},[ge,re]=En("root",{ref:t,className:[H.root,g],elementType:sk,getSlotProps:K,externalForwardedProps:{...fe,...X},ownerState:$}),[te,{ownerState:se,...ve}]=En("clickAwayListener",{elementType:HP,externalForwardedProps:fe,getSlotProps:Ge=>({onClickAway:(...Ee)=>{var Oe;const ne=Ee[0];(Oe=Ge.onClickAway)==null||Oe.call(Ge,...Ee),!(ne!=null&&ne.defaultMuiPrevented)&&Q(...Ee)}}),ownerState:$}),[ze,De]=En("content",{elementType:ik,shouldForwardComponentProp:!0,externalForwardedProps:fe,additionalProps:{message:M,action:o},ownerState:$}),[rt,nt]=En("transition",{elementType:L1,externalForwardedProps:fe,getSlotProps:Ge=>({onEnter:(...Ee)=>{var ne;(ne=Ge.onEnter)==null||ne.call(Ge,...Ee),ie(...Ee)},onExited:(...Ee)=>{var ne;(ne=Ge.onExited)==null||ne.call(Ge,...Ee),q(...Ee)}}),additionalProps:{appear:!0,in:z,timeout:D,direction:c==="top"?"down":"up"},ownerState:$});return!z&&W?null:I.jsx(te,{...ve,...P.clickAwayListener&&{ownerState:se},children:I.jsx(ge,{...re,children:I.jsx(rt,{...nt,children:m||I.jsx(ze,{...De})})})})});function lk(n){return $n("MuiTooltip",n)}const Da=Gn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ck(n){return Math.round(n*1e5)/1e5}const uk=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:a,placement:r}=n,o={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",a&&"touch",`tooltipPlacement${Mt(r.split("-")[0])}`],arrow:["arrow"]};return Kn(o,lk,e)},fk=Et(kR,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(xn(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Da.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Da.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Da.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Da.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Da.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Da.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Da.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Da.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),dk=Et("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${Mt(t.placement.split("-")[0])}`]]}})(xn(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Da.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Da.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Da.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Da.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${ck(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Da.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Da.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Da.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Da.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Da.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Da.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Da.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Da.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Da.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Da.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),hk=Et("span",{name:"MuiTooltip",slot:"Arrow"})(xn(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let qx=!1;const KE=new I_;let Gg={x:0,y:0};function $x(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const Ul=F.forwardRef(function(e,t){var bn,tn,di;const i=ti({props:e,name:"MuiTooltip"}),{arrow:a=!1,children:r,classes:o,components:c={},componentsProps:f={},describeChild:h=!1,disableFocusListener:m=!1,disableHoverListener:g=!1,disableInteractive:v=!1,disableTouchListener:y=!1,enterDelay:b=100,enterNextDelay:M=0,enterTouchDelay:A=700,followCursor:S=!1,id:E,leaveDelay:w=0,leaveTouchDelay:R=1500,onClose:z,onOpen:O,open:P,placement:B="bottom",PopperComponent:L,PopperProps:D={},slotProps:V={},slots:U={},title:G,TransitionComponent:X,TransitionProps:$,...H}=i,K=F.isValidElement(r)?r:I.jsx("span",{children:r}),Q=sm(),W=N_(),[ce,q]=F.useState(),[ie,fe]=F.useState(null),ge=F.useRef(!1),re=v||S,te=kf(),se=kf(),ve=kf(),ze=kf(),[De,rt]=D0({controlled:P,default:!1,name:"Tooltip",state:"open"});let nt=De;const Ge=rm(E),Ee=F.useRef(),ne=Ls(()=>{Ee.current!==void 0&&(document.body.style.WebkitUserSelect=Ee.current,Ee.current=void 0),ze.clear()});F.useEffect(()=>ne,[ne]);const Oe=Yt=>{KE.clear(),qx=!0,rt(!0),O&&!nt&&O(Yt)},Ae=Ls(Yt=>{KE.start(800+w,()=>{qx=!1}),rt(!1),z&&nt&&z(Yt),te.start(Q.transitions.duration.shortest,()=>{ge.current=!1})}),Ve=Yt=>{ge.current&&Yt.type!=="touchstart"||(ce&&ce.removeAttribute("title"),se.clear(),ve.clear(),b||qx&&M?se.start(qx?M:b,()=>{Oe(Yt)}):Oe(Yt))},Be=Yt=>{se.clear(),ve.start(w,()=>{Ae(Yt)})},[,ke]=F.useState(!1),Ke=Yt=>{P0(Yt.target)||(ke(!1),Be(Yt))},Ye=Yt=>{ce||q(Yt.currentTarget),P0(Yt.target)&&(ke(!0),Ve(Yt))},de=Yt=>{ge.current=!0;const la=K.props;la.onTouchStart&&la.onTouchStart(Yt)},Z=Yt=>{de(Yt),ve.clear(),te.clear(),ne(),Ee.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ze.start(A,()=>{document.body.style.WebkitUserSelect=Ee.current,Ve(Yt)})},xe=Yt=>{K.props.onTouchEnd&&K.props.onTouchEnd(Yt),ne(),ve.start(R,()=>{Ae(Yt)})};F.useEffect(()=>{if(!nt)return;function Yt(la){la.key==="Escape"&&Ae(la)}return document.addEventListener("keydown",Yt),()=>{document.removeEventListener("keydown",Yt)}},[Ae,nt]);const Me=Va(Lh(K),q,t);!G&&G!==0&&(nt=!1);const Ne=F.useRef(),Te=Yt=>{const la=K.props;la.onMouseMove&&la.onMouseMove(Yt),Gg={x:Yt.clientX,y:Yt.clientY},Ne.current&&Ne.current.update()},gt={},Fe=typeof G=="string";h?(gt.title=!nt&&Fe&&!g?G:null,gt["aria-describedby"]=nt?Ge:null):(gt["aria-label"]=Fe?G:null,gt["aria-labelledby"]=nt&&!Fe?Ge:null);const dt={...gt,...H,...K.props,className:en(H.className,K.props.className),onTouchStart:de,ref:Me,...S?{onMouseMove:Te}:{}},ot={};y||(dt.onTouchStart=Z,dt.onTouchEnd=xe),g||(dt.onMouseOver=$x(Ve,dt.onMouseOver),dt.onMouseLeave=$x(Be,dt.onMouseLeave),re||(ot.onMouseOver=Ve,ot.onMouseLeave=Be)),m||(dt.onFocus=$x(Ye,dt.onFocus),dt.onBlur=$x(Ke,dt.onBlur),re||(ot.onFocus=Ye,ot.onBlur=Ke));const je={...i,isRtl:W,arrow:a,disableInteractive:re,placement:B,PopperComponentProp:L,touch:ge.current},Ze=typeof V.popper=="function"?V.popper(je):V.popper,Dt=F.useMemo(()=>{var la,Mr;let Yt=[{name:"arrow",enabled:!!ie,options:{element:ie,padding:4}}];return(la=D.popperOptions)!=null&&la.modifiers&&(Yt=Yt.concat(D.popperOptions.modifiers)),(Mr=Ze==null?void 0:Ze.popperOptions)!=null&&Mr.modifiers&&(Yt=Yt.concat(Ze.popperOptions.modifiers)),{...D.popperOptions,...Ze==null?void 0:Ze.popperOptions,modifiers:Yt}},[ie,D.popperOptions,Ze==null?void 0:Ze.popperOptions]),be=uk(je),He=typeof V.transition=="function"?V.transition(je):V.transition,vt={slots:{popper:c.Popper,transition:(bn=c.Transition)!=null?bn:X,tooltip:c.Tooltip,arrow:c.Arrow,...U},slotProps:{arrow:(tn=V.arrow)!=null?tn:f.arrow,popper:{...D,...Ze!=null?Ze:f.popper},tooltip:(di=V.tooltip)!=null?di:f.tooltip,transition:{...$,...He!=null?He:f.transition}}},[ye,at]=En("popper",{elementType:fk,externalForwardedProps:vt,ownerState:je,className:en(be.popper,D==null?void 0:D.className)}),[ft,bt]=En("transition",{elementType:L1,externalForwardedProps:vt,ownerState:je}),[yt,lt]=En("tooltip",{elementType:dk,className:be.tooltip,externalForwardedProps:vt,ownerState:je}),[Ot,Wt]=En("arrow",{elementType:hk,className:be.arrow,externalForwardedProps:vt,ownerState:je,ref:fe});return I.jsxs(F.Fragment,{children:[F.cloneElement(K,dt),I.jsx(ye,{as:L!=null?L:kR,placement:B,anchorEl:S?{getBoundingClientRect:()=>({top:Gg.y,left:Gg.x,right:Gg.x,bottom:Gg.y,width:0,height:0})}:ce,popperRef:Ne,open:ce?nt:!1,id:Ge,transition:!0,...ot,...at,popperOptions:Dt,children:({TransitionProps:Yt})=>I.jsx(ft,{timeout:Q.transitions.duration.shorter,...Yt,...bt,children:I.jsxs(yt,{...lt,children:[G,a?I.jsx(Ot,{...Wt}):null]})})})]})});function pk(n){return $n("MuiSwitch",n)}const zs=Gn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),mk=n=>{const{classes:e,edge:t,size:i,color:a,checked:r,disabled:o}=n,c={root:["root",t&&`edge${Mt(t)}`,`size${Mt(i)}`],switchBase:["switchBase",`color${Mt(a)}`,r&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},f=Kn(c,pk,e);return{...e,...f}},gk=Et("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.edge&&e[`edge${Mt(t.edge)}`],e[`size${Mt(t.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${zs.thumb}`]:{width:16,height:16},[`& .${zs.switchBase}`]:{padding:4,[`&.${zs.checked}`]:{transform:"translateX(16px)"}}}}]}),yk=Et(VR,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.switchBase,{[`& .${zs.input}`]:e.input},t.color!=="default"&&e[`color${Mt(t.color)}`]]}})(xn(({theme:n})=>({position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:`${n.palette.mode==="light"?n.palette.common.white:n.palette.grey[300]}`,transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest}),[`&.${zs.checked}`]:{transform:"translateX(20px)"},[`&.${zs.disabled}`]:{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:`${n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[600]}`},[`&.${zs.checked} + .${zs.track}`]:{opacity:.5},[`&.${zs.disabled} + .${zs.track}`]:{opacity:n.vars?n.vars.opacity.switchTrackDisabled:`${n.palette.mode==="light"?.12:.2}`},[`& .${zs.input}`]:{left:"-100%",width:"300%"}})),xn(({theme:n})=>({"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(n.palette).filter(or(["light"])).map(([e])=>({props:{color:e},style:{[`&.${zs.checked}`]:{color:(n.vars||n).palette[e].main,"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${zs.disabled}`]:{color:n.vars?n.vars.palette.Switch[`${e}DisabledColor`]:`${n.palette.mode==="light"?n.lighten(n.palette[e].main,.62):n.darken(n.palette[e].main,.55)}`}},[`&.${zs.checked} + .${zs.track}`]:{backgroundColor:(n.vars||n).palette[e].main}}}))]}))),xk=Et("span",{name:"MuiSwitch",slot:"Track"})(xn(({theme:n})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:n.transitions.create(["opacity","background-color"],{duration:n.transitions.duration.shortest}),backgroundColor:n.vars?n.vars.palette.common.onBackground:`${n.palette.mode==="light"?n.palette.common.black:n.palette.common.white}`,opacity:n.vars?n.vars.opacity.switchTrack:`${n.palette.mode==="light"?.38:.3}`}))),vk=Et("span",{name:"MuiSwitch",slot:"Thumb"})(xn(({theme:n})=>({boxShadow:(n.vars||n).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),bk=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiSwitch"}),{className:a,color:r="primary",edge:o=!1,size:c="medium",sx:f,slots:h={},slotProps:m={},...g}=i,v={...i,color:r,edge:o,size:c},y=mk(v),b={slots:h,slotProps:m},[M,A]=En("root",{className:en(y.root,a),elementType:gk,externalForwardedProps:b,ownerState:v,additionalProps:{sx:f}}),[S,E]=En("thumb",{className:y.thumb,elementType:vk,externalForwardedProps:b,ownerState:v}),w=I.jsx(S,{...E}),[R,z]=En("track",{className:y.track,elementType:xk,externalForwardedProps:b,ownerState:v});return I.jsxs(M,{...A,children:[I.jsx(yk,{type:"checkbox",icon:w,checkedIcon:w,ref:t,ownerState:v,...g,classes:{...y,root:y.switchBase},slots:{...h.switchBase&&{root:h.switchBase},...h.input&&{input:h.input}},slotProps:{...m.switchBase&&{root:typeof m.switchBase=="function"?m.switchBase(v):m.switchBase},input:{role:"switch"},...m.input&&{input:typeof m.input=="function"?m.input(v):m.input}}}),I.jsx(R,{...z})]})});function _k(n){return $n("MuiTextField",n)}Gn("MuiTextField",["root"]);const Sk={standard:MM,filled:SM,outlined:wM},Mk=n=>{const{classes:e}=n;return Kn({root:["root"]},_k,e)},Ak=Et(bU,{name:"MuiTextField",slot:"Root"})({}),ZE=F.forwardRef(function(e,t){const i=ti({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:r=!1,children:o,className:c,color:f="primary",defaultValue:h,disabled:m=!1,error:g=!1,FormHelperTextProps:v,fullWidth:y=!1,helperText:b,id:M,InputLabelProps:A,inputProps:S,InputProps:E,inputRef:w,label:R,maxRows:z,minRows:O,multiline:P=!1,name:B,onBlur:L,onChange:D,onFocus:V,placeholder:U,required:G=!1,rows:X,select:$=!1,SelectProps:H,slots:K={},slotProps:Q={},type:W,value:ce,variant:q="outlined",...ie}=i,fe={...i,autoFocus:r,color:f,disabled:m,error:g,fullWidth:y,multiline:P,required:G,select:$,variant:q},ge=Mk(fe),re=rm(M),te=b&&re?`${re}-helper-text`:void 0,se=R&&re?`${re}-label`:void 0,ve=Sk[q],ze={slots:K,slotProps:{input:E,inputLabel:A,htmlInput:S,formHelperText:v,select:H,...Q}},De={},rt=ze.slotProps.inputLabel;q==="outlined"&&(rt&&typeof rt.shrink<"u"&&(De.notched=rt.shrink),De.label=R),$&&((!H||!H.native)&&(De.id=void 0),De["aria-describedby"]=void 0);const[nt,Ge]=En("root",{elementType:Ak,shouldForwardComponentProp:!0,externalForwardedProps:{...ze,...ie},ownerState:fe,className:en(ge.root,c),ref:t,additionalProps:{disabled:m,error:g,fullWidth:y,required:G,color:f,variant:q}}),[Ee,ne]=En("input",{elementType:ve,externalForwardedProps:ze,additionalProps:De,ownerState:fe}),[Oe,Ae]=En("inputLabel",{elementType:HU,externalForwardedProps:ze,ownerState:fe}),[Ve,Be]=En("htmlInput",{elementType:"input",externalForwardedProps:ze,ownerState:fe}),[ke,Ke]=En("formHelperText",{elementType:RU,externalForwardedProps:ze,ownerState:fe}),[Ye,de]=En("select",{elementType:$R,externalForwardedProps:ze,ownerState:fe}),Z=I.jsx(Ee,{"aria-describedby":te,autoComplete:a,autoFocus:r,defaultValue:h,fullWidth:y,multiline:P,name:B,rows:X,maxRows:z,minRows:O,type:W,value:ce,id:re,inputRef:w,onBlur:L,onChange:D,onFocus:V,placeholder:U,inputProps:Be,slots:{input:K.htmlInput?Ve:void 0},...ne});return I.jsxs(nt,{...Ge,children:[R!=null&&R!==""&&I.jsx(Oe,{htmlFor:re,id:se,...Ae,children:R}),$?I.jsx(Ye,{"aria-describedby":te,id:re,labelId:se,value:ce,input:Z,...de,children:o}):Z,b&&I.jsx(ke,{id:te,...Ke,children:b})]})}),wk="modulepreload",Ek=function(n){return"/v2/"+n},JE={},Th=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=f(t.map(h=>{if(h=Ek(h),h in JE)return;JE[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":wk,m||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),m)return new Promise((y,b)=>{v.addEventListener("load",y),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})};function Tk(n,e,t,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}function Ck(n,e,t,i,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var ib;const wo="__TAURI_TO_IPC_KEY__";function ZR(n,e=!1){return window.__TAURI_INTERNALS__.transformCallback(n,e)}async function Lt(n,e={},t){return window.__TAURI_INTERNALS__.invoke(n,e,t)}class JR{get rid(){return Tk(this,ib,"f")}constructor(e){ib.set(this,void 0),Ck(this,ib,e)}async close(){return Lt("plugin:resources|close",{rid:this.rid})}}ib=new WeakMap;const Rk=Object.freeze(Object.defineProperty({__proto__:null,Resource:JR,SERIALIZE_TO_IPC_FN:wo,invoke:Lt,transformCallback:ZR},Symbol.toStringTag,{value:"Module"}));var Ks;(function(n){n.WINDOW_RESIZED="tauri://resize",n.WINDOW_MOVED="tauri://move",n.WINDOW_CLOSE_REQUESTED="tauri://close-requested",n.WINDOW_DESTROYED="tauri://destroyed",n.WINDOW_FOCUS="tauri://focus",n.WINDOW_BLUR="tauri://blur",n.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",n.WINDOW_THEME_CHANGED="tauri://theme-changed",n.WINDOW_CREATED="tauri://window-created",n.WEBVIEW_CREATED="tauri://webview-created",n.DRAG_ENTER="tauri://drag-enter",n.DRAG_OVER="tauri://drag-over",n.DRAG_DROP="tauri://drag-drop",n.DRAG_LEAVE="tauri://drag-leave"})(Ks||(Ks={}));async function QR(n,e){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(n,e),await Lt("plugin:event|unlisten",{event:n,eventId:e})}async function TM(n,e,t){var i;const a=typeof(t==null?void 0:t.target)=="string"?{kind:"AnyLabel",label:t.target}:(i=t==null?void 0:t.target)!==null&&i!==void 0?i:{kind:"Any"};return Lt("plugin:event|listen",{event:n,target:a,handler:ZR(e)}).then(r=>async()=>QR(n,r))}async function e6(n,e,t){return TM(n,i=>{QR(n,i.id),e(i)},t)}async function t6(n,e){await Lt("plugin:event|emit",{event:n,payload:e})}async function n6(n,e,t){await Lt("plugin:event|emit_to",{target:typeof n=="string"?{kind:"AnyLabel",label:n}:n,event:e,payload:t})}const CM=Object.freeze(Object.defineProperty({__proto__:null,get TauriEvent(){return Ks},emit:t6,emitTo:n6,listen:TM,once:e6},Symbol.toStringTag,{value:"Module"})),QE=n=>{let e;const t=new Set,i=(h,m)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const v=e;e=(m!=null?m:typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(y=>y(e,v))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:h=>(t.add(h),()=>t.delete(h))},f=e=n(i,a,c);return c},i6=(n=>n?QE(n):QE),Ok=n=>n;function zk(n,e=Ok){const t=qi.useSyncExternalStore(n.subscribe,qi.useCallback(()=>e(n.getState()),[n,e]),qi.useCallback(()=>e(n.getInitialState()),[n,e]));return qi.useDebugValue(t),t}const eT=n=>{const e=i6(n),t=i=>zk(e,i);return Object.assign(t,e),t},j_=(n=>n?eT(n):eT),Au=j_(n=>({logs:[],frontendLogs:[],appLogs:[],setLogs:e=>n(t=>t.logs===e||Array.isArray(t.logs)&&Array.isArray(e)&&t.logs.length===e.length&&t.logs.length>0&&t.logs[t.logs.length-1]===e[e.length-1]?t:{logs:e}),addFrontendLog:(e,t="info")=>{if(e==null)return;const a=["info","success","warning","error"].includes(t)?t:"info",r=String(e).slice(0,1e4);try{const o=Date.now();let c;try{c=new Date(o).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{c=new Date(o).toISOString().substring(11,19)}n(f=>{const h={timestamp:c,timestampNumeric:o,message:r,source:"frontend",level:a};return{frontendLogs:[...f.frontendLogs.slice(-qn.LOGS.MAX_FRONTEND),h]}})}catch{}},addAppLog:(e,t,i="info")=>{if(e==null)return;const a=String(e).slice(0,1e4),r=t?String(t).slice(0,100):void 0,o=["info","warning","error"].includes(i)?i:"info";try{const c=Date.now();let f;try{f=new Date(c).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{f=new Date(c).toISOString().substring(11,19)}const h={timestamp:f,timestampNumeric:c,message:a,source:"app",appName:r,level:o};n(m=>{const g=m.appLogs[m.appLogs.length-1];return g&&g.message===a&&g.appName===r&&g.timestampNumeric&&c-g.timestampNumeric<100?m:{appLogs:[...m.appLogs.slice(-qn.LOGS.MAX_APP),h]}})}catch{}},clearAppLogs:e=>n(t=>({appLogs:e?t.appLogs.filter(i=>i.appName!==e):[]}))})),Za={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error"},Xd={SUCCESS:"",ERROR:"",WARNING:"",PERMISSION:"",TIMEOUT:""},Nk={DAEMON:"[Daemon]"};function G_(){const n=Au(v=>v.addFrontendLog),e=dn(v=>v.addAppLog),t=F.useCallback((v,y={})=>{n(v,Za.INFO)},[n]),i=F.useCallback((v,y={})=>{const b=`${Xd.SUCCESS} ${v}`;n(b,Za.SUCCESS)},[n]),a=F.useCallback((v,y={})=>{const b=`${Xd.WARNING} ${v}`;n(b,Za.WARNING)},[n]),r=F.useCallback((v,y={})=>{const b=`${Xd.ERROR} ${v}`;n(b,Za.ERROR)},[n]),o=F.useCallback((v,y,b,M="")=>{const A=b?Xd.SUCCESS:Xd.ERROR,S=M?`${A} ${v} ${y}: ${M}`:`${A} ${v} ${y}`;n(S,b?Za.SUCCESS:Za.ERROR)},[n]),c=F.useCallback((v,y=Za.INFO)=>{const b=`${Nk.DAEMON} ${v}`;n(b,y)},[n]),f=F.useCallback((v,y,b=Za.INFO)=>{e(y,v,b)},[e]),h=F.useCallback((v,y="")=>{const b=y?`${v}: ${y}`:v;n(b,Za.INFO)},[n]),m=F.useCallback(v=>{const y=`${Xd.PERMISSION} ${v}`;n(y,Za.WARNING)},[n]),g=F.useCallback(v=>{const y=`${Xd.TIMEOUT} ${v}`;n(y,Za.WARNING)},[n]);return{info:t,success:i,warning:a,error:r,api:o,daemon:c,app:f,userAction:h,permission:m,timeout:g}}const Dk=()=>{try{return Au.getState()}catch{return null}},Ph=(n,e=Za.INFO)=>{const t=Dk();if(t!=null&&t.addFrontendLog){t.addFrontendLog(n,e);return}(async()=>{try{const{getCurrentWindow:i}=await Th(async()=>{const{getCurrentWindow:o}=await Promise.resolve().then(()=>l6);return{getCurrentWindow:o}},void 0),{emit:a}=await Th(async()=>{const{emit:o}=await Promise.resolve().then(()=>CM);return{emit:o}},void 0);(await i()).label!=="main"&&await a("add-log",{message:n,level:e})}catch{}})()},Lk=(n,e={})=>{Ph(n,Za.INFO)},Ik=(n,e={})=>{Ph(n,Za.SUCCESS)},tT=(n,e={})=>{Ph(n,Za.WARNING)},P3=(n,e={})=>{Ph(n,Za.ERROR)},nT=(n,e,t,i="")=>{const a=i?`${n} ${e}: ${i}`:`${n} ${e}`;Ph(a,t?Za.SUCCESS:Za.ERROR)},Pk=n=>{Ph(n,Za.WARNING)},U3=n=>{Ph(n,Za.WARNING)},qn={TIMEOUTS:{HEALTHCHECK:1333,STATE_FULL:5e3,COMMAND:1e4,STARTUP_CHECK:2e3,VERSION:3e3,EMOTIONS_CHECK:3e3,APPS_LIST:5e3,APP_INSTALL:6e4,APP_REMOVE:9e4,APP_START:3e4,APP_STOP:3e4,JOB_STATUS:12e4,PERMISSION_POPUP_WAIT:3e4},INTERVALS:{LOGS_FETCH:1e3,USB_CHECK:1e3,VERSION_FETCH:1e4,ROBOT_STATE:500,APP_STATUS:2e3,JOB_POLLING:500,CURRENT_APP_REFRESH:300},CRASH_DETECTION:{MAX_TIMEOUTS:3,STARTUP_MAX_ATTEMPTS:15,STARTUP_RETRY_DELAY:1e3,JOB_MAX_FAILS:20,JOB_CLEANUP_DELAY:1e4},LOGS:{MAX_FRONTEND:500,MAX_APP:1e3,MAX_DISPLAY:1e4},ANIMATIONS:{MODEL_LOAD_TIME:1e3,SCAN_DURATION:3e3,SCAN_INTERNAL_DELAYS:250,SCAN_COMPLETE_PAUSE:600,TRANSITION_DURATION:800,VIEW_FADE_DELAY:100,SLEEP_DURATION:4e3,STARTUP_MIN_DELAY:2e3,SPINNER_RENDER_DELAY:100,BUTTON_SPINNER_DELAY:500,STOP_DAEMON_DELAY:2e3},MIN_DISPLAY_TIMES:{UPDATE_CHECK:2e3,USB_CHECK:2e3,USB_CHECK_FIRST:1500,APP_UNINSTALL:4e3},UPDATE_CHECK:{INTERVAL:36e5,STARTUP_DELAY:2e3,RETRY_DELAY:1e3,CHECK_TIMEOUT:3e4},MOVEMENT:{CONTINUOUS_MOVE_TIMEOUT:200,MOVEMENT_DETECTION_TIMEOUT:800,COMMAND_LOCK_DURATION:2e3,RECORDED_MOVE_LOCK_DURATION:5e3,TOLERANCE_SMALL:.001,TOLERANCE_MEDIUM:.005,TOLERANCE_LARGE:.01},APP_INSTALLATION:{RESULT_DISPLAY_DELAY:3e3,HANDLER_DELAY:500,REFRESH_DELAY:500},ENDPOINTS:{BASE_URL:"http://localhost:8000",STATE_FULL:"/api/state/full",DAEMON_STATUS:"/api/daemon/status",EMOTIONS_LIST:"/api/move/recorded-move-datasets/list/pollen-robotics/reachy-mini-emotions-library",VOLUME_CURRENT:"/api/volume/current",VOLUME_SET:"/api/volume/set",MICROPHONE_CURRENT:"/api/volume/microphone/current",MICROPHONE_SET:"/api/volume/microphone/set"},SILENT_ENDPOINTS:["/api/state/full","/api/daemon/status","/api/apps/list-available/installed"]};function Uk(n){var a,r;if(!n)return!1;const e=((a=n.message)==null?void 0:a.toLowerCase())||"",t=((r=n.name)==null?void 0:r.toLowerCase())||"";return["permission denied","access denied","eacces","eperm","unauthorized","forbidden","user denied","user cancelled","operation not permitted"].some(o=>e.includes(o)||t.includes(o))}function Bk(n,e,t){return(n==null?void 0:n.name)!=="TimeoutError"?!1:e/t>.9}async function $o(n,e={},t,i={}){const{silent:a=!1,label:r=null}=i,c=n.replace(qn.ENDPOINTS.BASE_URL,"").split("?")[0],f=a||qn.SILENT_ENDPOINTS.some(g=>c.startsWith(g)),h=e.method||"GET",m=Date.now();try{const g=new AbortController,v=setTimeout(()=>g.abort(),t);let y=g.signal;if(e.signal){const A=e.signal;A.aborted?g.abort():A.addEventListener("abort",()=>{g.abort()})}const b=await fetch(n,{...e,signal:y});clearTimeout(v);const M=Date.now()-m;return f||(r?b.ok?Ik(r):P3(`${r} failed (${b.status})`):nT(h,c,b.ok,b.ok?"":`(${b.status})`)),b}catch(g){const v=Date.now()-m;if(f||(r?g.name==="AbortError"?U3(`${r} (timeout)`):P3(`${r} (${g.message||"error"})`):g.name==="AbortError"?U3(`${h} ${c} (timeout)`):P3(`${h} ${c} (${g.message||"error"})`)),Uk(g)){const y=new Error("Permission denied by user or system");if(y.name="PermissionDeniedError",y.originalError=g,!f){const b=r||`${h} ${c}`;Pk(`${b} (permission denied)`)}throw y}if(Bk(g,v,t)){const y=new Error("Request timed out - system permission popup may be waiting");if(y.name="SystemPopupTimeoutError",y.originalError=g,y.duration=v,!f){const b=r||`${h} ${c}`;U3(`${b} (timeout - check system permissions)`)}throw y}if(!f){const y=g.name==="AbortError"||g.name==="TimeoutError"?"timeout":g.message;nT(h,c,!1,y)}throw g}}function Ll(n){return`${qn.ENDPOINTS.BASE_URL}${n}`}async function I1(n,e={},t,i={}){return $o(n,e,t,i)}function kk(n,e){if(n===e)return!0;if(!n||!e)return n===e;if(n.lastUpdate!==e.lastUpdate||n.error!==e.error)return!1;if(!n.data&&!e.data)return!0;if(!n.data||!e.data)return!1;const t=Object.keys(n.data),i=Object.keys(e.data);return t.length!==i.length?!1:t.every(a=>n.data[a]===e.data[a])}function Fk(n,e){if(n===e)return!0;if(!n||!e)return n===e;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Vk(n,e){if(n===e)return!0;if(!n||!e)return n===e;if(n.length!==e.length)return!1;if(n.length>0&&e.length>0){const t=n[n.length-1],i=e[e.length-1];if(t.timestamp!==i.timestamp||t.message!==i.message||t.source!==i.source)return!1}return!0}function g5(n,e){if(n===e)return!0;if(n==null||e==null||typeof n!="object"||typeof e!="object")return!1;if(Array.isArray(n)&&Array.isArray(e))return n.length!==e.length?!1:n.every((a,r)=>g5(a,e[r]));if(Array.isArray(n)||Array.isArray(e))return!1;const t=Object.keys(n),i=Object.keys(e);return t.length!==i.length?!1:t.every(a=>g5(n[a],e[a]))}function Hk(n,e,t){const i={};return t.forEach(a=>{const r=n[a],o=e[a];r!==o&&(a==="robotStateFull"?kk(r,o)||(i[a]=o):a==="activeMoves"?Fk(r,o)||(i[a]=o):a==="frontendLogs"?Vk(r,o)||(i[a]=o):typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null?g5(r,o)||(i[a]=o):r!==o&&(i[a]=o))}),i}const jk=n=>(e,t,i)=>{let a=!1,r=null,o=null;(async()=>o||(o=(async()=>{try{const{getCurrentWindow:h}=await Th(async()=>{const{getCurrentWindow:v}=await Promise.resolve().then(()=>l6);return{getCurrentWindow:v}},void 0),{emit:m}=await Th(async()=>{const{emit:v}=await Promise.resolve().then(()=>CM);return{emit:v}},void 0);a=(await h()).label==="main",a&&(r=async v=>{try{const y={};["darkMode","isActive","robotStatus","busyReason","isCommandRunning","isAppRunning","isInstalling","robotStateFull","activeMoves","frontendLogs"].forEach(A=>{A in v&&(y[A]=v[A])});const M=t();"darkMode"in y||(y.darkMode=M.darkMode),Object.keys(y).length>0&&await m("store-update",y)}catch{}})}catch{}})(),o))();const f=h=>{const m=t(),v=Hk(h,m,["darkMode","isActive","robotStatus","busyReason","isCommandRunning","isAppRunning","isInstalling","robotStateFull","activeMoves","frontendLogs"]),y=t();"darkMode"in v||(v.darkMode=y.darkMode),"isActive"in v||(v.isActive=y.isActive),"robotStatus"in v||(v.robotStatus=y.robotStatus),Object.keys(v).length>0&&r(v)};return n((h,m)=>{const g=t(),v=e(h,m);return r?f(g):o&&o.then(()=>{r&&f(g)}),v},t,i)},ei=j_((n,e)=>({robotStatus:"disconnected",busyReason:null,isActive:!1,isStarting:!1,isStopping:!1,isTransitioning:!1,daemonVersion:null,startupError:null,hardwareError:null,isDaemonCrashed:!1,consecutiveTimeouts:0,startupTimeoutId:null,isUsbConnected:!1,usbPortName:null,isFirstCheck:!0,robotStateFull:{data:null,lastUpdate:null,error:null},activeMoves:[],isCommandRunning:!1,isAppRunning:!1,isInstalling:!1,currentAppName:null,activeEffect:null,effectTimestamp:0,transitionTo:{disconnected:()=>{n({robotStatus:"disconnected",busyReason:null,isActive:!1,isStarting:!1,isStopping:!1,isCommandRunning:!1,isAppRunning:!1,isInstalling:!1})},readyToStart:()=>{n({robotStatus:"ready-to-start",busyReason:null,isActive:!1,isStarting:!1,isStopping:!1})},starting:()=>{n({robotStatus:"starting",busyReason:null,isActive:!1,isStarting:!0,isStopping:!1})},ready:()=>{if(e().hardwareError){console.warn(" Cannot transition to ready while hardwareError is present");return}n({robotStatus:"ready",busyReason:null,isActive:!0,isStarting:!1,isStopping:!1,isCommandRunning:!1,isAppRunning:!1,isInstalling:!1})},busy:t=>{n(i=>{const a={robotStatus:"busy",busyReason:t,isActive:!0};return t==="command"&&(a.isCommandRunning=!0),t==="app-running"&&(a.isAppRunning=!0),t==="installing"&&(a.isInstalling=!0),a})},stopping:()=>{n({robotStatus:"stopping",busyReason:null,isActive:!1,isStopping:!0})},crashed:()=>{e().isAppRunning,n({robotStatus:"crashed",busyReason:null,isActive:!1,isDaemonCrashed:!0})}},isBusy:()=>{const t=e();return t.robotStatus==="busy"||t.isCommandRunning||t.isAppRunning||t.isInstalling},isReady:()=>e().robotStatus==="ready",getRobotStatusLabel:()=>{const t=e(),{robotStatus:i,busyReason:a}=t;return i==="busy"&&a?{moving:"Moving",command:"Executing Command","app-running":"Running App",installing:"Installing"}[a]||"Busy":{disconnected:"Disconnected","ready-to-start":"Ready to Start",starting:"Starting",ready:"Ready",busy:"Busy",stopping:"Stopping",crashed:"Crashed"}[i]||"Unknown"},lockForApp:t=>{e().transitionTo.busy("app-running"),n({currentAppName:t})},unlockApp:()=>{e().transitionTo.ready(),n({currentAppName:null})},setIsActive:t=>{const i=e();if(t&&i.hardwareError){console.warn(" Cannot set isActive=true while hardwareError is present");return}t&&!i.isStarting&&!i.isStopping?i.robotStatus!=="busy"&&i.transitionTo.ready():!t&&i.robotStatus!=="starting"&&i.robotStatus!=="stopping"&&i.transitionTo.readyToStart(),n({isActive:t})},setIsStarting:t=>{const i=e();t&&i.transitionTo.starting(),n({isStarting:t})},setIsStopping:t=>{const i=e();t?i.transitionTo.stopping():i.transitionTo.readyToStart(),n({isStopping:t})},setIsTransitioning:t=>n({isTransitioning:t}),setDaemonVersion:t=>n({daemonVersion:t}),setStartupError:t=>n({startupError:t}),setHardwareError:t=>n({hardwareError:t}),setIsUsbConnected:t=>{const i=e();t?i.robotStatus==="disconnected"&&i.transitionTo.readyToStart():i.transitionTo.disconnected(),n({isUsbConnected:t})},setUsbPortName:t=>n({usbPortName:t}),setIsFirstCheck:t=>n({isFirstCheck:t}),setRobotStateFull:t=>n(i=>typeof t=="function"?{robotStateFull:t(i.robotStateFull)}:{robotStateFull:t}),setActiveMoves:t=>n({activeMoves:t}),setIsCommandRunning:t=>{const i=e();t?i.transitionTo.busy("command"):i.busyReason==="command"&&i.transitionTo.ready(),n({isCommandRunning:t})},incrementTimeouts:()=>{const t=e(),i=t.consecutiveTimeouts+1;i>=3&&!t.isDaemonCrashed&&t.transitionTo.crashed(),n({consecutiveTimeouts:i})},resetTimeouts:()=>n({consecutiveTimeouts:0,isDaemonCrashed:!1}),markDaemonCrashed:()=>{e().transitionTo.crashed()},setStartupTimeout:t=>n({startupTimeoutId:t}),clearStartupTimeout:()=>{const t=e();t.startupTimeoutId!==null&&(clearTimeout(t.startupTimeoutId),n({startupTimeoutId:null}))},triggerEffect:t=>n({activeEffect:t,effectTimestamp:Date.now()}),stopEffect:()=>n({activeEffect:null})})),a6=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,r6=()=>{if(typeof window>"u")return null;const n=localStorage.getItem("darkMode");return n?JSON.parse(n):null},Gk=()=>{const n=r6();return n!==null?n:a6()},Zs=j_(n=>({darkMode:Gk(),openWindows:[],rightPanelView:null,addOpenWindow:e=>n(t=>t.openWindows.includes(e)?t:{openWindows:[...t.openWindows,e]}),removeOpenWindow:e=>n(t=>({openWindows:t.openWindows.filter(i=>i!==e)})),isWindowOpen:e=>Zs.getState().openWindows.includes(e),setRightPanelView:e=>n({rightPanelView:e}),setDarkMode:e=>{localStorage.setItem("darkMode",JSON.stringify(e)),n({darkMode:e})},toggleDarkMode:()=>n(e=>{const t=!e.darkMode;return localStorage.setItem("darkMode",JSON.stringify(t)),{darkMode:t}}),resetDarkMode:()=>{localStorage.removeItem("darkMode");const e=a6();n({darkMode:e})}}));if(typeof window<"u"){const n=window.matchMedia("(prefers-color-scheme: dark)"),e=t=>{r6()===null&&Zs.setState({darkMode:t.matches})};n.addEventListener?n.addEventListener("change",e):n.addListener(e)}const dn=j_(jk((n,e,t)=>{let i=!1;const a=()=>{if(!i){i=!0;try{const r=ei.getState(),o=Au.getState(),c=Zs.getState();n({robotStatus:r.robotStatus,busyReason:r.busyReason,isActive:r.isActive,isStarting:r.isStarting,isStopping:r.isStopping,isTransitioning:r.isTransitioning,daemonVersion:r.daemonVersion,startupError:r.startupError,hardwareError:r.hardwareError,isDaemonCrashed:r.isDaemonCrashed,consecutiveTimeouts:r.consecutiveTimeouts,startupTimeoutId:r.startupTimeoutId,isUsbConnected:r.isUsbConnected,usbPortName:r.usbPortName,isFirstCheck:r.isFirstCheck,robotStateFull:r.robotStateFull,activeMoves:r.activeMoves,isCommandRunning:r.isCommandRunning,isAppRunning:r.isAppRunning,isInstalling:r.isInstalling,currentAppName:r.currentAppName,activeEffect:r.activeEffect,effectTimestamp:r.effectTimestamp,logs:o.logs,frontendLogs:o.frontendLogs,appLogs:o.appLogs,darkMode:c.darkMode,openWindows:c.openWindows,rightPanelView:c.rightPanelView})}finally{i=!1}}};return a(),ei.subscribe(()=>{a()}),Au.subscribe(()=>{a()}),Zs.subscribe(()=>{a()}),{availableApps:[],installedApps:[],currentApp:null,activeJobs:{},appsLoading:!1,appsError:null,appsLastFetch:null,appsOfficialMode:!0,appsCacheValid:!1,installingAppName:null,installJobType:null,installResult:null,installStartTime:null,processedJobs:[],jobSeenOnce:!1,update:r=>{const o={},c={},f={},h={},m=["availableApps","installedApps","currentApp","activeJobs","appsLoading","appsError","appsLastFetch","appsOfficialMode","appsCacheValid","installingAppName","installJobType","installResult","installStartTime","processedJobs","jobSeenOnce"];Object.keys(r).forEach(g=>{m.includes(g)?h[g]=r[g]:g in ei.getState()?o[g]=r[g]:g in Au.getState()?c[g]=r[g]:g in Zs.getState()?f[g]=r[g]:h[g]=r[g]}),Object.keys(o).length>0&&ei.setState(o),Object.keys(c).length>0&&Au.setState(c),Object.keys(f).length>0&&Zs.setState(f),Object.keys(h).length>0&&n(h)},transitionTo:{disconnected:()=>{ei.getState().transitionTo.disconnected()},readyToStart:()=>{ei.getState().transitionTo.readyToStart()},starting:()=>{ei.getState().transitionTo.starting()},ready:()=>{const r=ei.getState();if(r.hardwareError){console.warn(" Cannot transition to ready while hardwareError is present");return}r.transitionTo.ready()},busy:r=>{ei.getState().transitionTo.busy(r)},stopping:()=>{ei.getState().transitionTo.stopping()},crashed:()=>{const r=ei.getState();if(r.isAppRunning){const o=e();o.currentAppName&&o.unlockApp()}r.transitionTo.crashed()}},isBusy:()=>ei.getState().isBusy(),isReady:()=>ei.getState().isReady(),getRobotStatusLabel:()=>ei.getState().getRobotStatusLabel(),lockForApp:r=>{ei.getState().lockForApp(r)},unlockApp:()=>{ei.getState().unlockApp()},setIsActive:r=>ei.getState().setIsActive(r),setIsStarting:r=>ei.getState().setIsStarting(r),setIsStopping:r=>ei.getState().setIsStopping(r),setIsTransitioning:r=>ei.setState({isTransitioning:r}),setDaemonVersion:r=>ei.setState({daemonVersion:r}),setStartupError:r=>ei.setState({startupError:r}),setHardwareError:r=>ei.setState({hardwareError:r}),setIsUsbConnected:r=>ei.getState().setIsUsbConnected(r),setUsbPortName:r=>ei.setState({usbPortName:r}),setIsFirstCheck:r=>ei.setState({isFirstCheck:r}),setRobotStateFull:r=>ei.getState().setRobotStateFull(r),setActiveMoves:r=>ei.setState({activeMoves:r}),setIsCommandRunning:r=>ei.getState().setIsCommandRunning(r),incrementTimeouts:()=>ei.getState().incrementTimeouts(),resetTimeouts:()=>ei.getState().resetTimeouts(),markDaemonCrashed:()=>ei.getState().markDaemonCrashed(),setStartupTimeout:r=>ei.setState({startupTimeoutId:r}),clearStartupTimeout:()=>ei.getState().clearStartupTimeout(),triggerEffect:r=>ei.getState().triggerEffect(r),stopEffect:()=>ei.getState().stopEffect(),setLogs:r=>Au.getState().setLogs(r),addAppLog:(r,o,c)=>Au.getState().addAppLog(r,o,c),clearAppLogs:r=>Au.getState().clearAppLogs(r),addOpenWindow:r=>Zs.getState().addOpenWindow(r),removeOpenWindow:r=>Zs.getState().removeOpenWindow(r),isWindowOpen:r=>Zs.getState().isWindowOpen(r),setRightPanelView:r=>Zs.getState().setRightPanelView(r),setDarkMode:r=>Zs.getState().setDarkMode(r),toggleDarkMode:()=>Zs.getState().toggleDarkMode(),resetDarkMode:()=>Zs.getState().resetDarkMode(),setAvailableApps:r=>n({availableApps:r,appsLastFetch:Date.now(),appsCacheValid:!0,appsError:null}),setInstalledApps:r=>n({installedApps:r}),setCurrentApp:r=>n({currentApp:r}),setActiveJobs:r=>{if(typeof r=="function")n(o=>{const c=o.activeJobs instanceof Map?Object.fromEntries(o.activeJobs):o.activeJobs||{},f=r(new Map(Object.entries(c)));return{activeJobs:f instanceof Map?Object.fromEntries(f):f}});else{const o=r instanceof Map?Object.fromEntries(r):r;n({activeJobs:o||{}})}},setAppsLoading:r=>n({appsLoading:r}),setAppsError:r=>n({appsError:r}),setAppsOfficialMode:r=>n({appsOfficialMode:r,appsCacheValid:!1}),invalidateAppsCache:()=>n({appsCacheValid:!1}),clearApps:()=>n({availableApps:[],installedApps:[],currentApp:null,activeJobs:{},appsLoading:!1,appsError:null,appsLastFetch:null,appsCacheValid:!1}),lockForInstall:(r,o="install")=>{ei.getState().transitionTo.busy("installing"),n({installingAppName:r,installJobType:o,installResult:null,installStartTime:Date.now(),jobSeenOnce:!1});const c=`${r}_${o}`,h=e().processedJobs.filter(m=>m!==c);n({processedJobs:h})},unlockInstall:()=>{ei.getState().transitionTo.ready(),n({installingAppName:null,installJobType:null,installResult:null,installStartTime:null,jobSeenOnce:!1,processedJobs:[]})},setInstallResult:r=>n({installResult:r}),markJobAsSeen:()=>n({jobSeenOnce:!0}),markJobAsProcessed:(r,o)=>{const c=e(),f=`${r}_${o}`,h=c.processedJobs.includes(f)?c.processedJobs:[...c.processedJobs,f];n({processedJobs:h})}}}));if(typeof window<"u"){const n=window.matchMedia("(prefers-color-scheme: dark)"),e=t=>{Zs.getState().darkMode,dn.setState({darkMode:t.matches})};n.addEventListener?n.addEventListener("change",e):n.addListener(e)}class RM{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new C0(this.width*e,this.height*e)}[wo](){return{width:this.width,height:this.height}}toJSON(){return this[wo]()}}class C0{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new RM(this.width/e,this.height/e)}[wo](){return{width:this.width,height:this.height}}toJSON(){return this[wo]()}}class Xp{constructor(e){this.size=e}toLogical(e){return this.size instanceof RM?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof C0?this.size:this.size.toPhysical(e)}[wo](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[wo]()}}class OM{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new wu(this.x*e,this.y*e)}[wo](){return{x:this.x,y:this.y}}toJSON(){return this[wo]()}}class wu{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new OM(this.x/e,this.y/e)}[wo](){return{x:this.x,y:this.y}}toJSON(){return this[wo]()}}let Kx=class{constructor(e){this.position=e}toLogical(e){return this.position instanceof OM?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof wu?this.position:this.position.toPhysical(e)}[wo](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[wo]()}},Wk=class ab extends JR{constructor(e){super(e)}static async new(e,t,i){return Lt("plugin:image|new",{rgba:Sb(e),width:t,height:i}).then(a=>new ab(a))}static async fromBytes(e){return Lt("plugin:image|from_bytes",{bytes:Sb(e)}).then(t=>new ab(t))}static async fromPath(e){return Lt("plugin:image|from_path",{path:e}).then(t=>new ab(t))}async rgba(){return Lt("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return Lt("plugin:image|size",{rid:this.rid})}};function Sb(n){return n==null?null:typeof n=="string"?n:n instanceof Wk?n.rid:n}var Mb;(function(n){n[n.Critical=1]="Critical",n[n.Informational=2]="Informational"})(Mb||(Mb={}));class s6{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var y5;(function(n){n.None="none",n.Normal="normal",n.Indeterminate="indeterminate",n.Paused="paused",n.Error="error"})(y5||(y5={}));function o6(){return new zM(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function rb(){return Lt("plugin:window|get_all_windows").then(n=>n.map(e=>new zM(e,{skip:!0})))}const B3=["tauri://created","tauri://error"];class zM{constructor(e,t={}){var i;this.label=e,this.listeners=Object.create(null),t!=null&&t.skip||Lt("plugin:window|create",{options:{...t,parent:typeof t.parent=="string"?t.parent:(i=t.parent)===null||i===void 0?void 0:i.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async a=>this.emit("tauri://error",a))}static async getByLabel(e){var t;return(t=(await rb()).find(i=>i.label===e))!==null&&t!==void 0?t:null}static getCurrent(){return o6()}static async getAll(){return rb()}static async getFocusedWindow(){for(const e of await rb())if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const i=this.listeners[e];i.splice(i.indexOf(t),1)}:TM(e,t,{target:{kind:"Window",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const i=this.listeners[e];i.splice(i.indexOf(t),1)}:e6(e,t,{target:{kind:"Window",label:this.label}})}async emit(e,t){if(B3.includes(e)){for(const i of this.listeners[e]||[])i({event:e,id:-1,payload:t});return}return t6(e,t)}async emitTo(e,t,i){if(B3.includes(t)){for(const a of this.listeners[t]||[])a({event:t,id:-1,payload:i});return}return n6(e,t,i)}_handleTauriEvent(e,t){return B3.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async scaleFactor(){return Lt("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return Lt("plugin:window|inner_position",{label:this.label}).then(e=>new wu(e))}async outerPosition(){return Lt("plugin:window|outer_position",{label:this.label}).then(e=>new wu(e))}async innerSize(){return Lt("plugin:window|inner_size",{label:this.label}).then(e=>new C0(e))}async outerSize(){return Lt("plugin:window|outer_size",{label:this.label}).then(e=>new C0(e))}async isFullscreen(){return Lt("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return Lt("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return Lt("plugin:window|is_maximized",{label:this.label})}async isFocused(){return Lt("plugin:window|is_focused",{label:this.label})}async isDecorated(){return Lt("plugin:window|is_decorated",{label:this.label})}async isResizable(){return Lt("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return Lt("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return Lt("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return Lt("plugin:window|is_closable",{label:this.label})}async isVisible(){return Lt("plugin:window|is_visible",{label:this.label})}async title(){return Lt("plugin:window|title",{label:this.label})}async theme(){return Lt("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return Lt("plugin:window|is_always_on_top",{label:this.label})}async center(){return Lt("plugin:window|center",{label:this.label})}async requestUserAttention(e){let t=null;return e&&(e===Mb.Critical?t={type:"Critical"}:t={type:"Informational"}),Lt("plugin:window|request_user_attention",{label:this.label,value:t})}async setResizable(e){return Lt("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return Lt("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return Lt("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return Lt("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return Lt("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return Lt("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return Lt("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return Lt("plugin:window|maximize",{label:this.label})}async unmaximize(){return Lt("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return Lt("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return Lt("plugin:window|minimize",{label:this.label})}async unminimize(){return Lt("plugin:window|unminimize",{label:this.label})}async show(){return Lt("plugin:window|show",{label:this.label})}async hide(){return Lt("plugin:window|hide",{label:this.label})}async close(){return Lt("plugin:window|close",{label:this.label})}async destroy(){return Lt("plugin:window|destroy",{label:this.label})}async setDecorations(e){return Lt("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return Lt("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return Lt("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return Lt("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return Lt("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return Lt("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return Lt("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return Lt("plugin:window|set_size",{label:this.label,value:e instanceof Xp?e:new Xp(e)})}async setMinSize(e){return Lt("plugin:window|set_min_size",{label:this.label,value:e instanceof Xp?e:e?new Xp(e):null})}async setMaxSize(e){return Lt("plugin:window|set_max_size",{label:this.label,value:e instanceof Xp?e:e?new Xp(e):null})}async setSizeConstraints(e){function t(i){return i?{Logical:i}:null}return Lt("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:t(e==null?void 0:e.minWidth),minHeight:t(e==null?void 0:e.minHeight),maxWidth:t(e==null?void 0:e.maxWidth),maxHeight:t(e==null?void 0:e.maxHeight)}})}async setPosition(e){return Lt("plugin:window|set_position",{label:this.label,value:e instanceof Kx?e:new Kx(e)})}async setFullscreen(e){return Lt("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return Lt("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return Lt("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return Lt("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return Lt("plugin:window|set_icon",{label:this.label,value:Sb(e)})}async setSkipTaskbar(e){return Lt("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return Lt("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return Lt("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return Lt("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return Lt("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return Lt("plugin:window|set_cursor_position",{label:this.label,value:e instanceof Kx?e:new Kx(e)})}async setIgnoreCursorEvents(e){return Lt("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return Lt("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return Lt("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return Lt("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return Lt("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return Lt("plugin:window|set_overlay_icon",{label:this.label,value:e?Sb(e):void 0})}async setProgressBar(e){return Lt("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return Lt("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return Lt("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return Lt("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(Ks.WINDOW_RESIZED,t=>{t.payload=new C0(t.payload),e(t)})}async onMoved(e){return this.listen(Ks.WINDOW_MOVED,t=>{t.payload=new wu(t.payload),e(t)})}async onCloseRequested(e){return this.listen(Ks.WINDOW_CLOSE_REQUESTED,async t=>{const i=new s6(t);await e(i),i.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const t=await this.listen(Ks.DRAG_ENTER,o=>{e({...o,payload:{type:"enter",paths:o.payload.paths,position:new wu(o.payload.position)}})}),i=await this.listen(Ks.DRAG_OVER,o=>{e({...o,payload:{type:"over",position:new wu(o.payload.position)}})}),a=await this.listen(Ks.DRAG_DROP,o=>{e({...o,payload:{type:"drop",paths:o.payload.paths,position:new wu(o.payload.position)}})}),r=await this.listen(Ks.DRAG_LEAVE,o=>{e({...o,payload:{type:"leave"}})});return()=>{t(),a(),i(),r()}}async onFocusChanged(e){const t=await this.listen(Ks.WINDOW_FOCUS,a=>{e({...a,payload:!0})}),i=await this.listen(Ks.WINDOW_BLUR,a=>{e({...a,payload:!1})});return()=>{t(),i()}}async onScaleChanged(e){return this.listen(Ks.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(Ks.WINDOW_THEME_CHANGED,e)}}var iT;(function(n){n.Disabled="disabled",n.Throttle="throttle",n.Suspend="suspend"})(iT||(iT={}));var aT;(function(n){n.Default="default",n.FluentOverlay="fluentOverlay"})(aT||(aT={}));var x5;(function(n){n.AppearanceBased="appearanceBased",n.Light="light",n.Dark="dark",n.MediumLight="mediumLight",n.UltraDark="ultraDark",n.Titlebar="titlebar",n.Selection="selection",n.Menu="menu",n.Popover="popover",n.Sidebar="sidebar",n.HeaderView="headerView",n.Sheet="sheet",n.WindowBackground="windowBackground",n.HudWindow="hudWindow",n.FullScreenUI="fullScreenUI",n.Tooltip="tooltip",n.ContentBackground="contentBackground",n.UnderWindowBackground="underWindowBackground",n.UnderPageBackground="underPageBackground",n.Mica="mica",n.Blur="blur",n.Acrylic="acrylic",n.Tabbed="tabbed",n.TabbedDark="tabbedDark",n.TabbedLight="tabbedLight"})(x5||(x5={}));var v5;(function(n){n.FollowsWindowActiveState="followsWindowActiveState",n.Active="active",n.Inactive="inactive"})(v5||(v5={}));const l6=Object.freeze(Object.defineProperty({__proto__:null,CloseRequestedEvent:s6,get Effect(){return x5},get EffectState(){return v5},LogicalPosition:OM,LogicalSize:RM,PhysicalPosition:wu,PhysicalSize:C0,get ProgressBarStatus(){return y5},get UserAttentionType(){return Mb},Window:zM,getAllWindows:rb,getCurrentWindow:o6},Symbol.toStringTag,{value:"Module"}));var rT;(function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomLeft=2]="BottomLeft",n[n.BottomRight=3]="BottomRight",n[n.TopCenter=4]="TopCenter",n[n.BottomCenter=5]="BottomCenter",n[n.LeftCenter=6]="LeftCenter",n[n.RightCenter=7]="RightCenter",n[n.Center=8]="Center",n[n.TrayLeft=9]="TrayLeft",n[n.TrayBottomLeft=10]="TrayBottomLeft",n[n.TrayRight=11]="TrayRight",n[n.TrayBottomRight=12]="TrayBottomRight",n[n.TrayCenter=13]="TrayCenter",n[n.TrayBottomCenter=14]="TrayBottomCenter"})(rT||(rT={}));const Yk=Vn(I.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"})),Xk=Vn(I.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}));function qp(n,e,t){var o;let i=(o=t.initialDeps)!=null?o:[],a;function r(){var c,f,h,m;let g;t.key&&((c=t.debug)!=null&&c.call(t))&&(g=Date.now());const v=n();if(!(v.length!==i.length||v.some((M,A)=>i[A]!==M)))return a;i=v;let b;if(t.key&&((f=t.debug)!=null&&f.call(t))&&(b=Date.now()),a=e(...v),t.key&&((h=t.debug)!=null&&h.call(t))){const M=Math.round((Date.now()-g)*100)/100,A=Math.round((Date.now()-b)*100)/100,S=A/16,E=(w,R)=>{for(w=String(w);w.length<R;)w=" "+w;return w};console.info(`%c ${E(A,5)} /${E(M,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(m=t==null?void 0:t.onChange)==null||m.call(t,a),a}return r.updateDeps=c=>{i=c},r}function sT(n,e){if(n===void 0)throw new Error("Unexpected undefined");return n}const qk=(n,e)=>Math.abs(n-e)<1.01,$k=(n,e,t)=>{let i;return function(...a){n.clearTimeout(i),i=n.setTimeout(()=>e.apply(this,a),t)}},oT=n=>{const{offsetWidth:e,offsetHeight:t}=n;return{width:e,height:t}},Kk=n=>n,Zk=n=>{const e=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),i=[];for(let a=e;a<=t;a++)i.push(a);return i},Jk=(n,e)=>{const t=n.scrollElement;if(!t)return;const i=n.targetWindow;if(!i)return;const a=o=>{const{width:c,height:f}=o;e({width:Math.round(c),height:Math.round(f)})};if(a(oT(t)),!i.ResizeObserver)return()=>{};const r=new i.ResizeObserver(o=>{const c=()=>{const f=o[0];if(f!=null&&f.borderBoxSize){const h=f.borderBoxSize[0];if(h){a({width:h.inlineSize,height:h.blockSize});return}}a(oT(t))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},lT={passive:!0},cT=typeof window>"u"?!0:"onscrollend"in window,Qk=(n,e)=>{const t=n.scrollElement;if(!t)return;const i=n.targetWindow;if(!i)return;let a=0;const r=n.options.useScrollendEvent&&cT?()=>{}:$k(i,()=>{e(a,!1)},n.options.isScrollingResetDelay),o=m=>()=>{const{horizontal:g,isRtl:v}=n.options;a=g?t.scrollLeft*(v&&-1||1):t.scrollTop,r(),e(a,m)},c=o(!0),f=o(!1);f(),t.addEventListener("scroll",c,lT);const h=n.options.useScrollendEvent&&cT;return h&&t.addEventListener("scrollend",f,lT),()=>{t.removeEventListener("scroll",c),h&&t.removeEventListener("scrollend",f)}},eF=(n,e,t)=>{if(e!=null&&e.borderBoxSize){const i=e.borderBoxSize[0];if(i)return Math.round(i[t.options.horizontal?"inlineSize":"blockSize"])}return n[t.options.horizontal?"offsetWidth":"offsetHeight"]},tF=(n,{adjustments:e=0,behavior:t},i)=>{var a,r;const o=n+e;(r=(a=i.scrollElement)==null?void 0:a.scrollTo)==null||r.call(a,{[i.options.horizontal?"left":"top"]:o,behavior:t})};class nF{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const i=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(r=>{const o=()=>{this._measureElement(r.target,r)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var a;(a=i())==null||a.disconnect(),t=null},observe:a=>{var r;return(r=i())==null?void 0:r.observe(a,{box:"border-box"})},unobserve:a=>{var r;return(r=i())==null?void 0:r.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([i,a])=>{typeof a>"u"&&delete t[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Kk,rangeExtractor:Zk,onChange:()=>{},measureElement:eF,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var i,a;(a=(i=this.options).onChange)==null||a.call(i,this,t)},this.maybeNotify=qp(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var a;var t;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(a=(t=this.scrollElement)==null?void 0:t.window)!=null?a:null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>{var t;return this.options.enabled?(this.scrollRect=(t=this.scrollRect)!=null?t:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var t;return this.options.enabled?(this.scrollOffset=(t=this.scrollOffset)!=null?t:typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(t,i)=>{const a=new Map,r=new Map;for(let o=i-1;o>=0;o--){const c=t[o];if(a.has(c.lane))continue;const f=r.get(c.lane);if(f==null||c.end>f.end?r.set(c.lane,c):c.end<f.end&&a.set(c.lane,!0),a.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((o,c)=>o.end===c.end?o.index-c.index:o.end-c.end)[0]:void 0},this.getMeasurementOptions=qp(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,i,a,r,o)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:i,scrollMargin:a,getItemKey:r,enabled:o}),{key:!1}),this.getMeasurements=qp(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:i,scrollMargin:a,getItemKey:r,enabled:o},c)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(m=>{this.itemSizeCache.set(m.key,m.size)}));const f=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,f);for(let m=f;m<t;m++){const g=r(m),v=this.options.lanes===1?h[m-1]:this.getFurthestMeasurement(h,m),y=v?v.end+this.options.gap:i+a,b=c.get(g),M=typeof b=="number"?b:this.options.estimateSize(m),A=y+M,S=v?v.lane:m%this.options.lanes;h[m]={index:m,start:y,size:M,end:A,key:g,lane:S}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=qp(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,i,a,r)=>this.range=t.length>0&&i>0?iF({measurements:t,outerSize:i,scrollOffset:a,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=qp(()=>{let t=null,i=null;const a=this.calculateRange();return a&&(t=a.startIndex,i=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,i]},(t,i,a,r,o)=>r===null||o===null?[]:t({startIndex:r,endIndex:o,overscan:i,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const i=this.options.indexAttribute,a=t.getAttribute(i);return a?parseInt(a,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(t,i)=>{const a=this.indexFromElement(t),r=this.measurementsCache[a];if(!r)return;const o=r.key,c=this.elementsCache.get(o);c!==t&&(c&&this.observer.unobserve(c),this.observer.observe(t),this.elementsCache.set(o,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,i,this))},this.resizeItem=(t,i)=>{var c;const a=this.measurementsCache[t];if(!a)return;const r=(c=this.itemSizeCache.get(a.key))!=null?c:a.size,o=i-r;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,o,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,i)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((i,a)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=qp(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,i)=>{const a=[];for(let r=0,o=t.length;r<o;r++){const c=t[r],f=i[c];a.push(f)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const i=this.getMeasurements();if(i.length!==0)return sT(i[c6(0,i.length-1,a=>sT(i[a]).start,t)])},this.getOffsetForAlignment=(t,i,a=0)=>{const r=this.getSize(),o=this.getScrollOffset();i==="auto"&&(i=t>=o+r?"end":"start"),i==="center"?t+=(a-r)/2:i==="end"&&(t-=r);const c=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(c,t),0)},this.getOffsetForIndex=(t,i="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const r=this.getSize(),o=this.getScrollOffset();if(i==="auto")if(a.end>=o+r-this.options.scrollPaddingEnd)i="end";else if(a.start<=o+this.options.scrollPaddingStart)i="start";else return[o,i];const c=i==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(c,i,a.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:i="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,i),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:i="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let r=0;const o=10,c=h=>{if(!this.targetWindow)return;const m=this.getOffsetForIndex(t,h);if(!m){console.warn("Failed to get offset for index:",t);return}const[g,v]=m;this._scrollToOffset(g,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),b=this.getOffsetForIndex(t,v);if(!b){console.warn("Failed to get offset for index:",t);return}qk(b[0],y)||f(v)})},f=h=>{this.targetWindow&&(r++,r<o?this.targetWindow.requestAnimationFrame(()=>c(h)):console.warn(`Failed to scroll to index ${t} after ${o} attempts.`))};c(i)},this.scrollBy=(t,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var r;var t;const i=this.getMeasurements();let a;if(i.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=(r=(t=i[i.length-1])==null?void 0:t.end)!=null?r:0;else{const o=Array(this.options.lanes).fill(null);let c=i.length-1;for(;c>=0&&o.some(f=>f===null);){const f=i[c];o[f.lane]===null&&(o[f.lane]=f.end),c--}a=Math.max(...o.filter(f=>f!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:i,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const c6=(n,e,t,i)=>{for(;n<=e;){const a=(n+e)/2|0,r=t(a);if(r<i)n=a+1;else if(r>i)e=a-1;else return a}return n>0?n-1:0};function iF({measurements:n,outerSize:e,scrollOffset:t,lanes:i}){const a=n.length-1,r=f=>n[f].start;if(n.length<=i)return{startIndex:0,endIndex:a};let o=c6(0,a,r,t),c=o;if(i===1)for(;c<a&&n[c].end<t+e;)c++;else if(i>1){const f=Array(i).fill(0);for(;c<a&&f.some(m=>m<t+e);){const m=n[c];f[m.lane]=m.end,c++}const h=Array(i).fill(t+e);for(;o>=0&&h.some(m=>m>=t);){const m=n[o];h[m.lane]=m.start,o--}o=Math.max(0,o-o%i),c=Math.min(a,c+(i-1-c%i))}return{startIndex:o,endIndex:c}}const uT=typeof document<"u"?F.useLayoutEffect:F.useEffect;function aF(n){const e=F.useReducer(()=>({}),{})[1],t={...n,onChange:(a,r)=>{var o;r?L0.flushSync(e):e(),(o=n.onChange)==null||o.call(n,a,r)}},[i]=F.useState(()=>new nF(t));return i.setOptions(t),uT(()=>i._didMount(),[]),uT(()=>i._willUpdate()),i}function rF(n){return aF({observeElementRect:Jk,observeElementOffset:Qk,scrollToFn:tF,...n})}const Ab={COMPACT:9,NORMAL:10},zl={SIMPLE:16,COMPACT:{horizontal:8,vertical:4},NORMAL:{horizontal:16,vertical:4}},fT=[],sb={userSelect:"text",WebkitUserSelect:"text",MozUserSelect:"text",msUserSelect:"text"},dT={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0},sF=n=>n?.2*8:.3*8,Pf=n=>{try{if(typeof n=="string"&&/^\d{2}:\d{2}:\d{2}$/.test(n))return n;if(typeof n=="number"&&!isNaN(n)&&isFinite(n)){const t=Date.now(),i=365*24*60*60*1e3;Math.abs(n-t)>i&&(n=t);try{return new Date(n).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{return new Date(n).toISOString().substring(11,19)}}const e=Date.now();try{return new Date(e).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}catch{return new Date(e).toISOString().substring(11,19)}}catch{return new Date().toISOString().substring(11,19)}},Zx=n=>{try{if(n&&typeof n=="object"&&n.message!=null){const t=String(n.message||"").slice(0,1e4);let i=Date.now();return typeof n.timestamp=="number"&&!isNaN(n.timestamp)&&isFinite(n.timestamp)?i=n.timestamp:n.timestampNumeric&&typeof n.timestampNumeric=="number"&&!isNaN(n.timestampNumeric)&&isFinite(n.timestampNumeric)&&(i=n.timestampNumeric),{message:t,source:n.source||"daemon",timestamp:n.timestamp?Pf(n.timestamp):Pf(i),level:n.level||"info",appName:n.appName||void 0,timestampNumeric:i}}if(typeof n=="string"){const t=Date.now();return{message:n.slice(0,1e4),source:"daemon",timestamp:Pf(t),timestampNumeric:t,level:"info"}}const e=Date.now();return{message:String(n||"Invalid log entry").slice(0,1e4),source:"daemon",timestamp:Pf(e),timestampNumeric:e,level:"info"}}catch(e){const t=Date.now();return{message:`[Log normalization error: ${e.message}]`,source:"daemon",timestamp:Pf(t),timestampNumeric:t,level:"error"}}},oF=(n,e,t,i,a)=>F.useMemo(()=>{const r=Array.isArray(n)?n:[],o=Array.isArray(e)?e:[],c=Array.isArray(t)?t:[];if(a)return r.map(E=>{try{return typeof E=="string"?{message:E.slice(0,1e4),source:"daemon",timestamp:"",level:"info",timestampNumeric:Date.now()}:Zx(E)}catch{return null}}).filter(Boolean);const f=[" Cleaning up existing daemons..."," Cleaning up existing daemons (simulation mode)..."," Daemon started via embedded sidecar"," Daemon started in simulation mode (MuJoCo) via embedded sidecar"," Daemon stopped"],m=[...r.filter(E=>{try{const w=typeof E=="string"?E:E&&typeof E=="object"&&E.message!=null?String(E.message):String(E||"");return!f.some(R=>w.includes(R))}catch{return!1}}).map((E,w)=>{try{return{...Zx(E),order:w}}catch(R){return{message:`[Error normalizing log: ${R.message}]`,source:"daemon",timestamp:Pf(Date.now()),timestampNumeric:Date.now(),level:"error",order:w}}}),...o.map((E,w)=>{try{return{...Zx(E),order:1e6+w,level:E.level||"info"}}catch(R){return{message:`[Error normalizing frontend log: ${R.message}]`,source:"frontend",timestamp:Pf(Date.now()),timestampNumeric:Date.now(),level:"error",order:1e6+w}}}),...c.map((E,w)=>{try{return{...Zx(E),order:2e6+w}}catch(R){return{message:`[Error normalizing app log: ${R.message}]`,source:"app",timestamp:Pf(Date.now()),timestampNumeric:Date.now(),level:"error",order:2e6+w}}})],g=new Set,v=new Map,b=m.filter((E,w)=>{if(E.source==="daemon"){const O=E.message,P=E.timestampNumeric||Date.now(),B=v.get(O);return B&&P-B<1e3?!1:(v.set(O,P),!0)}const z=`${E.timestampNumeric||E.timestamp||""}|${E.source}|${E.message}|${E.appName||""}`;return g.has(z)?!1:(g.add(z),!0)}).sort((E,w)=>E.timestampNumeric&&w.timestampNumeric?E.timestampNumeric-w.timestampNumeric:E.timestampNumeric&&!w.timestampNumeric?-1:!E.timestampNumeric&&w.timestampNumeric?1:(E.order||0)-(w.order||0)),M=new Map,A=b.filter((E,w)=>{if(E.source==="daemon"&&E.level==="error"){const R=E.message,z=E.timestampNumeric||Date.now(),O=M.get(R);if(O&&z-O<1e4)return!1;M.set(R,z)}return!0});return i&&A.length>qn.LOGS.MAX_DISPLAY?A.slice(-qn.LOGS.MAX_DISPLAY):A},[n,e,t,i,a]),u6=qi.memo(({log:n,index:e,totalCount:t,darkMode:i,fontSize:a,compact:r,showTimestamp:o,simpleStyle:c})=>{if(!n)return null;const f=r?1.6:2.4;if(c)return I.jsxs(we,{sx:{display:"flex",alignItems:"flex-start",gap:1,marginBottom:e<t-1?`${f}px`:0},children:[I.jsx(we,{sx:{width:4,height:4,borderRadius:"50%",bgcolor:"#FF9500",mt:.75,flexShrink:0}}),I.jsx(_t,{sx:{fontSize:a,fontFamily:"monospace",color:i?"#d1d5db":"#666",lineHeight:1.6,flex:1,...dT,...sb},children:n.message})]});const{isFrontend:h,isApp:m,displayMessage:g,logLevel:v,isSuccess:y,isError:b,isWarning:M,isCommand:A}=F.useMemo(()=>{const S=n.source==="frontend",E=n.source==="app",w=n.message,R=n.level||"info",z=w.includes("SUCCESS")||w.includes(""),O=R==="error"||w.includes("FAILED")||w.includes("ERROR")||w.includes("")||w.includes("[ERROR]"),P=R==="warning"||w.includes("WARNING")||w.includes("[WARNING]"),B=w.includes("")||w.includes(""),L=E&&n.appName?`[app] ${w}`:w;return{isFrontend:S,isApp:E,displayMessage:L,logLevel:R,isSuccess:z,isError:O,isWarning:P,isCommand:B}},[n.source,n.message,n.level,n.appName]);return I.jsxs(we,{sx:{display:"flex",flexDirection:o?"row":"column",alignItems:"flex-start",gap:1,width:"100%",minWidth:0,marginBottom:e<t-1?`${f}px`:0},children:[I.jsx(_t,{sx:{fontSize:a,color:i?b?"#ff5555":M?"#fbbf24":y?"#55ff55":A?"#ff9500":h?"#5db3ff":m?"#a78bfa":"#f0f0f0":b?"#cc0000":M?"#d97706":y?"#00aa00":A?"#ff6600":h?"#0055cc":m?"#7c3aed":"#1a1a1a",fontFamily:"inherit",lineHeight:r?1.4:1.6,fontWeight:h?500:400,opacity:1,flex:1,...dT,...sb},children:g}),o&&I.jsx(_t,{sx:{fontSize:a-1,color:i?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",fontFamily:"inherit",lineHeight:r?1.4:1.6,fontWeight:400,opacity:.8,flexShrink:0,whiteSpace:"nowrap",...sb},children:n.timestamp})]})});u6.displayName="LogItem";const lF=({lines:n,height:e,maxHeight:t,compact:i,simpleStyle:a})=>{const r=f6(i);return F.useMemo(()=>{if(n!=null&&typeof n=="number"&&n>0){const o=a?zl.SIMPLE*2:i?zl.COMPACT.vertical*2:zl.NORMAL.vertical*2,c=n*r+o;return Math.round(c)}if(e&&e!=="auto"){if(typeof e=="number")return e;if(typeof e=="string"&&e.includes("px"))return parseInt(e.replace("px",""),10);if(e==="100%")return null}if(t){if(typeof t=="number")return t;if(typeof t=="string"&&t.includes("px"))return parseInt(t.replace("px",""),10)}return null},[n,e,t,r,i,a])},f6=n=>F.useMemo(()=>{const i=(n?Ab.COMPACT:Ab.NORMAL)*(n?1.4:1.6),a=sF(n);return Math.round(i+a)},[n]),cF=({virtualizer:n,totalCount:e,enabled:t=!0,compact:i=!1,simpleStyle:a=!1,scrollElementRef:r=null})=>{const o=F.useRef(e),c=F.useRef(!0),f=F.useRef(!1),h=F.useRef(0),m=F.useRef(null),g=F.useRef(!1),v=8,y=F.useCallback((M=!1)=>{if(!n||!t||!c.current||e===0)return;f.current=!0,f.current=!0;const A=()=>{if(!n||!c.current){f.current=!1;return}let S=null;if(n&&typeof n.getScrollElement=="function")try{S=n.getScrollElement()}catch{}if(!S&&r&&r.current&&(S=r.current),!S){setTimeout(()=>{c.current?A():f.current=!1},50);return}try{const{clientHeight:E,scrollTop:w}=S,R=n.getTotalSize(),z=i?1.6:2.4,P=Math.max(0,R+(a?16:4)-E);S.scrollTop=P,h.current=S.scrollTop,requestAnimationFrame(()=>{requestAnimationFrame(()=>{if(!n||!c.current){f.current=!1;return}try{let B=null;if(n&&typeof n.getScrollElement=="function")try{B=n.getScrollElement()}catch{}if(!B&&r&&r.current&&(B=r.current),!B){f.current=!1;return}const{scrollTop:L}=B,D=n?n.getTotalSize():B.scrollHeight,U=Math.max(0,D+(a?16:4)-B.clientHeight);Math.abs(L-U)>1&&(B.scrollTop=U),h.current=B.scrollTop,m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f.current=!1},300)}catch{f.current=!1}})})}catch{f.current=!1}};requestAnimationFrame(()=>{A()})},[n,e,t,i,a]);F.useCallback(()=>{if(!n)return!1;try{const M=n.getScrollElement();if(!M)return!1;const{scrollTop:A,clientHeight:S}=M,E=n.getTotalSize(),z=Math.max(0,E+(a?16:4)-S)-A;return Math.abs(z)<=v}catch{return!1}},[n,i,a]);const b=F.useCallback(M=>{if(!t||!n)return;const A=M.target,{scrollTop:S,scrollHeight:E,clientHeight:w}=A,R=a?16:4,z=n?n.getTotalSize():E,P=Math.max(0,z+R-w)-S,B=Math.abs(P)<=v;if(f.current){h.current=S,c.current||(c.current=!0);return}const L=h.current;if(S===L)return;const V=S-L<-5;h.current=S;const U=c.current;B&&!g.current?g.current=!0:!B&&g.current&&(g.current=!1),B?U||(c.current=!0):V&&U&&(c.current=!1)},[t,n,v,i,a]);return F.useEffect(()=>{if(t&&e>0&&n&&c.current){const M=setTimeout(()=>{y(!1)},100);return()=>clearTimeout(M)}},[t,e,n,y]),F.useEffect(()=>{if(!t||!n){o.current=e;return}const M=o.current,A=e>M;A&&c.current?requestAnimationFrame(()=>{requestAnimationFrame(()=>{y(!1)})}):A&&c.current,o.current=e},[e,t,y,n]),F.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),{handleScroll:b}};function uF({logs:n,darkMode:e=!1,includeStoreLogs:t=!0,sx:i={},maxHeight:a=null,height:r=null,lines:o=null,showTimestamp:c=!0,compact:f=!1,simpleStyle:h=!1,emptyMessage:m="No logs"}){const g=dn(O=>t?O.frontendLogs:fT),v=dn(O=>t?O.appLogs:fT),y=oF(n,g,v,t,h),b=f?Ab.COMPACT:Ab.NORMAL,M=f6(f),A=lF({lines:o,height:r,maxHeight:a,compact:f,simpleStyle:h}),S=F.useRef(null),E=rF({count:y.length,getScrollElement:()=>S.current,estimateSize:()=>M,overscan:5}),{handleScroll:w}=cF({virtualizer:E,totalCount:y.length,enabled:!0,compact:f,simpleStyle:h,scrollElementRef:S}),R=async()=>{try{const O=y.map(P=>c&&P.timestamp?`[${P.timestamp}] ${P.message}`:P.message).join(`
`);await navigator.clipboard.writeText(O)}catch(O){console.error("Failed to copy logs:",O);const P=document.createElement("textarea");P.value=y.map(B=>c&&B.timestamp?`[${B.timestamp}] ${B.message}`:B.message).join(`
`),document.body.appendChild(P),P.select();try{document.execCommand("copy")}catch(B){console.error("Fallback copy failed:",B)}document.body.removeChild(P)}},z=F.useMemo(()=>({width:"100%",height:A===null?"100%":r==="auto"?"auto":`${A}px`,maxHeight:a||void 0,borderRadius:h?0:f?"6px":"12px",bgcolor:h?"transparent":e?"#1a1a1a":"#ffffff",border:h?"none":e?"1px solid rgba(255, 255, 255, 0.15)":"1px solid rgba(0, 0, 0, 0.15)",overflow:"hidden",overflowY:y.length===0?"hidden":"auto",overflowX:"hidden",position:"relative",display:"flex",flexDirection:"column",fontFamily:h?"monospace":"SF Mono, Monaco, Menlo, monospace",fontSize:b,...sb,transition:"box-shadow 0.3s ease","&::-webkit-scrollbar":{width:h?"5px":"4px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"transparent",borderRadius:h?"2.5px":"2px"},"&:hover::-webkit-scrollbar-thumb":{background:h?e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)":e?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)"},...i}),[r,A,a,h,f,e,b,y.length,i]);return I.jsxs(we,{className:"log-console",sx:{...z,position:"relative","&:hover .copy-logs-button":{opacity:1}},children:[y.length>0&&I.jsx(Ul,{title:"Copy all logs",arrow:!0,placement:"left",children:I.jsx(Mo,{className:"copy-logs-button",onClick:R,sx:{position:"absolute",top:8,right:8,zIndex:10,opacity:0,transition:"opacity 0.2s ease-in-out",bgcolor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)","&:hover":{bgcolor:e?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",opacity:1},width:28,height:28,padding:.5},children:I.jsx(Xk,{sx:{fontSize:14,color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}})})}),y.length===0?I.jsx(we,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},children:I.jsx(_t,{sx:{fontSize:h?11:b,color:e?h?"#888":"#666":"#999",fontFamily:"inherit",textAlign:"center",fontStyle:h?"italic":"normal",lineHeight:1},children:m})}):I.jsx(we,{ref:S,onScroll:w,sx:{height:"100%",width:"100%",overflow:"auto",overflowX:"hidden",position:"relative",paddingLeft:h?`${zl.SIMPLE}px`:`${zl[f?"COMPACT":"NORMAL"].horizontal}px`,paddingRight:h?`${zl.SIMPLE}px`:`${zl[f?"COMPACT":"NORMAL"].horizontal}px`,paddingTop:h?`${zl.SIMPLE}px`:`${zl[f?"COMPACT":"NORMAL"].vertical}px`,paddingBottom:h?`${zl.SIMPLE}px`:`${zl[f?"COMPACT":"NORMAL"].vertical}px`},children:I.jsx(we,{sx:{height:`${E.getTotalSize()}px`,width:"100%",position:"relative"},children:E.getVirtualItems().map(O=>{const P=y[O.index];return P?I.jsx(we,{"data-index":O.index,ref:B=>E.measureElement(B),sx:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${O.start}px)`},children:I.jsx(u6,{log:P,index:O.index,totalCount:y.length,darkMode:e,fontSize:b,compact:f,showTimestamp:c,simpleStyle:h})},O.key):null})})})]})}const d6=qi.memo(uF),fF=Vn(I.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}));var k3={exports:{}},pu={};var hT;function dF(){return hT||(hT=1,pu.ConcurrentRoot=1,pu.ContinuousEventPriority=8,pu.DefaultEventPriority=32,pu.DiscreteEventPriority=2,pu.IdleEventPriority=268435456,pu.LegacyRoot=0,pu.NoEventPriority=0),pu}var pT;function hF(){return pT||(pT=1,k3.exports=dF()),k3.exports}var ob=hF();const W_="181",uh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},h6=0,b5=1,p6=2,pF=3,m6=0,Y_=1,y1=2,Nl=3,Bc=0,Is=1,vo=2,Ic=0,Wf=1,_5=2,S5=3,M5=4,g6=5,Uf=100,y6=101,x6=102,v6=103,b6=104,_6=200,S6=201,M6=202,A6=203,wb=204,Eb=205,w6=206,E6=207,T6=208,C6=209,R6=210,O6=211,z6=212,N6=213,D6=214,Tb=0,Cb=1,Rb=2,Ch=3,Ob=4,zb=5,Nb=6,Db=7,cy=0,L6=1,I6=2,Pc=0,P6=1,U6=2,B6=3,X_=4,k6=5,F6=6,V6=7,A5="attached",H6="detached",q_=300,ku=301,qf=302,P1=303,U1=304,om=306,Ou=1e3,ns=1001,B1=1002,Dr=1003,NM=1004,mF=1004,A0=1005,gF=1005,Ea=1006,x1=1007,yF=1007,Il=1008,xF=1008,tl=1009,DM=1010,LM=1011,G0=1012,$_=1013,Fu=1014,Ds=1015,Qf=1016,K_=1017,Z_=1018,W0=1020,IM=35902,PM=35899,UM=1021,BM=1022,is=1023,Y0=1026,X0=1027,J_=1028,uy=1029,Q_=1030,e2=1031,vF=1032,t2=1033,v1=33776,b1=33777,_1=33778,S1=33779,Lb=35840,Ib=35841,Pb=35842,Ub=35843,Bb=36196,kb=37492,Fb=37496,Vb=37808,Hb=37809,jb=37810,Gb=37811,Wb=37812,Yb=37813,Xb=37814,qb=37815,$b=37816,Kb=37817,Zb=37818,Jb=37819,Qb=37820,e_=37821,t_=36492,n_=36494,i_=36495,a_=36283,r_=36284,s_=36285,o_=36286,j6=2200,G6=2201,W6=2202,k1=2300,l_=2301,lb=2302,yh=2400,xh=2401,F1=2402,n2=2500,kM=2501,bF=0,_F=1,SF=2,Y6=3200,X6=3201,MF=3202,AF=3203,ed=0,q6=1,Cu="",na="srgb",$f="srgb-linear",V1="linear",Fi="srgb",wF=0,dh=7680,EF=7681,TF=7682,CF=7683,RF=34055,OF=34056,zF=5386,NF=512,DF=513,LF=514,IF=515,PF=516,UF=517,BF=518,w5=519,$6=512,K6=513,Z6=514,FM=515,J6=516,Q6=517,e8=518,t8=519,H1=35044,kF=35048,FF=35040,VF=35045,HF=35049,jF=35041,GF=35046,WF=35050,YF=35042,XF="100",E5="300 es",bo=2e3,q0=2001,qF={COMPUTE:"compute",RENDER:"render"},$F={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},KF={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function n8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const ZF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function w0(n,e){return new ZF[n](e)}function j1(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function i8(){const n=j1("canvas");return n.style.display="block",n}const mT={};let Kf=null;function JF(n){Kf=n}function QF(){return Kf}function G1(...n){const e="THREE."+n.shift();Kf?Kf("log",e,...n):console.log(e,...n)}function Ut(...n){const e="THREE."+n.shift();Kf?Kf("warn",e,...n):console.warn(e,...n)}function Mn(...n){const e="THREE."+n.shift();Kf?Kf("error",e,...n):console.error(e,...n)}function $0(...n){const e=n.join(" ");e in mT||(mT[e]=!0,Ut(...n))}function eV(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}let kc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}};const Kr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gT=1234567;const Mh=Math.PI/180,K0=180/Math.PI;function So(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Kr[n&255]+Kr[n>>8&255]+Kr[n>>16&255]+Kr[n>>24&255]+"-"+Kr[e&255]+Kr[e>>8&255]+"-"+Kr[e>>16&15|64]+Kr[e>>24&255]+"-"+Kr[t&63|128]+Kr[t>>8&255]+"-"+Kr[t>>16&255]+Kr[t>>24&255]+Kr[i&255]+Kr[i>>8&255]+Kr[i>>16&255]+Kr[i>>24&255]).toLowerCase()}function vn(n,e,t){return Math.max(e,Math.min(t,n))}function VM(n,e){return(n%e+e)%e}function tV(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function nV(n,e,t){return n!==e?(t-n)/(e-n):0}function M1(n,e,t){return(1-t)*n+t*e}function iV(n,e,t,i){return M1(n,e,1-Math.exp(-t*i))}function aV(n,e=1){return e-Math.abs(VM(n,e*2)-e)}function rV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function sV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function oV(n,e){return n+Math.floor(Math.random()*(e-n+1))}function lV(n,e){return n+Math.random()*(e-n)}function cV(n){return n*(.5-Math.random())}function uV(n){n!==void 0&&(gT=n);let e=gT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fV(n){return n*Mh}function dV(n){return n*K0}function hV(n){return(n&n-1)===0&&n!==0}function pV(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function mV(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gV(n,e,t,i,a){const r=Math.cos,o=Math.sin,c=r(t/2),f=o(t/2),h=r((e+i)/2),m=o((e+i)/2),g=r((e-i)/2),v=o((e-i)/2),y=r((i-e)/2),b=o((i-e)/2);switch(a){case"XYX":n.set(c*m,f*g,f*v,c*h);break;case"YZY":n.set(f*v,c*m,f*g,c*h);break;case"ZXZ":n.set(f*g,f*v,c*m,c*h);break;case"XZX":n.set(c*m,f*b,f*y,c*h);break;case"YXY":n.set(f*y,c*m,f*b,c*h);break;case"ZYZ":n.set(f*b,f*y,c*m,c*h);break;default:Ut("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ns(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function In(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const es={DEG2RAD:Mh,RAD2DEG:K0,generateUUID:So,clamp:vn,euclideanModulo:VM,mapLinear:tV,inverseLerp:nV,lerp:M1,damp:iV,pingpong:aV,smoothstep:rV,smootherstep:sV,randInt:oV,randFloat:lV,randFloatSpread:cV,seededRandom:uV,degToRad:fV,radToDeg:dV,isPowerOfTwo:hV,ceilPowerOfTwo:pV,floorPowerOfTwo:mV,setQuaternionFromProperEuler:gV,normalize:In,denormalize:Ns};class pt{constructor(e=0,t=0){pt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*a+e.x,this.y=r*a+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fa{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,o,c){let f=i[a+0],h=i[a+1],m=i[a+2],g=i[a+3],v=r[o+0],y=r[o+1],b=r[o+2],M=r[o+3];if(c<=0){e[t+0]=f,e[t+1]=h,e[t+2]=m,e[t+3]=g;return}if(c>=1){e[t+0]=v,e[t+1]=y,e[t+2]=b,e[t+3]=M;return}if(g!==M||f!==v||h!==y||m!==b){let A=f*v+h*y+m*b+g*M;A<0&&(v=-v,y=-y,b=-b,M=-M,A=-A);let S=1-c;if(A<.9995){const E=Math.acos(A),w=Math.sin(E);S=Math.sin(S*E)/w,c=Math.sin(c*E)/w,f=f*S+v*c,h=h*S+y*c,m=m*S+b*c,g=g*S+M*c}else{f=f*S+v*c,h=h*S+y*c,m=m*S+b*c,g=g*S+M*c;const E=1/Math.sqrt(f*f+h*h+m*m+g*g);f*=E,h*=E,m*=E,g*=E}}e[t]=f,e[t+1]=h,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,a,r,o){const c=i[a],f=i[a+1],h=i[a+2],m=i[a+3],g=r[o],v=r[o+1],y=r[o+2],b=r[o+3];return e[t]=c*b+m*g+f*y-h*v,e[t+1]=f*b+m*v+h*g-c*y,e[t+2]=h*b+m*y+c*v-f*g,e[t+3]=m*b-c*g-f*v-h*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,o=e._order,c=Math.cos,f=Math.sin,h=c(i/2),m=c(a/2),g=c(r/2),v=f(i/2),y=f(a/2),b=f(r/2);switch(o){case"XYZ":this._x=v*m*g+h*y*b,this._y=h*y*g-v*m*b,this._z=h*m*b+v*y*g,this._w=h*m*g-v*y*b;break;case"YXZ":this._x=v*m*g+h*y*b,this._y=h*y*g-v*m*b,this._z=h*m*b-v*y*g,this._w=h*m*g+v*y*b;break;case"ZXY":this._x=v*m*g-h*y*b,this._y=h*y*g+v*m*b,this._z=h*m*b+v*y*g,this._w=h*m*g-v*y*b;break;case"ZYX":this._x=v*m*g-h*y*b,this._y=h*y*g+v*m*b,this._z=h*m*b-v*y*g,this._w=h*m*g+v*y*b;break;case"YZX":this._x=v*m*g+h*y*b,this._y=h*y*g+v*m*b,this._z=h*m*b-v*y*g,this._w=h*m*g-v*y*b;break;case"XZY":this._x=v*m*g-h*y*b,this._y=h*y*g-v*m*b,this._z=h*m*b+v*y*g,this._w=h*m*g+v*y*b;break;default:Ut("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],o=t[1],c=t[5],f=t[9],h=t[2],m=t[6],g=t[10],v=i+c+g;if(v>0){const y=.5/Math.sqrt(v+1);this._w=.25/y,this._x=(m-f)*y,this._y=(r-h)*y,this._z=(o-a)*y}else if(i>c&&i>g){const y=2*Math.sqrt(1+i-c-g);this._w=(m-f)/y,this._x=.25*y,this._y=(a+o)/y,this._z=(r+h)/y}else if(c>g){const y=2*Math.sqrt(1+c-i-g);this._w=(r-h)/y,this._x=(a+o)/y,this._y=.25*y,this._z=(f+m)/y}else{const y=2*Math.sqrt(1+g-i-c);this._w=(o-a)/y,this._x=(r+h)/y,this._y=(f+m)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,o=e._w,c=t._x,f=t._y,h=t._z,m=t._w;return this._x=i*m+o*c+a*h-r*f,this._y=a*m+o*f+r*c-i*h,this._z=r*m+o*h+i*f-a*c,this._w=o*m-i*c-a*f-r*h,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,a=e._y,r=e._z,o=e._w,c=this.dot(e);c<0&&(i=-i,a=-a,r=-r,o=-o,c=-c);let f=1-t;if(c<.9995){const h=Math.acos(c),m=Math.sin(h);f=Math.sin(f*h)/m,t=Math.sin(t*h)/m,this._x=this._x*f+i*t,this._y=this._y*f+a*t,this._z=this._z*f+r*t,this._w=this._w*f+o*t,this._onChangeCallback()}else this._x=this._x*f+i*t,this._y=this._y*f+a*t,this._z=this._z*f+r*t,this._w=this._w*f+o*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class pe{constructor(e=0,t=0,i=0){pe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(yT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(yT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,o=e.y,c=e.z,f=e.w,h=2*(o*a-c*i),m=2*(c*t-r*a),g=2*(r*i-o*t);return this.x=t+f*h+o*g-c*m,this.y=i+f*m+c*h-r*g,this.z=a+f*g+r*m-o*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this.z=vn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this.z=vn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,o=t.x,c=t.y,f=t.z;return this.x=a*f-r*c,this.y=r*o-i*f,this.z=i*c-a*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return F3.copy(this).projectOnVector(e),this.sub(F3)}reflect(e){return this.sub(F3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(vn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const F3=new pe,yT=new Fa;class Nn{constructor(e,t,i,a,r,o,c,f,h){Nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,o,c,f,h)}set(e,t,i,a,r,o,c,f,h){const m=this.elements;return m[0]=e,m[1]=a,m[2]=c,m[3]=t,m[4]=r,m[5]=f,m[6]=i,m[7]=o,m[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,o=i[0],c=i[3],f=i[6],h=i[1],m=i[4],g=i[7],v=i[2],y=i[5],b=i[8],M=a[0],A=a[3],S=a[6],E=a[1],w=a[4],R=a[7],z=a[2],O=a[5],P=a[8];return r[0]=o*M+c*E+f*z,r[3]=o*A+c*w+f*O,r[6]=o*S+c*R+f*P,r[1]=h*M+m*E+g*z,r[4]=h*A+m*w+g*O,r[7]=h*S+m*R+g*P,r[2]=v*M+y*E+b*z,r[5]=v*A+y*w+b*O,r[8]=v*S+y*R+b*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],h=e[7],m=e[8];return t*o*m-t*c*h-i*r*m+i*c*f+a*r*h-a*o*f}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],h=e[7],m=e[8],g=m*o-c*h,v=c*f-m*r,y=h*r-o*f,b=t*g+i*v+a*y;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=g*M,e[1]=(a*h-m*i)*M,e[2]=(c*i-a*o)*M,e[3]=v*M,e[4]=(m*t-a*f)*M,e[5]=(a*r-c*t)*M,e[6]=y*M,e[7]=(i*f-h*t)*M,e[8]=(o*t-i*r)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,o,c){const f=Math.cos(r),h=Math.sin(r);return this.set(i*f,i*h,-i*(f*o+h*c)+o+e,-a*h,a*f,-a*(-h*o+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(V3.makeScale(e,t)),this}rotate(e){return this.premultiply(V3.makeRotation(-e)),this}translate(e,t){return this.premultiply(V3.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const V3=new Nn,xT=new Nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vT=new Nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yV(){const n={enabled:!0,workingColorSpace:$f,spaces:{},convert:function(a,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===Fi&&(a.r=Nu(a.r),a.g=Nu(a.g),a.b=Nu(a.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Fi&&(a.r=R0(a.r),a.g=R0(a.g),a.b=R0(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Cu?V1:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,o){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return $0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return $0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[$f]:{primaries:e,whitePoint:i,transfer:V1,toXYZ:xT,fromXYZ:vT,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:na},outputColorSpaceConfig:{drawingBufferColorSpace:na}},[na]:{primaries:e,whitePoint:i,transfer:Fi,toXYZ:xT,fromXYZ:vT,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:na}}}),n}const Xn=yV();function Nu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function R0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $p;class a8{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{$p===void 0&&($p=j1("canvas")),$p.width=e.width,$p.height=e.height;const a=$p.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=$p}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=j1("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let o=0;o<r.length;o++)r[o]=Nu(r[o]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Nu(t[i]/255)*255):t[i]=Nu(t[i]);return{data:t,width:e.width,height:e.height}}else return Ut("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xV=0;class Ff{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xV++}),this.uuid=So(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let o=0,c=a.length;o<c;o++)a[o].isDataTexture?r.push(H3(a[o].image)):r.push(H3(a[o]))}else r=H3(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function H3(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?a8.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Ut("Texture: Unable to serialize Texture."),{})}let vV=0;const j3=new pe;class La extends kc{constructor(e=La.DEFAULT_IMAGE,t=La.DEFAULT_MAPPING,i=ns,a=ns,r=Ea,o=Il,c=is,f=tl,h=La.DEFAULT_ANISOTROPY,m=Cu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vV++}),this.uuid=So(),this.name="",this.source=new Ff(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=o,this.anisotropy=h,this.format=c,this.internalFormat=null,this.type=f,this.offset=new pt(0,0),this.repeat=new pt(1,1),this.center=new pt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(j3).x}get height(){return this.source.getSize(j3).y}get depth(){return this.source.getSize(j3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){Ut(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){Ut(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==q_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ou:e.x=e.x-Math.floor(e.x);break;case ns:e.x=e.x<0?0:1;break;case B1:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ou:e.y=e.y-Math.floor(e.y);break;case ns:e.y=e.y<0?0:1;break;case B1:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}La.DEFAULT_IMAGE=null;La.DEFAULT_MAPPING=q_;La.DEFAULT_ANISOTROPY=1;class xi{constructor(e=0,t=0,i=0,a=1){xi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*a+o[12]*r,this.y=o[1]*t+o[5]*i+o[9]*a+o[13]*r,this.z=o[2]*t+o[6]*i+o[10]*a+o[14]*r,this.w=o[3]*t+o[7]*i+o[11]*a+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const f=e.elements,h=f[0],m=f[4],g=f[8],v=f[1],y=f[5],b=f[9],M=f[2],A=f[6],S=f[10];if(Math.abs(m-v)<.01&&Math.abs(g-M)<.01&&Math.abs(b-A)<.01){if(Math.abs(m+v)<.1&&Math.abs(g+M)<.1&&Math.abs(b+A)<.1&&Math.abs(h+y+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(h+1)/2,R=(y+1)/2,z=(S+1)/2,O=(m+v)/4,P=(g+M)/4,B=(b+A)/4;return w>R&&w>z?w<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(w),a=O/i,r=P/i):R>z?R<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(R),i=O/a,r=B/a):z<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(z),i=P/r,a=B/r),this.set(i,a,r,t),this}let E=Math.sqrt((A-b)*(A-b)+(g-M)*(g-M)+(v-m)*(v-m));return Math.abs(E)<.001&&(E=1),this.x=(A-b)/E,this.y=(g-M)/E,this.z=(v-m)/E,this.w=Math.acos((h+y+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=vn(this.x,e.x,t.x),this.y=vn(this.y,e.y,t.y),this.z=vn(this.z,e.z,t.z),this.w=vn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=vn(this.x,e,t),this.y=vn(this.y,e,t),this.z=vn(this.z,e,t),this.w=vn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class HM extends kc{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ea,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new xi(0,0,e,t),this.scissorTest=!1,this.viewport=new xi(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new La(a);this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=r.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Ea,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Ff(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class kl extends HM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class i2 extends La{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=ns,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bV extends kl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new i2(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class a2 extends La{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=Dr,this.minFilter=Dr,this.wrapR=ns,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _V extends kl{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new a2(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class rs{constructor(e=new pe(1/0,1/0,1/0),t=new pe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Cl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Cl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Cl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=r.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Cl):Cl.fromBufferAttribute(r,o),Cl.applyMatrix4(e.matrixWorld),this.expandByPoint(Cl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Jx.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Jx.copy(i.boundingBox)),Jx.applyMatrix4(e.matrixWorld),this.union(Jx)}const a=e.children;for(let r=0,o=a.length;r<o;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Cl),Cl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Wg),Qx.subVectors(this.max,Wg),Kp.subVectors(e.a,Wg),Zp.subVectors(e.b,Wg),Jp.subVectors(e.c,Wg),Tf.subVectors(Zp,Kp),Cf.subVectors(Jp,Zp),qd.subVectors(Kp,Jp);let t=[0,-Tf.z,Tf.y,0,-Cf.z,Cf.y,0,-qd.z,qd.y,Tf.z,0,-Tf.x,Cf.z,0,-Cf.x,qd.z,0,-qd.x,-Tf.y,Tf.x,0,-Cf.y,Cf.x,0,-qd.y,qd.x,0];return!G3(t,Kp,Zp,Jp,Qx)||(t=[1,0,0,0,1,0,0,0,1],!G3(t,Kp,Zp,Jp,Qx))?!1:(ev.crossVectors(Tf,Cf),t=[ev.x,ev.y,ev.z],G3(t,Kp,Zp,Jp,Qx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Cl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(mu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),mu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),mu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),mu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),mu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),mu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),mu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),mu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(mu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const mu=[new pe,new pe,new pe,new pe,new pe,new pe,new pe,new pe],Cl=new pe,Jx=new rs,Kp=new pe,Zp=new pe,Jp=new pe,Tf=new pe,Cf=new pe,qd=new pe,Wg=new pe,Qx=new pe,ev=new pe,$d=new pe;function G3(n,e,t,i,a){for(let r=0,o=n.length-3;r<=o;r+=3){$d.fromArray(n,r);const c=a.x*Math.abs($d.x)+a.y*Math.abs($d.y)+a.z*Math.abs($d.z),f=e.dot($d),h=t.dot($d),m=i.dot($d);if(Math.max(-Math.max(f,h,m),Math.min(f,h,m))>c)return!1}return!0}const SV=new rs,Yg=new pe,W3=new pe;class Lr{constructor(e=new pe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):SV.setFromPoints(e).getCenter(i);let a=0;for(let r=0,o=e.length;r<o;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yg.subVectors(e,this.center);const t=Yg.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(Yg,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(W3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yg.copy(e.center).add(W3)),this.expandByPoint(Yg.copy(e.center).sub(W3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const gu=new pe,Y3=new pe,tv=new pe,Rf=new pe,X3=new pe,nv=new pe,q3=new pe;class Uh{constructor(e=new pe,t=new pe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,gu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=gu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gu.copy(this.origin).addScaledVector(this.direction,t),gu.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){Y3.copy(e).add(t).multiplyScalar(.5),tv.copy(t).sub(e).normalize(),Rf.copy(this.origin).sub(Y3);const r=e.distanceTo(t)*.5,o=-this.direction.dot(tv),c=Rf.dot(this.direction),f=-Rf.dot(tv),h=Rf.lengthSq(),m=Math.abs(1-o*o);let g,v,y,b;if(m>0)if(g=o*f-c,v=o*c-f,b=r*m,g>=0)if(v>=-b)if(v<=b){const M=1/m;g*=M,v*=M,y=g*(g+o*v+2*c)+v*(o*g+v+2*f)+h}else v=r,g=Math.max(0,-(o*v+c)),y=-g*g+v*(v+2*f)+h;else v=-r,g=Math.max(0,-(o*v+c)),y=-g*g+v*(v+2*f)+h;else v<=-b?(g=Math.max(0,-(-o*r+c)),v=g>0?-r:Math.min(Math.max(-r,-f),r),y=-g*g+v*(v+2*f)+h):v<=b?(g=0,v=Math.min(Math.max(-r,-f),r),y=v*(v+2*f)+h):(g=Math.max(0,-(o*r+c)),v=g>0?r:Math.min(Math.max(-r,-f),r),y=-g*g+v*(v+2*f)+h);else v=o>0?-r:r,g=Math.max(0,-(o*v+c)),y=-g*g+v*(v+2*f)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,g),a&&a.copy(Y3).addScaledVector(tv,v),y}intersectSphere(e,t){gu.subVectors(e.center,this.origin);const i=gu.dot(this.direction),a=gu.dot(gu)-i*i,r=e.radius*e.radius;if(a>r)return null;const o=Math.sqrt(r-a),c=i-o,f=i+o;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,o,c,f;const h=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,v=this.origin;return h>=0?(i=(e.min.x-v.x)*h,a=(e.max.x-v.x)*h):(i=(e.max.x-v.x)*h,a=(e.min.x-v.x)*h),m>=0?(r=(e.min.y-v.y)*m,o=(e.max.y-v.y)*m):(r=(e.max.y-v.y)*m,o=(e.min.y-v.y)*m),i>o||r>a||((r>i||isNaN(i))&&(i=r),(o<a||isNaN(a))&&(a=o),g>=0?(c=(e.min.z-v.z)*g,f=(e.max.z-v.z)*g):(c=(e.max.z-v.z)*g,f=(e.min.z-v.z)*g),i>f||c>a)||((c>i||i!==i)&&(i=c),(f<a||a!==a)&&(a=f),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,gu)!==null}intersectTriangle(e,t,i,a,r){X3.subVectors(t,e),nv.subVectors(i,e),q3.crossVectors(X3,nv);let o=this.direction.dot(q3),c;if(o>0){if(a)return null;c=1}else if(o<0)c=-1,o=-o;else return null;Rf.subVectors(this.origin,e);const f=c*this.direction.dot(nv.crossVectors(Rf,nv));if(f<0)return null;const h=c*this.direction.dot(X3.cross(Rf));if(h<0||f+h>o)return null;const m=-c*Rf.dot(q3);return m<0?null:this.at(m/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class rn{constructor(e,t,i,a,r,o,c,f,h,m,g,v,y,b,M,A){rn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,o,c,f,h,m,g,v,y,b,M,A)}set(e,t,i,a,r,o,c,f,h,m,g,v,y,b,M,A){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=a,S[1]=r,S[5]=o,S[9]=c,S[13]=f,S[2]=h,S[6]=m,S[10]=g,S[14]=v,S[3]=y,S[7]=b,S[11]=M,S[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new rn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/Qp.setFromMatrixColumn(e,0).length(),r=1/Qp.setFromMatrixColumn(e,1).length(),o=1/Qp.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,o=Math.cos(i),c=Math.sin(i),f=Math.cos(a),h=Math.sin(a),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const v=o*m,y=o*g,b=c*m,M=c*g;t[0]=f*m,t[4]=-f*g,t[8]=h,t[1]=y+b*h,t[5]=v-M*h,t[9]=-c*f,t[2]=M-v*h,t[6]=b+y*h,t[10]=o*f}else if(e.order==="YXZ"){const v=f*m,y=f*g,b=h*m,M=h*g;t[0]=v+M*c,t[4]=b*c-y,t[8]=o*h,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=y*c-b,t[6]=M+v*c,t[10]=o*f}else if(e.order==="ZXY"){const v=f*m,y=f*g,b=h*m,M=h*g;t[0]=v-M*c,t[4]=-o*g,t[8]=b+y*c,t[1]=y+b*c,t[5]=o*m,t[9]=M-v*c,t[2]=-o*h,t[6]=c,t[10]=o*f}else if(e.order==="ZYX"){const v=o*m,y=o*g,b=c*m,M=c*g;t[0]=f*m,t[4]=b*h-y,t[8]=v*h+M,t[1]=f*g,t[5]=M*h+v,t[9]=y*h-b,t[2]=-h,t[6]=c*f,t[10]=o*f}else if(e.order==="YZX"){const v=o*f,y=o*h,b=c*f,M=c*h;t[0]=f*m,t[4]=M-v*g,t[8]=b*g+y,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-h*m,t[6]=y*g+b,t[10]=v-M*g}else if(e.order==="XZY"){const v=o*f,y=o*h,b=c*f,M=c*h;t[0]=f*m,t[4]=-g,t[8]=h*m,t[1]=v*g+M,t[5]=o*m,t[9]=y*g-b,t[2]=b*g-y,t[6]=c*m,t[10]=M*g+v}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(MV,e,AV)}lookAt(e,t,i){const a=this.elements;return go.subVectors(e,t),go.lengthSq()===0&&(go.z=1),go.normalize(),Of.crossVectors(i,go),Of.lengthSq()===0&&(Math.abs(i.z)===1?go.x+=1e-4:go.z+=1e-4,go.normalize(),Of.crossVectors(i,go)),Of.normalize(),iv.crossVectors(go,Of),a[0]=Of.x,a[4]=iv.x,a[8]=go.x,a[1]=Of.y,a[5]=iv.y,a[9]=go.y,a[2]=Of.z,a[6]=iv.z,a[10]=go.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,o=i[0],c=i[4],f=i[8],h=i[12],m=i[1],g=i[5],v=i[9],y=i[13],b=i[2],M=i[6],A=i[10],S=i[14],E=i[3],w=i[7],R=i[11],z=i[15],O=a[0],P=a[4],B=a[8],L=a[12],D=a[1],V=a[5],U=a[9],G=a[13],X=a[2],$=a[6],H=a[10],K=a[14],Q=a[3],W=a[7],ce=a[11],q=a[15];return r[0]=o*O+c*D+f*X+h*Q,r[4]=o*P+c*V+f*$+h*W,r[8]=o*B+c*U+f*H+h*ce,r[12]=o*L+c*G+f*K+h*q,r[1]=m*O+g*D+v*X+y*Q,r[5]=m*P+g*V+v*$+y*W,r[9]=m*B+g*U+v*H+y*ce,r[13]=m*L+g*G+v*K+y*q,r[2]=b*O+M*D+A*X+S*Q,r[6]=b*P+M*V+A*$+S*W,r[10]=b*B+M*U+A*H+S*ce,r[14]=b*L+M*G+A*K+S*q,r[3]=E*O+w*D+R*X+z*Q,r[7]=E*P+w*V+R*$+z*W,r[11]=E*B+w*U+R*H+z*ce,r[15]=E*L+w*G+R*K+z*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],o=e[1],c=e[5],f=e[9],h=e[13],m=e[2],g=e[6],v=e[10],y=e[14],b=e[3],M=e[7],A=e[11],S=e[15];return b*(+r*f*g-a*h*g-r*c*v+i*h*v+a*c*y-i*f*y)+M*(+t*f*y-t*h*v+r*o*v-a*o*y+a*h*m-r*f*m)+A*(+t*h*g-t*c*y-r*o*g+i*o*y+r*c*m-i*h*m)+S*(-a*c*m-t*f*g+t*c*v+a*o*g-i*o*v+i*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],o=e[4],c=e[5],f=e[6],h=e[7],m=e[8],g=e[9],v=e[10],y=e[11],b=e[12],M=e[13],A=e[14],S=e[15],E=g*A*h-M*v*h+M*f*y-c*A*y-g*f*S+c*v*S,w=b*v*h-m*A*h-b*f*y+o*A*y+m*f*S-o*v*S,R=m*M*h-b*g*h+b*c*y-o*M*y-m*c*S+o*g*S,z=b*g*f-m*M*f-b*c*v+o*M*v+m*c*A-o*g*A,O=t*E+i*w+a*R+r*z;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/O;return e[0]=E*P,e[1]=(M*v*r-g*A*r-M*a*y+i*A*y+g*a*S-i*v*S)*P,e[2]=(c*A*r-M*f*r+M*a*h-i*A*h-c*a*S+i*f*S)*P,e[3]=(g*f*r-c*v*r-g*a*h+i*v*h+c*a*y-i*f*y)*P,e[4]=w*P,e[5]=(m*A*r-b*v*r+b*a*y-t*A*y-m*a*S+t*v*S)*P,e[6]=(b*f*r-o*A*r-b*a*h+t*A*h+o*a*S-t*f*S)*P,e[7]=(o*v*r-m*f*r+m*a*h-t*v*h-o*a*y+t*f*y)*P,e[8]=R*P,e[9]=(b*g*r-m*M*r-b*i*y+t*M*y+m*i*S-t*g*S)*P,e[10]=(o*M*r-b*c*r+b*i*h-t*M*h-o*i*S+t*c*S)*P,e[11]=(m*c*r-o*g*r-m*i*h+t*g*h+o*i*y-t*c*y)*P,e[12]=z*P,e[13]=(m*M*a-b*g*a+b*i*v-t*M*v-m*i*A+t*g*A)*P,e[14]=(b*c*a-o*M*a-b*i*f+t*M*f+o*i*A-t*c*A)*P,e[15]=(o*g*a-m*c*a+m*i*f-t*g*f-o*i*v+t*c*v)*P,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,o=e.x,c=e.y,f=e.z,h=r*o,m=r*c;return this.set(h*o+i,h*c-a*f,h*f+a*c,0,h*c+a*f,m*c+i,m*f-a*o,0,h*f-a*c,m*f+a*o,r*f*f+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,o){return this.set(1,i,r,0,e,1,o,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,o=t._y,c=t._z,f=t._w,h=r+r,m=o+o,g=c+c,v=r*h,y=r*m,b=r*g,M=o*m,A=o*g,S=c*g,E=f*h,w=f*m,R=f*g,z=i.x,O=i.y,P=i.z;return a[0]=(1-(M+S))*z,a[1]=(y+R)*z,a[2]=(b-w)*z,a[3]=0,a[4]=(y-R)*O,a[5]=(1-(v+S))*O,a[6]=(A+E)*O,a[7]=0,a[8]=(b+w)*P,a[9]=(A-E)*P,a[10]=(1-(v+M))*P,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=Qp.set(a[0],a[1],a[2]).length();const o=Qp.set(a[4],a[5],a[6]).length(),c=Qp.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],Rl.copy(this);const h=1/r,m=1/o,g=1/c;return Rl.elements[0]*=h,Rl.elements[1]*=h,Rl.elements[2]*=h,Rl.elements[4]*=m,Rl.elements[5]*=m,Rl.elements[6]*=m,Rl.elements[8]*=g,Rl.elements[9]*=g,Rl.elements[10]*=g,t.setFromRotationMatrix(Rl),i.x=r,i.y=o,i.z=c,this}makePerspective(e,t,i,a,r,o,c=bo,f=!1){const h=this.elements,m=2*r/(t-e),g=2*r/(i-a),v=(t+e)/(t-e),y=(i+a)/(i-a);let b,M;if(f)b=r/(o-r),M=o*r/(o-r);else if(c===bo)b=-(o+r)/(o-r),M=-2*o*r/(o-r);else if(c===q0)b=-o/(o-r),M=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return h[0]=m,h[4]=0,h[8]=v,h[12]=0,h[1]=0,h[5]=g,h[9]=y,h[13]=0,h[2]=0,h[6]=0,h[10]=b,h[14]=M,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,i,a,r,o,c=bo,f=!1){const h=this.elements,m=2/(t-e),g=2/(i-a),v=-(t+e)/(t-e),y=-(i+a)/(i-a);let b,M;if(f)b=1/(o-r),M=o/(o-r);else if(c===bo)b=-2/(o-r),M=-(o+r)/(o-r);else if(c===q0)b=-1/(o-r),M=-r/(o-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return h[0]=m,h[4]=0,h[8]=0,h[12]=v,h[1]=0,h[5]=g,h[9]=0,h[13]=y,h[2]=0,h[6]=0,h[10]=b,h[14]=M,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Qp=new pe,Rl=new rn,MV=new pe(0,0,0),AV=new pe(1,1,1),Of=new pe,iv=new pe,go=new pe,bT=new rn,_T=new Fa;class Ps{constructor(e=0,t=0,i=0,a=Ps.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],o=a[4],c=a[8],f=a[1],h=a[5],m=a[9],g=a[2],v=a[6],y=a[10];switch(t){case"XYZ":this._y=Math.asin(vn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,y),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(v,h),this._z=0);break;case"YXZ":this._x=Math.asin(-vn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,y),this._z=Math.atan2(f,h)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(vn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,y),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(f,r));break;case"ZYX":this._y=Math.asin(-vn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,y),this._z=Math.atan2(f,r)):(this._x=0,this._z=Math.atan2(-o,h));break;case"YZX":this._z=Math.asin(vn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,h),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(c,y));break;case"XZY":this._z=Math.asin(-vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,h),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-m,y),this._y=0);break;default:Ut("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return bT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(bT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return _T.setFromEuler(this),this.setFromQuaternion(_T,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ps.DEFAULT_ORDER="XYZ";class Z0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wV=0;const ST=new pe,e0=new Fa,yu=new rn,av=new pe,Xg=new pe,EV=new pe,TV=new Fa,MT=new pe(1,0,0),AT=new pe(0,1,0),wT=new pe(0,0,1),ET={type:"added"},CV={type:"removed"},t0={type:"childadded",child:null},$3={type:"childremoved",child:null};class mi extends kc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wV++}),this.uuid=So(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DEFAULT_UP.clone();const e=new pe,t=new Ps,i=new Fa,a=new pe(1,1,1);function r(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new rn},normalMatrix:{value:new Nn}}),this.matrix=new rn,this.matrixWorld=new rn,this.matrixAutoUpdate=mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Z0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return e0.setFromAxisAngle(e,t),this.quaternion.multiply(e0),this}rotateOnWorldAxis(e,t){return e0.setFromAxisAngle(e,t),this.quaternion.premultiply(e0),this}rotateX(e){return this.rotateOnAxis(MT,e)}rotateY(e){return this.rotateOnAxis(AT,e)}rotateZ(e){return this.rotateOnAxis(wT,e)}translateOnAxis(e,t){return ST.copy(e).applyQuaternion(this.quaternion),this.position.add(ST.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(MT,e)}translateY(e){return this.translateOnAxis(AT,e)}translateZ(e){return this.translateOnAxis(wT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?av.copy(e):av.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),Xg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yu.lookAt(Xg,av,this.up):yu.lookAt(av,Xg,this.up),this.quaternion.setFromRotationMatrix(yu),a&&(yu.extractRotation(a.matrixWorld),e0.setFromRotationMatrix(yu),this.quaternion.premultiply(e0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Mn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ET),t0.child=e,this.dispatchEvent(t0),t0.child=null):Mn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(CV),$3.child=e,this.dispatchEvent($3),$3.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yu.multiply(e.parent.matrixWorld)),e.applyMatrix4(yu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ET),t0.child=e,this.dispatchEvent(t0),t0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xg,e,EV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xg,TV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,o=a.length;r<o;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(c=>({...c})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let h=0,m=f.length;h<m;h++){const g=f[h];r(e.shapes,g)}else r(e.shapes,f)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,h=this.material.length;f<h;f++)c.push(r(e.materials,this.material[f]));a.material=c}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let c=0;c<this.children.length;c++)a.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];a.animations.push(r(e.animations,f))}}if(t){const c=o(e.geometries),f=o(e.materials),h=o(e.textures),m=o(e.images),g=o(e.shapes),v=o(e.skeletons),y=o(e.animations),b=o(e.nodes);c.length>0&&(i.geometries=c),f.length>0&&(i.materials=f),h.length>0&&(i.textures=h),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),v.length>0&&(i.skeletons=v),y.length>0&&(i.animations=y),b.length>0&&(i.nodes=b)}return i.object=a,i;function o(c){const f=[];for(const h in c){const m=c[h];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}mi.DEFAULT_UP=new pe(0,1,0);mi.DEFAULT_MATRIX_AUTO_UPDATE=!0;mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ol=new pe,xu=new pe,K3=new pe,vu=new pe,n0=new pe,i0=new pe,TT=new pe,Z3=new pe,J3=new pe,Q3=new pe,eS=new xi,tS=new xi,nS=new xi;class Qs{constructor(e=new pe,t=new pe,i=new pe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),Ol.subVectors(e,t),a.cross(Ol);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){Ol.subVectors(a,t),xu.subVectors(i,t),K3.subVectors(e,t);const o=Ol.dot(Ol),c=Ol.dot(xu),f=Ol.dot(K3),h=xu.dot(xu),m=xu.dot(K3),g=o*h-c*c;if(g===0)return r.set(0,0,0),null;const v=1/g,y=(h*f-c*m)*v,b=(o*m-c*f)*v;return r.set(1-y-b,b,y)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,vu)===null?!1:vu.x>=0&&vu.y>=0&&vu.x+vu.y<=1}static getInterpolation(e,t,i,a,r,o,c,f){return this.getBarycoord(e,t,i,a,vu)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(r,vu.x),f.addScaledVector(o,vu.y),f.addScaledVector(c,vu.z),f)}static getInterpolatedAttribute(e,t,i,a,r,o){return eS.setScalar(0),tS.setScalar(0),nS.setScalar(0),eS.fromBufferAttribute(e,t),tS.fromBufferAttribute(e,i),nS.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(eS,r.x),o.addScaledVector(tS,r.y),o.addScaledVector(nS,r.z),o}static isFrontFacing(e,t,i,a){return Ol.subVectors(i,t),xu.subVectors(e,t),Ol.cross(xu).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ol.subVectors(this.c,this.b),xu.subVectors(this.a,this.b),Ol.cross(xu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return Qs.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return Qs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let o,c;n0.subVectors(a,i),i0.subVectors(r,i),Z3.subVectors(e,i);const f=n0.dot(Z3),h=i0.dot(Z3);if(f<=0&&h<=0)return t.copy(i);J3.subVectors(e,a);const m=n0.dot(J3),g=i0.dot(J3);if(m>=0&&g<=m)return t.copy(a);const v=f*g-m*h;if(v<=0&&f>=0&&m<=0)return o=f/(f-m),t.copy(i).addScaledVector(n0,o);Q3.subVectors(e,r);const y=n0.dot(Q3),b=i0.dot(Q3);if(b>=0&&y<=b)return t.copy(r);const M=y*h-f*b;if(M<=0&&h>=0&&b<=0)return c=h/(h-b),t.copy(i).addScaledVector(i0,c);const A=m*b-y*g;if(A<=0&&g-m>=0&&y-b>=0)return TT.subVectors(r,a),c=(g-m)/(g-m+(y-b)),t.copy(a).addScaledVector(TT,c);const S=1/(A+M+v);return o=M*S,c=v*S,t.copy(i).addScaledVector(n0,o).addScaledVector(i0,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const r8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zf={h:0,s:0,l:0},rv={h:0,s:0,l:0};function iS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ct{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=Xn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xn.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=Xn.workingColorSpace){if(e=VM(e,1),t=vn(t,0,1),i=vn(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,o=2*i-r;this.r=iS(o,r,e+1/3),this.g=iS(o,r,e),this.b=iS(o,r,e-1/3)}return Xn.colorSpaceToWorking(this,a),this}setStyle(e,t=na){function i(r){r!==void 0&&parseFloat(r)<1&&Ut("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=a[1],c=a[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:Ut("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);Ut("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=na){const i=r8[e.toLowerCase()];return i!==void 0?this.setHex(i,t):Ut("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nu(e.r),this.g=Nu(e.g),this.b=Nu(e.b),this}copyLinearToSRGB(e){return this.r=R0(e.r),this.g=R0(e.g),this.b=R0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=na){return Xn.workingToColorSpace(Zr.copy(this),e),Math.round(vn(Zr.r*255,0,255))*65536+Math.round(vn(Zr.g*255,0,255))*256+Math.round(vn(Zr.b*255,0,255))}getHexString(e=na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xn.workingColorSpace){Xn.workingToColorSpace(Zr.copy(this),t);const i=Zr.r,a=Zr.g,r=Zr.b,o=Math.max(i,a,r),c=Math.min(i,a,r);let f,h;const m=(c+o)/2;if(c===o)f=0,h=0;else{const g=o-c;switch(h=m<=.5?g/(o+c):g/(2-o-c),o){case i:f=(a-r)/g+(a<r?6:0);break;case a:f=(r-i)/g+2;break;case r:f=(i-a)/g+4;break}f/=6}return e.h=f,e.s=h,e.l=m,e}getRGB(e,t=Xn.workingColorSpace){return Xn.workingToColorSpace(Zr.copy(this),t),e.r=Zr.r,e.g=Zr.g,e.b=Zr.b,e}getStyle(e=na){Xn.workingToColorSpace(Zr.copy(this),e);const t=Zr.r,i=Zr.g,a=Zr.b;return e!==na?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(zf),this.setHSL(zf.h+e,zf.s+t,zf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(zf),e.getHSL(rv);const i=M1(zf.h,rv.h,t),a=M1(zf.s,rv.s,t),r=M1(zf.l,rv.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zr=new Ct;Ct.NAMES=r8;let RV=0;class ss extends kc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:RV++}),this.uuid=So(),this.name="",this.type="Material",this.blending=Wf,this.side=Bc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wb,this.blendDst=Eb,this.blendEquation=Uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ct(0,0,0),this.blendAlpha=0,this.depthFunc=Ch,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=w5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dh,this.stencilZFail=dh,this.stencilZPass=dh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){Ut(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){Ut(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Wf&&(i.blending=this.blending),this.side!==Bc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==wb&&(i.blendSrc=this.blendSrc),this.blendDst!==Eb&&(i.blendDst=this.blendDst),this.blendEquation!==Uf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ch&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==w5&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==dh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==dh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const o=[];for(const c in r){const f=r[c];delete f.metadata,o.push(f)}return o}if(t){const r=a(e.textures),o=a(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Fl extends ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=cy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ru=OV();function OV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let f=0;f<256;++f){const h=f-127;h<-27?(i[f]=0,i[f|256]=32768,a[f]=24,a[f|256]=24):h<-14?(i[f]=1024>>-h-14,i[f|256]=1024>>-h-14|32768,a[f]=-h-1,a[f|256]=-h-1):h<=15?(i[f]=h+15<<10,i[f|256]=h+15<<10|32768,a[f]=13,a[f|256]=13):h<128?(i[f]=31744,i[f|256]=64512,a[f]=24,a[f|256]=24):(i[f]=31744,i[f|256]=64512,a[f]=13,a[f|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let h=f<<13,m=0;for(;(h&8388608)===0;)h<<=1,m-=8388608;h&=-8388609,m+=947912704,r[f]=h|m}for(let f=1024;f<2048;++f)r[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:o,offsetTable:c}}function $s(n){Math.abs(n)>65504&&Ut("DataUtils.toHalfFloat(): Value out of range."),n=vn(n,-65504,65504),Ru.floatView[0]=n;const e=Ru.uint32View[0],t=e>>23&511;return Ru.baseTable[t]+((e&8388607)>>Ru.shiftTable[t])}function c1(n){const e=n>>10;return Ru.uint32View[0]=Ru.mantissaTable[Ru.offsetTable[e]+(n&1023)]+Ru.exponentTable[e],Ru.floatView[0]}class zV{static toHalfFloat(e){return $s(e)}static fromHalfFloat(e){return c1(e)}}const Ka=new pe,sv=new pt;let NV=0;class zi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:NV++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=H1,this.updateRanges=[],this.gpuType=Ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)sv.fromBufferAttribute(this,t),sv.applyMatrix3(e),this.setXY(t,sv.x,sv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix3(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ka.fromBufferAttribute(this,t),Ka.applyMatrix4(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ka.fromBufferAttribute(this,t),Ka.applyNormalMatrix(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ka.fromBufferAttribute(this,t),Ka.transformDirection(e),this.setXYZ(t,Ka.x,Ka.y,Ka.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ns(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=In(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ns(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ns(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ns(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ns(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array),r=In(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==H1&&(e.usage=this.usage),e}}class DV extends zi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class LV extends zi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class IV extends zi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class PV extends zi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class jM extends zi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class UV extends zi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class GM extends zi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class BV extends zi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=c1(this.array[e*this.itemSize]);return this.normalized&&(t=Ns(t,this.array)),t}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize]=$s(t),this}getY(e){let t=c1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ns(t,this.array)),t}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+1]=$s(t),this}getZ(e){let t=c1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ns(t,this.array)),t}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+2]=$s(t),this}getW(e){let t=c1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ns(t,this.array)),t}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.array[e*this.itemSize+3]=$s(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.array[e+0]=$s(t),this.array[e+1]=$s(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array)),this.array[e+0]=$s(t),this.array[e+1]=$s(i),this.array[e+2]=$s(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array),r=In(r,this.array)),this.array[e+0]=$s(t),this.array[e+1]=$s(i),this.array[e+2]=$s(a),this.array[e+3]=$s(r),this}}class Ht extends zi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let kV=0;const Yo=new rn,aS=new mi,a0=new pe,yo=new rs,qg=new rs,br=new pe;class Tn extends kc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kV++}),this.uuid=So(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(n8(e)?GM:jM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Nn().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yo.makeRotationFromQuaternion(e),this.applyMatrix4(Yo),this}rotateX(e){return Yo.makeRotationX(e),this.applyMatrix4(Yo),this}rotateY(e){return Yo.makeRotationY(e),this.applyMatrix4(Yo),this}rotateZ(e){return Yo.makeRotationZ(e),this.applyMatrix4(Yo),this}translate(e,t,i){return Yo.makeTranslation(e,t,i),this.applyMatrix4(Yo),this}scale(e,t,i){return Yo.makeScale(e,t,i),this.applyMatrix4(Yo),this}lookAt(e){return aS.lookAt(e),aS.updateMatrix(),this.applyMatrix4(aS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(a0).negate(),this.translate(a0.x,a0.y,a0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const o=e[a];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&Ut("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Mn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new pe(-1/0,-1/0,-1/0),new pe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];yo.setFromBufferAttribute(r),this.morphTargetsRelative?(br.addVectors(this.boundingBox.min,yo.min),this.boundingBox.expandByPoint(br),br.addVectors(this.boundingBox.max,yo.max),this.boundingBox.expandByPoint(br)):(this.boundingBox.expandByPoint(yo.min),this.boundingBox.expandByPoint(yo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Mn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Mn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new pe,1/0);return}if(e){const i=this.boundingSphere.center;if(yo.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const c=t[r];qg.setFromBufferAttribute(c),this.morphTargetsRelative?(br.addVectors(yo.min,qg.min),yo.expandByPoint(br),br.addVectors(yo.max,qg.max),yo.expandByPoint(br)):(yo.expandByPoint(qg.min),yo.expandByPoint(qg.max))}yo.getCenter(i);let a=0;for(let r=0,o=e.count;r<o;r++)br.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(br));if(t)for(let r=0,o=t.length;r<o;r++){const c=t[r],f=this.morphTargetsRelative;for(let h=0,m=c.count;h<m;h++)br.fromBufferAttribute(c,h),f&&(a0.fromBufferAttribute(e,h),br.add(a0)),a=Math.max(a,i.distanceToSquared(br))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Mn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Mn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],f=[];for(let B=0;B<i.count;B++)c[B]=new pe,f[B]=new pe;const h=new pe,m=new pe,g=new pe,v=new pt,y=new pt,b=new pt,M=new pe,A=new pe;function S(B,L,D){h.fromBufferAttribute(i,B),m.fromBufferAttribute(i,L),g.fromBufferAttribute(i,D),v.fromBufferAttribute(r,B),y.fromBufferAttribute(r,L),b.fromBufferAttribute(r,D),m.sub(h),g.sub(h),y.sub(v),b.sub(v);const V=1/(y.x*b.y-b.x*y.y);isFinite(V)&&(M.copy(m).multiplyScalar(b.y).addScaledVector(g,-y.y).multiplyScalar(V),A.copy(g).multiplyScalar(y.x).addScaledVector(m,-b.x).multiplyScalar(V),c[B].add(M),c[L].add(M),c[D].add(M),f[B].add(A),f[L].add(A),f[D].add(A))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let B=0,L=E.length;B<L;++B){const D=E[B],V=D.start,U=D.count;for(let G=V,X=V+U;G<X;G+=3)S(e.getX(G+0),e.getX(G+1),e.getX(G+2))}const w=new pe,R=new pe,z=new pe,O=new pe;function P(B){z.fromBufferAttribute(a,B),O.copy(z);const L=c[B];w.copy(L),w.sub(z.multiplyScalar(z.dot(L))).normalize(),R.crossVectors(O,L);const V=R.dot(f[B])<0?-1:1;o.setXYZW(B,w.x,w.y,w.z,V)}for(let B=0,L=E.length;B<L;++B){const D=E[B],V=D.start,U=D.count;for(let G=V,X=V+U;G<X;G+=3)P(e.getX(G+0)),P(e.getX(G+1)),P(e.getX(G+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new zi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let v=0,y=i.count;v<y;v++)i.setXYZ(v,0,0,0);const a=new pe,r=new pe,o=new pe,c=new pe,f=new pe,h=new pe,m=new pe,g=new pe;if(e)for(let v=0,y=e.count;v<y;v+=3){const b=e.getX(v+0),M=e.getX(v+1),A=e.getX(v+2);a.fromBufferAttribute(t,b),r.fromBufferAttribute(t,M),o.fromBufferAttribute(t,A),m.subVectors(o,r),g.subVectors(a,r),m.cross(g),c.fromBufferAttribute(i,b),f.fromBufferAttribute(i,M),h.fromBufferAttribute(i,A),c.add(m),f.add(m),h.add(m),i.setXYZ(b,c.x,c.y,c.z),i.setXYZ(M,f.x,f.y,f.z),i.setXYZ(A,h.x,h.y,h.z)}else for(let v=0,y=t.count;v<y;v+=3)a.fromBufferAttribute(t,v+0),r.fromBufferAttribute(t,v+1),o.fromBufferAttribute(t,v+2),m.subVectors(o,r),g.subVectors(a,r),m.cross(g),i.setXYZ(v+0,m.x,m.y,m.z),i.setXYZ(v+1,m.x,m.y,m.z),i.setXYZ(v+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)br.fromBufferAttribute(e,t),br.normalize(),e.setXYZ(t,br.x,br.y,br.z)}toNonIndexed(){function e(c,f){const h=c.array,m=c.itemSize,g=c.normalized,v=new h.constructor(f.length*m);let y=0,b=0;for(let M=0,A=f.length;M<A;M++){c.isInterleavedBufferAttribute?y=f[M]*c.data.stride+c.offset:y=f[M]*m;for(let S=0;S<m;S++)v[b++]=h[y++]}return new zi(v,m,g)}if(this.index===null)return Ut("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Tn,i=this.index.array,a=this.attributes;for(const c in a){const f=a[c],h=e(f,i);t.setAttribute(c,h)}const r=this.morphAttributes;for(const c in r){const f=[],h=r[c];for(let m=0,g=h.length;m<g;m++){const v=h[m],y=e(v,i);f.push(y)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,f=o.length;c<f;c++){const h=o[c];t.addGroup(h.start,h.count,h.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const h in f)f[h]!==void 0&&(e[h]=f[h]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const f in i){const h=i[f];e.data.attributes[f]=h.toJSON(e.data)}const a={};let r=!1;for(const f in this.morphAttributes){const h=this.morphAttributes[f],m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];m.push(y.toJSON(e.data))}m.length>0&&(a[f]=m,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const h in a){const m=a[h];this.setAttribute(h,m.clone(t))}const r=e.morphAttributes;for(const h in r){const m=[],g=r[h];for(let v=0,y=g.length;v<y;v++)m.push(g[v].clone(t));this.morphAttributes[h]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let h=0,m=o.length;h<m;h++){const g=o[h];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const CT=new rn,Kd=new Uh,ov=new Lr,RT=new pe,lv=new pe,cv=new pe,uv=new pe,rS=new pe,fv=new pe,OT=new pe,dv=new pe;class oa extends mi{constructor(e=new Tn,t=new Fl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const c=this.morphTargetInfluences;if(r&&c){fv.set(0,0,0);for(let f=0,h=r.length;f<h;f++){const m=c[f],g=r[f];m!==0&&(rS.fromBufferAttribute(g,e),o?fv.addScaledVector(rS,m):fv.addScaledVector(rS.sub(t),m))}t.add(fv)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ov.copy(i.boundingSphere),ov.applyMatrix4(r),Kd.copy(e.ray).recast(e.near),!(ov.containsPoint(Kd.origin)===!1&&(Kd.intersectSphere(ov,RT)===null||Kd.origin.distanceToSquared(RT)>(e.far-e.near)**2))&&(CT.copy(r).invert(),Kd.copy(e.ray).applyMatrix4(CT),!(i.boundingBox!==null&&Kd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Kd)))}_computeIntersections(e,t,i){let a;const r=this.geometry,o=this.material,c=r.index,f=r.attributes.position,h=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,v=r.groups,y=r.drawRange;if(c!==null)if(Array.isArray(o))for(let b=0,M=v.length;b<M;b++){const A=v[b],S=o[A.materialIndex],E=Math.max(A.start,y.start),w=Math.min(c.count,Math.min(A.start+A.count,y.start+y.count));for(let R=E,z=w;R<z;R+=3){const O=c.getX(R),P=c.getX(R+1),B=c.getX(R+2);a=hv(this,S,e,i,h,m,g,O,P,B),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=A.materialIndex,t.push(a))}}else{const b=Math.max(0,y.start),M=Math.min(c.count,y.start+y.count);for(let A=b,S=M;A<S;A+=3){const E=c.getX(A),w=c.getX(A+1),R=c.getX(A+2);a=hv(this,o,e,i,h,m,g,E,w,R),a&&(a.faceIndex=Math.floor(A/3),t.push(a))}}else if(f!==void 0)if(Array.isArray(o))for(let b=0,M=v.length;b<M;b++){const A=v[b],S=o[A.materialIndex],E=Math.max(A.start,y.start),w=Math.min(f.count,Math.min(A.start+A.count,y.start+y.count));for(let R=E,z=w;R<z;R+=3){const O=R,P=R+1,B=R+2;a=hv(this,S,e,i,h,m,g,O,P,B),a&&(a.faceIndex=Math.floor(R/3),a.face.materialIndex=A.materialIndex,t.push(a))}}else{const b=Math.max(0,y.start),M=Math.min(f.count,y.start+y.count);for(let A=b,S=M;A<S;A+=3){const E=A,w=A+1,R=A+2;a=hv(this,o,e,i,h,m,g,E,w,R),a&&(a.faceIndex=Math.floor(A/3),t.push(a))}}}}function FV(n,e,t,i,a,r,o,c){let f;if(e.side===Is?f=i.intersectTriangle(o,r,a,!0,c):f=i.intersectTriangle(a,r,o,e.side===Bc,c),f===null)return null;dv.copy(c),dv.applyMatrix4(n.matrixWorld);const h=t.ray.origin.distanceTo(dv);return h<t.near||h>t.far?null:{distance:h,point:dv.clone(),object:n}}function hv(n,e,t,i,a,r,o,c,f,h){n.getVertexPosition(c,lv),n.getVertexPosition(f,cv),n.getVertexPosition(h,uv);const m=FV(n,e,t,i,lv,cv,uv,OT);if(m){const g=new pe;Qs.getBarycoord(OT,lv,cv,uv,g),a&&(m.uv=Qs.getInterpolatedAttribute(a,c,f,h,g,new pt)),r&&(m.uv1=Qs.getInterpolatedAttribute(r,c,f,h,g,new pt)),o&&(m.normal=Qs.getInterpolatedAttribute(o,c,f,h,g,new pe),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const v={a:c,b:f,c:h,normal:new pe,materialIndex:0};Qs.getNormal(lv,cv,uv,v.normal),m.face=v,m.barycoord=g}return m}class td extends Tn{constructor(e=1,t=1,i=1,a=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:o};const c=this;a=Math.floor(a),r=Math.floor(r),o=Math.floor(o);const f=[],h=[],m=[],g=[];let v=0,y=0;b("z","y","x",-1,-1,i,t,e,o,r,0),b("z","y","x",1,-1,i,t,-e,o,r,1),b("x","z","y",1,1,e,i,t,a,o,2),b("x","z","y",1,-1,e,i,-t,a,o,3),b("x","y","z",1,-1,e,t,i,a,r,4),b("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(f),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(m,3)),this.setAttribute("uv",new Ht(g,2));function b(M,A,S,E,w,R,z,O,P,B,L){const D=R/P,V=z/B,U=R/2,G=z/2,X=O/2,$=P+1,H=B+1;let K=0,Q=0;const W=new pe;for(let ce=0;ce<H;ce++){const q=ce*V-G;for(let ie=0;ie<$;ie++){const fe=ie*D-U;W[M]=fe*E,W[A]=q*w,W[S]=X,h.push(W.x,W.y,W.z),W[M]=0,W[A]=0,W[S]=O>0?1:-1,m.push(W.x,W.y,W.z),g.push(ie/P),g.push(1-ce/B),K+=1}}for(let ce=0;ce<B;ce++)for(let q=0;q<P;q++){const ie=v+q+$*ce,fe=v+q+$*(ce+1),ge=v+(q+1)+$*(ce+1),re=v+(q+1)+$*ce;f.push(ie,fe,re),f.push(fe,ge,re),Q+=6}c.addGroup(y,Q,L),y+=Q,v+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new td(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function J0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(Ut("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function Os(n){const e={};for(let t=0;t<n.length;t++){const i=J0(n[t]);for(const a in i)e[a]=i[a]}return e}function VV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function s8(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xn.workingColorSpace}const o8={clone:J0,merge:Os};var HV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Eo extends ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=HV,this.fragmentShader=jV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=J0(e.uniforms),this.uniformsGroups=VV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const o=this.uniforms[a].value;o&&o.isTexture?t.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[a]={type:"m4",value:o.toArray()}:t.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class r2 extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new rn,this.projectionMatrix=new rn,this.projectionMatrixInverse=new rn,this.coordinateSystem=bo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Nf=new pe,zT=new pt,NT=new pt;let Aa=class extends r2{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=K0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Mh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return K0*2*Math.atan(Math.tan(Mh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Nf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Nf.x,Nf.y).multiplyScalar(-e/Nf.z),Nf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Nf.x,Nf.y).multiplyScalar(-e/Nf.z)}getViewSize(e,t){return this.getViewBounds(e,zT,NT),t.subVectors(NT,zT)}setViewOffset(e,t,i,a,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Mh*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,h=o.fullHeight;r+=o.offsetX*a/f,t-=o.offsetY*i/h,a*=o.width/f,i*=o.height/h}const c=this.filmOffset;c!==0&&(r+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const r0=-90,s0=1;class l8 extends mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Aa(r0,s0,e,t);a.layers=this.layers,this.add(a);const r=new Aa(r0,s0,e,t);r.layers=this.layers,this.add(r);const o=new Aa(r0,s0,e,t);o.layers=this.layers,this.add(o);const c=new Aa(r0,s0,e,t);c.layers=this.layers,this.add(c);const f=new Aa(r0,s0,e,t);f.layers=this.layers,this.add(f);const h=new Aa(r0,s0,e,t);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,o,c,f]=t;for(const h of t)this.remove(h);if(e===bo)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===q0)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of t)this.add(h),h.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,c,f,h,m]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const M=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,o),e.setRenderTarget(i,2,a),e.render(t,c),e.setRenderTarget(i,3,a),e.render(t,f),e.setRenderTarget(i,4,a),e.render(t,h),i.texture.generateMipmaps=M,e.setRenderTarget(i,5,a),e.render(t,m),e.setRenderTarget(g,v,y),e.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class fy extends La{constructor(e=[],t=ku,i,a,r,o,c,f,h,m){super(e,t,i,a,r,o,c,f,h,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class c8 extends kl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new fy(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new td(5,5,5),r=new Eo({name:"CubemapFromEquirect",uniforms:J0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Is,blending:Ic});r.uniforms.tEquirect.value=t;const o=new oa(a,r),c=t.minFilter;return t.minFilter===Il&&(t.minFilter=Ea),new l8(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,a);e.setRenderTarget(r)}}class Vf extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const GV={type:"move"};class cb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,o=null;const c=this._targetRay,f=this._grip,h=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(h&&e.hand){o=!0;for(const M of e.hand.values()){const A=t.getJointPose(M,i),S=this._getHandJoint(h,M);A!==null&&(S.matrix.fromArray(A.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=A.radius),S.visible=A!==null}const m=h.joints["index-finger-tip"],g=h.joints["thumb-tip"],v=m.position.distanceTo(g.position),y=.02,b=.005;h.inputState.pinching&&v>y+b?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&v<=y-b&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(f.matrix.fromArray(r.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,r.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(r.linearVelocity)):f.hasLinearVelocity=!1,r.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(r.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(GV)))}return c!==null&&(c.visible=a!==null),f!==null&&(f.visible=r!==null),h!==null&&(h.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Vf;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class s2{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ct(e),this.density=t}clone(){return new s2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class o2{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Ct(e),this.near=t,this.far=i}clone(){return new o2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let l2=class extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ps,this.environmentIntensity=1,this.environmentRotation=new Ps,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class c2{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=H1,this.updateRanges=[],this.version=0,this.uuid=So()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Cs=new pe;class Rh{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.applyMatrix4(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.applyNormalMatrix(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cs.fromBufferAttribute(this,t),Cs.transformDirection(e),this.setXYZ(t,Cs.x,Cs.y,Cs.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ns(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=In(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=In(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ns(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ns(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ns(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ns(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=In(t,this.array),i=In(i,this.array),a=In(a,this.array),r=In(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){G1("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new zi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Rh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){G1("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u2 extends ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let o0;const $g=new pe,l0=new pe,c0=new pe,u0=new pt,Kg=new pt,u8=new rn,pv=new pe,Zg=new pe,mv=new pe,DT=new pt,sS=new pt,LT=new pt;class WM extends mi{constructor(e=new u2){if(super(),this.isSprite=!0,this.type="Sprite",o0===void 0){o0=new Tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new c2(t,5);o0.setIndex([0,1,2,0,2,3]),o0.setAttribute("position",new Rh(i,3,0,!1)),o0.setAttribute("uv",new Rh(i,2,3,!1))}this.geometry=o0,this.material=e,this.center=new pt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Mn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),l0.setFromMatrixScale(this.matrixWorld),u8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),c0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&l0.multiplyScalar(-c0.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const o=this.center;gv(pv.set(-.5,-.5,0),c0,o,l0,a,r),gv(Zg.set(.5,-.5,0),c0,o,l0,a,r),gv(mv.set(.5,.5,0),c0,o,l0,a,r),DT.set(0,0),sS.set(1,0),LT.set(1,1);let c=e.ray.intersectTriangle(pv,Zg,mv,!1,$g);if(c===null&&(gv(Zg.set(-.5,.5,0),c0,o,l0,a,r),sS.set(0,1),c=e.ray.intersectTriangle(pv,mv,Zg,!1,$g),c===null))return;const f=e.ray.origin.distanceTo($g);f<e.near||f>e.far||t.push({distance:f,point:$g.clone(),uv:Qs.getInterpolation($g,pv,Zg,mv,DT,sS,LT,new pt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function gv(n,e,t,i,a,r){u0.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(Kg.x=r*u0.x-a*u0.y,Kg.y=a*u0.x+r*u0.y):Kg.copy(u0),n.copy(e),n.x+=Kg.x,n.y+=Kg.y,n.applyMatrix4(u8)}const yv=new pe,IT=new pe;class f8 extends mi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){yv.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(yv);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){yv.setFromMatrixPosition(e.matrixWorld),IT.setFromMatrixPosition(this.matrixWorld);const i=yv.distanceTo(IT)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let o=t[a].distance;if(t[a].object.visible&&(o-=o*t[a].hysteresis),i>=o)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const o=i[a];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const PT=new pe,UT=new xi,BT=new xi,WV=new pe,kT=new rn,xv=new pe,oS=new Lr,FT=new rn,lS=new Uh;class YM extends oa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=A5,this.bindMatrix=new rn,this.bindMatrixInverse=new rn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new rs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xv),this.boundingBox.expandByPoint(xv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Lr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xv),this.boundingSphere.expandByPoint(xv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),oS.copy(this.boundingSphere),oS.applyMatrix4(a),e.ray.intersectsSphere(oS)!==!1&&(FT.copy(a).invert(),lS.copy(e.ray).applyMatrix4(FT),!(this.boundingBox!==null&&lS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,lS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xi,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===A5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===H6?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ut("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;UT.fromBufferAttribute(a.attributes.skinIndex,e),BT.fromBufferAttribute(a.attributes.skinWeight,e),PT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=BT.getComponent(r);if(o!==0){const c=UT.getComponent(r);kT.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(WV.copy(PT).applyMatrix4(kT),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class f2 extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bl extends La{constructor(e=null,t=1,i=1,a,r,o,c,f,h=Dr,m=Dr,g,v){super(null,o,c,f,h,m,a,r,g,v),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const VT=new rn,YV=new rn;class dy{constructor(e=[],t=[]){this.uuid=So(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Ut("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new rn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new rn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const c=e[r]?e[r].matrixWorld:YV;VT.multiplyMatrices(c,t[r]),VT.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new dy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Bl(t,e,e,is,Ds);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let o=t[r];o===void 0&&(Ut("Skeleton: No bone found with UUID:",r),o=new f2),this.bones.push(o),this.boneInverses.push(new rn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const o=t[a];e.bones.push(o.uuid);const c=i[a];e.boneInverses.push(c.toArray())}return e}}class Q0 extends zi{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const f0=new rn,HT=new rn,vv=[],jT=new rs,XV=new rn,Jg=new oa,Qg=new Lr;class d8 extends oa{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Q0(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,XV)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new rs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,f0),jT.copy(e.boundingBox).applyMatrix4(f0),this.boundingBox.union(jT)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Lr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,f0),Qg.copy(e.boundingSphere).applyMatrix4(f0),this.boundingSphere.union(Qg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let c=0;c<i.length;c++)i[c]=a[o+c]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(Jg.geometry=this.geometry,Jg.material=this.material,Jg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qg.copy(this.boundingSphere),Qg.applyMatrix4(i),e.ray.intersectsSphere(Qg)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,f0),HT.multiplyMatrices(i,f0),Jg.matrixWorld=HT,Jg.raycast(e,vv);for(let o=0,c=vv.length;o<c;o++){const f=vv[o];f.instanceId=r,f.object=this,t.push(f)}vv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Q0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new Bl(new Float32Array(a*this.count),a,this.count,J_,Ds));const r=this.morphTexture.source.data.data;let o=0;for(let h=0;h<i.length;h++)o+=i[h];const c=this.geometry.morphTargetsRelative?1:1-o,f=a*e;r[f]=c,r.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const cS=new pe,qV=new pe,$V=new Nn;class Eu{constructor(e=new pe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=cS.subVectors(i,t).cross(qV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(cS),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||$V.getNormalMatrix(e),a=this.coplanarPoint(cS).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Zd=new Lr,KV=new pt(.5,.5),bv=new pe;class lm{constructor(e=new Eu,t=new Eu,i=new Eu,a=new Eu,r=new Eu,o=new Eu){this.planes=[e,t,i,a,r,o]}set(e,t,i,a,r,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(a),c[4].copy(r),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=bo,i=!1){const a=this.planes,r=e.elements,o=r[0],c=r[1],f=r[2],h=r[3],m=r[4],g=r[5],v=r[6],y=r[7],b=r[8],M=r[9],A=r[10],S=r[11],E=r[12],w=r[13],R=r[14],z=r[15];if(a[0].setComponents(h-o,y-m,S-b,z-E).normalize(),a[1].setComponents(h+o,y+m,S+b,z+E).normalize(),a[2].setComponents(h+c,y+g,S+M,z+w).normalize(),a[3].setComponents(h-c,y-g,S-M,z-w).normalize(),i)a[4].setComponents(f,v,A,R).normalize(),a[5].setComponents(h-f,y-v,S-A,z-R).normalize();else if(a[4].setComponents(h-f,y-v,S-A,z-R).normalize(),t===bo)a[5].setComponents(h+f,y+v,S+A,z+R).normalize();else if(t===q0)a[5].setComponents(f,v,A,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Zd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Zd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Zd)}intersectsSprite(e){Zd.center.set(0,0,0);const t=KV.distanceTo(e.center);return Zd.radius=.7071067811865476+t,Zd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Zd)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(bv.x=a.normal.x>0?e.max.x:e.min.x,bv.y=a.normal.y>0?e.max.y:e.min.y,bv.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(bv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Mc=new rn,Ac=new lm;class d2{constructor(){this.coordinateSystem=bo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Mc.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ac.setFromProjectionMatrix(Mc,a.coordinateSystem,a.reversedDepth),Ac.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Mc.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ac.setFromProjectionMatrix(Mc,a.coordinateSystem,a.reversedDepth),Ac.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Mc.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ac.setFromProjectionMatrix(Mc,a.coordinateSystem,a.reversedDepth),Ac.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Mc.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ac.setFromProjectionMatrix(Mc,a.coordinateSystem,a.reversedDepth),Ac.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Mc.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ac.setFromProjectionMatrix(Mc,a.coordinateSystem,a.reversedDepth),Ac.containsPoint(e))return!0}return!1}clone(){return new d2}}function uS(n,e){return n-e}function ZV(n,e){return n.z-e.z}function JV(n,e){return e.z-n.z}class QV{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const c=r[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=a}reset(){this.list.length=0,this.index=0}}const qs=new rn,eH=new Ct(1,1,1),GT=new lm,tH=new d2,_v=new rs,Jd=new Lr,e1=new pe,WT=new pe,nH=new pe,fS=new QV,Jr=new oa,Sv=[];function iH(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let o=0;o<i;o++)e.setComponent(r+t,o,n.getComponent(r,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Qd(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class h8 extends oa{constructor(e,t,i=t*2,a){super(new Tn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Bl(t,e,e,is,Ds);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Bl(t,e,e,uy,Fu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Bl(t,e,e,is,Ds);i.colorSpace=Xn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:c,itemSize:f,normalized:h}=o,m=new c.constructor(i*f),g=new zi(m,f,h);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new zi(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,qs),this.getBoundingBoxAt(r,_v).applyMatrix4(qs),e.union(_v)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,qs),this.getBoundingSphereAt(r,Jd).applyMatrix4(qs),e.union(Jd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(uS),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;qs.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(eH.toArray(o.image.data,a*4),o.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?o.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(uS),f=this._availableGeometryIds.shift(),r[f]=a):(f=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(f,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(a&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=c.vertexStart,h=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),v=i.getAttribute(m);iH(g,v,f);const y=g.itemSize;for(let b=g.count,M=h;b<M;b++){const A=f+b;for(let S=0;S<y;S++)v.setComponent(A,S,0)}v.needsUpdate=!0,v.addUpdateRange(f*y,h*y)}if(a){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let v=0;v<o.count;v++)r.setX(m+v,f+o.getX(v));for(let v=o.count,y=g;v<y;v++)r.setX(m+v,f);r.needsUpdate=!0,r.addUpdateRange(m,c.reservedIndexCount)}return c.start=a?c.indexStart:c.vertexStart,c.count=a?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),r=this.geometry;for(let o=0,c=i.length;o<c;o++){const f=a[o],h=i[f];if(h.active!==!1){if(r.index!==null){if(h.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:v}=h,y=r.index,b=y.array,M=e-g;for(let A=m;A<m+v;A++)b[A]=b[A]+M;y.array.copyWithin(t,m,m+v),y.addUpdateRange(t,v),h.indexStart=t}t+=h.reservedIndexCount}if(h.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=h,v=r.attributes;for(const y in v){const b=v[y],{array:M,itemSize:A}=b;M.copyWithin(e*A,m*A,(m+g)*A),b.addUpdateRange(e*A,g*A)}h.vertexStart=e}e+=h.reservedVertexCount,h.start=r.index?h.indexStart:h.vertexStart,this._nextIndexStart=r.index?h.indexStart+h.reservedIndexCount:0,this._nextVertexStart=h.vertexStart+h.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new rs,o=i.index,c=i.attributes.position;for(let f=a.start,h=a.start+a.count;f<h;f++){let m=f;o&&(m=o.getX(m)),r.expandByPoint(e1.fromBufferAttribute(c,m))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new Lr;this.getBoundingBoxAt(e,_v),_v.getCenter(r.center);const o=i.index,c=i.attributes.position;let f=0;for(let h=a.start,m=a.start+a.count;h<m;h++){let g=h;o&&(g=o.getX(g)),e1.fromBufferAttribute(c,g),f=Math.max(f,r.center.distanceToSquared(e1))}r.radius=Math.sqrt(f),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(uS);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);Qd(this._multiDrawCounts,a),Qd(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Qd(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Qd(c.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Qd(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Tn,this._initializeGeometry(r));const o=this.geometry;r.index&&Qd(r.index.array,o.index.array);for(const c in r.attributes)Qd(r.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,o=this.geometry;Jr.material=this.material,Jr.geometry.index=o.index,Jr.geometry.attributes=o.attributes,Jr.geometry.boundingBox===null&&(Jr.geometry.boundingBox=new rs),Jr.geometry.boundingSphere===null&&(Jr.geometry.boundingSphere=new Lr);for(let c=0,f=i.length;c<f;c++){if(!i[c].visible||!i[c].active)continue;const h=i[c].geometryIndex,m=a[h];Jr.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,Jr.matrixWorld).premultiply(r),this.getBoundingBoxAt(h,Jr.geometry.boundingBox),this.getBoundingSphereAt(h,Jr.geometry.boundingSphere),Jr.raycast(e,Sv);for(let g=0,v=Sv.length;g<v;g++){const y=Sv[g];y.object=this,y.batchId=c,t.push(y)}Sv.length=0}Jr.material=null,Jr.geometry.index=null,Jr.geometry.attributes={},Jr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=a.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,h=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,y=this._indirectTexture,b=y.image.data,M=i.isArrayCamera?tH:GT;v&&!i.isArrayCamera&&(qs.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),GT.setFromProjectionMatrix(qs,i.coordinateSystem,i.reversedDepth));let A=0;if(this.sortObjects){qs.copy(this.matrixWorld).invert(),e1.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qs),WT.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qs);for(let w=0,R=f.length;w<R;w++)if(f[w].visible&&f[w].active){const z=f[w].geometryIndex;this.getMatrixAt(w,qs),this.getBoundingSphereAt(z,Jd).applyMatrix4(qs);let O=!1;if(v&&(O=!M.intersectsSphere(Jd,i)),!O){const P=g[z],B=nH.subVectors(Jd.center,e1).dot(WT);fS.push(P.start,P.count,B,w)}}const S=fS.list,E=this.customSort;E===null?S.sort(r.transparent?JV:ZV):E.call(this,S,i);for(let w=0,R=S.length;w<R;w++){const z=S[w];h[A]=z.start*c,m[A]=z.count,b[A]=z.index,A++}fS.reset()}else for(let S=0,E=f.length;S<E;S++)if(f[S].visible&&f[S].active){const w=f[S].geometryIndex;let R=!1;if(v&&(this.getMatrixAt(S,qs),this.getBoundingSphereAt(w,Jd).applyMatrix4(qs),R=!M.intersectsSphere(Jd,i)),!R){const z=g[w];h[A]=z.start*c,m[A]=z.count,b[A]=S,A++}}y.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,o){this.onBeforeRender(e,null,a,r,o)}}class Ir extends ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const c_=new pe,u_=new pe,YT=new rn,t1=new Uh,Mv=new Lr,dS=new pe,XT=new pe;class Vu extends mi{constructor(e=new Tn,t=new Ir){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)c_.fromBufferAttribute(t,a-1),u_.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=c_.distanceTo(u_);e.setAttribute("lineDistance",new Ht(i,1))}else Ut("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mv.copy(i.boundingSphere),Mv.applyMatrix4(a),Mv.radius+=r,e.ray.intersectsSphere(Mv)===!1)return;YT.copy(a).invert(),t1.copy(e.ray).applyMatrix4(YT);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,h=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(m!==null){const y=Math.max(0,o.start),b=Math.min(m.count,o.start+o.count);for(let M=y,A=b-1;M<A;M+=h){const S=m.getX(M),E=m.getX(M+1),w=Av(this,e,t1,f,S,E,M);w&&t.push(w)}if(this.isLineLoop){const M=m.getX(b-1),A=m.getX(y),S=Av(this,e,t1,f,M,A,b-1);S&&t.push(S)}}else{const y=Math.max(0,o.start),b=Math.min(v.count,o.start+o.count);for(let M=y,A=b-1;M<A;M+=h){const S=Av(this,e,t1,f,M,M+1,M);S&&t.push(S)}if(this.isLineLoop){const M=Av(this,e,t1,f,b-1,y,b-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function Av(n,e,t,i,a,r,o){const c=n.geometry.attributes.position;if(c_.fromBufferAttribute(c,a),u_.fromBufferAttribute(c,r),t.distanceSqToSegment(c_,u_,dS,XT)>i)return;dS.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(dS);if(!(h<e.near||h>e.far))return{distance:h,point:XT.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const qT=new pe,$T=new pe;class jl extends Vu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)qT.fromBufferAttribute(t,a),$T.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+qT.distanceTo($T);e.setAttribute("lineDistance",new Ht(i,1))}else Ut("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class p8 extends Vu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class XM extends ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const KT=new rn,T5=new Uh,wv=new Lr,Ev=new pe;class m8 extends mi{constructor(e=new Tn,t=new XM){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wv.copy(i.boundingSphere),wv.applyMatrix4(a),wv.radius+=r,e.ray.intersectsSphere(wv)===!1)return;KT.copy(a).invert(),T5.copy(e.ray).applyMatrix4(KT);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,h=i.index,g=i.attributes.position;if(h!==null){const v=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let b=v,M=y;b<M;b++){const A=h.getX(b);Ev.fromBufferAttribute(g,A),ZT(Ev,A,f,a,e,t,this)}}else{const v=Math.max(0,o.start),y=Math.min(g.count,o.start+o.count);for(let b=v,M=y;b<M;b++)Ev.fromBufferAttribute(g,b),ZT(Ev,b,f,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=a.length;r<o;r++){const c=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function ZT(n,e,t,i,a,r,o){const c=T5.distanceSqToPoint(n);if(c<t){const f=new pe;T5.closestPointToPoint(n,f),f.applyMatrix4(i);const h=a.ray.origin.distanceTo(f);if(h<a.near||h>a.far)return;r.push({distance:h,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class g8 extends La{constructor(e,t,i,a,r=Ea,o=Ea,c,f,h){super(e,t,i,a,r,o,c,f,h),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class aH extends g8{constructor(e,t,i,a,r,o,c,f){super({},e,t,i,a,r,o,c,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class rH extends La{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Dr,this.minFilter=Dr,this.generateMipmaps=!1,this.needsUpdate=!0}}class h2 extends La{constructor(e,t,i,a,r,o,c,f,h,m,g,v){super(null,o,c,f,h,m,a,r,g,v),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class sH extends h2{constructor(e,t,i,a,r,o){super(e,t,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=ns,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class oH extends h2{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,ku),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class y8 extends La{constructor(e,t,i,a,r,o,c,f,h){super(e,t,i,a,r,o,c,f,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class p2 extends La{constructor(e,t,i=Fu,a,r,o,c=Dr,f=Dr,h,m=Y0,g=1){if(m!==Y0&&m!==X0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:t,depth:g};super(v,a,r,o,c,f,m,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ff(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class qM extends La{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class m2 extends Tn{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const o=[],c=[],f=[],h=[],m=t/2,g=Math.PI/2*e,v=t,y=2*g+v,b=i*2+r,M=a+1,A=new pe,S=new pe;for(let E=0;E<=b;E++){let w=0,R=0,z=0,O=0;if(E<=i){const L=E/i,D=L*Math.PI/2;R=-m-e*Math.cos(D),z=e*Math.sin(D),O=-e*Math.cos(D),w=L*g}else if(E<=i+r){const L=(E-i)/r;R=-m+L*t,z=e,O=0,w=g+L*v}else{const L=(E-i-r)/i,D=L*Math.PI/2;R=m+e*Math.sin(D),z=e*Math.cos(D),O=e*Math.sin(D),w=g+v+L*g}const P=Math.max(0,Math.min(1,w/y));let B=0;E===0?B=.5/a:E===b&&(B=-.5/a);for(let L=0;L<=a;L++){const D=L/a,V=D*Math.PI*2,U=Math.sin(V),G=Math.cos(V);S.x=-z*G,S.y=R,S.z=z*U,c.push(S.x,S.y,S.z),A.set(-z*G,O,z*U),A.normalize(),f.push(A.x,A.y,A.z),h.push(D+B,P)}if(E>0){const L=(E-1)*M;for(let D=0;D<a;D++){const V=L+D,U=L+D+1,G=E*M+D,X=E*M+D+1;o.push(V,U,G),o.push(U,X,G)}}}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m2(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class g2 extends Tn{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],o=[],c=[],f=[],h=new pe,m=new pt;o.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,v=3;g<=t;g++,v+=3){const y=i+g/t*a;h.x=e*Math.cos(y),h.y=e*Math.sin(y),o.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(o[v]/e+1)/2,m.y=(o[v+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class cm extends Tn{constructor(e=1,t=1,i=1,a=32,r=1,o=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:o,thetaStart:c,thetaLength:f};const h=this;a=Math.floor(a),r=Math.floor(r);const m=[],g=[],v=[],y=[];let b=0;const M=[],A=i/2;let S=0;E(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(m),this.setAttribute("position",new Ht(g,3)),this.setAttribute("normal",new Ht(v,3)),this.setAttribute("uv",new Ht(y,2));function E(){const R=new pe,z=new pe;let O=0;const P=(t-e)/i;for(let B=0;B<=r;B++){const L=[],D=B/r,V=D*(t-e)+e;for(let U=0;U<=a;U++){const G=U/a,X=G*f+c,$=Math.sin(X),H=Math.cos(X);z.x=V*$,z.y=-D*i+A,z.z=V*H,g.push(z.x,z.y,z.z),R.set($,P,H).normalize(),v.push(R.x,R.y,R.z),y.push(G,1-D),L.push(b++)}M.push(L)}for(let B=0;B<a;B++)for(let L=0;L<r;L++){const D=M[L][B],V=M[L+1][B],U=M[L+1][B+1],G=M[L][B+1];(e>0||L!==0)&&(m.push(D,V,G),O+=3),(t>0||L!==r-1)&&(m.push(V,U,G),O+=3)}h.addGroup(S,O,0),S+=O}function w(R){const z=b,O=new pt,P=new pe;let B=0;const L=R===!0?e:t,D=R===!0?1:-1;for(let U=1;U<=a;U++)g.push(0,A*D,0),v.push(0,D,0),y.push(.5,.5),b++;const V=b;for(let U=0;U<=a;U++){const X=U/a*f+c,$=Math.cos(X),H=Math.sin(X);P.x=L*H,P.y=A*D,P.z=L*$,g.push(P.x,P.y,P.z),v.push(0,D,0),O.x=$*.5+.5,O.y=H*.5*D+.5,y.push(O.x,O.y),b++}for(let U=0;U<a;U++){const G=z+U,X=V+U;R===!0?m.push(X,X+1,G):m.push(X+1,X,G),B+=3}h.addGroup(S,B,R===!0?1:2),S+=B}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hy extends cm{constructor(e=1,t=1,i=32,a=1,r=!1,o=0,c=Math.PI*2){super(0,e,t,i,a,r,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:o,thetaLength:c}}static fromJSON(e){return new hy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nd extends Tn{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],o=[];c(a),h(i),m(),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(r.slice(),3)),this.setAttribute("uv",new Ht(o,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function c(E){const w=new pe,R=new pe,z=new pe;for(let O=0;O<t.length;O+=3)y(t[O+0],w),y(t[O+1],R),y(t[O+2],z),f(w,R,z,E)}function f(E,w,R,z){const O=z+1,P=[];for(let B=0;B<=O;B++){P[B]=[];const L=E.clone().lerp(R,B/O),D=w.clone().lerp(R,B/O),V=O-B;for(let U=0;U<=V;U++)U===0&&B===O?P[B][U]=L:P[B][U]=L.clone().lerp(D,U/V)}for(let B=0;B<O;B++)for(let L=0;L<2*(O-B)-1;L++){const D=Math.floor(L/2);L%2===0?(v(P[B][D+1]),v(P[B+1][D]),v(P[B][D])):(v(P[B][D+1]),v(P[B+1][D+1]),v(P[B+1][D]))}}function h(E){const w=new pe;for(let R=0;R<r.length;R+=3)w.x=r[R+0],w.y=r[R+1],w.z=r[R+2],w.normalize().multiplyScalar(E),r[R+0]=w.x,r[R+1]=w.y,r[R+2]=w.z}function m(){const E=new pe;for(let w=0;w<r.length;w+=3){E.x=r[w+0],E.y=r[w+1],E.z=r[w+2];const R=A(E)/2/Math.PI+.5,z=S(E)/Math.PI+.5;o.push(R,1-z)}b(),g()}function g(){for(let E=0;E<o.length;E+=6){const w=o[E+0],R=o[E+2],z=o[E+4],O=Math.max(w,R,z),P=Math.min(w,R,z);O>.9&&P<.1&&(w<.2&&(o[E+0]+=1),R<.2&&(o[E+2]+=1),z<.2&&(o[E+4]+=1))}}function v(E){r.push(E.x,E.y,E.z)}function y(E,w){const R=E*3;w.x=e[R+0],w.y=e[R+1],w.z=e[R+2]}function b(){const E=new pe,w=new pe,R=new pe,z=new pe,O=new pt,P=new pt,B=new pt;for(let L=0,D=0;L<r.length;L+=9,D+=6){E.set(r[L+0],r[L+1],r[L+2]),w.set(r[L+3],r[L+4],r[L+5]),R.set(r[L+6],r[L+7],r[L+8]),O.set(o[D+0],o[D+1]),P.set(o[D+2],o[D+3]),B.set(o[D+4],o[D+5]),z.copy(E).add(w).add(R).divideScalar(3);const V=A(z);M(O,D+0,E,V),M(P,D+2,w,V),M(B,D+4,R,V)}}function M(E,w,R,z){z<0&&E.x===1&&(o[w]=E.x-1),R.x===0&&R.z===0&&(o[w]=z/2/Math.PI+.5)}function A(E){return Math.atan2(E.z,-E.x)}function S(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nd(e.vertices,e.indices,e.radius,e.details)}}class y2 extends nd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y2(e.radius,e.detail)}}const Tv=new pe,Cv=new pe,hS=new pe,Rv=new Qs;class x8 extends Tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(Mh*t),o=e.getIndex(),c=e.getAttribute("position"),f=o?o.count:c.count,h=[0,0,0],m=["a","b","c"],g=new Array(3),v={},y=[];for(let b=0;b<f;b+=3){o?(h[0]=o.getX(b),h[1]=o.getX(b+1),h[2]=o.getX(b+2)):(h[0]=b,h[1]=b+1,h[2]=b+2);const{a:M,b:A,c:S}=Rv;if(M.fromBufferAttribute(c,h[0]),A.fromBufferAttribute(c,h[1]),S.fromBufferAttribute(c,h[2]),Rv.getNormal(hS),g[0]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,g[1]=`${Math.round(A.x*a)},${Math.round(A.y*a)},${Math.round(A.z*a)}`,g[2]=`${Math.round(S.x*a)},${Math.round(S.y*a)},${Math.round(S.z*a)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let E=0;E<3;E++){const w=(E+1)%3,R=g[E],z=g[w],O=Rv[m[E]],P=Rv[m[w]],B=`${R}_${z}`,L=`${z}_${R}`;L in v&&v[L]?(hS.dot(v[L].normal)<=r&&(y.push(O.x,O.y,O.z),y.push(P.x,P.y,P.z)),v[L]=null):B in v||(v[B]={index0:h[E],index1:h[w],normal:hS.clone()})}}for(const b in v)if(v[b]){const{index0:M,index1:A}=v[b];Tv.fromBufferAttribute(c,M),Cv.fromBufferAttribute(c,A),y.push(Tv.x,Tv.y,Tv.z),y.push(Cv.x,Cv.y,Cv.z)}this.setAttribute("position",new Ht(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Gl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ut("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let o;t?o=t:o=e*i[r-1];let c=0,f=r-1,h;for(;c<=f;)if(a=Math.floor(c+(f-c)/2),h=i[a]-o,h<0)c=a+1;else if(h>0)f=a-1;else{f=a;break}if(a=f,i[a]===o)return a/(r-1);const m=i[a],v=i[a+1]-m,y=(o-m)/v;return(a+y)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const o=this.getPoint(a),c=this.getPoint(r),f=t||(o.isVector2?new pt:new pe);return f.copy(c).sub(o).normalize(),f}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new pe,a=[],r=[],o=[],c=new pe,f=new rn;for(let y=0;y<=e;y++){const b=y/e;a[y]=this.getTangentAt(b,new pe)}r[0]=new pe,o[0]=new pe;let h=Number.MAX_VALUE;const m=Math.abs(a[0].x),g=Math.abs(a[0].y),v=Math.abs(a[0].z);m<=h&&(h=m,i.set(1,0,0)),g<=h&&(h=g,i.set(0,1,0)),v<=h&&i.set(0,0,1),c.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],c),o[0].crossVectors(a[0],r[0]);for(let y=1;y<=e;y++){if(r[y]=r[y-1].clone(),o[y]=o[y-1].clone(),c.crossVectors(a[y-1],a[y]),c.length()>Number.EPSILON){c.normalize();const b=Math.acos(vn(a[y-1].dot(a[y]),-1,1));r[y].applyMatrix4(f.makeRotationAxis(c,b))}o[y].crossVectors(a[y],r[y])}if(t===!0){let y=Math.acos(vn(r[0].dot(r[e]),-1,1));y/=e,a[0].dot(c.crossVectors(r[0],r[e]))>0&&(y=-y);for(let b=1;b<=e;b++)r[b].applyMatrix4(f.makeRotationAxis(a[b],y*b)),o[b].crossVectors(a[b],r[b])}return{tangents:a,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class x2 extends Gl{constructor(e=0,t=0,i=1,a=1,r=0,o=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=c,this.aRotation=f}getPoint(e,t=new pt){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(o?r=0:r=a),this.aClockwise===!0&&!o&&(r===a?r=-a:r=r-a);const c=this.aStartAngle+e*r;let f=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=f-this.aX,y=h-this.aY;f=v*m-y*g+this.aX,h=v*g+y*m+this.aY}return i.set(f,h)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class v8 extends x2{constructor(e,t,i,a,r,o){super(e,t,i,i,a,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function $M(){let n=0,e=0,t=0,i=0;function a(r,o,c,f){n=r,e=c,t=-3*r+3*o-2*c-f,i=2*r-2*o+c+f}return{initCatmullRom:function(r,o,c,f,h){a(o,c,h*(c-r),h*(f-o))},initNonuniformCatmullRom:function(r,o,c,f,h,m,g){let v=(o-r)/h-(c-r)/(h+m)+(c-o)/m,y=(c-o)/m-(f-o)/(m+g)+(f-c)/g;v*=m,y*=m,a(o,c,v,y)},calc:function(r){const o=r*r,c=o*r;return n+e*r+t*o+i*c}}}const Ov=new pe,pS=new $M,mS=new $M,gS=new $M;class b8 extends Gl{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new pe){const i=t,a=this.points,r=a.length,o=(r-(this.closed?0:1))*e;let c=Math.floor(o),f=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:f===0&&c===r-1&&(c=r-2,f=1);let h,m;this.closed||c>0?h=a[(c-1)%r]:(Ov.subVectors(a[0],a[1]).add(a[0]),h=Ov);const g=a[c%r],v=a[(c+1)%r];if(this.closed||c+2<r?m=a[(c+2)%r]:(Ov.subVectors(a[r-1],a[r-2]).add(a[r-1]),m=Ov),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let b=Math.pow(h.distanceToSquared(g),y),M=Math.pow(g.distanceToSquared(v),y),A=Math.pow(v.distanceToSquared(m),y);M<1e-4&&(M=1),b<1e-4&&(b=M),A<1e-4&&(A=M),pS.initNonuniformCatmullRom(h.x,g.x,v.x,m.x,b,M,A),mS.initNonuniformCatmullRom(h.y,g.y,v.y,m.y,b,M,A),gS.initNonuniformCatmullRom(h.z,g.z,v.z,m.z,b,M,A)}else this.curveType==="catmullrom"&&(pS.initCatmullRom(h.x,g.x,v.x,m.x,this.tension),mS.initCatmullRom(h.y,g.y,v.y,m.y,this.tension),gS.initCatmullRom(h.z,g.z,v.z,m.z,this.tension));return i.set(pS.calc(f),mS.calc(f),gS.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new pe().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JT(n,e,t,i,a){const r=(i-e)*.5,o=(a-t)*.5,c=n*n,f=n*c;return(2*t-2*i+r+o)*f+(-3*t+3*i-2*r-o)*c+r*n+t}function lH(n,e){const t=1-n;return t*t*e}function cH(n,e){return 2*(1-n)*n*e}function uH(n,e){return n*n*e}function A1(n,e,t,i){return lH(n,e)+cH(n,t)+uH(n,i)}function fH(n,e){const t=1-n;return t*t*t*e}function dH(n,e){const t=1-n;return 3*t*t*n*e}function hH(n,e){return 3*(1-n)*n*n*e}function pH(n,e){return n*n*n*e}function w1(n,e,t,i,a){return fH(n,e)+dH(n,t)+hH(n,i)+pH(n,a)}class KM extends Gl{constructor(e=new pt,t=new pt,i=new pt,a=new pt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new pt){const i=t,a=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(w1(e,a.x,r.x,o.x,c.x),w1(e,a.y,r.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _8 extends Gl{constructor(e=new pe,t=new pe,i=new pe,a=new pe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new pe){const i=t,a=this.v0,r=this.v1,o=this.v2,c=this.v3;return i.set(w1(e,a.x,r.x,o.x,c.x),w1(e,a.y,r.y,o.y,c.y),w1(e,a.z,r.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZM extends Gl{constructor(e=new pt,t=new pt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class S8 extends Gl{constructor(e=new pe,t=new pe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JM extends Gl{constructor(e=new pt,t=new pt,i=new pt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pt){const i=t,a=this.v0,r=this.v1,o=this.v2;return i.set(A1(e,a.x,r.x,o.x),A1(e,a.y,r.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QM extends Gl{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,a=this.v0,r=this.v1,o=this.v2;return i.set(A1(e,a.x,r.x,o.x),A1(e,a.y,r.y,o.y),A1(e,a.z,r.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eA extends Gl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pt){const i=t,a=this.points,r=(a.length-1)*e,o=Math.floor(r),c=r-o,f=a[o===0?o:o-1],h=a[o],m=a[o>a.length-2?a.length-1:o+1],g=a[o>a.length-3?a.length-1:o+2];return i.set(JT(c,f.x,h.x,m.x,g.x),JT(c,f.y,h.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new pt().fromArray(a))}return this}}var f_=Object.freeze({__proto__:null,ArcCurve:v8,CatmullRomCurve3:b8,CubicBezierCurve:KM,CubicBezierCurve3:_8,EllipseCurve:x2,LineCurve:ZM,LineCurve3:S8,QuadraticBezierCurve:JM,QuadraticBezierCurve3:QM,SplineCurve:eA});class M8 extends Gl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new f_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const o=a[r]-i,c=this.curves[r],f=c.getLength(),h=f===0?0:1-o/f;return c.getPointAt(h,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const o=r[a],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(c);for(let h=0;h<f.length;h++){const m=f[h];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new f_[a.type]().fromJSON(a))}return this}}class d_ extends M8{constructor(e){super(),this.type="Path",this.currentPoint=new pt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new ZM(this.currentPoint.clone(),new pt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new JM(this.currentPoint.clone(),new pt(e,t),new pt(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,o){const c=new KM(this.currentPoint.clone(),new pt(e,t),new pt(i,a),new pt(r,o));return this.curves.push(c),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new eA(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,o){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,i,a,r,o),this}absarc(e,t,i,a,r,o){return this.absellipse(e,t,i,i,a,r,o),this}ellipse(e,t,i,a,r,o,c,f){const h=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+h,t+m,i,a,r,o,c,f),this}absellipse(e,t,i,a,r,o,c,f){const h=new x2(e,t,i,a,r,o,c,f);if(this.curves.length>0){const g=h.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(h);const m=h.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ah extends d_{constructor(e){super(e),this.uuid=So(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new d_().fromJSON(a))}return this}}function mH(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=A8(n,0,a,t,!0);const o=[];if(!r||r.next===r.prev)return o;let c,f,h;if(i&&(r=bH(n,e,r,t)),n.length>80*t){c=n[0],f=n[1];let m=c,g=f;for(let v=t;v<a;v+=t){const y=n[v],b=n[v+1];y<c&&(c=y),b<f&&(f=b),y>m&&(m=y),b>g&&(g=b)}h=Math.max(m-c,g-f),h=h!==0?32767/h:0}return W1(r,o,t,c,f,h,0),o}function A8(n,e,t,i,a){let r;if(a===zH(n,e,t,i)>0)for(let o=e;o<t;o+=i)r=QT(o/i|0,n[o],n[o+1],r);else for(let o=t-i;o>=e;o-=i)r=QT(o/i|0,n[o],n[o+1],r);return r&&em(r,r.next)&&(X1(r),r=r.next),r}function Oh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(em(t,t.next)||wa(t.prev,t,t.next)===0)){if(X1(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function W1(n,e,t,i,a,r,o){if(!n)return;!o&&r&&wH(n,i,a,r);let c=n;for(;n.prev!==n.next;){const f=n.prev,h=n.next;if(r?yH(n,i,a,r):gH(n)){e.push(f.i,n.i,h.i),X1(n),n=h.next,c=h.next;continue}if(n=h,n===c){o?o===1?(n=xH(Oh(n),e),W1(n,e,t,i,a,r,2)):o===2&&vH(n,e,t,i,a,r):W1(Oh(n),e,t,i,a,r,1);break}}}function gH(n){const e=n.prev,t=n,i=n.next;if(wa(e,t,i)>=0)return!1;const a=e.x,r=t.x,o=i.x,c=e.y,f=t.y,h=i.y,m=Math.min(a,r,o),g=Math.min(c,f,h),v=Math.max(a,r,o),y=Math.max(c,f,h);let b=i.next;for(;b!==e;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=y&&u1(a,c,r,f,o,h,b.x,b.y)&&wa(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function yH(n,e,t,i){const a=n.prev,r=n,o=n.next;if(wa(a,r,o)>=0)return!1;const c=a.x,f=r.x,h=o.x,m=a.y,g=r.y,v=o.y,y=Math.min(c,f,h),b=Math.min(m,g,v),M=Math.max(c,f,h),A=Math.max(m,g,v),S=C5(y,b,e,t,i),E=C5(M,A,e,t,i);let w=n.prevZ,R=n.nextZ;for(;w&&w.z>=S&&R&&R.z<=E;){if(w.x>=y&&w.x<=M&&w.y>=b&&w.y<=A&&w!==a&&w!==o&&u1(c,m,f,g,h,v,w.x,w.y)&&wa(w.prev,w,w.next)>=0||(w=w.prevZ,R.x>=y&&R.x<=M&&R.y>=b&&R.y<=A&&R!==a&&R!==o&&u1(c,m,f,g,h,v,R.x,R.y)&&wa(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;w&&w.z>=S;){if(w.x>=y&&w.x<=M&&w.y>=b&&w.y<=A&&w!==a&&w!==o&&u1(c,m,f,g,h,v,w.x,w.y)&&wa(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;R&&R.z<=E;){if(R.x>=y&&R.x<=M&&R.y>=b&&R.y<=A&&R!==a&&R!==o&&u1(c,m,f,g,h,v,R.x,R.y)&&wa(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function xH(n,e){let t=n;do{const i=t.prev,a=t.next.next;!em(i,a)&&E8(i,t,t.next,a)&&Y1(i,a)&&Y1(a,i)&&(e.push(i.i,t.i,a.i),X1(t),X1(t.next),t=n=a),t=t.next}while(t!==n);return Oh(t)}function vH(n,e,t,i,a,r){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&CH(o,c)){let f=T8(o,c);o=Oh(o,o.next),f=Oh(f,f.next),W1(o,e,t,i,a,r,0),W1(f,e,t,i,a,r,0);return}c=c.next}o=o.next}while(o!==n)}function bH(n,e,t,i){const a=[];for(let r=0,o=e.length;r<o;r++){const c=e[r]*i,f=r<o-1?e[r+1]*i:n.length,h=A8(n,c,f,i,!1);h===h.next&&(h.steiner=!0),a.push(TH(h))}a.sort(_H);for(let r=0;r<a.length;r++)t=SH(a[r],t);return t}function _H(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function SH(n,e){const t=MH(n,e);if(!t)return e;const i=T8(t,n);return Oh(i,i.next),Oh(t,t.next)}function MH(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,o;if(em(n,t))return t;do{if(em(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const g=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>r&&(r=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,f=o.x,h=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=f&&i!==t.x&&w8(a<h?i:r,a,f,h,a<h?r:i,a,t.x,t.y)){const g=Math.abs(a-t.y)/(i-t.x);Y1(t,n)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&AH(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function AH(n,e){return wa(n.prev,n,e.prev)<0&&wa(e.next,n,n.next)<0}function wH(n,e,t,i){let a=n;do a.z===0&&(a.z=C5(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,EH(a)}function EH(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let o=i,c=0;for(let h=0;h<t&&(c++,o=o.nextZ,!!o);h++);let f=t;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||i.z<=o.z)?(a=i,i=i.nextZ,c--):(a=o,o=o.nextZ,f--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=o}r.nextZ=null,t*=2}while(e>1);return n}function C5(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function TH(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function w8(n,e,t,i,a,r,o,c){return(a-o)*(e-c)>=(n-o)*(r-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(r-c)>=(a-o)*(i-c)}function u1(n,e,t,i,a,r,o,c){return!(n===o&&e===c)&&w8(n,e,t,i,a,r,o,c)}function CH(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!RH(n,e)&&(Y1(n,e)&&Y1(e,n)&&OH(n,e)&&(wa(n.prev,n,e.prev)||wa(n,e.prev,e))||em(n,e)&&wa(n.prev,n,n.next)>0&&wa(e.prev,e,e.next)>0)}function wa(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function em(n,e){return n.x===e.x&&n.y===e.y}function E8(n,e,t,i){const a=Nv(wa(n,e,t)),r=Nv(wa(n,e,i)),o=Nv(wa(t,i,n)),c=Nv(wa(t,i,e));return!!(a!==r&&o!==c||a===0&&zv(n,t,e)||r===0&&zv(n,i,e)||o===0&&zv(t,n,i)||c===0&&zv(t,e,i))}function zv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Nv(n){return n>0?1:n<0?-1:0}function RH(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&E8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Y1(n,e){return wa(n.prev,n,n.next)<0?wa(n,e,n.next)>=0&&wa(n,n.prev,e)>=0:wa(n,e,n.prev)<0||wa(n,n.next,e)<0}function OH(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function T8(n,e){const t=R5(n.i,n.x,n.y),i=R5(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function QT(n,e,t,i){const a=R5(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function X1(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function R5(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zH(n,e,t,i){let a=0;for(let r=e,o=t-i;r<t;r+=i)a+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return a}class NH{static triangulate(e,t,i=2){return mH(e,t,i)}}class Pl{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return Pl.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];eC(e),tC(i,e);let o=e.length;t.forEach(eC);for(let f=0;f<t.length;f++)a.push(o),o+=t[f].length,tC(i,t[f]);const c=NH.triangulate(i,a);for(let f=0;f<c.length;f+=3)r.push(c.slice(f,f+3));return r}}function eC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function tC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class v2 extends Tn{constructor(e=new Ah([new pt(.5,.5),new pt(-.5,.5),new pt(-.5,-.5),new pt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let c=0,f=e.length;c<f;c++){const h=e[c];o(h)}this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(r,2)),this.computeVertexNormals();function o(c){const f=[],h=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let v=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:y-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:DH;let w,R=!1,z,O,P,B;S&&(w=S.getSpacedPoints(m),R=!0,v=!1,z=S.computeFrenetFrames(m,!1),O=new pe,P=new pe,B=new pe),v||(A=0,y=0,b=0,M=0);const L=c.extractPoints(h);let D=L.shape;const V=L.holes;if(!Pl.isClockWise(D)){D=D.reverse();for(let Ee=0,ne=V.length;Ee<ne;Ee++){const Oe=V[Ee];Pl.isClockWise(Oe)&&(V[Ee]=Oe.reverse())}}function G(Ee){const Oe=10000000000000001e-36;let Ae=Ee[0];for(let Ve=1;Ve<=Ee.length;Ve++){const Be=Ve%Ee.length,ke=Ee[Be],Ke=ke.x-Ae.x,Ye=ke.y-Ae.y,de=Ke*Ke+Ye*Ye,Z=Math.max(Math.abs(ke.x),Math.abs(ke.y),Math.abs(Ae.x),Math.abs(Ae.y)),xe=Oe*Z*Z;if(de<=xe){Ee.splice(Be,1),Ve--;continue}Ae=ke}}G(D),V.forEach(G);const X=V.length,$=D;for(let Ee=0;Ee<X;Ee++){const ne=V[Ee];D=D.concat(ne)}function H(Ee,ne,Oe){return ne||Mn("ExtrudeGeometry: vec does not exist"),Ee.clone().addScaledVector(ne,Oe)}const K=D.length;function Q(Ee,ne,Oe){let Ae,Ve,Be;const ke=Ee.x-ne.x,Ke=Ee.y-ne.y,Ye=Oe.x-Ee.x,de=Oe.y-Ee.y,Z=ke*ke+Ke*Ke,xe=ke*de-Ke*Ye;if(Math.abs(xe)>Number.EPSILON){const Me=Math.sqrt(Z),Ne=Math.sqrt(Ye*Ye+de*de),Te=ne.x-Ke/Me,gt=ne.y+ke/Me,Fe=Oe.x-de/Ne,dt=Oe.y+Ye/Ne,ot=((Fe-Te)*de-(dt-gt)*Ye)/(ke*de-Ke*Ye);Ae=Te+ke*ot-Ee.x,Ve=gt+Ke*ot-Ee.y;const je=Ae*Ae+Ve*Ve;if(je<=2)return new pt(Ae,Ve);Be=Math.sqrt(je/2)}else{let Me=!1;ke>Number.EPSILON?Ye>Number.EPSILON&&(Me=!0):ke<-Number.EPSILON?Ye<-Number.EPSILON&&(Me=!0):Math.sign(Ke)===Math.sign(de)&&(Me=!0),Me?(Ae=-Ke,Ve=ke,Be=Math.sqrt(Z)):(Ae=ke,Ve=Ke,Be=Math.sqrt(Z/2))}return new pt(Ae/Be,Ve/Be)}const W=[];for(let Ee=0,ne=$.length,Oe=ne-1,Ae=Ee+1;Ee<ne;Ee++,Oe++,Ae++)Oe===ne&&(Oe=0),Ae===ne&&(Ae=0),W[Ee]=Q($[Ee],$[Oe],$[Ae]);const ce=[];let q,ie=W.concat();for(let Ee=0,ne=X;Ee<ne;Ee++){const Oe=V[Ee];q=[];for(let Ae=0,Ve=Oe.length,Be=Ve-1,ke=Ae+1;Ae<Ve;Ae++,Be++,ke++)Be===Ve&&(Be=0),ke===Ve&&(ke=0),q[Ae]=Q(Oe[Ae],Oe[Be],Oe[ke]);ce.push(q),ie=ie.concat(q)}let fe;if(A===0)fe=Pl.triangulateShape($,V);else{const Ee=[],ne=[];for(let Oe=0;Oe<A;Oe++){const Ae=Oe/A,Ve=y*Math.cos(Ae*Math.PI/2),Be=b*Math.sin(Ae*Math.PI/2)+M;for(let ke=0,Ke=$.length;ke<Ke;ke++){const Ye=H($[ke],W[ke],Be);ze(Ye.x,Ye.y,-Ve),Ae===0&&Ee.push(Ye)}for(let ke=0,Ke=X;ke<Ke;ke++){const Ye=V[ke];q=ce[ke];const de=[];for(let Z=0,xe=Ye.length;Z<xe;Z++){const Me=H(Ye[Z],q[Z],Be);ze(Me.x,Me.y,-Ve),Ae===0&&de.push(Me)}Ae===0&&ne.push(de)}}fe=Pl.triangulateShape(Ee,ne)}const ge=fe.length,re=b+M;for(let Ee=0;Ee<K;Ee++){const ne=v?H(D[Ee],ie[Ee],re):D[Ee];R?(P.copy(z.normals[0]).multiplyScalar(ne.x),O.copy(z.binormals[0]).multiplyScalar(ne.y),B.copy(w[0]).add(P).add(O),ze(B.x,B.y,B.z)):ze(ne.x,ne.y,0)}for(let Ee=1;Ee<=m;Ee++)for(let ne=0;ne<K;ne++){const Oe=v?H(D[ne],ie[ne],re):D[ne];R?(P.copy(z.normals[Ee]).multiplyScalar(Oe.x),O.copy(z.binormals[Ee]).multiplyScalar(Oe.y),B.copy(w[Ee]).add(P).add(O),ze(B.x,B.y,B.z)):ze(Oe.x,Oe.y,g/m*Ee)}for(let Ee=A-1;Ee>=0;Ee--){const ne=Ee/A,Oe=y*Math.cos(ne*Math.PI/2),Ae=b*Math.sin(ne*Math.PI/2)+M;for(let Ve=0,Be=$.length;Ve<Be;Ve++){const ke=H($[Ve],W[Ve],Ae);ze(ke.x,ke.y,g+Oe)}for(let Ve=0,Be=V.length;Ve<Be;Ve++){const ke=V[Ve];q=ce[Ve];for(let Ke=0,Ye=ke.length;Ke<Ye;Ke++){const de=H(ke[Ke],q[Ke],Ae);R?ze(de.x,de.y+w[m-1].y,w[m-1].x+Oe):ze(de.x,de.y,g+Oe)}}}te(),se();function te(){const Ee=a.length/3;if(v){let ne=0,Oe=K*ne;for(let Ae=0;Ae<ge;Ae++){const Ve=fe[Ae];De(Ve[2]+Oe,Ve[1]+Oe,Ve[0]+Oe)}ne=m+A*2,Oe=K*ne;for(let Ae=0;Ae<ge;Ae++){const Ve=fe[Ae];De(Ve[0]+Oe,Ve[1]+Oe,Ve[2]+Oe)}}else{for(let ne=0;ne<ge;ne++){const Oe=fe[ne];De(Oe[2],Oe[1],Oe[0])}for(let ne=0;ne<ge;ne++){const Oe=fe[ne];De(Oe[0]+K*m,Oe[1]+K*m,Oe[2]+K*m)}}i.addGroup(Ee,a.length/3-Ee,0)}function se(){const Ee=a.length/3;let ne=0;ve($,ne),ne+=$.length;for(let Oe=0,Ae=V.length;Oe<Ae;Oe++){const Ve=V[Oe];ve(Ve,ne),ne+=Ve.length}i.addGroup(Ee,a.length/3-Ee,1)}function ve(Ee,ne){let Oe=Ee.length;for(;--Oe>=0;){const Ae=Oe;let Ve=Oe-1;Ve<0&&(Ve=Ee.length-1);for(let Be=0,ke=m+A*2;Be<ke;Be++){const Ke=K*Be,Ye=K*(Be+1),de=ne+Ae+Ke,Z=ne+Ve+Ke,xe=ne+Ve+Ye,Me=ne+Ae+Ye;rt(de,Z,xe,Me)}}}function ze(Ee,ne,Oe){f.push(Ee),f.push(ne),f.push(Oe)}function De(Ee,ne,Oe){nt(Ee),nt(ne),nt(Oe);const Ae=a.length/3,Ve=E.generateTopUV(i,a,Ae-3,Ae-2,Ae-1);Ge(Ve[0]),Ge(Ve[1]),Ge(Ve[2])}function rt(Ee,ne,Oe,Ae){nt(Ee),nt(ne),nt(Ae),nt(ne),nt(Oe),nt(Ae);const Ve=a.length/3,Be=E.generateSideWallUV(i,a,Ve-6,Ve-3,Ve-2,Ve-1);Ge(Be[0]),Ge(Be[1]),Ge(Be[3]),Ge(Be[1]),Ge(Be[2]),Ge(Be[3])}function nt(Ee){a.push(f[Ee*3+0]),a.push(f[Ee*3+1]),a.push(f[Ee*3+2])}function Ge(Ee){r.push(Ee.x),r.push(Ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return LH(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const c=t[e.shapes[r]];i.push(c)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new f_[a.type]().fromJSON(a)),new v2(i,e.options)}}const DH={generateTopUV:function(n,e,t,i,a){const r=e[t*3],o=e[t*3+1],c=e[i*3],f=e[i*3+1],h=e[a*3],m=e[a*3+1];return[new pt(r,o),new pt(c,f),new pt(h,m)]},generateSideWallUV:function(n,e,t,i,a,r){const o=e[t*3],c=e[t*3+1],f=e[t*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[a*3],y=e[a*3+1],b=e[a*3+2],M=e[r*3],A=e[r*3+1],S=e[r*3+2];return Math.abs(c-m)<Math.abs(o-h)?[new pt(o,1-f),new pt(h,1-g),new pt(v,1-b),new pt(M,1-S)]:[new pt(c,1-f),new pt(m,1-g),new pt(y,1-b),new pt(A,1-S)]}};function LH(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class b2 extends nd{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new b2(e.radius,e.detail)}}class _2 extends Tn{constructor(e=[new pt(0,-.5),new pt(.5,0),new pt(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=vn(a,0,Math.PI*2);const r=[],o=[],c=[],f=[],h=[],m=1/t,g=new pe,v=new pt,y=new pe,b=new pe,M=new pe;let A=0,S=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:A=e[E+1].x-e[E].x,S=e[E+1].y-e[E].y,y.x=S*1,y.y=-A,y.z=S*0,M.copy(y),y.normalize(),f.push(y.x,y.y,y.z);break;case e.length-1:f.push(M.x,M.y,M.z);break;default:A=e[E+1].x-e[E].x,S=e[E+1].y-e[E].y,y.x=S*1,y.y=-A,y.z=S*0,b.copy(y),y.x+=M.x,y.y+=M.y,y.z+=M.z,y.normalize(),f.push(y.x,y.y,y.z),M.copy(b)}for(let E=0;E<=t;E++){const w=i+E*m*a,R=Math.sin(w),z=Math.cos(w);for(let O=0;O<=e.length-1;O++){g.x=e[O].x*R,g.y=e[O].y,g.z=e[O].x*z,o.push(g.x,g.y,g.z),v.x=E/t,v.y=O/(e.length-1),c.push(v.x,v.y);const P=f[3*O+0]*R,B=f[3*O+1],L=f[3*O+0]*z;h.push(P,B,L)}}for(let E=0;E<t;E++)for(let w=0;w<e.length-1;w++){const R=w+E*e.length,z=R,O=R+e.length,P=R+e.length+1,B=R+1;r.push(z,O,B),r.push(P,B,O)}this.setIndex(r),this.setAttribute("position",new Ht(o,3)),this.setAttribute("uv",new Ht(c,2)),this.setAttribute("normal",new Ht(h,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _2(e.points,e.segments,e.phiStart,e.phiLength)}}class py extends nd{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new py(e.radius,e.detail)}}class um extends Tn{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,o=t/2,c=Math.floor(i),f=Math.floor(a),h=c+1,m=f+1,g=e/c,v=t/f,y=[],b=[],M=[],A=[];for(let S=0;S<m;S++){const E=S*v-o;for(let w=0;w<h;w++){const R=w*g-r;b.push(R,-E,0),M.push(0,0,1),A.push(w/c),A.push(1-S/f)}}for(let S=0;S<f;S++)for(let E=0;E<c;E++){const w=E+h*S,R=E+h*(S+1),z=E+1+h*(S+1),O=E+1+h*S;y.push(w,R,O),y.push(R,z,O)}this.setIndex(y),this.setAttribute("position",new Ht(b,3)),this.setAttribute("normal",new Ht(M,3)),this.setAttribute("uv",new Ht(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new um(e.width,e.height,e.widthSegments,e.heightSegments)}}class S2 extends Tn{constructor(e=.5,t=1,i=32,a=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:o},i=Math.max(3,i),a=Math.max(1,a);const c=[],f=[],h=[],m=[];let g=e;const v=(t-e)/a,y=new pe,b=new pt;for(let M=0;M<=a;M++){for(let A=0;A<=i;A++){const S=r+A/i*o;y.x=g*Math.cos(S),y.y=g*Math.sin(S),f.push(y.x,y.y,y.z),h.push(0,0,1),b.x=(y.x/t+1)/2,b.y=(y.y/t+1)/2,m.push(b.x,b.y)}g+=v}for(let M=0;M<a;M++){const A=M*(i+1);for(let S=0;S<i;S++){const E=S+A,w=E,R=E+i+1,z=E+i+2,O=E+1;c.push(w,R,O),c.push(R,z,O)}}this.setIndex(c),this.setAttribute("position",new Ht(f,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class M2 extends Tn{constructor(e=new Ah([new pt(0,.5),new pt(-.5,-.5),new pt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],o=[];let c=0,f=0;if(Array.isArray(e)===!1)h(e);else for(let m=0;m<e.length;m++)h(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(i),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(r,3)),this.setAttribute("uv",new Ht(o,2));function h(m){const g=a.length/3,v=m.extractPoints(t);let y=v.shape;const b=v.holes;Pl.isClockWise(y)===!1&&(y=y.reverse());for(let A=0,S=b.length;A<S;A++){const E=b[A];Pl.isClockWise(E)===!0&&(b[A]=E.reverse())}const M=Pl.triangulateShape(y,b);for(let A=0,S=b.length;A<S;A++){const E=b[A];y=y.concat(E)}for(let A=0,S=y.length;A<S;A++){const E=y[A];a.push(E.x,E.y,0),r.push(0,0,1),o.push(E.x,E.y)}for(let A=0,S=M.length;A<S;A++){const E=M[A],w=E[0]+g,R=E[1]+g,z=E[2]+g;i.push(w,R,z),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return IH(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const o=t[e.shapes[a]];i.push(o)}return new M2(i,e.curveSegments)}}function IH(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class fm extends Tn{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const f=Math.min(o+c,Math.PI);let h=0;const m=[],g=new pe,v=new pe,y=[],b=[],M=[],A=[];for(let S=0;S<=i;S++){const E=[],w=S/i;let R=0;S===0&&o===0?R=.5/t:S===i&&f===Math.PI&&(R=-.5/t);for(let z=0;z<=t;z++){const O=z/t;g.x=-e*Math.cos(a+O*r)*Math.sin(o+w*c),g.y=e*Math.cos(o+w*c),g.z=e*Math.sin(a+O*r)*Math.sin(o+w*c),b.push(g.x,g.y,g.z),v.copy(g).normalize(),M.push(v.x,v.y,v.z),A.push(O+R,1-w),E.push(h++)}m.push(E)}for(let S=0;S<i;S++)for(let E=0;E<t;E++){const w=m[S][E+1],R=m[S][E],z=m[S+1][E],O=m[S+1][E+1];(S!==0||o>0)&&y.push(w,R,O),(S!==i-1||f<Math.PI)&&y.push(R,z,O)}this.setIndex(y),this.setAttribute("position",new Ht(b,3)),this.setAttribute("normal",new Ht(M,3)),this.setAttribute("uv",new Ht(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class A2 extends nd{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new A2(e.radius,e.detail)}}class w2 extends Tn{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const o=[],c=[],f=[],h=[],m=new pe,g=new pe,v=new pe;for(let y=0;y<=i;y++)for(let b=0;b<=a;b++){const M=b/a*r,A=y/i*Math.PI*2;g.x=(e+t*Math.cos(A))*Math.cos(M),g.y=(e+t*Math.cos(A))*Math.sin(M),g.z=t*Math.sin(A),c.push(g.x,g.y,g.z),m.x=e*Math.cos(M),m.y=e*Math.sin(M),v.subVectors(g,m).normalize(),f.push(v.x,v.y,v.z),h.push(b/a),h.push(y/i)}for(let y=1;y<=i;y++)for(let b=1;b<=a;b++){const M=(a+1)*y+b-1,A=(a+1)*(y-1)+b-1,S=(a+1)*(y-1)+b,E=(a+1)*y+b;o.push(M,A,E),o.push(A,S,E)}this.setIndex(o),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class E2 extends Tn{constructor(e=1,t=.4,i=64,a=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:o},i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],m=[],g=new pe,v=new pe,y=new pe,b=new pe,M=new pe,A=new pe,S=new pe;for(let w=0;w<=i;++w){const R=w/i*r*Math.PI*2;E(R,r,o,e,y),E(R+.01,r,o,e,b),A.subVectors(b,y),S.addVectors(b,y),M.crossVectors(A,S),S.crossVectors(M,A),M.normalize(),S.normalize();for(let z=0;z<=a;++z){const O=z/a*Math.PI*2,P=-t*Math.cos(O),B=t*Math.sin(O);g.x=y.x+(P*S.x+B*M.x),g.y=y.y+(P*S.y+B*M.y),g.z=y.z+(P*S.z+B*M.z),f.push(g.x,g.y,g.z),v.subVectors(g,y).normalize(),h.push(v.x,v.y,v.z),m.push(w/i),m.push(z/a)}}for(let w=1;w<=i;w++)for(let R=1;R<=a;R++){const z=(a+1)*(w-1)+(R-1),O=(a+1)*w+(R-1),P=(a+1)*w+R,B=(a+1)*(w-1)+R;c.push(z,O,B),c.push(O,P,B)}this.setIndex(c),this.setAttribute("position",new Ht(f,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(m,2));function E(w,R,z,O,P){const B=Math.cos(w),L=Math.sin(w),D=z/R*w,V=Math.cos(D);P.x=O*(2+V)*.5*B,P.y=O*(2+V)*L*.5,P.z=O*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class T2 extends Tn{constructor(e=new QM(new pe(-1,-1,0),new pe(-1,1,0),new pe(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new pe,f=new pe,h=new pt;let m=new pe;const g=[],v=[],y=[],b=[];M(),this.setIndex(b),this.setAttribute("position",new Ht(g,3)),this.setAttribute("normal",new Ht(v,3)),this.setAttribute("uv",new Ht(y,2));function M(){for(let w=0;w<t;w++)A(w);A(r===!1?t:0),E(),S()}function A(w){m=e.getPointAt(w/t,m);const R=o.normals[w],z=o.binormals[w];for(let O=0;O<=a;O++){const P=O/a*Math.PI*2,B=Math.sin(P),L=-Math.cos(P);f.x=L*R.x+B*z.x,f.y=L*R.y+B*z.y,f.z=L*R.z+B*z.z,f.normalize(),v.push(f.x,f.y,f.z),c.x=m.x+i*f.x,c.y=m.y+i*f.y,c.z=m.z+i*f.z,g.push(c.x,c.y,c.z)}}function S(){for(let w=1;w<=t;w++)for(let R=1;R<=a;R++){const z=(a+1)*(w-1)+(R-1),O=(a+1)*w+(R-1),P=(a+1)*w+R,B=(a+1)*(w-1)+R;b.push(z,O,B),b.push(O,P,B)}}function E(){for(let w=0;w<=t;w++)for(let R=0;R<=a;R++)h.x=w/t,h.y=R/a,y.push(h.x,h.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new T2(new f_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class C8 extends Tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new pe,r=new pe;if(e.index!==null){const o=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let h=0,m=f.length;h<m;++h){const g=f[h],v=g.start,y=g.count;for(let b=v,M=v+y;b<M;b+=3)for(let A=0;A<3;A++){const S=c.getX(b+A),E=c.getX(b+(A+1)%3);a.fromBufferAttribute(o,S),r.fromBufferAttribute(o,E),nC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let c=0,f=o.count/3;c<f;c++)for(let h=0;h<3;h++){const m=3*c+h,g=3*c+(h+1)%3;a.fromBufferAttribute(o,m),r.fromBufferAttribute(o,g),nC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function nC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var iC=Object.freeze({__proto__:null,BoxGeometry:td,CapsuleGeometry:m2,CircleGeometry:g2,ConeGeometry:hy,CylinderGeometry:cm,DodecahedronGeometry:y2,EdgesGeometry:x8,ExtrudeGeometry:v2,IcosahedronGeometry:b2,LatheGeometry:_2,OctahedronGeometry:py,PlaneGeometry:um,PolyhedronGeometry:nd,RingGeometry:S2,ShapeGeometry:M2,SphereGeometry:fm,TetrahedronGeometry:A2,TorusGeometry:w2,TorusKnotGeometry:E2,TubeGeometry:T2,WireframeGeometry:C8});class R8 extends ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class O8 extends Eo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vh extends ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z8 extends vh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class wh extends ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ct(16777215),this.specular=new Ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=cy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class N8 extends ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class D8 extends ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class tA extends ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ps,this.combine=cy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nA extends ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Y6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iA extends ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class L8 extends ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ed,this.normalScale=new pt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class I8 extends Ir{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function bh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function P8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function U8(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function O5(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const c=t[r]*e;for(let f=0;f!==e;++f)a[o++]=n[c+f]}return a}function aA(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),t.push(...o)),r=n[a++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),t.push(o)),r=n[a++];while(r!==void 0)}function PH(n,e,t,i,a=30){const r=n.clone();r.name=e;const o=[];for(let f=0;f<r.tracks.length;++f){const h=r.tracks[f],m=h.getValueSize(),g=[],v=[];for(let y=0;y<h.times.length;++y){const b=h.times[y]*a;if(!(b<t||b>=i)){g.push(h.times[y]);for(let M=0;M<m;++M)v.push(h.values[y*m+M])}}g.length!==0&&(h.times=bh(g,h.times.constructor),h.values=bh(v,h.values.constructor),o.push(h))}r.tracks=o;let c=1/0;for(let f=0;f<r.tracks.length;++f)c>r.tracks[f].times[0]&&(c=r.tracks[f].times[0]);for(let f=0;f<r.tracks.length;++f)r.tracks[f].shift(-1*c);return r.resetDuration(),r}function UH(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let o=0;o<a;++o){const c=t.tracks[o],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const h=n.tracks.find(function(S){return S.name===c.name&&S.ValueTypeName===f});if(h===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let v=0;const y=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=y/3);const b=c.times.length-1;let M;if(r<=c.times[0]){const S=m,E=g-m;M=c.values.slice(S,E)}else if(r>=c.times[b]){const S=b*g+m,E=S+g-m;M=c.values.slice(S,E)}else{const S=c.createInterpolant(),E=m,w=g-m;S.evaluate(r),M=S.resultBuffer.slice(E,w)}f==="quaternion"&&new Fa().fromArray(M).normalize().conjugate().toArray(M);const A=h.times.length;for(let S=0;S<A;++S){const E=S*y+v;if(f==="quaternion")Fa.multiplyQuaternionsFlat(h.values,E,M,0,h.values,E);else{const w=y-v*2;for(let R=0;R<w;++R)h.values[E+R]-=M[R]}}}return n.blendMode=kM,n}class BH{static convertArray(e,t){return bh(e,t)}static isTypedArray(e){return P8(e)}static getKeyframeOrder(e){return U8(e)}static sortedArray(e,t,i){return O5(e,t,i)}static flattenJSON(e,t,i,a){aA(e,t,i,a)}static subclip(e,t,i,a,r=30){return PH(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return UH(e,t,i,a)}}class my{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let o;n:{i:if(!(e<a)){for(let c=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(r=a,a=t[++i],e<a)break t}o=t.length;break n}if(!(e>=r)){const c=t[1];e<c&&(i=2,r=c);for(let f=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(a=r,r=t[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let o=0;o!==a;++o)t[o]=i[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class B8 extends my{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:yh,endingEnd:yh}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,o=e+1,c=a[r],f=a[o];if(c===void 0)switch(this.getSettings_().endingStart){case xh:r=e,c=2*t-i;break;case F1:r=a.length-2,c=t+a[r]-a[r+1];break;default:r=e,c=i}if(f===void 0)switch(this.getSettings_().endingEnd){case xh:o=e,f=2*i-t;break;case F1:o=1,f=i+a[1]-a[0];break;default:o=e-1,f=t}const h=(i-t)*.5,m=this.valueSize;this._weightPrev=h/(t-c),this._weightNext=h/(f-i),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,h=f-c,m=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,y=this._weightNext,b=(i-t)/(a-t),M=b*b,A=M*b,S=-v*A+2*v*M-v*b,E=(1+v)*A+(-1.5-2*v)*M+(-.5+v)*b+1,w=(-1-y)*A+(1.5+y)*M+.5*b,R=y*A-y*M;for(let z=0;z!==c;++z)r[z]=S*o[m+z]+E*o[h+z]+w*o[f+z]+R*o[g+z];return r}}class rA extends my{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,h=f-c,m=(i-t)/(a-t),g=1-m;for(let v=0;v!==c;++v)r[v]=o[h+v]*g+o[f+v]*m;return r}}class k8 extends my{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class il{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bh(t,this.TimeBufferType),this.values=bh(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:bh(e.times,Array),values:bh(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new k8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new rA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new B8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case k1:t=this.InterpolantFactoryMethodDiscrete;break;case l_:t=this.InterpolantFactoryMethodLinear;break;case lb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Ut("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return k1;case this.InterpolantFactoryMethodLinear:return l_;case this.InterpolantFactoryMethodSmooth:return lb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,o=a-1;for(;r!==a&&i[r]<e;)++r;for(;o!==-1&&i[o]>t;)--o;if(++o,r!==0||o!==a){r>=o&&(o=Math.max(o,1),r=o-1);const c=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Mn("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(Mn("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==r;c++){const f=i[c];if(typeof f=="number"&&isNaN(f)){Mn("KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(o!==null&&o>f){Mn("KeyframeTrack: Out of order keys.",this,c,f,o),e=!1;break}o=f}if(a!==void 0&&P8(a))for(let c=0,f=a.length;c!==f;++c){const h=a[c];if(isNaN(h)){Mn("KeyframeTrack: Value is not a valid number.",this,c,h),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===lb,r=e.length-1;let o=1;for(let c=1;c<r;++c){let f=!1;const h=e[c],m=e[c+1];if(h!==m&&(c!==1||h!==e[0]))if(a)f=!0;else{const g=c*i,v=g-i,y=g+i;for(let b=0;b!==i;++b){const M=t[g+b];if(M!==t[v+b]||M!==t[y+b]){f=!0;break}}}if(f){if(c!==o){e[o]=e[c];const g=c*i,v=o*i;for(let y=0;y!==i;++y)t[v+y]=t[g+y]}++o}}if(r>0){e[o]=e[r];for(let c=r*i,f=o*i,h=0;h!==i;++h)t[f+h]=t[c+h];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}il.prototype.ValueTypeName="";il.prototype.TimeBufferType=Float32Array;il.prototype.ValueBufferType=Float32Array;il.prototype.DefaultInterpolation=l_;class Bh extends il{constructor(e,t,i){super(e,t,i)}}Bh.prototype.ValueTypeName="bool";Bh.prototype.ValueBufferType=Array;Bh.prototype.DefaultInterpolation=k1;Bh.prototype.InterpolantFactoryMethodLinear=void 0;Bh.prototype.InterpolantFactoryMethodSmooth=void 0;class sA extends il{constructor(e,t,i,a){super(e,t,i,a)}}sA.prototype.ValueTypeName="color";class q1 extends il{constructor(e,t,i,a){super(e,t,i,a)}}q1.prototype.ValueTypeName="number";class F8 extends my{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=(i-t)/(a-t);let h=e*c;for(let m=h+c;h!==m;h+=4)Fa.slerpFlat(r,0,o,h-c,o,h,f);return r}}class dm extends il{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new F8(this.times,this.values,this.getValueSize(),e)}}dm.prototype.ValueTypeName="quaternion";dm.prototype.InterpolantFactoryMethodSmooth=void 0;class kh extends il{constructor(e,t,i){super(e,t,i)}}kh.prototype.ValueTypeName="string";kh.prototype.ValueBufferType=Array;kh.prototype.DefaultInterpolation=k1;kh.prototype.InterpolantFactoryMethodLinear=void 0;kh.prototype.InterpolantFactoryMethodSmooth=void 0;class zh extends il{constructor(e,t,i,a){super(e,t,i,a)}}zh.prototype.ValueTypeName="vector";class Nh{constructor(e="",t=-1,i=[],a=n2){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=So(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(FH(i[o]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,o=i.length;r!==o;++r)t.push(il.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,o=[];for(let c=0;c<r;c++){let f=[],h=[];f.push((c+r-1)%r,c,(c+1)%r),h.push(0,1,0);const m=U8(f);f=O5(f,1,m),h=O5(h,1,m),!a&&f[0]===0&&(f.push(r),h.push(h[0])),o.push(new q1(".morphTargetInfluences["+t[c].name+"]",f,h).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const h=e[c],m=h.name.match(r);if(m&&m.length>1){const g=m[1];let v=a[g];v||(a[g]=v=[]),v.push(h)}}const o=[];for(const c in a)o.push(this.CreateFromMorphTargetSequence(c,a[c],t,i));return o}static parseAnimation(e,t){if(Ut("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Mn("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,v,y,b,M){if(y.length!==0){const A=[],S=[];aA(y,A,S,b),A.length!==0&&M.push(new g(v,A,S))}},a=[],r=e.name||"default",o=e.fps||30,c=e.blendMode;let f=e.length||-1;const h=e.hierarchy||[];for(let g=0;g<h.length;g++){const v=h[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const y={};let b;for(b=0;b<v.length;b++)if(v[b].morphTargets)for(let M=0;M<v[b].morphTargets.length;M++)y[v[b].morphTargets[M]]=-1;for(const M in y){const A=[],S=[];for(let E=0;E!==v[b].morphTargets.length;++E){const w=v[b];A.push(w.time),S.push(w.morphTarget===M?1:0)}a.push(new q1(".morphTargetInfluence["+M+"]",A,S))}f=y.length*o}else{const y=".bones["+t[g].name+"]";i(zh,y+".position",v,"pos",a),i(dm,y+".quaternion",v,"rot",a),i(zh,y+".scale",v,"scl",a)}}return a.length===0?null:new this(r,f,a,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function kH(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return q1;case"vector":case"vector2":case"vector3":case"vector4":return zh;case"color":return sA;case"quaternion":return dm;case"bool":case"boolean":return Bh;case"string":return kh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function FH(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=kH(n.type);if(n.times===void 0){const t=[],i=[];aA(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Oc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class oA{constructor(e,t,i){const a=this;let r=!1,o=0,c=0,f;const h=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(m){c++,r===!1&&a.onStart!==void 0&&a.onStart(m,o,c),r=!0},this.itemEnd=function(m){o++,a.onProgress!==void 0&&a.onProgress(m,o,c),o===c&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return h.push(m,g),this},this.removeHandler=function(m){const g=h.indexOf(m);return g!==-1&&h.splice(g,2),this},this.getHandler=function(m){for(let g=0,v=h.length;g<v;g+=2){const y=h[g],b=h[g+1];if(y.global&&(y.lastIndex=0),y.test(m))return b}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const lA=new oA;class Pr{constructor(e){this.manager=e!==void 0?e:lA,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Pr.DEFAULT_MATERIAL_NAME="__DEFAULT";const bu={};class VH extends Error{constructor(e,t){super(e),this.response=t}}class Vl extends Pr{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Oc.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(bu[e]!==void 0){bu[e].push({onLoad:t,onProgress:i,onError:a});return}bu[e]=[],bu[e].push({onLoad:t,onProgress:i,onError:a});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,f=this.responseType;fetch(o).then(h=>{if(h.status===200||h.status===0){if(h.status===0&&Ut("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||h.body===void 0||h.body.getReader===void 0)return h;const m=bu[e],g=h.body.getReader(),v=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),y=v?parseInt(v):0,b=y!==0;let M=0;const A=new ReadableStream({start(S){E();function E(){g.read().then(({done:w,value:R})=>{if(w)S.close();else{M+=R.byteLength;const z=new ProgressEvent("progress",{lengthComputable:b,loaded:M,total:y});for(let O=0,P=m.length;O<P;O++){const B=m[O];B.onProgress&&B.onProgress(z)}S.enqueue(R),E()}},w=>{S.error(w)})}}});return new Response(A)}else throw new VH(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(f){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return h.json();default:if(c==="")return h.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),v=g&&g[1]?g[1].toLowerCase():void 0,y=new TextDecoder(v);return h.arrayBuffer().then(b=>y.decode(b))}}}).then(h=>{Oc.add(`file:${e}`,h);const m=bu[e];delete bu[e];for(let g=0,v=m.length;g<v;g++){const y=m[g];y.onLoad&&y.onLoad(h)}}).catch(h=>{const m=bu[e];if(m===void 0)throw this.manager.itemError(e),h;delete bu[e];for(let g=0,v=m.length;g<v;g++){const y=m[g];y.onError&&y.onError(h)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class HH extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Vl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):Mn(f),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=Nh.parse(e[i]);t.push(a)}return t}}class jH extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=[],c=new h2,f=new Vl(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(r.withCredentials);let h=0;function m(g){f.load(e[g],function(v){const y=r.parse(v,!0);o[g]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},h+=1,h===6&&(y.mipmapCount===1&&(c.minFilter=Ea),c.image=o,c.format=y.format,c.needsUpdate=!0,t&&t(c))},i,a)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)m(g);else f.load(e,function(g){const v=r.parse(g,!0);if(v.isCubemap){const y=v.mipmaps.length/v.mipmapCount;for(let b=0;b<y;b++){o[b]={mipmaps:[]};for(let M=0;M<v.mipmapCount;M++)o[b].mipmaps.push(v.mipmaps[b*v.mipmapCount+M]),o[b].format=v.format,o[b].width=v.width,o[b].height=v.height}c.image=o}else c.image.width=v.width,c.image.height=v.height,c.mipmaps=v.mipmaps;v.mipmapCount===1&&(c.minFilter=Ea),c.format=v.format,c.needsUpdate=!0,t&&t(c)},i,a);return c}}const d0=new WeakMap;class $1 extends Pr{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Oc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0);else{let g=d0.get(o);g===void 0&&(g=[],d0.set(o,g)),g.push({onLoad:t,onError:a})}return o}const c=j1("img");function f(){m(),t&&t(this);const g=d0.get(this)||[];for(let v=0;v<g.length;v++){const y=g[v];y.onLoad&&y.onLoad(this)}d0.delete(this),r.manager.itemEnd(e)}function h(g){m(),a&&a(g),Oc.remove(`image:${e}`);const v=d0.get(this)||[];for(let y=0;y<v.length;y++){const b=v[y];b.onError&&b.onError(g)}d0.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",h,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",h,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),Oc.add(`image:${e}`,c),r.manager.itemStart(e),c.src=e,c}}class GH extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=new fy;r.colorSpace=na;const o=new $1(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function f(h){o.load(e[h],function(m){r.images[h]=m,c++,c===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let h=0;h<e.length;++h)f(h);return r}}class V8 extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Bl,c=new Vl(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(e,function(f){let h;try{h=r.parse(f)}catch(m){if(a!==void 0)a(m);else{m(m);return}}h.image!==void 0?o.image=h.image:h.data!==void 0&&(o.image.width=h.width,o.image.height=h.height,o.image.data=h.data),o.wrapS=h.wrapS!==void 0?h.wrapS:ns,o.wrapT=h.wrapT!==void 0?h.wrapT:ns,o.magFilter=h.magFilter!==void 0?h.magFilter:Ea,o.minFilter=h.minFilter!==void 0?h.minFilter:Ea,o.anisotropy=h.anisotropy!==void 0?h.anisotropy:1,h.colorSpace!==void 0&&(o.colorSpace=h.colorSpace),h.flipY!==void 0&&(o.flipY=h.flipY),h.format!==void 0&&(o.format=h.format),h.type!==void 0&&(o.type=h.type),h.mipmaps!==void 0&&(o.mipmaps=h.mipmaps,o.minFilter=Il),h.mipmapCount===1&&(o.minFilter=Ea),h.generateMipmaps!==void 0&&(o.generateMipmaps=h.generateMipmaps),o.needsUpdate=!0,t&&t(o,h)},i,a),o}}class cA extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=new La,o=new $1(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){r.image=c,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class id extends mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ct(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class H8 extends id{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ct(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const yS=new rn,aC=new pe,rC=new pe;class uA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pt(512,512),this.mapType=tl,this.map=null,this.mapPass=null,this.matrix=new rn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lm,this._frameExtents=new pt(1,1),this._viewportCount=1,this._viewports=[new xi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;aC.setFromMatrixPosition(e.matrixWorld),t.position.copy(aC),rC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(rC),t.updateMatrixWorld(),yS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yS,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(yS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class WH extends uA{constructor(){super(new Aa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=K0*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class fA extends id{constructor(e,t,i=0,a=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.distance=i,this.angle=a,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new WH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const sC=new rn,n1=new pe,xS=new pe;class YH extends uA{constructor(){super(new Aa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pt(4,2),this._viewportCount=6,this._viewports=[new xi(2,1,1,1),new xi(0,1,1,1),new xi(3,1,1,1),new xi(1,1,1,1),new xi(3,0,1,1),new xi(1,0,1,1)],this._cubeDirections=[new pe(1,0,0),new pe(-1,0,0),new pe(0,0,1),new pe(0,0,-1),new pe(0,1,0),new pe(0,-1,0)],this._cubeUps=[new pe(0,1,0),new pe(0,1,0),new pe(0,1,0),new pe(0,1,0),new pe(0,0,1),new pe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),n1.setFromMatrixPosition(e.matrixWorld),i.position.copy(n1),xS.copy(i.position),xS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(xS),i.updateMatrixWorld(),a.makeTranslation(-n1.x,-n1.y,-n1.z),sC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(sC,i.coordinateSystem,i.reversedDepth)}}class dA extends id{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new YH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Du extends r2{constructor(e=-1,t=1,i=1,a=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,o=i+e,c=a+t,f=a-t;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,o=r+h*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,c,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class XH extends uA{constructor(){super(new Du(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class hA extends id{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.shadow=new XH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class pA extends id{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class j8 extends id{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class G8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new pe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*a),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*a)),t.addScaledVector(o[5],1.092548*(a*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(i*r)),t.addScaledVector(o[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*a),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*a),t.addScaledVector(o[5],2*.429043*a*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*i*r),t.addScaledVector(o[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class W8 extends id{constructor(e=new G8,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class C2 extends Pr{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,o=new Vl(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):Mn(f),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&Ut("MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new Ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(a.uniforms[r]={},o.type){case"t":a.uniforms[r].value=i(o.value);break;case"c":a.uniforms[r].value=new Ct().setHex(o.value);break;case"v2":a.uniforms[r].value=new pt().fromArray(o.value);break;case"v3":a.uniforms[r].value=new pe().fromArray(o.value);break;case"v4":a.uniforms[r].value=new xi().fromArray(o.value);break;case"m3":a.uniforms[r].value=new Nn().fromArray(o.value);break;case"m4":a.uniforms[r].value=new rn().fromArray(o.value);break;default:a.uniforms[r].value=o.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new pt().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new pt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return C2.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:R8,SpriteMaterial:u2,RawShaderMaterial:O8,ShaderMaterial:Eo,PointsMaterial:XM,MeshPhysicalMaterial:z8,MeshStandardMaterial:vh,MeshPhongMaterial:wh,MeshToonMaterial:N8,MeshNormalMaterial:D8,MeshLambertMaterial:tA,MeshDepthMaterial:nA,MeshDistanceMaterial:iA,MeshBasicMaterial:Fl,MeshMatcapMaterial:L8,LineDashedMaterial:I8,LineBasicMaterial:Ir,Material:ss};return new t[e]}}class K1{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Y8 extends Tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class X8 extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Vl(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(f){a?a(f):Mn(f),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(y,b){if(t[b]!==void 0)return t[b];const A=y.interleavedBuffers[b],S=r(y,A.buffer),E=w0(A.type,S),w=new c2(E,A.stride);return w.uuid=A.uuid,t[b]=w,w}function r(y,b){if(i[b]!==void 0)return i[b];const A=y.arrayBuffers[b],S=new Uint32Array(A).buffer;return i[b]=S,S}const o=e.isInstancedBufferGeometry?new Y8:new Tn,c=e.data.index;if(c!==void 0){const y=w0(c.type,c.array);o.setIndex(new zi(y,1))}const f=e.data.attributes;for(const y in f){const b=f[y];let M;if(b.isInterleavedBufferAttribute){const A=a(e.data,b.data);M=new Rh(A,b.itemSize,b.offset,b.normalized)}else{const A=w0(b.type,b.array),S=b.isInstancedBufferAttribute?Q0:zi;M=new S(A,b.itemSize,b.normalized)}b.name!==void 0&&(M.name=b.name),b.usage!==void 0&&M.setUsage(b.usage),o.setAttribute(y,M)}const h=e.data.morphAttributes;if(h)for(const y in h){const b=h[y],M=[];for(let A=0,S=b.length;A<S;A++){const E=b[A];let w;if(E.isInterleavedBufferAttribute){const R=a(e.data,E.data);w=new Rh(R,E.itemSize,E.offset,E.normalized)}else{const R=w0(E.type,E.array);w=new zi(R,E.itemSize,E.normalized)}E.name!==void 0&&(w.name=E.name),M.push(w)}o.morphAttributes[y]=M}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let y=0,b=g.length;y!==b;++y){const M=g[y];o.addGroup(M.start,M.count,M.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(o.boundingSphere=new Lr().fromJSON(v)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class qH extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=this.path===""?K1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new Vl(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let h=null;try{h=JSON.parse(f)}catch(g){a!==void 0&&a(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const m=h.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),Mn("ObjectLoader: Can't load "+e);return}r.parse(h,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?K1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new Vl(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),c=JSON.parse(o),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),o=this.parseImages(e.images,function(){t!==void 0&&t(h)}),c=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,c),h=this.parseObject(e.object,r,f,c,i),m=this.parseSkeletons(e.skeletons,h);if(this.bindSkeletons(h,m),this.bindLightTargets(h),t!==void 0){let g=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(h)}return h}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,a,c,o,t),h=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,h),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new Ah().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=new dy().fromJSON(e[r],a);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new X8;for(let r=0,o=e.length;r<o;r++){let c;const f=e[r];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=a.parse(f);break;default:f.type in iC?c=iC[f.type].fromJSON(f,t):Ut(`ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),i[f.uuid]=c}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new C2;r.setTextures(t);for(let o=0,c=e.length;o<c;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=r.parse(f)),a[f.uuid]=i[f.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=Nh.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function o(f){return i.manager.itemStart(f),r.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const h=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:i.resourcePath+h;return o(m)}else return f.data?{data:w0(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new oA(t);r=new $1(f),r.setCrossOrigin(this.crossOrigin);for(let h=0,m=e.length;h<m;h++){const g=e[h],v=g.url;if(Array.isArray(v)){const y=[];for(let b=0,M=v.length;b<M;b++){const A=v[b],S=c(A);S!==null&&(S instanceof HTMLImageElement?y.push(S):y.push(new Bl(S.data,S.width,S.height)))}a[g.uuid]=new Ff(y)}else{const y=c(g.url);a[g.uuid]=new Ff(y)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(o){if(typeof o=="string"){const c=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await a.loadAsync(f)}else return o.data?{data:w0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){a=new $1(this.manager),a.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const f=e[o],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],b=await r(y);b!==null&&(b instanceof HTMLImageElement?m.push(b):m.push(new Bl(b.data,b.width,b.height)))}i[f.uuid]=new Ff(m)}else{const m=await r(f.url);i[f.uuid]=new Ff(m)}}}return i}parseTextures(e,t){function i(r,o){return typeof r=="number"?r:(Ut("ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const a={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=e[r];c.image===void 0&&Ut('ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&Ut("ObjectLoader: Undefined image",c.image);const f=t[c.image],h=f.data;let m;Array.isArray(h)?(m=new fy,h.length===6&&(m.needsUpdate=!0)):(h&&h.data?m=new Bl:m=new La,h&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,$H)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],oC),m.wrapT=i(c.wrap[1],oC)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,lC)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,lC)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),a[c.uuid]=m}return a}parseObject(e,t,i,a,r){let o;function c(v){return t[v]===void 0&&Ut("ObjectLoader: Undefined geometry",v),t[v]}function f(v){if(v!==void 0){if(Array.isArray(v)){const y=[];for(let b=0,M=v.length;b<M;b++){const A=v[b];i[A]===void 0&&Ut("ObjectLoader: Undefined material",A),y.push(i[A])}return y}return i[v]===void 0&&Ut("ObjectLoader: Undefined material",v),i[v]}}function h(v){return a[v]===void 0&&Ut("ObjectLoader: Undefined texture",v),a[v]}let m,g;switch(e.type){case"Scene":o=new l2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ct(e.background):o.background=h(e.background)),e.environment!==void 0&&(o.environment=h(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new o2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new s2(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Aa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Du(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new pA(e.color,e.intensity);break;case"DirectionalLight":o=new hA(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new dA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new j8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new fA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new H8(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new W8().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=f(e.material),o=new YM(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=f(e.material),o=new oa(m,g);break;case"InstancedMesh":m=c(e.geometry),g=f(e.material);const v=e.count,y=e.instanceMatrix,b=e.instanceColor;o=new d8(m,g,v),o.instanceMatrix=new Q0(new Float32Array(y.array),16),b!==void 0&&(o.instanceColor=new Q0(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=f(e.material),o=new h8(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(M=>{let A=null,S=null;return M.boundingBox!==void 0&&(A=new rs().fromJSON(M.boundingBox)),M.boundingSphere!==void 0&&(S=new Lr().fromJSON(M.boundingSphere)),{...M,boundingBox:A,boundingSphere:S}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=h(e.matricesTexture.uuid),o._indirectTexture=h(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=h(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Lr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new rs().fromJSON(e.boundingBox));break;case"LOD":o=new f8;break;case"Line":o=new Vu(c(e.geometry),f(e.material));break;case"LineLoop":o=new p8(c(e.geometry),f(e.material));break;case"LineSegments":o=new jl(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new m8(c(e.geometry),f(e.material));break;case"Sprite":o=new WM(f(e.material));break;case"Group":o=new Vf;break;case"Bone":o=new f2;break;default:o=new mi}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let y=0;y<v.length;y++)o.add(this.parseObject(v[y],t,i,a,r))}if(e.animations!==void 0){const v=e.animations;for(let y=0;y<v.length;y++){const b=v[y];o.animations.push(r[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let y=0;y<v.length;y++){const b=v[y],M=o.getObjectByProperty("uuid",b.object);M!==void 0&&o.addLevel(M,b.distance,b.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?Ut("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new mi}})}}const $H={UVMapping:q_,CubeReflectionMapping:ku,CubeRefractionMapping:qf,EquirectangularReflectionMapping:P1,EquirectangularRefractionMapping:U1,CubeUVReflectionMapping:om},oC={RepeatWrapping:Ou,ClampToEdgeWrapping:ns,MirroredRepeatWrapping:B1},lC={NearestFilter:Dr,NearestMipmapNearestFilter:NM,NearestMipmapLinearFilter:A0,LinearFilter:Ea,LinearMipmapNearestFilter:x1,LinearMipmapLinearFilter:Il},vS=new WeakMap;class KH extends Pr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ut("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ut("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Oc.get(`image-bitmap:${e}`);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(h=>{if(vS.has(o)===!0)a&&a(vS.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(h),r.manager.itemEnd(e),h});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const f=fetch(e,c).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(h){return Oc.add(`image-bitmap:${e}`,h),t&&t(h),r.manager.itemEnd(e),h}).catch(function(h){a&&a(h),vS.set(f,h),Oc.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});Oc.add(`image-bitmap:${e}`,f),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Dv;class mA{static getContext(){return Dv===void 0&&(Dv=new(window.AudioContext||window.webkitAudioContext)),Dv}static setContext(e){Dv=e}}class ZH extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Vl(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const h=f.slice(0);mA.getContext().decodeAudioData(h,function(g){t(g)}).catch(c)}catch(h){c(h)}},i,a);function c(f){a?a(f):Mn(f),r.manager.itemError(e)}}}const cC=new rn,uC=new rn,eh=new rn;class JH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Aa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Aa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,eh.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,o=t.near*Math.tan(Mh*t.fov*.5)/t.zoom;let c,f;uC.elements[12]=-a,cC.elements[12]=a,c=-o*t.aspect+r,f=o*t.aspect+r,eh.elements[0]=2*t.near/(f-c),eh.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(eh),c=-o*t.aspect-r,f=o*t.aspect-r,eh.elements[0]=2*t.near/(f-c),eh.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(eh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uC),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(cC)}}class q8 extends Aa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class gA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const th=new pe,bS=new Fa,QH=new pe,nh=new pe,ih=new pe;class ej extends mi{constructor(){super(),this.type="AudioListener",this.context=mA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new gA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(th,bS,QH),nh.set(0,0,-1).applyQuaternion(bS),ih.set(0,1,0).applyQuaternion(bS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(th.x,i),t.positionY.linearRampToValueAtTime(th.y,i),t.positionZ.linearRampToValueAtTime(th.z,i),t.forwardX.linearRampToValueAtTime(nh.x,i),t.forwardY.linearRampToValueAtTime(nh.y,i),t.forwardZ.linearRampToValueAtTime(nh.z,i),t.upX.linearRampToValueAtTime(ih.x,i),t.upY.linearRampToValueAtTime(ih.y,i),t.upZ.linearRampToValueAtTime(ih.z,i)}else t.setPosition(th.x,th.y,th.z),t.setOrientation(nh.x,nh.y,nh.z,ih.x,ih.y,ih.z)}}class $8 extends mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ut("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ut("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Ut("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ah=new pe,fC=new Fa,tj=new pe,rh=new pe;class nj extends $8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ah,fC,tj),rh.set(0,0,1).applyQuaternion(fC);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ah.x,i),t.positionY.linearRampToValueAtTime(ah.y,i),t.positionZ.linearRampToValueAtTime(ah.z,i),t.orientationX.linearRampToValueAtTime(rh.x,i),t.orientationY.linearRampToValueAtTime(rh.y,i),t.orientationZ.linearRampToValueAtTime(rh.z,i)}else t.setPosition(ah.x,ah.y,ah.z),t.setOrientation(rh.x,rh.y,rh.z)}}class ij{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class K8{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,o;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==a;++c)i[r+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,r,0,c,a)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const f=t*this._origIndex;this._mixBufferRegion(i,a,f,1-r,t)}o>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let f=t,h=t+t;f!==h;++f)if(i[f]!==i[f+t]){c.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,o=a;r!==o;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let o=0;o!==r;++o)e[t+o]=e[i+o]}_slerp(e,t,i,a){Fa.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const o=this._workIndex*r;Fa.multiplyQuaternionsFlat(e,o,e,t,e,i),Fa.slerpFlat(e,t,e,t,e,o,a)}_lerp(e,t,i,a,r){const o=1-a;for(let c=0;c!==r;++c){const f=t+c;e[f]=e[f]*o+e[i+c]*a}}_lerpAdditive(e,t,i,a,r){for(let o=0;o!==r;++o){const c=t+o;e[c]=e[c]+e[i+o]*a}}}const yA="\\[\\]\\.:\\/",aj=new RegExp("["+yA+"]","g"),xA="[^"+yA+"]",rj="[^"+yA.replace("\\.","")+"]",sj=/((?:WC+[\/:])*)/.source.replace("WC",xA),oj=/(WCOD+)?/.source.replace("WCOD",rj),lj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xA),cj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xA),uj=new RegExp("^"+sj+oj+lj+cj+"$"),fj=["material","materials","bones","map"];class dj{constructor(e,t,i){const a=i||yi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class yi{constructor(e,t,i){this.path=t,this.parsedPath=i||yi.parseTrackName(t),this.node=yi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new yi.Composite(e,t,i):new yi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(aj,"")}static parseTrackName(e){const t=uj.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);fj.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const c=r[o];if(c.name===t||c.uuid===t)return c;const f=i(c.children);if(f)return f}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=yi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ut("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let h=t.objectIndex;switch(i){case"materials":if(!e.material){Mn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Mn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Mn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===h){h=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Mn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Mn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Mn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(h!==void 0){if(e[h]===void 0){Mn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[h]}}const o=e[a];if(o===void 0){const h=t.nodeName;Mn("PropertyBinding: Trying to update property for track: "+h+"."+a+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Mn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Mn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yi.Composite=dj;yi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yi.prototype.GetterByBindingType=[yi.prototype._getValue_direct,yi.prototype._getValue_array,yi.prototype._getValue_arrayElement,yi.prototype._getValue_toArray];yi.prototype.SetterByBindingTypeAndVersioning=[[yi.prototype._setValue_direct,yi.prototype._setValue_direct_setNeedsUpdate,yi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_array,yi.prototype._setValue_array_setNeedsUpdate,yi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_arrayElement,yi.prototype._setValue_arrayElement_setNeedsUpdate,yi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_fromArray,yi.prototype._setValue_fromArray_setNeedsUpdate,yi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class hj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=So(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,o=r.length;let c,f=e.length,h=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const v=arguments[m],y=v.uuid;let b=t[y];if(b===void 0){b=f++,t[y]=b,e.push(v);for(let M=0,A=o;M!==A;++M)r[M].push(new yi(v,i[M],a[M]))}else if(b<h){c=e[b];const M=--h,A=e[M];t[A.uuid]=b,e[b]=A,t[y]=M,e[M]=v;for(let S=0,E=o;S!==E;++S){const w=r[S],R=w[M];let z=w[b];w[b]=R,z===void 0&&(z=new yi(v,i[S],a[S])),w[M]=z}}else e[b]!==c&&Mn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],h=f.uuid,m=t[h];if(m!==void 0&&m>=r){const g=r++,v=e[g];t[v.uuid]=m,e[m]=v,t[h]=g,e[g]=f;for(let y=0,b=a;y!==b;++y){const M=i[y],A=M[g],S=M[m];M[m]=A,M[g]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,o=e.length;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],m=h.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const v=--r,y=e[v],b=--o,M=e[b];t[y.uuid]=g,e[g]=y,t[M.uuid]=v,e[v]=M,e.pop();for(let A=0,S=a;A!==S;++A){const E=i[A],w=E[v],R=E[b];E[g]=w,E[v]=R,E.pop()}}else{const v=--o,y=e[v];v>0&&(t[y.uuid]=g),e[g]=y,e.pop();for(let b=0,M=a;b!==M;++b){const A=i[b];A[g]=A[v],A.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const o=this._paths,c=this._parsedPaths,f=this._objects,h=f.length,m=this.nCachedObjects_,g=new Array(h);a=r.length,i[e]=a,o.push(e),c.push(t),r.push(g);for(let v=m,y=f.length;v!==y;++v){const b=f[v];g[v]=new yi(b,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length-1,f=o[c],h=e[c];t[h]=i,o[i]=f,o.pop(),r[i]=r[c],r.pop(),a[i]=a[c],a.pop()}}}class Z8{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,o=r.length,c=new Array(o),f={endingStart:yh,endingEnd:yh};for(let h=0;h!==o;++h){const m=r[h].createInterpolant(null);c[h]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=G6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,o=r/a,c=a/r;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=a._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,h=c.sampleValues;return f[0]=r,f[1]=r+i,h[0]=e/o,h[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const f=(e-r)*i;f<0||i===0?t=0:(this._startTime=null,t=i*f)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,h=this._propertyBindings;switch(this.blendMode){case kM:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),h[m].accumulateAdditive(c);break;case n2:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),h[m].accumulate(a,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const o=i===W6;if(e===0)return r===-1?a:o&&(r&1)===1?t-a:a;if(i===j6){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),a>=t||a<0){const c=Math.floor(a/t);a-=t*c,r+=Math.abs(c);const f=this.repetitions-r;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const h=e<0;this._setEndings(h,!h,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=a;if(o&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=xh,a.endingEnd=xh):(e?a.endingStart=this.zeroSlopeAtStart?xh:yh:a.endingStart=F1,t?a.endingEnd=this.zeroSlopeAtEnd?xh:yh:a.endingEnd=F1)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let o=this._weightInterpolant;o===null&&(o=a._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=r,f[0]=t,c[1]=r+e,f[1]=i,this}}const pj=new Float32Array(1);class mj extends kc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,o=e._propertyBindings,c=e._interpolants,f=i.uuid,h=this._bindingsByRootAndName;let m=h[f];m===void 0&&(m={},h[f]=m);for(let g=0;g!==r;++g){const v=a[g],y=v.name;let b=m[y];if(b!==void 0)++b.referenceCount,o[g]=b;else{if(b=o[g],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,f,y));continue}const M=t&&t._propertyBindings[g].binding.parsedPath;b=new K8(yi.create(i,y,M),v.ValueTypeName,v.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,f,y),o[g]=b}c[g].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=a.length,a.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,c=o[r],f=c.knownActions,h=f[f.length-1],m=e._byClipCacheIndex;h._byClipCacheIndex=m,f[m]=h,f.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],f.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let o=a[t];o===void 0&&(o={},a[t]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,c=o[a],f=t[t.length-1],h=e._cacheIndex;f._cacheIndex=h,t[h]=f,t.pop(),delete c[r],Object.keys(c).length===0&&delete o[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new rA(new Float32Array(2),new Float32Array(2),1,pj),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let o=typeof e=="string"?Nh.findByName(a,e):e;const c=o!==null?o.uuid:e,f=this._actionsByClip[c];let h=null;if(i===void 0&&(o!==null?i=o.blendMode:i=n2),f!==void 0){const g=f.actionByRoot[r];if(g!==void 0&&g.blendMode===i)return g;h=f.knownActions[0],o===null&&(o=h._clip)}if(o===null)return null;const m=new Z8(this,o,t,i);return this._bindAction(m,h),this._addInactiveAction(m,c,r),m}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?Nh.findByName(i,e):e,o=r?r.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let h=0;h!==i;++h)t[h]._update(a,e,r,o);const c=this._bindings,f=this._nActiveBindings;for(let h=0;h!==f;++h)c[h].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const o=r.knownActions;for(let c=0,f=o.length;c!==f;++c){const h=o[c];this._deactivateAction(h);const m=h._cacheIndex,g=t[t.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(h)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const o in r){const c=r[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class gj extends HM{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new a2(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class vA{constructor(e){this.value=e}clone(){return new vA(this.value.clone===void 0?this.value:this.value.clone())}}let yj=0;class xj extends kc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yj++}),this.name="",this.usage=H1,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class vj extends c2{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class bj{constructor(e,t,i,a,r,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const dC=new rn;class bA{constructor(e,t,i=0,a=1/0){this.ray=new Uh(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new Z0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Mn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return dC.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(dC),this}intersectObject(e,t=!0,i=[]){return z5(e,this,i,t),i.sort(hC),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)z5(e[a],this,i,t);return i.sort(hC),i}}function hC(n,e){return n.distance-e.distance}function z5(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let o=0,c=r.length;o<c;o++)z5(r[o],e,t,!0)}}class _j{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Sj.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Sj(){this._document.hidden===!1&&this.reset()}class N5{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=vn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(vn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Mj{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class _A{constructor(e,t,i,a){_A.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const pC=new pt;class Aj{constructor(e=new pt(1/0,1/0),t=new pt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=pC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,pC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const mC=new pe,Lv=new pe,h0=new pe,p0=new pe,_S=new pe,wj=new pe,Ej=new pe;class Tj{constructor(e=new pe,t=new pe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){mC.subVectors(e,this.start),Lv.subVectors(this.end,this.start);const i=Lv.dot(Lv);let r=Lv.dot(mC)/i;return t&&(r=vn(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=wj,i=Ej){const a=10000000000000001e-32;let r,o;const c=this.start,f=e.start,h=this.end,m=e.end;h0.subVectors(h,c),p0.subVectors(m,f),_S.subVectors(c,f);const g=h0.dot(h0),v=p0.dot(p0),y=p0.dot(_S);if(g<=a&&v<=a)return t.copy(c),i.copy(f),t.sub(i),t.dot(t);if(g<=a)r=0,o=y/v,o=vn(o,0,1);else{const b=h0.dot(_S);if(v<=a)o=0,r=vn(-b/g,0,1);else{const M=h0.dot(p0),A=g*v-M*M;A!==0?r=vn((M*y-b*v)/A,0,1):r=0,o=(M*r+y)/v,o<0?(o=0,r=vn(-b/g,0,1)):o>1&&(o=1,r=vn((M-b)/g,0,1))}}return t.copy(c).add(h0.multiplyScalar(r)),i.copy(f).add(p0.multiplyScalar(o)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const gC=new pe;class Cj extends mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Tn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,f=32;o<f;o++,c++){const h=o/f*Math.PI*2,m=c/f*Math.PI*2;a.push(Math.cos(h),Math.sin(h),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Ht(a,3));const r=new Ir({fog:!1,toneMapped:!1});this.cone=new jl(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),gC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Df=new pe,Iv=new rn,SS=new rn;class Rj extends jl{constructor(e){const t=J8(e),i=new Tn,a=[],r=[];for(let h=0;h<t.length;h++){const m=t[h];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new Ht(a,3)),i.setAttribute("color",new Ht(r,3));const o=new Ir({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Ct(255),f=new Ct(65280);this.setColors(c,f)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");SS.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const c=t[r];c.parent&&c.parent.isBone&&(Iv.multiplyMatrices(SS,c.matrixWorld),Df.setFromMatrixPosition(Iv),a.setXYZ(o,Df.x,Df.y,Df.z),Iv.multiplyMatrices(SS,c.parent.matrixWorld),Df.setFromMatrixPosition(Iv),a.setXYZ(o+1,Df.x,Df.y,Df.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function J8(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...J8(n.children[t]));return e}class Oj extends oa{constructor(e,t,i){const a=new fm(t,4,2),r=new Fl({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zj=new pe,yC=new Ct,xC=new Ct;class Nj extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new py(t);a.rotateY(Math.PI*.5),this.material=new Fl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),o=new Float32Array(r.count*3);a.setAttribute("color",new zi(o,3)),this.add(new oa(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");yC.copy(this.light.color),xC.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?yC:xC;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Q8 extends jl{constructor(e=10,t=10,i=4473924,a=8947848){i=new Ct(i),a=new Ct(a);const r=t/2,o=e/t,c=e/2,f=[],h=[];for(let v=0,y=0,b=-c;v<=t;v++,b+=o){f.push(-c,0,b,c,0,b),f.push(b,0,-c,b,0,c);const M=v===r?i:a;M.toArray(h,y),y+=3,M.toArray(h,y),y+=3,M.toArray(h,y),y+=3,M.toArray(h,y),y+=3}const m=new Tn;m.setAttribute("position",new Ht(f,3)),m.setAttribute("color",new Ht(h,3));const g=new Ir({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Dj extends jl{constructor(e=10,t=16,i=8,a=64,r=4473924,o=8947848){r=new Ct(r),o=new Ct(o);const c=[],f=[];if(t>1)for(let g=0;g<t;g++){const v=g/t*(Math.PI*2),y=Math.sin(v)*e,b=Math.cos(v)*e;c.push(0,0,0),c.push(y,0,b);const M=g&1?r:o;f.push(M.r,M.g,M.b),f.push(M.r,M.g,M.b)}for(let g=0;g<i;g++){const v=g&1?r:o,y=e-e/i*g;for(let b=0;b<a;b++){let M=b/a*(Math.PI*2),A=Math.sin(M)*y,S=Math.cos(M)*y;c.push(A,0,S),f.push(v.r,v.g,v.b),M=(b+1)/a*(Math.PI*2),A=Math.sin(M)*y,S=Math.cos(M)*y,c.push(A,0,S),f.push(v.r,v.g,v.b)}}const h=new Tn;h.setAttribute("position",new Ht(c,3)),h.setAttribute("color",new Ht(f,3));const m=new Ir({vertexColors:!0,toneMapped:!1});super(h,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const vC=new pe,Pv=new pe,bC=new pe;class Lj extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new Tn;a.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Ir({fog:!1,toneMapped:!1});this.lightPlane=new Vu(a,r),this.add(this.lightPlane),a=new Tn,a.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new Vu(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),vC.setFromMatrixPosition(this.light.matrixWorld),Pv.setFromMatrixPosition(this.light.target.matrixWorld),bC.subVectors(Pv,vC),this.lightPlane.lookAt(Pv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Pv),this.targetLine.scale.z=bC.length()}}const Uv=new pe,Oa=new r2;class Ij extends jl{constructor(e){const t=new Tn,i=new Ir({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(b,M){f(b),f(M)}function f(b){a.push(0,0,0),r.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(a.length/3-1)}t.setAttribute("position",new Ht(a,3)),t.setAttribute("color",new Ht(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const h=new Ct(16755200),m=new Ct(16711680),g=new Ct(43775),v=new Ct(16777215),y=new Ct(3355443);this.setColors(h,m,g,v,y)}setColors(e,t,i,a,r){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,a.r,a.g,a.b),c.setXYZ(39,a.r,a.g,a.b),c.setXYZ(40,r.r,r.g,r.b),c.setXYZ(41,r.r,r.g,r.b),c.setXYZ(42,r.r,r.g,r.b),c.setXYZ(43,r.r,r.g,r.b),c.setXYZ(44,r.r,r.g,r.b),c.setXYZ(45,r.r,r.g,r.b),c.setXYZ(46,r.r,r.g,r.b),c.setXYZ(47,r.r,r.g,r.b),c.setXYZ(48,r.r,r.g,r.b),c.setXYZ(49,r.r,r.g,r.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,o;if(Oa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,o=0;else if(this.camera.coordinateSystem===bo)r=-1,o=1;else if(this.camera.coordinateSystem===q0)r=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);ka("c",t,e,Oa,0,0,r),ka("t",t,e,Oa,0,0,o),ka("n1",t,e,Oa,-i,-a,r),ka("n2",t,e,Oa,i,-a,r),ka("n3",t,e,Oa,-i,a,r),ka("n4",t,e,Oa,i,a,r),ka("f1",t,e,Oa,-i,-a,o),ka("f2",t,e,Oa,i,-a,o),ka("f3",t,e,Oa,-i,a,o),ka("f4",t,e,Oa,i,a,o),ka("u1",t,e,Oa,i*.7,a*1.1,r),ka("u2",t,e,Oa,-i*.7,a*1.1,r),ka("u3",t,e,Oa,0,a*2,r),ka("cf1",t,e,Oa,-i,0,o),ka("cf2",t,e,Oa,i,0,o),ka("cf3",t,e,Oa,0,-a,o),ka("cf4",t,e,Oa,0,a,o),ka("cn1",t,e,Oa,-i,0,r),ka("cn2",t,e,Oa,i,0,r),ka("cn3",t,e,Oa,0,-a,r),ka("cn4",t,e,Oa,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ka(n,e,t,i,a,r,o){Uv.set(a,r,o).unproject(i);const c=e[n];if(c!==void 0){const f=t.getAttribute("position");for(let h=0,m=c.length;h<m;h++)f.setXYZ(c[h],Uv.x,Uv.y,Uv.z)}}const Bv=new rs;class Pj extends jl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new Tn;r.setIndex(new zi(i,1)),r.setAttribute("position",new zi(a,3)),super(r,new Ir({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Bv.setFromObject(this.object),Bv.isEmpty())return;const e=Bv.min,t=Bv.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uj extends jl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Tn;r.setIndex(new zi(i,1)),r.setAttribute("position",new Ht(a,3)),super(r,new Ir({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bj extends Vu{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Tn;o.setAttribute("position",new Ht(r,3)),o.computeBoundingSphere(),super(o,new Ir({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new Tn;f.setAttribute("position",new Ht(c,3)),f.computeBoundingSphere(),this.add(new oa(f,new Fl({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _C=new pe;let kv,MS;class kj extends mi{constructor(e=new pe(0,0,1),t=new pe(0,0,0),i=1,a=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",kv===void 0&&(kv=new Tn,kv.setAttribute("position",new Ht([0,0,0,0,1,0],3)),MS=new hy(.5,1,5,1),MS.translate(0,-.5,0)),this.position.copy(t),this.line=new Vu(kv,new Ir({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new oa(MS,new Fl({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_C.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_C,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Fj extends jl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new Tn;a.setAttribute("position",new Ht(t,3)),a.setAttribute("color",new Ht(i,3));const r=new Ir({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new Ct,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vj{constructor(){this.type="ShapePath",this.color=new Ct,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new d_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,o){return this.currentPath.bezierCurveTo(e,t,i,a,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const E=[];for(let w=0,R=S.length;w<R;w++){const z=S[w],O=new Ah;O.curves=z.curves,E.push(O)}return E}function i(S,E){const w=E.length;let R=!1;for(let z=w-1,O=0;O<w;z=O++){let P=E[z],B=E[O],L=B.x-P.x,D=B.y-P.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(P=E[O],L=-L,B=E[z],D=-D),S.y<P.y||S.y>B.y)continue;if(S.y===P.y){if(S.x===P.x)return!0}else{const V=D*(S.x-P.x)-L*(S.y-P.y);if(V===0)return!0;if(V<0)continue;R=!R}}else{if(S.y!==P.y)continue;if(B.x<=S.x&&S.x<=P.x||P.x<=S.x&&S.x<=B.x)return!0}}return R}const a=Pl.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,c,f;const h=[];if(r.length===1)return c=r[0],f=new Ah,f.curves=c.curves,h.push(f),h;let m=!a(r[0].getPoints());m=e?!m:m;const g=[],v=[];let y=[],b=0,M;v[b]=void 0,y[b]=[];for(let S=0,E=r.length;S<E;S++)c=r[S],M=c.getPoints(),o=a(M),o=e?!o:o,o?(!m&&v[b]&&b++,v[b]={s:new Ah,p:M},v[b].s.curves=c.curves,m&&b++,y[b]=[]):y[b].push({h:c,p:M[0]});if(!v[0])return t(r);if(v.length>1){let S=!1,E=0;for(let w=0,R=v.length;w<R;w++)g[w]=[];for(let w=0,R=v.length;w<R;w++){const z=y[w];for(let O=0;O<z.length;O++){const P=z[O];let B=!0;for(let L=0;L<v.length;L++)i(P.p,v[L].p)&&(w!==L&&E++,B?(B=!1,g[L].push(P)):S=!0);B&&g[w].push(P)}}E>0&&S===!1&&(y=g)}let A;for(let S=0,E=v.length;S<E;S++){f=v[S].s,h.push(f),A=y[S];for(let w=0,R=A.length;w<R;w++)f.holes.push(A[w].h)}return h}}class Hj extends kc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ut("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function jj(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Gj(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function Wj(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function D5(n,e,t,i){const a=Yj(i);switch(t){case UM:return n*e;case J_:return n*e/a.components*a.byteLength;case uy:return n*e/a.components*a.byteLength;case Q_:return n*e*2/a.components*a.byteLength;case e2:return n*e*2/a.components*a.byteLength;case BM:return n*e*3/a.components*a.byteLength;case is:return n*e*4/a.components*a.byteLength;case t2:return n*e*4/a.components*a.byteLength;case v1:case b1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case _1:case S1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ib:case Ub:return Math.max(n,16)*Math.max(e,8)/4;case Lb:case Pb:return Math.max(n,8)*Math.max(e,8)/2;case Bb:case kb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Fb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Vb:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Hb:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case jb:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Gb:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Wb:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case Yb:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Xb:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case qb:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case $b:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Kb:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Zb:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Jb:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Qb:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case e_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case t_:case n_:case i_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case a_:case r_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case s_:case o_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Yj(n){switch(n){case tl:case DM:return{byteLength:1,components:1};case G0:case LM:case Qf:return{byteLength:2,components:1};case K_:case Z_:return{byteLength:2,components:4};case Fu:case $_:case Ds:return{byteLength:4,components:1};case IM:case PM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class Xj{static contain(e,t){return jj(e,t)}static cover(e,t){return Gj(e,t)}static fill(e){return Wj(e)}static getByteLength(e,t,i,a){return D5(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:W_}}));typeof window<"u"&&(window.__THREE__?Ut("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=W_);function e9(){let n=null,e=!1,t=null,i=null;function a(r,o){t(r,o),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function qj(n){const e=new WeakMap;function t(c,f){const h=c.array,m=c.usage,g=h.byteLength,v=n.createBuffer();n.bindBuffer(f,v),n.bufferData(f,h,m),c.onUploadCallback();let y;if(h instanceof Float32Array)y=n.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)y=n.HALF_FLOAT;else if(h instanceof Uint16Array)c.isFloat16BufferAttribute?y=n.HALF_FLOAT:y=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)y=n.SHORT;else if(h instanceof Uint32Array)y=n.UNSIGNED_INT;else if(h instanceof Int32Array)y=n.INT;else if(h instanceof Int8Array)y=n.BYTE;else if(h instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:v,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:g}}function i(c,f,h){const m=f.array,g=f.updateRanges;if(n.bindBuffer(h,c),g.length===0)n.bufferSubData(h,0,m);else{g.sort((y,b)=>y.start-b.start);let v=0;for(let y=1;y<g.length;y++){const b=g[v],M=g[y];M.start<=b.start+b.count+1?b.count=Math.max(b.count,M.start+M.count-b.start):(++v,g[v]=M)}g.length=v+1;for(let y=0,b=g.length;y<b;y++){const M=g[y];n.bufferSubData(h,M.start*m.BYTES_PER_ELEMENT,m,M.start,M.count)}f.clearUpdateRanges()}f.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function r(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=e.get(c);f&&(n.deleteBuffer(f.buffer),e.delete(c))}function o(c,f){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const h=e.get(c);if(h===void 0)e.set(c,t(c,f));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,c,f),h.version=c.version}}return{get:a,remove:r,update:o}}var $j=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Kj=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Zj=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Jj=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Qj=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,eG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,tG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,nG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iG=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,aG=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,rG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,sG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,lG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,cG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,uG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,fG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,hG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,pG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,mG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,gG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,yG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,xG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,vG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,_G=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,SG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,MG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,AG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,wG="gl_FragColor = linearToOutputTexel( gl_FragColor );",EG=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,TG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,CG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,RG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,OG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,NG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,LG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,IG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,PG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,UG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,BG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,FG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,VG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,HG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,GG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,WG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,YG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,XG=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$G=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,KG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ZG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,JG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eW=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,tW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,nW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,rW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,oW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,lW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,uW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,fW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,dW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,hW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,pW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,mW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,vW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,_W=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,SW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,MW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,AW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,wW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,EW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,TW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,CW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,RW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,OW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,NW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,DW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,LW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,IW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,PW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,UW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,BW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,FW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,VW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,HW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,jW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,GW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,WW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,YW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,XW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const qW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$W=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,QW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,tY=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,nY=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iY=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,aY=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,rY=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sY=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oY=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lY=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,cY=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uY=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fY=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dY=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,hY=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,mY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,gY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,vY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_Y=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,MY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,AY=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,EY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,TY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fn={alphahash_fragment:$j,alphahash_pars_fragment:Kj,alphamap_fragment:Zj,alphamap_pars_fragment:Jj,alphatest_fragment:Qj,alphatest_pars_fragment:eG,aomap_fragment:tG,aomap_pars_fragment:nG,batching_pars_vertex:iG,batching_vertex:aG,begin_vertex:rG,beginnormal_vertex:sG,bsdfs:oG,iridescence_fragment:lG,bumpmap_pars_fragment:cG,clipping_planes_fragment:uG,clipping_planes_pars_fragment:fG,clipping_planes_pars_vertex:dG,clipping_planes_vertex:hG,color_fragment:pG,color_pars_fragment:mG,color_pars_vertex:gG,color_vertex:yG,common:xG,cube_uv_reflection_fragment:vG,defaultnormal_vertex:bG,displacementmap_pars_vertex:_G,displacementmap_vertex:SG,emissivemap_fragment:MG,emissivemap_pars_fragment:AG,colorspace_fragment:wG,colorspace_pars_fragment:EG,envmap_fragment:TG,envmap_common_pars_fragment:CG,envmap_pars_fragment:RG,envmap_pars_vertex:OG,envmap_physical_pars_fragment:VG,envmap_vertex:zG,fog_vertex:NG,fog_pars_vertex:DG,fog_fragment:LG,fog_pars_fragment:IG,gradientmap_pars_fragment:PG,lightmap_pars_fragment:UG,lights_lambert_fragment:BG,lights_lambert_pars_fragment:kG,lights_pars_begin:FG,lights_toon_fragment:HG,lights_toon_pars_fragment:jG,lights_phong_fragment:GG,lights_phong_pars_fragment:WG,lights_physical_fragment:YG,lights_physical_pars_fragment:XG,lights_fragment_begin:qG,lights_fragment_maps:$G,lights_fragment_end:KG,logdepthbuf_fragment:ZG,logdepthbuf_pars_fragment:JG,logdepthbuf_pars_vertex:QG,logdepthbuf_vertex:eW,map_fragment:tW,map_pars_fragment:nW,map_particle_fragment:iW,map_particle_pars_fragment:aW,metalnessmap_fragment:rW,metalnessmap_pars_fragment:sW,morphinstance_vertex:oW,morphcolor_vertex:lW,morphnormal_vertex:cW,morphtarget_pars_vertex:uW,morphtarget_vertex:fW,normal_fragment_begin:dW,normal_fragment_maps:hW,normal_pars_fragment:pW,normal_pars_vertex:mW,normal_vertex:gW,normalmap_pars_fragment:yW,clearcoat_normal_fragment_begin:xW,clearcoat_normal_fragment_maps:vW,clearcoat_pars_fragment:bW,iridescence_pars_fragment:_W,opaque_fragment:SW,packing:MW,premultiplied_alpha_fragment:AW,project_vertex:wW,dithering_fragment:EW,dithering_pars_fragment:TW,roughnessmap_fragment:CW,roughnessmap_pars_fragment:RW,shadowmap_pars_fragment:OW,shadowmap_pars_vertex:zW,shadowmap_vertex:NW,shadowmask_pars_fragment:DW,skinbase_vertex:LW,skinning_pars_vertex:IW,skinning_vertex:PW,skinnormal_vertex:UW,specularmap_fragment:BW,specularmap_pars_fragment:kW,tonemapping_fragment:FW,tonemapping_pars_fragment:VW,transmission_fragment:HW,transmission_pars_fragment:jW,uv_pars_fragment:GW,uv_pars_vertex:WW,uv_vertex:YW,worldpos_vertex:XW,background_vert:qW,background_frag:$W,backgroundCube_vert:KW,backgroundCube_frag:ZW,cube_vert:JW,cube_frag:QW,depth_vert:eY,depth_frag:tY,distanceRGBA_vert:nY,distanceRGBA_frag:iY,equirect_vert:aY,equirect_frag:rY,linedashed_vert:sY,linedashed_frag:oY,meshbasic_vert:lY,meshbasic_frag:cY,meshlambert_vert:uY,meshlambert_frag:fY,meshmatcap_vert:dY,meshmatcap_frag:hY,meshnormal_vert:pY,meshnormal_frag:mY,meshphong_vert:gY,meshphong_frag:yY,meshphysical_vert:xY,meshphysical_frag:vY,meshtoon_vert:bY,meshtoon_frag:_Y,points_vert:SY,points_frag:MY,shadow_vert:AY,shadow_frag:wY,sprite_vert:EY,sprite_frag:TY},Pt={common:{diffuse:{value:new Ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Nn}},envmap:{envMap:{value:null},envMapRotation:{value:new Nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Nn},normalScale:{value:new pt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0},uvTransform:{value:new Nn}},sprite:{diffuse:{value:new Ct(16777215)},opacity:{value:1},center:{value:new pt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Nn},alphaMap:{value:null},alphaMapTransform:{value:new Nn},alphaTest:{value:0}}},Dl={basic:{uniforms:Os([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.fog]),vertexShader:Fn.meshbasic_vert,fragmentShader:Fn.meshbasic_frag},lambert:{uniforms:Os([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:Fn.meshlambert_vert,fragmentShader:Fn.meshlambert_frag},phong:{uniforms:Os([Pt.common,Pt.specularmap,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,Pt.lights,{emissive:{value:new Ct(0)},specular:{value:new Ct(1118481)},shininess:{value:30}}]),vertexShader:Fn.meshphong_vert,fragmentShader:Fn.meshphong_frag},standard:{uniforms:Os([Pt.common,Pt.envmap,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.roughnessmap,Pt.metalnessmap,Pt.fog,Pt.lights,{emissive:{value:new Ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Fn.meshphysical_vert,fragmentShader:Fn.meshphysical_frag},toon:{uniforms:Os([Pt.common,Pt.aomap,Pt.lightmap,Pt.emissivemap,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.gradientmap,Pt.fog,Pt.lights,{emissive:{value:new Ct(0)}}]),vertexShader:Fn.meshtoon_vert,fragmentShader:Fn.meshtoon_frag},matcap:{uniforms:Os([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,Pt.fog,{matcap:{value:null}}]),vertexShader:Fn.meshmatcap_vert,fragmentShader:Fn.meshmatcap_frag},points:{uniforms:Os([Pt.points,Pt.fog]),vertexShader:Fn.points_vert,fragmentShader:Fn.points_frag},dashed:{uniforms:Os([Pt.common,Pt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fn.linedashed_vert,fragmentShader:Fn.linedashed_frag},depth:{uniforms:Os([Pt.common,Pt.displacementmap]),vertexShader:Fn.depth_vert,fragmentShader:Fn.depth_frag},normal:{uniforms:Os([Pt.common,Pt.bumpmap,Pt.normalmap,Pt.displacementmap,{opacity:{value:1}}]),vertexShader:Fn.meshnormal_vert,fragmentShader:Fn.meshnormal_frag},sprite:{uniforms:Os([Pt.sprite,Pt.fog]),vertexShader:Fn.sprite_vert,fragmentShader:Fn.sprite_frag},background:{uniforms:{uvTransform:{value:new Nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Fn.background_vert,fragmentShader:Fn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Nn}},vertexShader:Fn.backgroundCube_vert,fragmentShader:Fn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fn.cube_vert,fragmentShader:Fn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fn.equirect_vert,fragmentShader:Fn.equirect_frag},distanceRGBA:{uniforms:Os([Pt.common,Pt.displacementmap,{referencePosition:{value:new pe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fn.distanceRGBA_vert,fragmentShader:Fn.distanceRGBA_frag},shadow:{uniforms:Os([Pt.lights,Pt.fog,{color:{value:new Ct(0)},opacity:{value:1}}]),vertexShader:Fn.shadow_vert,fragmentShader:Fn.shadow_frag}};Dl.physical={uniforms:Os([Dl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Nn},clearcoatNormalScale:{value:new pt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Nn},sheen:{value:0},sheenColor:{value:new Ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Nn},transmissionSamplerSize:{value:new pt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Nn},attenuationDistance:{value:0},attenuationColor:{value:new Ct(0)},specularColor:{value:new Ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Nn},anisotropyVector:{value:new pt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Nn}}]),vertexShader:Fn.meshphysical_vert,fragmentShader:Fn.meshphysical_frag};const Fv={r:0,b:0,g:0},sh=new Ps,CY=new rn;function RY(n,e,t,i,a,r,o){const c=new Ct(0);let f=r===!0?0:1,h,m,g=null,v=0,y=null;function b(w){let R=w.isScene===!0?w.background:null;return R&&R.isTexture&&(R=(w.backgroundBlurriness>0?t:e).get(R)),R}function M(w){let R=!1;const z=b(w);z===null?S(c,f):z&&z.isColor&&(S(z,1),R=!0);const O=n.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,o):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(w,R){const z=b(R);z&&(z.isCubeTexture||z.mapping===om)?(m===void 0&&(m=new oa(new td(1,1,1),new Eo({name:"BackgroundCubeMaterial",uniforms:J0(Dl.backgroundCube.uniforms),vertexShader:Dl.backgroundCube.vertexShader,fragmentShader:Dl.backgroundCube.fragmentShader,side:Is,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(O,P,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),sh.copy(R.backgroundRotation),sh.x*=-1,sh.y*=-1,sh.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(sh.y*=-1,sh.z*=-1),m.material.uniforms.envMap.value=z,m.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(CY.makeRotationFromEuler(sh)),m.material.toneMapped=Xn.getTransfer(z.colorSpace)!==Fi,(g!==z||v!==z.version||y!==n.toneMapping)&&(m.material.needsUpdate=!0,g=z,v=z.version,y=n.toneMapping),m.layers.enableAll(),w.unshift(m,m.geometry,m.material,0,0,null)):z&&z.isTexture&&(h===void 0&&(h=new oa(new um(2,2),new Eo({name:"BackgroundMaterial",uniforms:J0(Dl.background.uniforms),vertexShader:Dl.background.vertexShader,fragmentShader:Dl.background.fragmentShader,side:Bc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(h)),h.material.uniforms.t2D.value=z,h.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,h.material.toneMapped=Xn.getTransfer(z.colorSpace)!==Fi,z.matrixAutoUpdate===!0&&z.updateMatrix(),h.material.uniforms.uvTransform.value.copy(z.matrix),(g!==z||v!==z.version||y!==n.toneMapping)&&(h.material.needsUpdate=!0,g=z,v=z.version,y=n.toneMapping),h.layers.enableAll(),w.unshift(h,h.geometry,h.material,0,0,null))}function S(w,R){w.getRGB(Fv,s8(n)),i.buffers.color.setClear(Fv.r,Fv.g,Fv.b,R,o)}function E(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return c},setClearColor:function(w,R=1){c.set(w),f=R,S(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(w){f=w,S(c,f)},render:M,addToRenderList:A,dispose:E}}function OY(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=v(null);let r=a,o=!1;function c(D,V,U,G,X){let $=!1;const H=g(G,U,V);r!==H&&(r=H,h(r.object)),$=y(D,G,U,X),$&&b(D,G,U,X),X!==null&&e.update(X,n.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,R(D,V,U,G),X!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function f(){return n.createVertexArray()}function h(D){return n.bindVertexArray(D)}function m(D){return n.deleteVertexArray(D)}function g(D,V,U){const G=U.wireframe===!0;let X=i[D.id];X===void 0&&(X={},i[D.id]=X);let $=X[V.id];$===void 0&&($={},X[V.id]=$);let H=$[G];return H===void 0&&(H=v(f()),$[G]=H),H}function v(D){const V=[],U=[],G=[];for(let X=0;X<t;X++)V[X]=0,U[X]=0,G[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:U,attributeDivisors:G,object:D,attributes:{},index:null}}function y(D,V,U,G){const X=r.attributes,$=V.attributes;let H=0;const K=U.getAttributes();for(const Q in K)if(K[Q].location>=0){const ce=X[Q];let q=$[Q];if(q===void 0&&(Q==="instanceMatrix"&&D.instanceMatrix&&(q=D.instanceMatrix),Q==="instanceColor"&&D.instanceColor&&(q=D.instanceColor)),ce===void 0||ce.attribute!==q||q&&ce.data!==q.data)return!0;H++}return r.attributesNum!==H||r.index!==G}function b(D,V,U,G){const X={},$=V.attributes;let H=0;const K=U.getAttributes();for(const Q in K)if(K[Q].location>=0){let ce=$[Q];ce===void 0&&(Q==="instanceMatrix"&&D.instanceMatrix&&(ce=D.instanceMatrix),Q==="instanceColor"&&D.instanceColor&&(ce=D.instanceColor));const q={};q.attribute=ce,ce&&ce.data&&(q.data=ce.data),X[Q]=q,H++}r.attributes=X,r.attributesNum=H,r.index=G}function M(){const D=r.newAttributes;for(let V=0,U=D.length;V<U;V++)D[V]=0}function A(D){S(D,0)}function S(D,V){const U=r.newAttributes,G=r.enabledAttributes,X=r.attributeDivisors;U[D]=1,G[D]===0&&(n.enableVertexAttribArray(D),G[D]=1),X[D]!==V&&(n.vertexAttribDivisor(D,V),X[D]=V)}function E(){const D=r.newAttributes,V=r.enabledAttributes;for(let U=0,G=V.length;U<G;U++)V[U]!==D[U]&&(n.disableVertexAttribArray(U),V[U]=0)}function w(D,V,U,G,X,$,H){H===!0?n.vertexAttribIPointer(D,V,U,X,$):n.vertexAttribPointer(D,V,U,G,X,$)}function R(D,V,U,G){M();const X=G.attributes,$=U.getAttributes(),H=V.defaultAttributeValues;for(const K in $){const Q=$[K];if(Q.location>=0){let W=X[K];if(W===void 0&&(K==="instanceMatrix"&&D.instanceMatrix&&(W=D.instanceMatrix),K==="instanceColor"&&D.instanceColor&&(W=D.instanceColor)),W!==void 0){const ce=W.normalized,q=W.itemSize,ie=e.get(W);if(ie===void 0)continue;const fe=ie.buffer,ge=ie.type,re=ie.bytesPerElement,te=ge===n.INT||ge===n.UNSIGNED_INT||W.gpuType===$_;if(W.isInterleavedBufferAttribute){const se=W.data,ve=se.stride,ze=W.offset;if(se.isInstancedInterleavedBuffer){for(let De=0;De<Q.locationSize;De++)S(Q.location+De,se.meshPerAttribute);D.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let De=0;De<Q.locationSize;De++)A(Q.location+De);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let De=0;De<Q.locationSize;De++)w(Q.location+De,q/Q.locationSize,ge,ce,ve*re,(ze+q/Q.locationSize*De)*re,te)}else{if(W.isInstancedBufferAttribute){for(let se=0;se<Q.locationSize;se++)S(Q.location+se,W.meshPerAttribute);D.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let se=0;se<Q.locationSize;se++)A(Q.location+se);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let se=0;se<Q.locationSize;se++)w(Q.location+se,q/Q.locationSize,ge,ce,q*re,q/Q.locationSize*se*re,te)}}else if(H!==void 0){const ce=H[K];if(ce!==void 0)switch(ce.length){case 2:n.vertexAttrib2fv(Q.location,ce);break;case 3:n.vertexAttrib3fv(Q.location,ce);break;case 4:n.vertexAttrib4fv(Q.location,ce);break;default:n.vertexAttrib1fv(Q.location,ce)}}}}E()}function z(){B();for(const D in i){const V=i[D];for(const U in V){const G=V[U];for(const X in G)m(G[X].object),delete G[X];delete V[U]}delete i[D]}}function O(D){if(i[D.id]===void 0)return;const V=i[D.id];for(const U in V){const G=V[U];for(const X in G)m(G[X].object),delete G[X];delete V[U]}delete i[D.id]}function P(D){for(const V in i){const U=i[V];if(U[D.id]===void 0)continue;const G=U[D.id];for(const X in G)m(G[X].object),delete G[X];delete U[D.id]}}function B(){L(),o=!0,r!==a&&(r=a,h(r.object))}function L(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:c,reset:B,resetDefaultState:L,dispose:z,releaseStatesOfGeometry:O,releaseStatesOfProgram:P,initAttributes:M,enableAttribute:A,disableUnusedAttributes:E}}function zY(n,e,t){let i;function a(h){i=h}function r(h,m){n.drawArrays(i,h,m),t.update(m,i,1)}function o(h,m,g){g!==0&&(n.drawArraysInstanced(i,h,m,g),t.update(m,i,g))}function c(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,m,0,g);let y=0;for(let b=0;b<g;b++)y+=m[b];t.update(y,i,1)}function f(h,m,g,v){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<h.length;b++)o(h[b],m[b],v[b]);else{y.multiDrawArraysInstancedWEBGL(i,h,0,m,0,v,0,g);let b=0;for(let M=0;M<g;M++)b+=m[M]*v[M];t.update(b,i,1)}}this.setMode=a,this.render=r,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function NY(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(P){return!(P!==is&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(P){const B=P===Qf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==tl&&i.convert(P)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Ds&&!B)}function f(P){if(P==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=t.precision!==void 0?t.precision:"highp";const m=f(h);m!==h&&(Ut("WebGLRenderer:",h,"not supported, using",m,"instead."),h=m);const g=t.logarithmicDepthBuffer===!0,v=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),E=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),w=n.getParameter(n.MAX_VARYING_VECTORS),R=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),z=b>0,O=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:c,precision:h,logarithmicDepthBuffer:g,reversedDepthBuffer:v,maxTextures:y,maxVertexTextures:b,maxTextureSize:M,maxCubemapSize:A,maxAttributes:S,maxVertexUniforms:E,maxVaryings:w,maxFragmentUniforms:R,vertexTextures:z,maxSamples:O}}function DY(n){const e=this;let t=null,i=0,a=!1,r=!1;const o=new Eu,c=new Nn,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const y=g.length!==0||v||i!==0||a;return a=v,i=g.length,y},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,v){t=m(g,v,0)},this.setState=function(g,v,y){const b=g.clippingPlanes,M=g.clipIntersection,A=g.clipShadows,S=n.get(g);if(!a||b===null||b.length===0||r&&!A)r?m(null):h();else{const E=r?0:i,w=E*4;let R=S.clippingState||null;f.value=R,R=m(b,v,w,y);for(let z=0;z!==w;++z)R[z]=t[z];S.clippingState=R,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=E}};function h(){f.value!==t&&(f.value=t,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,v,y,b){const M=g!==null?g.length:0;let A=null;if(M!==0){if(A=f.value,b!==!0||A===null){const S=y+M*4,E=v.matrixWorldInverse;c.getNormalMatrix(E),(A===null||A.length<S)&&(A=new Float32Array(S));for(let w=0,R=y;w!==M;++w,R+=4)o.copy(g[w]).applyMatrix4(E,c),o.normal.toArray(A,R),A[R+3]=o.constant}f.value=A,f.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,A}}function LY(n){let e=new WeakMap;function t(o,c){return c===P1?o.mapping=ku:c===U1&&(o.mapping=qf),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===P1||c===U1)if(e.has(o)){const f=e.get(o).texture;return t(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const h=new c8(f.height);return h.fromEquirectangularTexture(n,o),e.set(o,h),o.addEventListener("dispose",a),t(h.texture,o.mapping)}else return null}}return o}function a(o){const c=o.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Hf=4,SC=[.125,.215,.35,.446,.526,.582],hh=20,IY=512,i1=new Du,MC=new Ct;let AS=null,wS=0,ES=0,TS=!1;const PY=new pe;class L5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,a=100,r={}){const{size:o=256,position:c=PY}=r;AS=this._renderer.getRenderTarget(),wS=this._renderer.getActiveCubeFace(),ES=this._renderer.getActiveMipmapLevel(),TS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,a,f,c),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=wC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(AS,wS,ES),this._renderer.xr.enabled=TS,e.scissorTest=!1,m0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ku||e.mapping===qf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),AS=this._renderer.getRenderTarget(),wS=this._renderer.getActiveCubeFace(),ES=this._renderer.getActiveMipmapLevel(),TS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ea,minFilter:Ea,generateMipmaps:!1,type:Qf,format:is,colorSpace:$f,depthBuffer:!1},a=AC(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=AC(e,t,i);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=UY(r)),this._blurMaterial=kY(r,e,t)}return a}_compileMaterial(e){const t=new oa(new Tn,e);this._renderer.compile(t,i1)}_sceneToCubeUV(e,t,i,a,r){const f=new Aa(90,1,t,i),h=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,y=g.toneMapping;g.getClearColor(MC),g.toneMapping=Pc,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(a),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new oa(new td,new Fl({name:"PMREM.Background",side:Is,depthWrite:!1,depthTest:!1})));const M=this._backgroundBox,A=M.material;let S=!1;const E=e.background;E?E.isColor&&(A.color.copy(E),e.background=null,S=!0):(A.color.copy(MC),S=!0);for(let w=0;w<6;w++){const R=w%3;R===0?(f.up.set(0,h[w],0),f.position.set(r.x,r.y,r.z),f.lookAt(r.x+m[w],r.y,r.z)):R===1?(f.up.set(0,0,h[w]),f.position.set(r.x,r.y,r.z),f.lookAt(r.x,r.y+m[w],r.z)):(f.up.set(0,h[w],0),f.position.set(r.x,r.y,r.z),f.lookAt(r.x,r.y,r.z+m[w]));const z=this._cubeSize;m0(a,R*z,w>2?z:0,z,z),g.setRenderTarget(a),S&&g.render(M,f),g.render(e,f)}g.toneMapping=y,g.autoClear=v,e.background=E}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===ku||e.mapping===qf;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=EC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=wC());const r=a?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=r;const c=r.uniforms;c.envMap.value=e;const f=this._cubeSize;m0(t,0,0,3*f,2*f),i.setRenderTarget(t),i.render(o,i1)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let r=1;r<a;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=i}_applyGGXFilter(e,t,i){const a=this._renderer,r=this._pingPongRenderTarget;if(this._ggxMaterial===null){const E=3*Math.max(this._cubeSize,16),w=4*this._cubeSize;this._ggxMaterial=BY(this._lodMax,E,w)}const o=this._ggxMaterial,c=this._lodMeshes[i];c.material=o;const f=o.uniforms,h=i/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),g=Math.sqrt(h*h-m*m),v=.05+h*.95,y=g*v,{_lodMax:b}=this,M=this._sizeLods[i],A=3*M*(i>b-Hf?i-b+Hf:0),S=4*(this._cubeSize-M);f.envMap.value=e.texture,f.roughness.value=y,f.mipInt.value=b-t,m0(r,A,S,3*M,2*M),a.setRenderTarget(r),a.render(c,i1),f.envMap.value=r.texture,f.roughness.value=0,f.mipInt.value=b-i,m0(e,A,S,3*M,2*M),a.setRenderTarget(e),a.render(c,i1)}_blur(e,t,i,a,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,a,"latitudinal",r),this._halfBlur(o,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,o,c){const f=this._renderer,h=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Mn("blur direction must be either latitudinal or longitudinal!");const m=3,g=this._lodMeshes[a];g.material=h;const v=h.uniforms,y=this._sizeLods[i]-1,b=isFinite(r)?Math.PI/(2*y):2*Math.PI/(2*hh-1),M=r/b,A=isFinite(r)?1+Math.floor(m*M):hh;A>hh&&Ut(`sigmaRadians, ${r}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${hh}`);const S=[];let E=0;for(let P=0;P<hh;++P){const B=P/M,L=Math.exp(-B*B/2);S.push(L),P===0?E+=L:P<A&&(E+=2*L)}for(let P=0;P<S.length;P++)S[P]=S[P]/E;v.envMap.value=e.texture,v.samples.value=A,v.weights.value=S,v.latitudinal.value=o==="latitudinal",c&&(v.poleAxis.value=c);const{_lodMax:w}=this;v.dTheta.value=b,v.mipInt.value=w-i;const R=this._sizeLods[a],z=3*R*(a>w-Hf?a-w+Hf:0),O=4*(this._cubeSize-R);m0(t,z,O,3*R,2*R),f.setRenderTarget(t),f.render(g,i1)}}function UY(n){const e=[],t=[],i=[];let a=n;const r=n-Hf+1+SC.length;for(let o=0;o<r;o++){const c=Math.pow(2,a);e.push(c);let f=1/c;o>n-Hf?f=SC[o-n+Hf-1]:o===0&&(f=0),t.push(f);const h=1/(c-2),m=-h,g=1+h,v=[m,m,g,m,g,g,m,m,g,g,m,g],y=6,b=6,M=3,A=2,S=1,E=new Float32Array(M*b*y),w=new Float32Array(A*b*y),R=new Float32Array(S*b*y);for(let O=0;O<y;O++){const P=O%3*2/3-1,B=O>2?0:-1,L=[P,B,0,P+2/3,B,0,P+2/3,B+1,0,P,B,0,P+2/3,B+1,0,P,B+1,0];E.set(L,M*b*O),w.set(v,A*b*O);const D=[O,O,O,O,O,O];R.set(D,S*b*O)}const z=new Tn;z.setAttribute("position",new zi(E,M)),z.setAttribute("uv",new zi(w,A)),z.setAttribute("faceIndex",new zi(R,S)),i.push(new oa(z,null)),a>Hf&&a--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function AC(n,e,t){const i=new kl(n,e,t);return i.texture.mapping=om,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function m0(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function BY(n,e,t){return new Eo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:IY,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function kY(n,e,t){const i=new Float32Array(hh),a=new pe(0,1,0);return new Eo({name:"SphericalGaussianBlur",defines:{n:hh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function wC(){return new Eo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function EC(){return new Eo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:R2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function R2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function FY(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const f=c.mapping,h=f===P1||f===U1,m=f===ku||f===qf;if(h||m){let g=e.get(c);const v=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==v)return t===null&&(t=new L5(n)),g=h?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const y=c.image;return h&&y&&y.height>0||m&&y&&a(y)?(t===null&&(t=new L5(n)),g=h?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",r),g.texture):null}}}return c}function a(c){let f=0;const h=6;for(let m=0;m<h;m++)c[m]!==void 0&&f++;return f===h}function r(c){const f=c.target;f.removeEventListener("dispose",r);const h=e.get(f);h!==void 0&&(e.delete(f),h.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function VY(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const a=n.getExtension(i);return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&$0("WebGLRenderer: "+i+" extension not supported."),a}}}function HY(n,e,t,i){const a={},r=new WeakMap;function o(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const b in v.attributes)e.remove(v.attributes[b]);v.removeEventListener("dispose",o),delete a[v.id];const y=r.get(v);y&&(e.remove(y),r.delete(v)),i.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,t.memory.geometries--}function c(g,v){return a[v.id]===!0||(v.addEventListener("dispose",o),a[v.id]=!0,t.memory.geometries++),v}function f(g){const v=g.attributes;for(const y in v)e.update(v[y],n.ARRAY_BUFFER)}function h(g){const v=[],y=g.index,b=g.attributes.position;let M=0;if(y!==null){const E=y.array;M=y.version;for(let w=0,R=E.length;w<R;w+=3){const z=E[w+0],O=E[w+1],P=E[w+2];v.push(z,O,O,P,P,z)}}else if(b!==void 0){const E=b.array;M=b.version;for(let w=0,R=E.length/3-1;w<R;w+=3){const z=w+0,O=w+1,P=w+2;v.push(z,O,O,P,P,z)}}else return;const A=new(n8(v)?GM:jM)(v,1);A.version=M;const S=r.get(g);S&&e.remove(S),r.set(g,A)}function m(g){const v=r.get(g);if(v){const y=g.index;y!==null&&v.version<y.version&&h(g)}else h(g);return r.get(g)}return{get:c,update:f,getWireframeAttribute:m}}function jY(n,e,t){let i;function a(v){i=v}let r,o;function c(v){r=v.type,o=v.bytesPerElement}function f(v,y){n.drawElements(i,y,r,v*o),t.update(y,i,1)}function h(v,y,b){b!==0&&(n.drawElementsInstanced(i,y,r,v*o,b),t.update(y,i,b))}function m(v,y,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,y,0,r,v,0,b);let A=0;for(let S=0;S<b;S++)A+=y[S];t.update(A,i,1)}function g(v,y,b,M){if(b===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let S=0;S<v.length;S++)h(v[S]/o,y[S],M[S]);else{A.multiDrawElementsInstancedWEBGL(i,y,0,r,v,0,M,0,b);let S=0;for(let E=0;E<b;E++)S+=y[E]*M[E];t.update(S,i,1)}}this.setMode=a,this.setIndex=c,this.render=f,this.renderInstances=h,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function GY(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(r/3);break;case n.LINES:t.lines+=c*(r/2);break;case n.LINE_STRIP:t.lines+=c*(r-1);break;case n.LINE_LOOP:t.lines+=c*r;break;case n.POINTS:t.points+=c*r;break;default:Mn("WebGLInfo: Unknown draw mode:",o);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function WY(n,e,t){const i=new WeakMap,a=new xi;function r(o,c,f){const h=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let v=i.get(c);if(v===void 0||v.count!==g){let L=function(){P.dispose(),i.delete(c),c.removeEventListener("dispose",L)};v!==void 0&&v.texture.dispose();const y=c.morphAttributes.position!==void 0,b=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,A=c.morphAttributes.position||[],S=c.morphAttributes.normal||[],E=c.morphAttributes.color||[];let w=0;y===!0&&(w=1),b===!0&&(w=2),M===!0&&(w=3);let R=c.attributes.position.count*w,z=1;R>e.maxTextureSize&&(z=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const O=new Float32Array(R*z*4*g),P=new i2(O,R,z,g);P.type=Ds,P.needsUpdate=!0;const B=w*4;for(let D=0;D<g;D++){const V=A[D],U=S[D],G=E[D],X=R*z*4*D;for(let $=0;$<V.count;$++){const H=$*B;y===!0&&(a.fromBufferAttribute(V,$),O[X+H+0]=a.x,O[X+H+1]=a.y,O[X+H+2]=a.z,O[X+H+3]=0),b===!0&&(a.fromBufferAttribute(U,$),O[X+H+4]=a.x,O[X+H+5]=a.y,O[X+H+6]=a.z,O[X+H+7]=0),M===!0&&(a.fromBufferAttribute(G,$),O[X+H+8]=a.x,O[X+H+9]=a.y,O[X+H+10]=a.z,O[X+H+11]=G.itemSize===4?a.w:1)}}v={count:g,texture:P,size:new pt(R,z)},i.set(c,v),c.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let y=0;for(let M=0;M<h.length;M++)y+=h[M];const b=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",h)}f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}return{update:r}}function YY(n,e,t,i){let a=new WeakMap;function r(f){const h=i.render.frame,m=f.geometry,g=e.get(f,m);if(a.get(g)!==h&&(e.update(g),a.set(g,h)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),a.get(f)!==h&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),a.set(f,h))),f.isSkinnedMesh){const v=f.skeleton;a.get(v)!==h&&(v.update(),a.set(v,h))}return g}function o(){a=new WeakMap}function c(f){const h=f.target;h.removeEventListener("dispose",c),t.remove(h.instanceMatrix),h.instanceColor!==null&&t.remove(h.instanceColor)}return{update:r,dispose:o}}const t9=new La,TC=new p2(1,1),n9=new i2,i9=new a2,a9=new fy,CC=[],RC=[],OC=new Float32Array(16),zC=new Float32Array(9),NC=new Float32Array(4);function hm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=CC[a];if(r===void 0&&(r=new Float32Array(a),CC[a]=r),e!==0){i.toArray(r,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(r,c)}return r}function cr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ur(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function O2(n,e){let t=RC[e];t===void 0&&(t=new Int32Array(e),RC[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function XY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function qY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2fv(this.addr,e),ur(t,e)}}function $Y(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(cr(t,e))return;n.uniform3fv(this.addr,e),ur(t,e)}}function KY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4fv(this.addr,e),ur(t,e)}}function ZY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ur(t,e)}else{if(cr(t,i))return;NC.set(i),n.uniformMatrix2fv(this.addr,!1,NC),ur(t,i)}}function JY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ur(t,e)}else{if(cr(t,i))return;zC.set(i),n.uniformMatrix3fv(this.addr,!1,zC),ur(t,i)}}function QY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ur(t,e)}else{if(cr(t,i))return;OC.set(i),n.uniformMatrix4fv(this.addr,!1,OC),ur(t,i)}}function eX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function tX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2iv(this.addr,e),ur(t,e)}}function nX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3iv(this.addr,e),ur(t,e)}}function iX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4iv(this.addr,e),ur(t,e)}}function aX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function rX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2uiv(this.addr,e),ur(t,e)}}function sX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3uiv(this.addr,e),ur(t,e)}}function oX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4uiv(this.addr,e),ur(t,e)}}function lX(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(TC.compareFunction=FM,r=TC):r=t9,t.setTexture2D(e||r,a)}function cX(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||i9,a)}function uX(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||a9,a)}function fX(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||n9,a)}function dX(n){switch(n){case 5126:return XY;case 35664:return qY;case 35665:return $Y;case 35666:return KY;case 35674:return ZY;case 35675:return JY;case 35676:return QY;case 5124:case 35670:return eX;case 35667:case 35671:return tX;case 35668:case 35672:return nX;case 35669:case 35673:return iX;case 5125:return aX;case 36294:return rX;case 36295:return sX;case 36296:return oX;case 35678:case 36198:case 36298:case 36306:case 35682:return lX;case 35679:case 36299:case 36307:return cX;case 35680:case 36300:case 36308:case 36293:return uX;case 36289:case 36303:case 36311:case 36292:return fX}}function hX(n,e){n.uniform1fv(this.addr,e)}function pX(n,e){const t=hm(e,this.size,2);n.uniform2fv(this.addr,t)}function mX(n,e){const t=hm(e,this.size,3);n.uniform3fv(this.addr,t)}function gX(n,e){const t=hm(e,this.size,4);n.uniform4fv(this.addr,t)}function yX(n,e){const t=hm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function xX(n,e){const t=hm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function vX(n,e){const t=hm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function bX(n,e){n.uniform1iv(this.addr,e)}function _X(n,e){n.uniform2iv(this.addr,e)}function SX(n,e){n.uniform3iv(this.addr,e)}function MX(n,e){n.uniform4iv(this.addr,e)}function AX(n,e){n.uniform1uiv(this.addr,e)}function wX(n,e){n.uniform2uiv(this.addr,e)}function EX(n,e){n.uniform3uiv(this.addr,e)}function TX(n,e){n.uniform4uiv(this.addr,e)}function CX(n,e,t){const i=this.cache,a=e.length,r=O2(t,a);cr(i,r)||(n.uniform1iv(this.addr,r),ur(i,r));for(let o=0;o!==a;++o)t.setTexture2D(e[o]||t9,r[o])}function RX(n,e,t){const i=this.cache,a=e.length,r=O2(t,a);cr(i,r)||(n.uniform1iv(this.addr,r),ur(i,r));for(let o=0;o!==a;++o)t.setTexture3D(e[o]||i9,r[o])}function OX(n,e,t){const i=this.cache,a=e.length,r=O2(t,a);cr(i,r)||(n.uniform1iv(this.addr,r),ur(i,r));for(let o=0;o!==a;++o)t.setTextureCube(e[o]||a9,r[o])}function zX(n,e,t){const i=this.cache,a=e.length,r=O2(t,a);cr(i,r)||(n.uniform1iv(this.addr,r),ur(i,r));for(let o=0;o!==a;++o)t.setTexture2DArray(e[o]||n9,r[o])}function NX(n){switch(n){case 5126:return hX;case 35664:return pX;case 35665:return mX;case 35666:return gX;case 35674:return yX;case 35675:return xX;case 35676:return vX;case 5124:case 35670:return bX;case 35667:case 35671:return _X;case 35668:case 35672:return SX;case 35669:case 35673:return MX;case 5125:return AX;case 36294:return wX;case 36295:return EX;case 36296:return TX;case 35678:case 36198:case 36298:case 36306:case 35682:return CX;case 35679:case 36299:case 36307:return RX;case 35680:case 36300:case 36308:case 36293:return OX;case 36289:case 36303:case 36311:case 36292:return zX}}class DX{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=dX(t.type)}}class LX{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=NX(t.type)}}class IX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,o=a.length;r!==o;++r){const c=a[r];c.setValue(e,t[c.id],i)}}}const CS=/(\w+)(\])?(\[|\.)?/g;function DC(n,e){n.seq.push(e),n.map[e.id]=e}function PX(n,e,t){const i=n.name,a=i.length;for(CS.lastIndex=0;;){const r=CS.exec(i),o=CS.lastIndex;let c=r[1];const f=r[2]==="]",h=r[3];if(f&&(c=c|0),h===void 0||h==="["&&o+2===a){DC(t,h===void 0?new DX(c,n,e):new LX(c,n,e));break}else{let g=t.map[c];g===void 0&&(g=new IX(c),DC(t,g)),t=g}}}class ub{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),o=e.getUniformLocation(t,r.name);PX(r,o,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,o=t.length;r!==o;++r){const c=t[r],f=i[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const o=e[a];o.id in t&&i.push(o)}return i}}function LC(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const UX=37297;let BX=0;function kX(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=a;o<r;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const IC=new Nn;function FX(n){Xn._getMatrix(IC,Xn.workingColorSpace,n);const e=`mat3( ${IC.elements.map(t=>t.toFixed(4))} )`;switch(Xn.getTransfer(n)){case V1:return[e,"LinearTransferOETF"];case Fi:return[e,"sRGBTransferOETF"];default:return Ut("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function PC(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+kX(n.getShaderSource(e),c)}else return r}function VX(n,e){const t=FX(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function HX(n,e){let t;switch(e){case P6:t="Linear";break;case U6:t="Reinhard";break;case B6:t="Cineon";break;case X_:t="ACESFilmic";break;case F6:t="AgX";break;case V6:t="Neutral";break;case k6:t="Custom";break;default:Ut("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Vv=new pe;function jX(){Xn.getLuminanceCoefficients(Vv);const n=Vv.x.toFixed(4),e=Vv.y.toFixed(4),t=Vv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GX(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(f1).join(`
`)}function WX(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function YX(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),o=r.name;let c=1;r.type===n.FLOAT_MAT2&&(c=2),r.type===n.FLOAT_MAT3&&(c=3),r.type===n.FLOAT_MAT4&&(c=4),t[o]={type:r.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function f1(n){return n!==""}function UC(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function BC(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const XX=/^[ \t]*#include +<([\w\d./]+)>/gm;function I5(n){return n.replace(XX,$X)}const qX=new Map;function $X(n,e){let t=Fn[e];if(t===void 0){const i=qX.get(e);if(i!==void 0)t=Fn[i],Ut('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return I5(t)}const KX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kC(n){return n.replace(KX,ZX)}function ZX(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function FC(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Y_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===y1?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Nl&&(e="SHADOWMAP_TYPE_VSM"),e}function QX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ku:case qf:e="ENVMAP_TYPE_CUBE";break;case om:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eq(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case qf:e="ENVMAP_MODE_REFRACTION";break}return e}function tq(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case cy:e="ENVMAP_BLENDING_MULTIPLY";break;case L6:e="ENVMAP_BLENDING_MIX";break;case I6:e="ENVMAP_BLENDING_ADD";break}return e}function nq(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function iq(n,e,t,i){const a=n.getContext(),r=t.defines;let o=t.vertexShader,c=t.fragmentShader;const f=JX(t),h=QX(t),m=eq(t),g=tq(t),v=nq(t),y=GX(t),b=WX(r),M=a.createProgram();let A,S,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(f1).join(`
`),A.length>0&&(A+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(f1).join(`
`),S.length>0&&(S+=`
`)):(A=[FC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(f1).join(`
`),S=[FC(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Pc?"#define TONE_MAPPING":"",t.toneMapping!==Pc?Fn.tonemapping_pars_fragment:"",t.toneMapping!==Pc?HX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Fn.colorspace_pars_fragment,VX("linearToOutputTexel",t.outputColorSpace),jX(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(f1).join(`
`)),o=I5(o),o=UC(o,t),o=BC(o,t),c=I5(c),c=UC(c,t),c=BC(c,t),o=kC(o),c=kC(c),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,A=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,S=["#define varying in",t.glslVersion===E5?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===E5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const w=E+A+o,R=E+S+c,z=LC(a,a.VERTEX_SHADER,w),O=LC(a,a.FRAGMENT_SHADER,R);a.attachShader(M,z),a.attachShader(M,O),t.index0AttributeName!==void 0?a.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(M,0,"position"),a.linkProgram(M);function P(V){if(n.debug.checkShaderErrors){const U=a.getProgramInfoLog(M)||"",G=a.getShaderInfoLog(z)||"",X=a.getShaderInfoLog(O)||"",$=U.trim(),H=G.trim(),K=X.trim();let Q=!0,W=!0;if(a.getProgramParameter(M,a.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,M,z,O);else{const ce=PC(a,z,"vertex"),q=PC(a,O,"fragment");Mn("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(M,a.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+$+`
`+ce+`
`+q)}else $!==""?Ut("WebGLProgram: Program Info Log:",$):(H===""||K==="")&&(W=!1);W&&(V.diagnostics={runnable:Q,programLog:$,vertexShader:{log:H,prefix:A},fragmentShader:{log:K,prefix:S}})}a.deleteShader(z),a.deleteShader(O),B=new ub(a,M),L=YX(a,M)}let B;this.getUniforms=function(){return B===void 0&&P(this),B};let L;this.getAttributes=function(){return L===void 0&&P(this),L};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=a.getProgramParameter(M,UX)),D},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=BX++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=z,this.fragmentShader=O,this}let aq=0;class rq{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new sq(e),t.set(e,i)),i}}class sq{constructor(e){this.id=aq++,this.code=e,this.usedTimes=0}}function oq(n,e,t,i,a,r,o){const c=new Z0,f=new rq,h=new Set,m=[],g=a.logarithmicDepthBuffer,v=a.vertexTextures;let y=a.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(L){return h.add(L),L===0?"uv":`uv${L}`}function A(L,D,V,U,G){const X=U.fog,$=G.geometry,H=L.isMeshStandardMaterial?U.environment:null,K=(L.isMeshStandardMaterial?t:e).get(L.envMap||H),Q=K&&K.mapping===om?K.image.height:null,W=b[L.type];L.precision!==null&&(y=a.getMaxPrecision(L.precision),y!==L.precision&&Ut("WebGLProgram.getParameters:",L.precision,"not supported, using",y,"instead."));const ce=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,q=ce!==void 0?ce.length:0;let ie=0;$.morphAttributes.position!==void 0&&(ie=1),$.morphAttributes.normal!==void 0&&(ie=2),$.morphAttributes.color!==void 0&&(ie=3);let fe,ge,re,te;if(W){const tn=Dl[W];fe=tn.vertexShader,ge=tn.fragmentShader}else fe=L.vertexShader,ge=L.fragmentShader,f.update(L),re=f.getVertexShaderID(L),te=f.getFragmentShaderID(L);const se=n.getRenderTarget(),ve=n.state.buffers.depth.getReversed(),ze=G.isInstancedMesh===!0,De=G.isBatchedMesh===!0,rt=!!L.map,nt=!!L.matcap,Ge=!!K,Ee=!!L.aoMap,ne=!!L.lightMap,Oe=!!L.bumpMap,Ae=!!L.normalMap,Ve=!!L.displacementMap,Be=!!L.emissiveMap,ke=!!L.metalnessMap,Ke=!!L.roughnessMap,Ye=L.anisotropy>0,de=L.clearcoat>0,Z=L.dispersion>0,xe=L.iridescence>0,Me=L.sheen>0,Ne=L.transmission>0,Te=Ye&&!!L.anisotropyMap,gt=de&&!!L.clearcoatMap,Fe=de&&!!L.clearcoatNormalMap,dt=de&&!!L.clearcoatRoughnessMap,ot=xe&&!!L.iridescenceMap,je=xe&&!!L.iridescenceThicknessMap,Ze=Me&&!!L.sheenColorMap,Dt=Me&&!!L.sheenRoughnessMap,be=!!L.specularMap,He=!!L.specularColorMap,vt=!!L.specularIntensityMap,ye=Ne&&!!L.transmissionMap,at=Ne&&!!L.thicknessMap,ft=!!L.gradientMap,bt=!!L.alphaMap,yt=L.alphaTest>0,lt=!!L.alphaHash,Ot=!!L.extensions;let Wt=Pc;L.toneMapped&&(se===null||se.isXRRenderTarget===!0)&&(Wt=n.toneMapping);const bn={shaderID:W,shaderType:L.type,shaderName:L.name,vertexShader:fe,fragmentShader:ge,defines:L.defines,customVertexShaderID:re,customFragmentShaderID:te,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:y,batching:De,batchingColor:De&&G._colorsTexture!==null,instancing:ze,instancingColor:ze&&G.instanceColor!==null,instancingMorph:ze&&G.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:se===null?n.outputColorSpace:se.isXRRenderTarget===!0?se.texture.colorSpace:$f,alphaToCoverage:!!L.alphaToCoverage,map:rt,matcap:nt,envMap:Ge,envMapMode:Ge&&K.mapping,envMapCubeUVHeight:Q,aoMap:Ee,lightMap:ne,bumpMap:Oe,normalMap:Ae,displacementMap:v&&Ve,emissiveMap:Be,normalMapObjectSpace:Ae&&L.normalMapType===q6,normalMapTangentSpace:Ae&&L.normalMapType===ed,metalnessMap:ke,roughnessMap:Ke,anisotropy:Ye,anisotropyMap:Te,clearcoat:de,clearcoatMap:gt,clearcoatNormalMap:Fe,clearcoatRoughnessMap:dt,dispersion:Z,iridescence:xe,iridescenceMap:ot,iridescenceThicknessMap:je,sheen:Me,sheenColorMap:Ze,sheenRoughnessMap:Dt,specularMap:be,specularColorMap:He,specularIntensityMap:vt,transmission:Ne,transmissionMap:ye,thicknessMap:at,gradientMap:ft,opaque:L.transparent===!1&&L.blending===Wf&&L.alphaToCoverage===!1,alphaMap:bt,alphaTest:yt,alphaHash:lt,combine:L.combine,mapUv:rt&&M(L.map.channel),aoMapUv:Ee&&M(L.aoMap.channel),lightMapUv:ne&&M(L.lightMap.channel),bumpMapUv:Oe&&M(L.bumpMap.channel),normalMapUv:Ae&&M(L.normalMap.channel),displacementMapUv:Ve&&M(L.displacementMap.channel),emissiveMapUv:Be&&M(L.emissiveMap.channel),metalnessMapUv:ke&&M(L.metalnessMap.channel),roughnessMapUv:Ke&&M(L.roughnessMap.channel),anisotropyMapUv:Te&&M(L.anisotropyMap.channel),clearcoatMapUv:gt&&M(L.clearcoatMap.channel),clearcoatNormalMapUv:Fe&&M(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:dt&&M(L.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&M(L.iridescenceMap.channel),iridescenceThicknessMapUv:je&&M(L.iridescenceThicknessMap.channel),sheenColorMapUv:Ze&&M(L.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&M(L.sheenRoughnessMap.channel),specularMapUv:be&&M(L.specularMap.channel),specularColorMapUv:He&&M(L.specularColorMap.channel),specularIntensityMapUv:vt&&M(L.specularIntensityMap.channel),transmissionMapUv:ye&&M(L.transmissionMap.channel),thicknessMapUv:at&&M(L.thicknessMap.channel),alphaMapUv:bt&&M(L.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(Ae||Ye),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:G.isPoints===!0&&!!$.attributes.uv&&(rt||bt),fog:!!X,useFog:L.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:ve,skinning:G.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ie,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:Wt,decodeVideoTexture:rt&&L.map.isVideoTexture===!0&&Xn.getTransfer(L.map.colorSpace)===Fi,decodeVideoTextureEmissive:Be&&L.emissiveMap.isVideoTexture===!0&&Xn.getTransfer(L.emissiveMap.colorSpace)===Fi,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===vo,flipSided:L.side===Is,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Ot&&L.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&L.extensions.multiDraw===!0||De)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return bn.vertexUv1s=h.has(1),bn.vertexUv2s=h.has(2),bn.vertexUv3s=h.has(3),h.clear(),bn}function S(L){const D=[];if(L.shaderID?D.push(L.shaderID):(D.push(L.customVertexShaderID),D.push(L.customFragmentShaderID)),L.defines!==void 0)for(const V in L.defines)D.push(V),D.push(L.defines[V]);return L.isRawShaderMaterial===!1&&(E(D,L),w(D,L),D.push(n.outputColorSpace)),D.push(L.customProgramCacheKey),D.join()}function E(L,D){L.push(D.precision),L.push(D.outputColorSpace),L.push(D.envMapMode),L.push(D.envMapCubeUVHeight),L.push(D.mapUv),L.push(D.alphaMapUv),L.push(D.lightMapUv),L.push(D.aoMapUv),L.push(D.bumpMapUv),L.push(D.normalMapUv),L.push(D.displacementMapUv),L.push(D.emissiveMapUv),L.push(D.metalnessMapUv),L.push(D.roughnessMapUv),L.push(D.anisotropyMapUv),L.push(D.clearcoatMapUv),L.push(D.clearcoatNormalMapUv),L.push(D.clearcoatRoughnessMapUv),L.push(D.iridescenceMapUv),L.push(D.iridescenceThicknessMapUv),L.push(D.sheenColorMapUv),L.push(D.sheenRoughnessMapUv),L.push(D.specularMapUv),L.push(D.specularColorMapUv),L.push(D.specularIntensityMapUv),L.push(D.transmissionMapUv),L.push(D.thicknessMapUv),L.push(D.combine),L.push(D.fogExp2),L.push(D.sizeAttenuation),L.push(D.morphTargetsCount),L.push(D.morphAttributeCount),L.push(D.numDirLights),L.push(D.numPointLights),L.push(D.numSpotLights),L.push(D.numSpotLightMaps),L.push(D.numHemiLights),L.push(D.numRectAreaLights),L.push(D.numDirLightShadows),L.push(D.numPointLightShadows),L.push(D.numSpotLightShadows),L.push(D.numSpotLightShadowsWithMaps),L.push(D.numLightProbes),L.push(D.shadowMapType),L.push(D.toneMapping),L.push(D.numClippingPlanes),L.push(D.numClipIntersection),L.push(D.depthPacking)}function w(L,D){c.disableAll(),D.supportsVertexTextures&&c.enable(0),D.instancing&&c.enable(1),D.instancingColor&&c.enable(2),D.instancingMorph&&c.enable(3),D.matcap&&c.enable(4),D.envMap&&c.enable(5),D.normalMapObjectSpace&&c.enable(6),D.normalMapTangentSpace&&c.enable(7),D.clearcoat&&c.enable(8),D.iridescence&&c.enable(9),D.alphaTest&&c.enable(10),D.vertexColors&&c.enable(11),D.vertexAlphas&&c.enable(12),D.vertexUv1s&&c.enable(13),D.vertexUv2s&&c.enable(14),D.vertexUv3s&&c.enable(15),D.vertexTangents&&c.enable(16),D.anisotropy&&c.enable(17),D.alphaHash&&c.enable(18),D.batching&&c.enable(19),D.dispersion&&c.enable(20),D.batchingColor&&c.enable(21),D.gradientMap&&c.enable(22),L.push(c.mask),c.disableAll(),D.fog&&c.enable(0),D.useFog&&c.enable(1),D.flatShading&&c.enable(2),D.logarithmicDepthBuffer&&c.enable(3),D.reversedDepthBuffer&&c.enable(4),D.skinning&&c.enable(5),D.morphTargets&&c.enable(6),D.morphNormals&&c.enable(7),D.morphColors&&c.enable(8),D.premultipliedAlpha&&c.enable(9),D.shadowMapEnabled&&c.enable(10),D.doubleSided&&c.enable(11),D.flipSided&&c.enable(12),D.useDepthPacking&&c.enable(13),D.dithering&&c.enable(14),D.transmission&&c.enable(15),D.sheen&&c.enable(16),D.opaque&&c.enable(17),D.pointsUvs&&c.enable(18),D.decodeVideoTexture&&c.enable(19),D.decodeVideoTextureEmissive&&c.enable(20),D.alphaToCoverage&&c.enable(21),L.push(c.mask)}function R(L){const D=b[L.type];let V;if(D){const U=Dl[D];V=o8.clone(U.uniforms)}else V=L.uniforms;return V}function z(L,D){let V;for(let U=0,G=m.length;U<G;U++){const X=m[U];if(X.cacheKey===D){V=X,++V.usedTimes;break}}return V===void 0&&(V=new iq(n,D,L,r),m.push(V)),V}function O(L){if(--L.usedTimes===0){const D=m.indexOf(L);m[D]=m[m.length-1],m.pop(),L.destroy()}}function P(L){f.remove(L)}function B(){f.dispose()}return{getParameters:A,getProgramCacheKey:S,getUniforms:R,acquireProgram:z,releaseProgram:O,releaseShaderCache:P,programs:m,dispose:B}}function lq(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function a(o,c,f){n.get(o)[c]=f}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function cq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function VC(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function HC(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function o(g,v,y,b,M,A){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:v,material:y,groupOrder:b,renderOrder:g.renderOrder,z:M,group:A},n[e]=S):(S.id=g.id,S.object=g,S.geometry=v,S.material=y,S.groupOrder=b,S.renderOrder=g.renderOrder,S.z=M,S.group=A),e++,S}function c(g,v,y,b,M,A){const S=o(g,v,y,b,M,A);y.transmission>0?i.push(S):y.transparent===!0?a.push(S):t.push(S)}function f(g,v,y,b,M,A){const S=o(g,v,y,b,M,A);y.transmission>0?i.unshift(S):y.transparent===!0?a.unshift(S):t.unshift(S)}function h(g,v){t.length>1&&t.sort(g||cq),i.length>1&&i.sort(v||VC),a.length>1&&a.sort(v||VC)}function m(){for(let g=e,v=n.length;g<v;g++){const y=n[g];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:c,unshift:f,finish:m,sort:h}}function uq(){let n=new WeakMap;function e(i,a){const r=n.get(i);let o;return r===void 0?(o=new HC,n.set(i,[o])):a>=r.length?(o=new HC,r.push(o)):o=r[a],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function fq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new pe,color:new Ct};break;case"SpotLight":t={position:new pe,direction:new pe,color:new Ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new pe,color:new Ct,distance:0,decay:0};break;case"HemisphereLight":t={direction:new pe,skyColor:new Ct,groundColor:new Ct};break;case"RectAreaLight":t={color:new Ct,position:new pe,halfWidth:new pe,halfHeight:new pe};break}return n[e.id]=t,t}}}function dq(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let hq=0;function pq(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function mq(n){const e=new fq,t=dq(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new pe);const a=new pe,r=new rn,o=new rn;function c(h){let m=0,g=0,v=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let y=0,b=0,M=0,A=0,S=0,E=0,w=0,R=0,z=0,O=0,P=0;h.sort(pq);for(let L=0,D=h.length;L<D;L++){const V=h[L],U=V.color,G=V.intensity,X=V.distance,$=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)m+=U.r*G,g+=U.g*G,v+=U.b*G;else if(V.isLightProbe){for(let H=0;H<9;H++)i.probe[H].addScaledVector(V.sh.coefficients[H],G);P++}else if(V.isDirectionalLight){const H=e.get(V);if(H.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const K=V.shadow,Q=t.get(V);Q.shadowIntensity=K.intensity,Q.shadowBias=K.bias,Q.shadowNormalBias=K.normalBias,Q.shadowRadius=K.radius,Q.shadowMapSize=K.mapSize,i.directionalShadow[y]=Q,i.directionalShadowMap[y]=$,i.directionalShadowMatrix[y]=V.shadow.matrix,E++}i.directional[y]=H,y++}else if(V.isSpotLight){const H=e.get(V);H.position.setFromMatrixPosition(V.matrixWorld),H.color.copy(U).multiplyScalar(G),H.distance=X,H.coneCos=Math.cos(V.angle),H.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),H.decay=V.decay,i.spot[M]=H;const K=V.shadow;if(V.map&&(i.spotLightMap[z]=V.map,z++,K.updateMatrices(V),V.castShadow&&O++),i.spotLightMatrix[M]=K.matrix,V.castShadow){const Q=t.get(V);Q.shadowIntensity=K.intensity,Q.shadowBias=K.bias,Q.shadowNormalBias=K.normalBias,Q.shadowRadius=K.radius,Q.shadowMapSize=K.mapSize,i.spotShadow[M]=Q,i.spotShadowMap[M]=$,R++}M++}else if(V.isRectAreaLight){const H=e.get(V);H.color.copy(U).multiplyScalar(G),H.halfWidth.set(V.width*.5,0,0),H.halfHeight.set(0,V.height*.5,0),i.rectArea[A]=H,A++}else if(V.isPointLight){const H=e.get(V);if(H.color.copy(V.color).multiplyScalar(V.intensity),H.distance=V.distance,H.decay=V.decay,V.castShadow){const K=V.shadow,Q=t.get(V);Q.shadowIntensity=K.intensity,Q.shadowBias=K.bias,Q.shadowNormalBias=K.normalBias,Q.shadowRadius=K.radius,Q.shadowMapSize=K.mapSize,Q.shadowCameraNear=K.camera.near,Q.shadowCameraFar=K.camera.far,i.pointShadow[b]=Q,i.pointShadowMap[b]=$,i.pointShadowMatrix[b]=V.shadow.matrix,w++}i.point[b]=H,b++}else if(V.isHemisphereLight){const H=e.get(V);H.skyColor.copy(V.color).multiplyScalar(G),H.groundColor.copy(V.groundColor).multiplyScalar(G),i.hemi[S]=H,S++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Pt.LTC_FLOAT_1,i.rectAreaLTC2=Pt.LTC_FLOAT_2):(i.rectAreaLTC1=Pt.LTC_HALF_1,i.rectAreaLTC2=Pt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=v;const B=i.hash;(B.directionalLength!==y||B.pointLength!==b||B.spotLength!==M||B.rectAreaLength!==A||B.hemiLength!==S||B.numDirectionalShadows!==E||B.numPointShadows!==w||B.numSpotShadows!==R||B.numSpotMaps!==z||B.numLightProbes!==P)&&(i.directional.length=y,i.spot.length=M,i.rectArea.length=A,i.point.length=b,i.hemi.length=S,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=R+z-O,i.spotLightMap.length=z,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=P,B.directionalLength=y,B.pointLength=b,B.spotLength=M,B.rectAreaLength=A,B.hemiLength=S,B.numDirectionalShadows=E,B.numPointShadows=w,B.numSpotShadows=R,B.numSpotMaps=z,B.numLightProbes=P,i.version=hq++)}function f(h,m){let g=0,v=0,y=0,b=0,M=0;const A=m.matrixWorldInverse;for(let S=0,E=h.length;S<E;S++){const w=h[S];if(w.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(A),g++}else if(w.isSpotLight){const R=i.spot[y];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),R.direction.setFromMatrixPosition(w.matrixWorld),a.setFromMatrixPosition(w.target.matrixWorld),R.direction.sub(a),R.direction.transformDirection(A),y++}else if(w.isRectAreaLight){const R=i.rectArea[b];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),o.identity(),r.copy(w.matrixWorld),r.premultiply(A),o.extractRotation(r),R.halfWidth.set(w.width*.5,0,0),R.halfHeight.set(0,w.height*.5,0),R.halfWidth.applyMatrix4(o),R.halfHeight.applyMatrix4(o),b++}else if(w.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(w.matrixWorld),R.position.applyMatrix4(A),v++}else if(w.isHemisphereLight){const R=i.hemi[M];R.direction.setFromMatrixPosition(w.matrixWorld),R.direction.transformDirection(A),M++}}}return{setup:c,setupView:f,state:i}}function jC(n){const e=new mq(n),t=[],i=[];function a(m){h.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function f(m){e.setupView(t,m)}const h={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:h,setupLights:c,setupLightsView:f,pushLight:r,pushShadow:o}}function gq(n){let e=new WeakMap;function t(a,r=0){const o=e.get(a);let c;return o===void 0?(c=new jC(n),e.set(a,[c])):r>=o.length?(c=new jC(n),o.push(c)):c=o[r],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const yq=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xq=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function vq(n,e,t){let i=new lm;const a=new pt,r=new pt,o=new xi,c=new nA({depthPacking:X6}),f=new iA,h={},m=t.maxTextureSize,g={[Bc]:Is,[Is]:Bc,[vo]:vo},v=new Eo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pt},radius:{value:4}},vertexShader:yq,fragmentShader:xq}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const b=new Tn;b.setAttribute("position",new zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new oa(b,v),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Y_;let S=this.type;this.render=function(O,P,B){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||O.length===0)return;const L=n.getRenderTarget(),D=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Ic),U.buffers.depth.getReversed()===!0?U.buffers.color.setClear(0,0,0,0):U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const G=S!==Nl&&this.type===Nl,X=S===Nl&&this.type!==Nl;for(let $=0,H=O.length;$<H;$++){const K=O[$],Q=K.shadow;if(Q===void 0){Ut("WebGLShadowMap:",K,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;a.copy(Q.mapSize);const W=Q.getFrameExtents();if(a.multiply(W),r.copy(Q.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(r.x=Math.floor(m/W.x),a.x=r.x*W.x,Q.mapSize.x=r.x),a.y>m&&(r.y=Math.floor(m/W.y),a.y=r.y*W.y,Q.mapSize.y=r.y)),Q.map===null||G===!0||X===!0){const q=this.type!==Nl?{minFilter:Dr,magFilter:Dr}:{};Q.map!==null&&Q.map.dispose(),Q.map=new kl(a.x,a.y,q),Q.map.texture.name=K.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const ce=Q.getViewportCount();for(let q=0;q<ce;q++){const ie=Q.getViewport(q);o.set(r.x*ie.x,r.y*ie.y,r.x*ie.z,r.y*ie.w),U.viewport(o),Q.updateMatrices(K,q),i=Q.getFrustum(),R(P,B,Q.camera,K,this.type)}Q.isPointLightShadow!==!0&&this.type===Nl&&E(Q,B),Q.needsUpdate=!1}S=this.type,A.needsUpdate=!1,n.setRenderTarget(L,D,V)};function E(O,P){const B=e.update(M);v.defines.VSM_SAMPLES!==O.blurSamples&&(v.defines.VSM_SAMPLES=O.blurSamples,y.defines.VSM_SAMPLES=O.blurSamples,v.needsUpdate=!0,y.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new kl(a.x,a.y)),v.uniforms.shadow_pass.value=O.map.texture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(P,null,B,v,M,null),y.uniforms.shadow_pass.value=O.mapPass.texture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(P,null,B,y,M,null)}function w(O,P,B,L){let D=null;const V=B.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(V!==void 0)D=V;else if(D=B.isPointLight===!0?f:c,n.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const U=D.uuid,G=P.uuid;let X=h[U];X===void 0&&(X={},h[U]=X);let $=X[G];$===void 0&&($=D.clone(),X[G]=$,P.addEventListener("dispose",z)),D=$}if(D.visible=P.visible,D.wireframe=P.wireframe,L===Nl?D.side=P.shadowSide!==null?P.shadowSide:P.side:D.side=P.shadowSide!==null?P.shadowSide:g[P.side],D.alphaMap=P.alphaMap,D.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,D.map=P.map,D.clipShadows=P.clipShadows,D.clippingPlanes=P.clippingPlanes,D.clipIntersection=P.clipIntersection,D.displacementMap=P.displacementMap,D.displacementScale=P.displacementScale,D.displacementBias=P.displacementBias,D.wireframeLinewidth=P.wireframeLinewidth,D.linewidth=P.linewidth,B.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const U=n.properties.get(D);U.light=B}return D}function R(O,P,B,L,D){if(O.visible===!1)return;if(O.layers.test(P.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&D===Nl)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,O.matrixWorld);const G=e.update(O),X=O.material;if(Array.isArray(X)){const $=G.groups;for(let H=0,K=$.length;H<K;H++){const Q=$[H],W=X[Q.materialIndex];if(W&&W.visible){const ce=w(O,W,L,D);O.onBeforeShadow(n,O,P,B,G,ce,Q),n.renderBufferDirect(B,null,G,ce,O,Q),O.onAfterShadow(n,O,P,B,G,ce,Q)}}}else if(X.visible){const $=w(O,X,L,D);O.onBeforeShadow(n,O,P,B,G,$,null),n.renderBufferDirect(B,null,G,$,O,null),O.onAfterShadow(n,O,P,B,G,$,null)}}const U=O.children;for(let G=0,X=U.length;G<X;G++)R(U[G],P,B,L,D)}function z(O){O.target.removeEventListener("dispose",z);for(const B in h){const L=h[B],D=O.target.uuid;D in L&&(L[D].dispose(),delete L[D])}}}const bq={[Tb]:Cb,[Rb]:Nb,[Ob]:Db,[Ch]:zb,[Cb]:Tb,[Nb]:Rb,[Db]:Ob,[zb]:Ch};function _q(n,e){function t(){let ye=!1;const at=new xi;let ft=null;const bt=new xi(0,0,0,0);return{setMask:function(yt){ft!==yt&&!ye&&(n.colorMask(yt,yt,yt,yt),ft=yt)},setLocked:function(yt){ye=yt},setClear:function(yt,lt,Ot,Wt,bn){bn===!0&&(yt*=Wt,lt*=Wt,Ot*=Wt),at.set(yt,lt,Ot,Wt),bt.equals(at)===!1&&(n.clearColor(yt,lt,Ot,Wt),bt.copy(at))},reset:function(){ye=!1,ft=null,bt.set(-1,0,0,0)}}}function i(){let ye=!1,at=!1,ft=null,bt=null,yt=null;return{setReversed:function(lt){if(at!==lt){const Ot=e.get("EXT_clip_control");lt?Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.ZERO_TO_ONE_EXT):Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.NEGATIVE_ONE_TO_ONE_EXT),at=lt;const Wt=yt;yt=null,this.setClear(Wt)}},getReversed:function(){return at},setTest:function(lt){lt?se(n.DEPTH_TEST):ve(n.DEPTH_TEST)},setMask:function(lt){ft!==lt&&!ye&&(n.depthMask(lt),ft=lt)},setFunc:function(lt){if(at&&(lt=bq[lt]),bt!==lt){switch(lt){case Tb:n.depthFunc(n.NEVER);break;case Cb:n.depthFunc(n.ALWAYS);break;case Rb:n.depthFunc(n.LESS);break;case Ch:n.depthFunc(n.LEQUAL);break;case Ob:n.depthFunc(n.EQUAL);break;case zb:n.depthFunc(n.GEQUAL);break;case Nb:n.depthFunc(n.GREATER);break;case Db:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}bt=lt}},setLocked:function(lt){ye=lt},setClear:function(lt){yt!==lt&&(at&&(lt=1-lt),n.clearDepth(lt),yt=lt)},reset:function(){ye=!1,ft=null,bt=null,yt=null,at=!1}}}function a(){let ye=!1,at=null,ft=null,bt=null,yt=null,lt=null,Ot=null,Wt=null,bn=null;return{setTest:function(tn){ye||(tn?se(n.STENCIL_TEST):ve(n.STENCIL_TEST))},setMask:function(tn){at!==tn&&!ye&&(n.stencilMask(tn),at=tn)},setFunc:function(tn,di,Yt){(ft!==tn||bt!==di||yt!==Yt)&&(n.stencilFunc(tn,di,Yt),ft=tn,bt=di,yt=Yt)},setOp:function(tn,di,Yt){(lt!==tn||Ot!==di||Wt!==Yt)&&(n.stencilOp(tn,di,Yt),lt=tn,Ot=di,Wt=Yt)},setLocked:function(tn){ye=tn},setClear:function(tn){bn!==tn&&(n.clearStencil(tn),bn=tn)},reset:function(){ye=!1,at=null,ft=null,bt=null,yt=null,lt=null,Ot=null,Wt=null,bn=null}}}const r=new t,o=new i,c=new a,f=new WeakMap,h=new WeakMap;let m={},g={},v=new WeakMap,y=[],b=null,M=!1,A=null,S=null,E=null,w=null,R=null,z=null,O=null,P=new Ct(0,0,0),B=0,L=!1,D=null,V=null,U=null,G=null,X=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,K=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(Q)[1]),H=K>=1):Q.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),H=K>=2);let W=null,ce={};const q=n.getParameter(n.SCISSOR_BOX),ie=n.getParameter(n.VIEWPORT),fe=new xi().fromArray(q),ge=new xi().fromArray(ie);function re(ye,at,ft,bt){const yt=new Uint8Array(4),lt=n.createTexture();n.bindTexture(ye,lt),n.texParameteri(ye,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ye,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ot=0;Ot<ft;Ot++)ye===n.TEXTURE_3D||ye===n.TEXTURE_2D_ARRAY?n.texImage3D(at,0,n.RGBA,1,1,bt,0,n.RGBA,n.UNSIGNED_BYTE,yt):n.texImage2D(at+Ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,yt);return lt}const te={};te[n.TEXTURE_2D]=re(n.TEXTURE_2D,n.TEXTURE_2D,1),te[n.TEXTURE_CUBE_MAP]=re(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[n.TEXTURE_2D_ARRAY]=re(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),te[n.TEXTURE_3D]=re(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),se(n.DEPTH_TEST),o.setFunc(Ch),Oe(!1),Ae(b5),se(n.CULL_FACE),Ee(Ic);function se(ye){m[ye]!==!0&&(n.enable(ye),m[ye]=!0)}function ve(ye){m[ye]!==!1&&(n.disable(ye),m[ye]=!1)}function ze(ye,at){return g[ye]!==at?(n.bindFramebuffer(ye,at),g[ye]=at,ye===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=at),ye===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=at),!0):!1}function De(ye,at){let ft=y,bt=!1;if(ye){ft=v.get(at),ft===void 0&&(ft=[],v.set(at,ft));const yt=ye.textures;if(ft.length!==yt.length||ft[0]!==n.COLOR_ATTACHMENT0){for(let lt=0,Ot=yt.length;lt<Ot;lt++)ft[lt]=n.COLOR_ATTACHMENT0+lt;ft.length=yt.length,bt=!0}}else ft[0]!==n.BACK&&(ft[0]=n.BACK,bt=!0);bt&&n.drawBuffers(ft)}function rt(ye){return b!==ye?(n.useProgram(ye),b=ye,!0):!1}const nt={[Uf]:n.FUNC_ADD,[y6]:n.FUNC_SUBTRACT,[x6]:n.FUNC_REVERSE_SUBTRACT};nt[v6]=n.MIN,nt[b6]=n.MAX;const Ge={[_6]:n.ZERO,[S6]:n.ONE,[M6]:n.SRC_COLOR,[wb]:n.SRC_ALPHA,[R6]:n.SRC_ALPHA_SATURATE,[T6]:n.DST_COLOR,[w6]:n.DST_ALPHA,[A6]:n.ONE_MINUS_SRC_COLOR,[Eb]:n.ONE_MINUS_SRC_ALPHA,[C6]:n.ONE_MINUS_DST_COLOR,[E6]:n.ONE_MINUS_DST_ALPHA,[O6]:n.CONSTANT_COLOR,[z6]:n.ONE_MINUS_CONSTANT_COLOR,[N6]:n.CONSTANT_ALPHA,[D6]:n.ONE_MINUS_CONSTANT_ALPHA};function Ee(ye,at,ft,bt,yt,lt,Ot,Wt,bn,tn){if(ye===Ic){M===!0&&(ve(n.BLEND),M=!1);return}if(M===!1&&(se(n.BLEND),M=!0),ye!==g6){if(ye!==A||tn!==L){if((S!==Uf||R!==Uf)&&(n.blendEquation(n.FUNC_ADD),S=Uf,R=Uf),tn)switch(ye){case Wf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case _5:n.blendFunc(n.ONE,n.ONE);break;case S5:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case M5:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Mn("WebGLState: Invalid blending: ",ye);break}else switch(ye){case Wf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case _5:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case S5:Mn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case M5:Mn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Mn("WebGLState: Invalid blending: ",ye);break}E=null,w=null,z=null,O=null,P.set(0,0,0),B=0,A=ye,L=tn}return}yt=yt||at,lt=lt||ft,Ot=Ot||bt,(at!==S||yt!==R)&&(n.blendEquationSeparate(nt[at],nt[yt]),S=at,R=yt),(ft!==E||bt!==w||lt!==z||Ot!==O)&&(n.blendFuncSeparate(Ge[ft],Ge[bt],Ge[lt],Ge[Ot]),E=ft,w=bt,z=lt,O=Ot),(Wt.equals(P)===!1||bn!==B)&&(n.blendColor(Wt.r,Wt.g,Wt.b,bn),P.copy(Wt),B=bn),A=ye,L=!1}function ne(ye,at){ye.side===vo?ve(n.CULL_FACE):se(n.CULL_FACE);let ft=ye.side===Is;at&&(ft=!ft),Oe(ft),ye.blending===Wf&&ye.transparent===!1?Ee(Ic):Ee(ye.blending,ye.blendEquation,ye.blendSrc,ye.blendDst,ye.blendEquationAlpha,ye.blendSrcAlpha,ye.blendDstAlpha,ye.blendColor,ye.blendAlpha,ye.premultipliedAlpha),o.setFunc(ye.depthFunc),o.setTest(ye.depthTest),o.setMask(ye.depthWrite),r.setMask(ye.colorWrite);const bt=ye.stencilWrite;c.setTest(bt),bt&&(c.setMask(ye.stencilWriteMask),c.setFunc(ye.stencilFunc,ye.stencilRef,ye.stencilFuncMask),c.setOp(ye.stencilFail,ye.stencilZFail,ye.stencilZPass)),Be(ye.polygonOffset,ye.polygonOffsetFactor,ye.polygonOffsetUnits),ye.alphaToCoverage===!0?se(n.SAMPLE_ALPHA_TO_COVERAGE):ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(ye){D!==ye&&(ye?n.frontFace(n.CW):n.frontFace(n.CCW),D=ye)}function Ae(ye){ye!==h6?(se(n.CULL_FACE),ye!==V&&(ye===b5?n.cullFace(n.BACK):ye===p6?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ve(n.CULL_FACE),V=ye}function Ve(ye){ye!==U&&(H&&n.lineWidth(ye),U=ye)}function Be(ye,at,ft){ye?(se(n.POLYGON_OFFSET_FILL),(G!==at||X!==ft)&&(n.polygonOffset(at,ft),G=at,X=ft)):ve(n.POLYGON_OFFSET_FILL)}function ke(ye){ye?se(n.SCISSOR_TEST):ve(n.SCISSOR_TEST)}function Ke(ye){ye===void 0&&(ye=n.TEXTURE0+$-1),W!==ye&&(n.activeTexture(ye),W=ye)}function Ye(ye,at,ft){ft===void 0&&(W===null?ft=n.TEXTURE0+$-1:ft=W);let bt=ce[ft];bt===void 0&&(bt={type:void 0,texture:void 0},ce[ft]=bt),(bt.type!==ye||bt.texture!==at)&&(W!==ft&&(n.activeTexture(ft),W=ft),n.bindTexture(ye,at||te[ye]),bt.type=ye,bt.texture=at)}function de(){const ye=ce[W];ye!==void 0&&ye.type!==void 0&&(n.bindTexture(ye.type,null),ye.type=void 0,ye.texture=void 0)}function Z(){try{n.compressedTexImage2D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function xe(){try{n.compressedTexImage3D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function Me(){try{n.texSubImage2D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function Ne(){try{n.texSubImage3D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function Te(){try{n.compressedTexSubImage2D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function gt(){try{n.compressedTexSubImage3D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function Fe(){try{n.texStorage2D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function dt(){try{n.texStorage3D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function ot(){try{n.texImage2D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function je(){try{n.texImage3D(...arguments)}catch(ye){ye("WebGLState:",ye)}}function Ze(ye){fe.equals(ye)===!1&&(n.scissor(ye.x,ye.y,ye.z,ye.w),fe.copy(ye))}function Dt(ye){ge.equals(ye)===!1&&(n.viewport(ye.x,ye.y,ye.z,ye.w),ge.copy(ye))}function be(ye,at){let ft=h.get(at);ft===void 0&&(ft=new WeakMap,h.set(at,ft));let bt=ft.get(ye);bt===void 0&&(bt=n.getUniformBlockIndex(at,ye.name),ft.set(ye,bt))}function He(ye,at){const bt=h.get(at).get(ye);f.get(at)!==bt&&(n.uniformBlockBinding(at,bt,ye.__bindingPointIndex),f.set(at,bt))}function vt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},W=null,ce={},g={},v=new WeakMap,y=[],b=null,M=!1,A=null,S=null,E=null,w=null,R=null,z=null,O=null,P=new Ct(0,0,0),B=0,L=!1,D=null,V=null,U=null,G=null,X=null,fe.set(0,0,n.canvas.width,n.canvas.height),ge.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),c.reset()}return{buffers:{color:r,depth:o,stencil:c},enable:se,disable:ve,bindFramebuffer:ze,drawBuffers:De,useProgram:rt,setBlending:Ee,setMaterial:ne,setFlipSided:Oe,setCullFace:Ae,setLineWidth:Ve,setPolygonOffset:Be,setScissorTest:ke,activeTexture:Ke,bindTexture:Ye,unbindTexture:de,compressedTexImage2D:Z,compressedTexImage3D:xe,texImage2D:ot,texImage3D:je,updateUBOMapping:be,uniformBlockBinding:He,texStorage2D:Fe,texStorage3D:dt,texSubImage2D:Me,texSubImage3D:Ne,compressedTexSubImage2D:Te,compressedTexSubImage3D:gt,scissor:Ze,viewport:Dt,reset:vt}}function Sq(n,e,t,i,a,r,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new pt,m=new WeakMap;let g;const v=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(de,Z){return y?new OffscreenCanvas(de,Z):j1("canvas")}function M(de,Z,xe){let Me=1;const Ne=Ye(de);if((Ne.width>xe||Ne.height>xe)&&(Me=xe/Math.max(Ne.width,Ne.height)),Me<1)if(typeof HTMLImageElement<"u"&&de instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&de instanceof ImageBitmap||typeof VideoFrame<"u"&&de instanceof VideoFrame){const Te=Math.floor(Me*Ne.width),gt=Math.floor(Me*Ne.height);g===void 0&&(g=b(Te,gt));const Fe=Z?b(Te,gt):g;return Fe.width=Te,Fe.height=gt,Fe.getContext("2d").drawImage(de,0,0,Te,gt),Ut("WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+Te+"x"+gt+")."),Fe}else return"data"in de&&Ut("WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),de;return de}function A(de){return de.generateMipmaps}function S(de){n.generateMipmap(de)}function E(de){return de.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:de.isWebGL3DRenderTarget?n.TEXTURE_3D:de.isWebGLArrayRenderTarget||de.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function w(de,Z,xe,Me,Ne=!1){if(de!==null){if(n[de]!==void 0)return n[de];Ut("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+de+"'")}let Te=Z;if(Z===n.RED&&(xe===n.FLOAT&&(Te=n.R32F),xe===n.HALF_FLOAT&&(Te=n.R16F),xe===n.UNSIGNED_BYTE&&(Te=n.R8)),Z===n.RED_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Te=n.R8UI),xe===n.UNSIGNED_SHORT&&(Te=n.R16UI),xe===n.UNSIGNED_INT&&(Te=n.R32UI),xe===n.BYTE&&(Te=n.R8I),xe===n.SHORT&&(Te=n.R16I),xe===n.INT&&(Te=n.R32I)),Z===n.RG&&(xe===n.FLOAT&&(Te=n.RG32F),xe===n.HALF_FLOAT&&(Te=n.RG16F),xe===n.UNSIGNED_BYTE&&(Te=n.RG8)),Z===n.RG_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Te=n.RG8UI),xe===n.UNSIGNED_SHORT&&(Te=n.RG16UI),xe===n.UNSIGNED_INT&&(Te=n.RG32UI),xe===n.BYTE&&(Te=n.RG8I),xe===n.SHORT&&(Te=n.RG16I),xe===n.INT&&(Te=n.RG32I)),Z===n.RGB_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Te=n.RGB8UI),xe===n.UNSIGNED_SHORT&&(Te=n.RGB16UI),xe===n.UNSIGNED_INT&&(Te=n.RGB32UI),xe===n.BYTE&&(Te=n.RGB8I),xe===n.SHORT&&(Te=n.RGB16I),xe===n.INT&&(Te=n.RGB32I)),Z===n.RGBA_INTEGER&&(xe===n.UNSIGNED_BYTE&&(Te=n.RGBA8UI),xe===n.UNSIGNED_SHORT&&(Te=n.RGBA16UI),xe===n.UNSIGNED_INT&&(Te=n.RGBA32UI),xe===n.BYTE&&(Te=n.RGBA8I),xe===n.SHORT&&(Te=n.RGBA16I),xe===n.INT&&(Te=n.RGBA32I)),Z===n.RGB&&(xe===n.UNSIGNED_INT_5_9_9_9_REV&&(Te=n.RGB9_E5),xe===n.UNSIGNED_INT_10F_11F_11F_REV&&(Te=n.R11F_G11F_B10F)),Z===n.RGBA){const gt=Ne?V1:Xn.getTransfer(Me);xe===n.FLOAT&&(Te=n.RGBA32F),xe===n.HALF_FLOAT&&(Te=n.RGBA16F),xe===n.UNSIGNED_BYTE&&(Te=gt===Fi?n.SRGB8_ALPHA8:n.RGBA8),xe===n.UNSIGNED_SHORT_4_4_4_4&&(Te=n.RGBA4),xe===n.UNSIGNED_SHORT_5_5_5_1&&(Te=n.RGB5_A1)}return(Te===n.R16F||Te===n.R32F||Te===n.RG16F||Te===n.RG32F||Te===n.RGBA16F||Te===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function R(de,Z){let xe;return de?Z===null||Z===Fu||Z===W0?xe=n.DEPTH24_STENCIL8:Z===Ds?xe=n.DEPTH32F_STENCIL8:Z===G0&&(xe=n.DEPTH24_STENCIL8,Ut("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Fu||Z===W0?xe=n.DEPTH_COMPONENT24:Z===Ds?xe=n.DEPTH_COMPONENT32F:Z===G0&&(xe=n.DEPTH_COMPONENT16),xe}function z(de,Z){return A(de)===!0||de.isFramebufferTexture&&de.minFilter!==Dr&&de.minFilter!==Ea?Math.log2(Math.max(Z.width,Z.height))+1:de.mipmaps!==void 0&&de.mipmaps.length>0?de.mipmaps.length:de.isCompressedTexture&&Array.isArray(de.image)?Z.mipmaps.length:1}function O(de){const Z=de.target;Z.removeEventListener("dispose",O),B(Z),Z.isVideoTexture&&m.delete(Z)}function P(de){const Z=de.target;Z.removeEventListener("dispose",P),D(Z)}function B(de){const Z=i.get(de);if(Z.__webglInit===void 0)return;const xe=de.source,Me=v.get(xe);if(Me){const Ne=Me[Z.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&L(de),Object.keys(Me).length===0&&v.delete(xe)}i.remove(de)}function L(de){const Z=i.get(de);n.deleteTexture(Z.__webglTexture);const xe=de.source,Me=v.get(xe);delete Me[Z.__cacheKey],o.memory.textures--}function D(de){const Z=i.get(de);if(de.depthTexture&&(de.depthTexture.dispose(),i.remove(de.depthTexture)),de.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(Z.__webglFramebuffer[Me]))for(let Ne=0;Ne<Z.__webglFramebuffer[Me].length;Ne++)n.deleteFramebuffer(Z.__webglFramebuffer[Me][Ne]);else n.deleteFramebuffer(Z.__webglFramebuffer[Me]);Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Me])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Me=0;Me<Z.__webglFramebuffer.length;Me++)n.deleteFramebuffer(Z.__webglFramebuffer[Me]);else n.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Me=0;Me<Z.__webglColorRenderbuffer.length;Me++)Z.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Me]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const xe=de.textures;for(let Me=0,Ne=xe.length;Me<Ne;Me++){const Te=i.get(xe[Me]);Te.__webglTexture&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),i.remove(xe[Me])}i.remove(de)}let V=0;function U(){V=0}function G(){const de=V;return de>=a.maxTextures&&Ut("WebGLTextures: Trying to use "+de+" texture units while this GPU supports only "+a.maxTextures),V+=1,de}function X(de){const Z=[];return Z.push(de.wrapS),Z.push(de.wrapT),Z.push(de.wrapR||0),Z.push(de.magFilter),Z.push(de.minFilter),Z.push(de.anisotropy),Z.push(de.internalFormat),Z.push(de.format),Z.push(de.type),Z.push(de.generateMipmaps),Z.push(de.premultiplyAlpha),Z.push(de.flipY),Z.push(de.unpackAlignment),Z.push(de.colorSpace),Z.join()}function $(de,Z){const xe=i.get(de);if(de.isVideoTexture&&ke(de),de.isRenderTargetTexture===!1&&de.isExternalTexture!==!0&&de.version>0&&xe.__version!==de.version){const Me=de.image;if(Me===null)Ut("WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)Ut("WebGLRenderer: Texture marked for update but image is incomplete");else{te(xe,de,Z);return}}else de.isExternalTexture&&(xe.__webglTexture=de.sourceTexture?de.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,xe.__webglTexture,n.TEXTURE0+Z)}function H(de,Z){const xe=i.get(de);if(de.isRenderTargetTexture===!1&&de.version>0&&xe.__version!==de.version){te(xe,de,Z);return}else de.isExternalTexture&&(xe.__webglTexture=de.sourceTexture?de.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,xe.__webglTexture,n.TEXTURE0+Z)}function K(de,Z){const xe=i.get(de);if(de.isRenderTargetTexture===!1&&de.version>0&&xe.__version!==de.version){te(xe,de,Z);return}t.bindTexture(n.TEXTURE_3D,xe.__webglTexture,n.TEXTURE0+Z)}function Q(de,Z){const xe=i.get(de);if(de.version>0&&xe.__version!==de.version){se(xe,de,Z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,xe.__webglTexture,n.TEXTURE0+Z)}const W={[Ou]:n.REPEAT,[ns]:n.CLAMP_TO_EDGE,[B1]:n.MIRRORED_REPEAT},ce={[Dr]:n.NEAREST,[NM]:n.NEAREST_MIPMAP_NEAREST,[A0]:n.NEAREST_MIPMAP_LINEAR,[Ea]:n.LINEAR,[x1]:n.LINEAR_MIPMAP_NEAREST,[Il]:n.LINEAR_MIPMAP_LINEAR},q={[$6]:n.NEVER,[t8]:n.ALWAYS,[K6]:n.LESS,[FM]:n.LEQUAL,[Z6]:n.EQUAL,[e8]:n.GEQUAL,[J6]:n.GREATER,[Q6]:n.NOTEQUAL};function ie(de,Z){if(Z.type===Ds&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===Ea||Z.magFilter===x1||Z.magFilter===A0||Z.magFilter===Il||Z.minFilter===Ea||Z.minFilter===x1||Z.minFilter===A0||Z.minFilter===Il)&&Ut("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(de,n.TEXTURE_WRAP_S,W[Z.wrapS]),n.texParameteri(de,n.TEXTURE_WRAP_T,W[Z.wrapT]),(de===n.TEXTURE_3D||de===n.TEXTURE_2D_ARRAY)&&n.texParameteri(de,n.TEXTURE_WRAP_R,W[Z.wrapR]),n.texParameteri(de,n.TEXTURE_MAG_FILTER,ce[Z.magFilter]),n.texParameteri(de,n.TEXTURE_MIN_FILTER,ce[Z.minFilter]),Z.compareFunction&&(n.texParameteri(de,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(de,n.TEXTURE_COMPARE_FUNC,q[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Dr||Z.minFilter!==A0&&Z.minFilter!==Il||Z.type===Ds&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||i.get(Z).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");n.texParameterf(de,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,a.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy}}}function fe(de,Z){let xe=!1;de.__webglInit===void 0&&(de.__webglInit=!0,Z.addEventListener("dispose",O));const Me=Z.source;let Ne=v.get(Me);Ne===void 0&&(Ne={},v.set(Me,Ne));const Te=X(Z);if(Te!==de.__cacheKey){Ne[Te]===void 0&&(Ne[Te]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),Ne[Te].usedTimes++;const gt=Ne[de.__cacheKey];gt!==void 0&&(Ne[de.__cacheKey].usedTimes--,gt.usedTimes===0&&L(Z)),de.__cacheKey=Te,de.__webglTexture=Ne[Te].texture}return xe}function ge(de,Z,xe){return Math.floor(Math.floor(de/xe)/Z)}function re(de,Z,xe,Me){const Te=de.updateRanges;if(Te.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,Z.width,Z.height,xe,Me,Z.data);else{Te.sort((je,Ze)=>je.start-Ze.start);let gt=0;for(let je=1;je<Te.length;je++){const Ze=Te[gt],Dt=Te[je],be=Ze.start+Ze.count,He=ge(Dt.start,Z.width,4),vt=ge(Ze.start,Z.width,4);Dt.start<=be+1&&He===vt&&ge(Dt.start+Dt.count-1,Z.width,4)===He?Ze.count=Math.max(Ze.count,Dt.start+Dt.count-Ze.start):(++gt,Te[gt]=Dt)}Te.length=gt+1;const Fe=n.getParameter(n.UNPACK_ROW_LENGTH),dt=n.getParameter(n.UNPACK_SKIP_PIXELS),ot=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,Z.width);for(let je=0,Ze=Te.length;je<Ze;je++){const Dt=Te[je],be=Math.floor(Dt.start/4),He=Math.ceil(Dt.count/4),vt=be%Z.width,ye=Math.floor(be/Z.width),at=He,ft=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,ye),t.texSubImage2D(n.TEXTURE_2D,0,vt,ye,at,ft,xe,Me,Z.data)}de.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Fe),n.pixelStorei(n.UNPACK_SKIP_PIXELS,dt),n.pixelStorei(n.UNPACK_SKIP_ROWS,ot)}}function te(de,Z,xe){let Me=n.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Me=n.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Me=n.TEXTURE_3D);const Ne=fe(de,Z),Te=Z.source;t.bindTexture(Me,de.__webglTexture,n.TEXTURE0+xe);const gt=i.get(Te);if(Te.version!==gt.__version||Ne===!0){t.activeTexture(n.TEXTURE0+xe);const Fe=Xn.getPrimaries(Xn.workingColorSpace),dt=Z.colorSpace===Cu?null:Xn.getPrimaries(Z.colorSpace),ot=Z.colorSpace===Cu||Fe===dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);let je=M(Z.image,!1,a.maxTextureSize);je=Ke(Z,je);const Ze=r.convert(Z.format,Z.colorSpace),Dt=r.convert(Z.type);let be=w(Z.internalFormat,Ze,Dt,Z.colorSpace,Z.isVideoTexture);ie(Me,Z);let He;const vt=Z.mipmaps,ye=Z.isVideoTexture!==!0,at=gt.__version===void 0||Ne===!0,ft=Te.dataReady,bt=z(Z,je);if(Z.isDepthTexture)be=R(Z.format===X0,Z.type),at&&(ye?t.texStorage2D(n.TEXTURE_2D,1,be,je.width,je.height):t.texImage2D(n.TEXTURE_2D,0,be,je.width,je.height,0,Ze,Dt,null));else if(Z.isDataTexture)if(vt.length>0){ye&&at&&t.texStorage2D(n.TEXTURE_2D,bt,be,vt[0].width,vt[0].height);for(let yt=0,lt=vt.length;yt<lt;yt++)He=vt[yt],ye?ft&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,He.width,He.height,Ze,Dt,He.data):t.texImage2D(n.TEXTURE_2D,yt,be,He.width,He.height,0,Ze,Dt,He.data);Z.generateMipmaps=!1}else ye?(at&&t.texStorage2D(n.TEXTURE_2D,bt,be,je.width,je.height),ft&&re(Z,je,Ze,Dt)):t.texImage2D(n.TEXTURE_2D,0,be,je.width,je.height,0,Ze,Dt,je.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){ye&&at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,be,vt[0].width,vt[0].height,je.depth);for(let yt=0,lt=vt.length;yt<lt;yt++)if(He=vt[yt],Z.format!==is)if(Ze!==null)if(ye){if(ft)if(Z.layerUpdates.size>0){const Ot=D5(He.width,He.height,Z.format,Z.type);for(const Wt of Z.layerUpdates){const bn=He.data.subarray(Wt*Ot/He.data.BYTES_PER_ELEMENT,(Wt+1)*Ot/He.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,Wt,He.width,He.height,1,Ze,bn)}Z.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,He.width,He.height,je.depth,Ze,He.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,yt,be,He.width,He.height,je.depth,0,He.data,0,0);else Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ye?ft&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,yt,0,0,0,He.width,He.height,je.depth,Ze,Dt,He.data):t.texImage3D(n.TEXTURE_2D_ARRAY,yt,be,He.width,He.height,je.depth,0,Ze,Dt,He.data)}else{ye&&at&&t.texStorage2D(n.TEXTURE_2D,bt,be,vt[0].width,vt[0].height);for(let yt=0,lt=vt.length;yt<lt;yt++)He=vt[yt],Z.format!==is?Ze!==null?ye?ft&&t.compressedTexSubImage2D(n.TEXTURE_2D,yt,0,0,He.width,He.height,Ze,He.data):t.compressedTexImage2D(n.TEXTURE_2D,yt,be,He.width,He.height,0,He.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?ft&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,He.width,He.height,Ze,Dt,He.data):t.texImage2D(n.TEXTURE_2D,yt,be,He.width,He.height,0,Ze,Dt,He.data)}else if(Z.isDataArrayTexture)if(ye){if(at&&t.texStorage3D(n.TEXTURE_2D_ARRAY,bt,be,je.width,je.height,je.depth),ft)if(Z.layerUpdates.size>0){const yt=D5(je.width,je.height,Z.format,Z.type);for(const lt of Z.layerUpdates){const Ot=je.data.subarray(lt*yt/je.data.BYTES_PER_ELEMENT,(lt+1)*yt/je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,lt,je.width,je.height,1,Ze,Dt,Ot)}Z.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,Ze,Dt,je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,be,je.width,je.height,je.depth,0,Ze,Dt,je.data);else if(Z.isData3DTexture)ye?(at&&t.texStorage3D(n.TEXTURE_3D,bt,be,je.width,je.height,je.depth),ft&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,Ze,Dt,je.data)):t.texImage3D(n.TEXTURE_3D,0,be,je.width,je.height,je.depth,0,Ze,Dt,je.data);else if(Z.isFramebufferTexture){if(at)if(ye)t.texStorage2D(n.TEXTURE_2D,bt,be,je.width,je.height);else{let yt=je.width,lt=je.height;for(let Ot=0;Ot<bt;Ot++)t.texImage2D(n.TEXTURE_2D,Ot,be,yt,lt,0,Ze,Dt,null),yt>>=1,lt>>=1}}else if(vt.length>0){if(ye&&at){const yt=Ye(vt[0]);t.texStorage2D(n.TEXTURE_2D,bt,be,yt.width,yt.height)}for(let yt=0,lt=vt.length;yt<lt;yt++)He=vt[yt],ye?ft&&t.texSubImage2D(n.TEXTURE_2D,yt,0,0,Ze,Dt,He):t.texImage2D(n.TEXTURE_2D,yt,be,Ze,Dt,He);Z.generateMipmaps=!1}else if(ye){if(at){const yt=Ye(je);t.texStorage2D(n.TEXTURE_2D,bt,be,yt.width,yt.height)}ft&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ze,Dt,je)}else t.texImage2D(n.TEXTURE_2D,0,be,Ze,Dt,je);A(Z)&&S(Me),gt.__version=Te.version,Z.onUpdate&&Z.onUpdate(Z)}de.__version=Z.version}function se(de,Z,xe){if(Z.image.length!==6)return;const Me=fe(de,Z),Ne=Z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,de.__webglTexture,n.TEXTURE0+xe);const Te=i.get(Ne);if(Ne.version!==Te.__version||Me===!0){t.activeTexture(n.TEXTURE0+xe);const gt=Xn.getPrimaries(Xn.workingColorSpace),Fe=Z.colorSpace===Cu?null:Xn.getPrimaries(Z.colorSpace),dt=Z.colorSpace===Cu||gt===Fe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const ot=Z.isCompressedTexture||Z.image[0].isCompressedTexture,je=Z.image[0]&&Z.image[0].isDataTexture,Ze=[];for(let lt=0;lt<6;lt++)!ot&&!je?Ze[lt]=M(Z.image[lt],!0,a.maxCubemapSize):Ze[lt]=je?Z.image[lt].image:Z.image[lt],Ze[lt]=Ke(Z,Ze[lt]);const Dt=Ze[0],be=r.convert(Z.format,Z.colorSpace),He=r.convert(Z.type),vt=w(Z.internalFormat,be,He,Z.colorSpace),ye=Z.isVideoTexture!==!0,at=Te.__version===void 0||Me===!0,ft=Ne.dataReady;let bt=z(Z,Dt);ie(n.TEXTURE_CUBE_MAP,Z);let yt;if(ot){ye&&at&&t.texStorage2D(n.TEXTURE_CUBE_MAP,bt,vt,Dt.width,Dt.height);for(let lt=0;lt<6;lt++){yt=Ze[lt].mipmaps;for(let Ot=0;Ot<yt.length;Ot++){const Wt=yt[Ot];Z.format!==is?be!==null?ye?ft&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot,0,0,Wt.width,Wt.height,be,Wt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot,vt,Wt.width,Wt.height,0,Wt.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ye?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot,0,0,Wt.width,Wt.height,be,He,Wt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot,vt,Wt.width,Wt.height,0,be,He,Wt.data)}}}else{if(yt=Z.mipmaps,ye&&at){yt.length>0&&bt++;const lt=Ye(Ze[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,bt,vt,lt.width,lt.height)}for(let lt=0;lt<6;lt++)if(je){ye?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,Ze[lt].width,Ze[lt].height,be,He,Ze[lt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,vt,Ze[lt].width,Ze[lt].height,0,be,He,Ze[lt].data);for(let Ot=0;Ot<yt.length;Ot++){const bn=yt[Ot].image[lt].image;ye?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot+1,0,0,bn.width,bn.height,be,He,bn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot+1,vt,bn.width,bn.height,0,be,He,bn.data)}}else{ye?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,be,He,Ze[lt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,vt,be,He,Ze[lt]);for(let Ot=0;Ot<yt.length;Ot++){const Wt=yt[Ot];ye?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot+1,0,0,be,He,Wt.image[lt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Ot+1,vt,be,He,Wt.image[lt])}}}A(Z)&&S(n.TEXTURE_CUBE_MAP),Te.__version=Ne.version,Z.onUpdate&&Z.onUpdate(Z)}de.__version=Z.version}function ve(de,Z,xe,Me,Ne,Te){const gt=r.convert(xe.format,xe.colorSpace),Fe=r.convert(xe.type),dt=w(xe.internalFormat,gt,Fe,xe.colorSpace),ot=i.get(Z),je=i.get(xe);if(je.__renderTarget=Z,!ot.__hasExternalTextures){const Ze=Math.max(1,Z.width>>Te),Dt=Math.max(1,Z.height>>Te);Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?t.texImage3D(Ne,Te,dt,Ze,Dt,Z.depth,0,gt,Fe,null):t.texImage2D(Ne,Te,dt,Ze,Dt,0,gt,Fe,null)}t.bindFramebuffer(n.FRAMEBUFFER,de),Be(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Me,Ne,je.__webglTexture,0,Ve(Z)):(Ne===n.TEXTURE_2D||Ne>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Me,Ne,je.__webglTexture,Te),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ze(de,Z,xe){if(n.bindRenderbuffer(n.RENDERBUFFER,de),Z.depthBuffer){const Me=Z.depthTexture,Ne=Me&&Me.isDepthTexture?Me.type:null,Te=R(Z.stencilBuffer,Ne),gt=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Fe=Ve(Z);Be(Z)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Fe,Te,Z.width,Z.height):xe?n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,Te,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,Te,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,gt,n.RENDERBUFFER,de)}else{const Me=Z.textures;for(let Ne=0;Ne<Me.length;Ne++){const Te=Me[Ne],gt=r.convert(Te.format,Te.colorSpace),Fe=r.convert(Te.type),dt=w(Te.internalFormat,gt,Fe,Te.colorSpace),ot=Ve(Z);xe&&Be(Z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ot,dt,Z.width,Z.height):Be(Z)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ot,dt,Z.width,Z.height):n.renderbufferStorage(n.RENDERBUFFER,dt,Z.width,Z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function De(de,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,de),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=i.get(Z.depthTexture);Me.__renderTarget=Z,(!Me.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),$(Z.depthTexture,0);const Ne=Me.__webglTexture,Te=Ve(Z);if(Z.depthTexture.format===Y0)Be(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(Z.depthTexture.format===X0)Be(Z)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Te):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function rt(de){const Z=i.get(de),xe=de.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==de.depthTexture){const Me=de.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Me){const Ne=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Me.removeEventListener("dispose",Ne)};Me.addEventListener("dispose",Ne),Z.__depthDisposeCallback=Ne}Z.__boundDepthTexture=Me}if(de.depthTexture&&!Z.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Me=de.texture.mipmaps;Me&&Me.length>0?De(Z.__webglFramebuffer[0],de):De(Z.__webglFramebuffer,de)}else if(xe){Z.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[Me]),Z.__webglDepthbuffer[Me]===void 0)Z.__webglDepthbuffer[Me]=n.createRenderbuffer(),ze(Z.__webglDepthbuffer[Me],de,!1);else{const Ne=de.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=Z.__webglDepthbuffer[Me];n.bindRenderbuffer(n.RENDERBUFFER,Te),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Te)}}else{const Me=de.texture.mipmaps;if(Me&&Me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=n.createRenderbuffer(),ze(Z.__webglDepthbuffer,de,!1);else{const Ne=de.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=Z.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Te),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Te)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function nt(de,Z,xe){const Me=i.get(de);Z!==void 0&&ve(Me.__webglFramebuffer,de,de.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),xe!==void 0&&rt(de)}function Ge(de){const Z=de.texture,xe=i.get(de),Me=i.get(Z);de.addEventListener("dispose",P);const Ne=de.textures,Te=de.isWebGLCubeRenderTarget===!0,gt=Ne.length>1;if(gt||(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=Z.version,o.memory.textures++),Te){xe.__webglFramebuffer=[];for(let Fe=0;Fe<6;Fe++)if(Z.mipmaps&&Z.mipmaps.length>0){xe.__webglFramebuffer[Fe]=[];for(let dt=0;dt<Z.mipmaps.length;dt++)xe.__webglFramebuffer[Fe][dt]=n.createFramebuffer()}else xe.__webglFramebuffer[Fe]=n.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){xe.__webglFramebuffer=[];for(let Fe=0;Fe<Z.mipmaps.length;Fe++)xe.__webglFramebuffer[Fe]=n.createFramebuffer()}else xe.__webglFramebuffer=n.createFramebuffer();if(gt)for(let Fe=0,dt=Ne.length;Fe<dt;Fe++){const ot=i.get(Ne[Fe]);ot.__webglTexture===void 0&&(ot.__webglTexture=n.createTexture(),o.memory.textures++)}if(de.samples>0&&Be(de)===!1){xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let Fe=0;Fe<Ne.length;Fe++){const dt=Ne[Fe];xe.__webglColorRenderbuffer[Fe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,xe.__webglColorRenderbuffer[Fe]);const ot=r.convert(dt.format,dt.colorSpace),je=r.convert(dt.type),Ze=w(dt.internalFormat,ot,je,dt.colorSpace,de.isXRRenderTarget===!0),Dt=Ve(de);n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,Ze,de.width,de.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.RENDERBUFFER,xe.__webglColorRenderbuffer[Fe])}n.bindRenderbuffer(n.RENDERBUFFER,null),de.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),ze(xe.__webglDepthRenderbuffer,de,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Te){t.bindTexture(n.TEXTURE_CUBE_MAP,Me.__webglTexture),ie(n.TEXTURE_CUBE_MAP,Z);for(let Fe=0;Fe<6;Fe++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let dt=0;dt<Z.mipmaps.length;dt++)ve(xe.__webglFramebuffer[Fe][dt],de,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,dt);else ve(xe.__webglFramebuffer[Fe],de,Z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0);A(Z)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(gt){for(let Fe=0,dt=Ne.length;Fe<dt;Fe++){const ot=Ne[Fe],je=i.get(ot);let Ze=n.TEXTURE_2D;(de.isWebGL3DRenderTarget||de.isWebGLArrayRenderTarget)&&(Ze=de.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ze,je.__webglTexture),ie(Ze,ot),ve(xe.__webglFramebuffer,de,ot,n.COLOR_ATTACHMENT0+Fe,Ze,0),A(ot)&&S(Ze)}t.unbindTexture()}else{let Fe=n.TEXTURE_2D;if((de.isWebGL3DRenderTarget||de.isWebGLArrayRenderTarget)&&(Fe=de.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Fe,Me.__webglTexture),ie(Fe,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let dt=0;dt<Z.mipmaps.length;dt++)ve(xe.__webglFramebuffer[dt],de,Z,n.COLOR_ATTACHMENT0,Fe,dt);else ve(xe.__webglFramebuffer,de,Z,n.COLOR_ATTACHMENT0,Fe,0);A(Z)&&S(Fe),t.unbindTexture()}de.depthBuffer&&rt(de)}function Ee(de){const Z=de.textures;for(let xe=0,Me=Z.length;xe<Me;xe++){const Ne=Z[xe];if(A(Ne)){const Te=E(de),gt=i.get(Ne).__webglTexture;t.bindTexture(Te,gt),S(Te),t.unbindTexture()}}}const ne=[],Oe=[];function Ae(de){if(de.samples>0){if(Be(de)===!1){const Z=de.textures,xe=de.width,Me=de.height;let Ne=n.COLOR_BUFFER_BIT;const Te=de.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=i.get(de),Fe=Z.length>1;if(Fe)for(let ot=0;ot<Z.length;ot++)t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer);const dt=de.texture.mipmaps;dt&&dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let ot=0;ot<Z.length;ot++){if(de.resolveDepthBuffer&&(de.depthBuffer&&(Ne|=n.DEPTH_BUFFER_BIT),de.stencilBuffer&&de.resolveStencilBuffer&&(Ne|=n.STENCIL_BUFFER_BIT)),Fe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[ot]);const je=i.get(Z[ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,je,0)}n.blitFramebuffer(0,0,xe,Me,0,0,xe,Me,Ne,n.NEAREST),f===!0&&(ne.length=0,Oe.length=0,ne.push(n.COLOR_ATTACHMENT0+ot),de.depthBuffer&&de.resolveDepthBuffer===!1&&(ne.push(Te),Oe.push(Te),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Oe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Fe)for(let ot=0;ot<Z.length;ot++){t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,gt.__webglColorRenderbuffer[ot]);const je=i.get(Z[ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}else if(de.depthBuffer&&de.resolveDepthBuffer===!1&&f){const Z=de.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Z])}}}function Ve(de){return Math.min(a.maxSamples,de.samples)}function Be(de){const Z=i.get(de);return de.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function ke(de){const Z=o.render.frame;m.get(de)!==Z&&(m.set(de,Z),de.update())}function Ke(de,Z){const xe=de.colorSpace,Me=de.format,Ne=de.type;return de.isCompressedTexture===!0||de.isVideoTexture===!0||xe!==$f&&xe!==Cu&&(Xn.getTransfer(xe)===Fi?(Me!==is||Ne!==tl)&&Ut("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Mn("WebGLTextures: Unsupported texture color space:",xe)),Z}function Ye(de){return typeof HTMLImageElement<"u"&&de instanceof HTMLImageElement?(h.width=de.naturalWidth||de.width,h.height=de.naturalHeight||de.height):typeof VideoFrame<"u"&&de instanceof VideoFrame?(h.width=de.displayWidth,h.height=de.displayHeight):(h.width=de.width,h.height=de.height),h}this.allocateTextureUnit=G,this.resetTextureUnits=U,this.setTexture2D=$,this.setTexture2DArray=H,this.setTexture3D=K,this.setTextureCube=Q,this.rebindTextures=nt,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Be}function r9(n,e){function t(i,a=Cu){let r;const o=Xn.getTransfer(a);if(i===tl)return n.UNSIGNED_BYTE;if(i===K_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Z_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===IM)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===PM)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===DM)return n.BYTE;if(i===LM)return n.SHORT;if(i===G0)return n.UNSIGNED_SHORT;if(i===$_)return n.INT;if(i===Fu)return n.UNSIGNED_INT;if(i===Ds)return n.FLOAT;if(i===Qf)return n.HALF_FLOAT;if(i===UM)return n.ALPHA;if(i===BM)return n.RGB;if(i===is)return n.RGBA;if(i===Y0)return n.DEPTH_COMPONENT;if(i===X0)return n.DEPTH_STENCIL;if(i===J_)return n.RED;if(i===uy)return n.RED_INTEGER;if(i===Q_)return n.RG;if(i===e2)return n.RG_INTEGER;if(i===t2)return n.RGBA_INTEGER;if(i===v1||i===b1||i===_1||i===S1)if(o===Fi)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===v1)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===b1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===_1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===S1)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===v1)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===b1)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===_1)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===S1)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Lb||i===Ib||i===Pb||i===Ub)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Lb)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Ib)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Pb)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Ub)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Bb||i===kb||i===Fb)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Bb||i===kb)return o===Fi?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Fb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Vb||i===Hb||i===jb||i===Gb||i===Wb||i===Yb||i===Xb||i===qb||i===$b||i===Kb||i===Zb||i===Jb||i===Qb||i===e_)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Vb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Hb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===jb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Gb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Wb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Yb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Xb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===qb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===$b)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Kb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Zb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Jb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Qb)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===e_)return o===Fi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===t_||i===n_||i===i_)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===t_)return o===Fi?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===n_)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===i_)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===a_||i===r_||i===s_||i===o_)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===a_)return r.COMPRESSED_RED_RGTC1_EXT;if(i===r_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===s_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===o_)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===W0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Mq=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Aq=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class wq{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new qM(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Eo({vertexShader:Mq,fragmentShader:Aq,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new oa(new um(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Eq extends kc{constructor(e,t){super();const i=this;let a=null,r=1,o=null,c="local-floor",f=1,h=null,m=null,g=null,v=null,y=null,b=null;const M=typeof XRWebGLBinding<"u",A=new wq,S={},E=t.getContextAttributes();let w=null,R=null;const z=[],O=[],P=new pt;let B=null;const L=new Aa;L.viewport=new xi;const D=new Aa;D.viewport=new xi;const V=[L,D],U=new q8;let G=null,X=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let se=z[te];return se===void 0&&(se=new cb,z[te]=se),se.getTargetRaySpace()},this.getControllerGrip=function(te){let se=z[te];return se===void 0&&(se=new cb,z[te]=se),se.getGripSpace()},this.getHand=function(te){let se=z[te];return se===void 0&&(se=new cb,z[te]=se),se.getHandSpace()};function $(te){const se=O.indexOf(te.inputSource);if(se===-1)return;const ve=z[se];ve!==void 0&&(ve.update(te.inputSource,te.frame,h||o),ve.dispatchEvent({type:te.type,data:te.inputSource}))}function H(){a.removeEventListener("select",$),a.removeEventListener("selectstart",$),a.removeEventListener("selectend",$),a.removeEventListener("squeeze",$),a.removeEventListener("squeezestart",$),a.removeEventListener("squeezeend",$),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",K);for(let te=0;te<z.length;te++){const se=O[te];se!==null&&(O[te]=null,z[te].disconnect(se))}G=null,X=null,A.reset();for(const te in S)delete S[te];e.setRenderTarget(w),y=null,v=null,g=null,a=null,R=null,re.stop(),i.isPresenting=!1,e.setPixelRatio(B),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){r=te,i.isPresenting===!0&&Ut("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){c=te,i.isPresenting===!0&&Ut("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||o},this.setReferenceSpace=function(te){h=te},this.getBaseLayer=function(){return v!==null?v:y},this.getBinding=function(){return g===null&&M&&(g=new XRWebGLBinding(a,t)),g},this.getFrame=function(){return b},this.getSession=function(){return a},this.setSession=async function(te){if(a=te,a!==null){if(w=e.getRenderTarget(),a.addEventListener("select",$),a.addEventListener("selectstart",$),a.addEventListener("selectend",$),a.addEventListener("squeeze",$),a.addEventListener("squeezestart",$),a.addEventListener("squeezeend",$),a.addEventListener("end",H),a.addEventListener("inputsourceschange",K),E.xrCompatible!==!0&&await t.makeXRCompatible(),B=e.getPixelRatio(),e.getSize(P),M&&"createProjectionLayer"in XRWebGLBinding.prototype){let ve=null,ze=null,De=null;E.depth&&(De=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ve=E.stencil?X0:Y0,ze=E.stencil?W0:Fu);const rt={colorFormat:t.RGBA8,depthFormat:De,scaleFactor:r};g=this.getBinding(),v=g.createProjectionLayer(rt),a.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),R=new kl(v.textureWidth,v.textureHeight,{format:is,type:tl,depthTexture:new p2(v.textureWidth,v.textureHeight,ze,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const ve={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};y=new XRWebGLLayer(a,t,ve),a.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),R=new kl(y.framebufferWidth,y.framebufferHeight,{format:is,type:tl,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(f),h=null,o=await a.requestReferenceSpace(c),re.setContext(a),re.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function K(te){for(let se=0;se<te.removed.length;se++){const ve=te.removed[se],ze=O.indexOf(ve);ze>=0&&(O[ze]=null,z[ze].disconnect(ve))}for(let se=0;se<te.added.length;se++){const ve=te.added[se];let ze=O.indexOf(ve);if(ze===-1){for(let rt=0;rt<z.length;rt++)if(rt>=O.length){O.push(ve),ze=rt;break}else if(O[rt]===null){O[rt]=ve,ze=rt;break}if(ze===-1)break}const De=z[ze];De&&De.connect(ve)}}const Q=new pe,W=new pe;function ce(te,se,ve){Q.setFromMatrixPosition(se.matrixWorld),W.setFromMatrixPosition(ve.matrixWorld);const ze=Q.distanceTo(W),De=se.projectionMatrix.elements,rt=ve.projectionMatrix.elements,nt=De[14]/(De[10]-1),Ge=De[14]/(De[10]+1),Ee=(De[9]+1)/De[5],ne=(De[9]-1)/De[5],Oe=(De[8]-1)/De[0],Ae=(rt[8]+1)/rt[0],Ve=nt*Oe,Be=nt*Ae,ke=ze/(-Oe+Ae),Ke=ke*-Oe;if(se.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(Ke),te.translateZ(ke),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),De[10]===-1)te.projectionMatrix.copy(se.projectionMatrix),te.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const Ye=nt+ke,de=Ge+ke,Z=Ve-Ke,xe=Be+(ze-Ke),Me=Ee*Ge/de*Ye,Ne=ne*Ge/de*Ye;te.projectionMatrix.makePerspective(Z,xe,Me,Ne,Ye,de),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function q(te,se){se===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(se.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(a===null)return;let se=te.near,ve=te.far;A.texture!==null&&(A.depthNear>0&&(se=A.depthNear),A.depthFar>0&&(ve=A.depthFar)),U.near=D.near=L.near=se,U.far=D.far=L.far=ve,(G!==U.near||X!==U.far)&&(a.updateRenderState({depthNear:U.near,depthFar:U.far}),G=U.near,X=U.far),U.layers.mask=te.layers.mask|6,L.layers.mask=U.layers.mask&3,D.layers.mask=U.layers.mask&5;const ze=te.parent,De=U.cameras;q(U,ze);for(let rt=0;rt<De.length;rt++)q(De[rt],ze);De.length===2?ce(U,L,D):U.projectionMatrix.copy(L.projectionMatrix),ie(te,U,ze)};function ie(te,se,ve){ve===null?te.matrix.copy(se.matrixWorld):(te.matrix.copy(ve.matrixWorld),te.matrix.invert(),te.matrix.multiply(se.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(se.projectionMatrix),te.projectionMatrixInverse.copy(se.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=K0*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(v===null&&y===null))return f},this.setFoveation=function(te){f=te,v!==null&&(v.fixedFoveation=te),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=te)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(U)},this.getCameraTexture=function(te){return S[te]};let fe=null;function ge(te,se){if(m=se.getViewerPose(h||o),b=se,m!==null){const ve=m.views;y!==null&&(e.setRenderTargetFramebuffer(R,y.framebuffer),e.setRenderTarget(R));let ze=!1;ve.length!==U.cameras.length&&(U.cameras.length=0,ze=!0);for(let Ge=0;Ge<ve.length;Ge++){const Ee=ve[Ge];let ne=null;if(y!==null)ne=y.getViewport(Ee);else{const Ae=g.getViewSubImage(v,Ee);ne=Ae.viewport,Ge===0&&(e.setRenderTargetTextures(R,Ae.colorTexture,Ae.depthStencilTexture),e.setRenderTarget(R))}let Oe=V[Ge];Oe===void 0&&(Oe=new Aa,Oe.layers.enable(Ge),Oe.viewport=new xi,V[Ge]=Oe),Oe.matrix.fromArray(Ee.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(Ee.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(ne.x,ne.y,ne.width,ne.height),Ge===0&&(U.matrix.copy(Oe.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),ze===!0&&U.cameras.push(Oe)}const De=a.enabledFeatures;if(De&&De.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&M){g=i.getBinding();const Ge=g.getDepthInformation(ve[0]);Ge&&Ge.isValid&&Ge.texture&&A.init(Ge,a.renderState)}if(De&&De.includes("camera-access")&&M){e.state.unbindTexture(),g=i.getBinding();for(let Ge=0;Ge<ve.length;Ge++){const Ee=ve[Ge].camera;if(Ee){let ne=S[Ee];ne||(ne=new qM,S[Ee]=ne);const Oe=g.getCameraImage(Ee);ne.sourceTexture=Oe}}}}for(let ve=0;ve<z.length;ve++){const ze=O[ve],De=z[ve];ze!==null&&De!==void 0&&De.update(ze,se,h||o)}fe&&fe(te,se),se.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:se}),b=null}const re=new e9;re.setAnimationLoop(ge),this.setAnimationLoop=function(te){fe=te},this.dispose=function(){}}}const oh=new Ps,Tq=new rn;function Cq(n,e){function t(A,S){A.matrixAutoUpdate===!0&&A.updateMatrix(),S.value.copy(A.matrix)}function i(A,S){S.color.getRGB(A.fogColor.value,s8(n)),S.isFog?(A.fogNear.value=S.near,A.fogFar.value=S.far):S.isFogExp2&&(A.fogDensity.value=S.density)}function a(A,S,E,w,R){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(A,S):S.isMeshToonMaterial?(r(A,S),g(A,S)):S.isMeshPhongMaterial?(r(A,S),m(A,S)):S.isMeshStandardMaterial?(r(A,S),v(A,S),S.isMeshPhysicalMaterial&&y(A,S,R)):S.isMeshMatcapMaterial?(r(A,S),b(A,S)):S.isMeshDepthMaterial?r(A,S):S.isMeshDistanceMaterial?(r(A,S),M(A,S)):S.isMeshNormalMaterial?r(A,S):S.isLineBasicMaterial?(o(A,S),S.isLineDashedMaterial&&c(A,S)):S.isPointsMaterial?f(A,S,E,w):S.isSpriteMaterial?h(A,S):S.isShadowMaterial?(A.color.value.copy(S.color),A.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(A,S){A.opacity.value=S.opacity,S.color&&A.diffuse.value.copy(S.color),S.emissive&&A.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.bumpMap&&(A.bumpMap.value=S.bumpMap,t(S.bumpMap,A.bumpMapTransform),A.bumpScale.value=S.bumpScale,S.side===Is&&(A.bumpScale.value*=-1)),S.normalMap&&(A.normalMap.value=S.normalMap,t(S.normalMap,A.normalMapTransform),A.normalScale.value.copy(S.normalScale),S.side===Is&&A.normalScale.value.negate()),S.displacementMap&&(A.displacementMap.value=S.displacementMap,t(S.displacementMap,A.displacementMapTransform),A.displacementScale.value=S.displacementScale,A.displacementBias.value=S.displacementBias),S.emissiveMap&&(A.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,A.emissiveMapTransform)),S.specularMap&&(A.specularMap.value=S.specularMap,t(S.specularMap,A.specularMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest);const E=e.get(S),w=E.envMap,R=E.envMapRotation;w&&(A.envMap.value=w,oh.copy(R),oh.x*=-1,oh.y*=-1,oh.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(oh.y*=-1,oh.z*=-1),A.envMapRotation.value.setFromMatrix4(Tq.makeRotationFromEuler(oh)),A.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=S.reflectivity,A.ior.value=S.ior,A.refractionRatio.value=S.refractionRatio),S.lightMap&&(A.lightMap.value=S.lightMap,A.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,A.lightMapTransform)),S.aoMap&&(A.aoMap.value=S.aoMap,A.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,A.aoMapTransform))}function o(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform))}function c(A,S){A.dashSize.value=S.dashSize,A.totalSize.value=S.dashSize+S.gapSize,A.scale.value=S.scale}function f(A,S,E,w){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.size.value=S.size*E,A.scale.value=w*.5,S.map&&(A.map.value=S.map,t(S.map,A.uvTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function h(A,S){A.diffuse.value.copy(S.color),A.opacity.value=S.opacity,A.rotation.value=S.rotation,S.map&&(A.map.value=S.map,t(S.map,A.mapTransform)),S.alphaMap&&(A.alphaMap.value=S.alphaMap,t(S.alphaMap,A.alphaMapTransform)),S.alphaTest>0&&(A.alphaTest.value=S.alphaTest)}function m(A,S){A.specular.value.copy(S.specular),A.shininess.value=Math.max(S.shininess,1e-4)}function g(A,S){S.gradientMap&&(A.gradientMap.value=S.gradientMap)}function v(A,S){A.metalness.value=S.metalness,S.metalnessMap&&(A.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,A.metalnessMapTransform)),A.roughness.value=S.roughness,S.roughnessMap&&(A.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,A.roughnessMapTransform)),S.envMap&&(A.envMapIntensity.value=S.envMapIntensity)}function y(A,S,E){A.ior.value=S.ior,S.sheen>0&&(A.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),A.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(A.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,A.sheenColorMapTransform)),S.sheenRoughnessMap&&(A.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,A.sheenRoughnessMapTransform))),S.clearcoat>0&&(A.clearcoat.value=S.clearcoat,A.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(A.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,A.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(A.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Is&&A.clearcoatNormalScale.value.negate())),S.dispersion>0&&(A.dispersion.value=S.dispersion),S.iridescence>0&&(A.iridescence.value=S.iridescence,A.iridescenceIOR.value=S.iridescenceIOR,A.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(A.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,A.iridescenceMapTransform)),S.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),S.transmission>0&&(A.transmission.value=S.transmission,A.transmissionSamplerMap.value=E.texture,A.transmissionSamplerSize.value.set(E.width,E.height),S.transmissionMap&&(A.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,A.transmissionMapTransform)),A.thickness.value=S.thickness,S.thicknessMap&&(A.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=S.attenuationDistance,A.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(A.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(A.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=S.specularIntensity,A.specularColor.value.copy(S.specularColor),S.specularColorMap&&(A.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,A.specularColorMapTransform)),S.specularIntensityMap&&(A.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,A.specularIntensityMapTransform))}function b(A,S){S.matcap&&(A.matcap.value=S.matcap)}function M(A,S){const E=e.get(S).light;A.referencePosition.value.setFromMatrixPosition(E.matrixWorld),A.nearDistance.value=E.shadow.camera.near,A.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function Rq(n,e,t,i){let a={},r={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(E,w){const R=w.program;i.uniformBlockBinding(E,R)}function h(E,w){let R=a[E.id];R===void 0&&(b(E),R=m(E),a[E.id]=R,E.addEventListener("dispose",A));const z=w.program;i.updateUBOMapping(E,z);const O=e.render.frame;r[E.id]!==O&&(v(E),r[E.id]=O)}function m(E){const w=g();E.__bindingPointIndex=w;const R=n.createBuffer(),z=E.__size,O=E.usage;return n.bindBuffer(n.UNIFORM_BUFFER,R),n.bufferData(n.UNIFORM_BUFFER,z,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,R),R}function g(){for(let E=0;E<c;E++)if(o.indexOf(E)===-1)return o.push(E),E;return Mn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(E){const w=a[E.id],R=E.uniforms,z=E.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let O=0,P=R.length;O<P;O++){const B=Array.isArray(R[O])?R[O]:[R[O]];for(let L=0,D=B.length;L<D;L++){const V=B[L];if(y(V,O,L,z)===!0){const U=V.__offset,G=Array.isArray(V.value)?V.value:[V.value];let X=0;for(let $=0;$<G.length;$++){const H=G[$],K=M(H);typeof H=="number"||typeof H=="boolean"?(V.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,U+X,V.__data)):H.isMatrix3?(V.__data[0]=H.elements[0],V.__data[1]=H.elements[1],V.__data[2]=H.elements[2],V.__data[3]=0,V.__data[4]=H.elements[3],V.__data[5]=H.elements[4],V.__data[6]=H.elements[5],V.__data[7]=0,V.__data[8]=H.elements[6],V.__data[9]=H.elements[7],V.__data[10]=H.elements[8],V.__data[11]=0):(H.toArray(V.__data,X),X+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,U,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function y(E,w,R,z){const O=E.value,P=w+"_"+R;if(z[P]===void 0)return typeof O=="number"||typeof O=="boolean"?z[P]=O:z[P]=O.clone(),!0;{const B=z[P];if(typeof O=="number"||typeof O=="boolean"){if(B!==O)return z[P]=O,!0}else if(B.equals(O)===!1)return B.copy(O),!0}return!1}function b(E){const w=E.uniforms;let R=0;const z=16;for(let P=0,B=w.length;P<B;P++){const L=Array.isArray(w[P])?w[P]:[w[P]];for(let D=0,V=L.length;D<V;D++){const U=L[D],G=Array.isArray(U.value)?U.value:[U.value];for(let X=0,$=G.length;X<$;X++){const H=G[X],K=M(H),Q=R%z,W=Q%K.boundary,ce=Q+W;R+=W,ce!==0&&z-ce<K.storage&&(R+=z-ce),U.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=R,R+=K.storage}}}const O=R%z;return O>0&&(R+=z-O),E.__size=R,E.__cache={},this}function M(E){const w={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(w.boundary=4,w.storage=4):E.isVector2?(w.boundary=8,w.storage=8):E.isVector3||E.isColor?(w.boundary=16,w.storage=12):E.isVector4?(w.boundary=16,w.storage=16):E.isMatrix3?(w.boundary=48,w.storage=48):E.isMatrix4?(w.boundary=64,w.storage=64):E.isTexture?Ut("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ut("WebGLRenderer: Unsupported uniform value type.",E),w}function A(E){const w=E.target;w.removeEventListener("dispose",A);const R=o.indexOf(w.__bindingPointIndex);o.splice(R,1),n.deleteBuffer(a[w.id]),delete a[w.id],delete r[w.id]}function S(){for(const E in a)n.deleteBuffer(a[E]);o=[],a={},r={}}return{bind:f,update:h,dispose:S}}const Oq=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let _u=null;function zq(){return _u===null&&(_u=new Bl(Oq,32,32,Q_,Qf),_u.minFilter=Ea,_u.magFilter=Ea,_u.wrapS=ns,_u.wrapT=ns,_u.generateMipmaps=!1,_u.needsUpdate=!0),_u}class s9{constructor(e={}){const{canvas:t=i8(),context:i=null,depth:a=!0,stencil:r=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:h=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let y;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=i.getContextAttributes().alpha}else y=o;const b=new Set([t2,e2,uy]),M=new Set([tl,Fu,G0,W0,K_,Z_]),A=new Uint32Array(4),S=new Int32Array(4);let E=null,w=null;const R=[],z=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Pc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const O=this;let P=!1;this._outputColorSpace=na;let B=0,L=0,D=null,V=-1,U=null;const G=new xi,X=new xi;let $=null;const H=new Ct(0);let K=0,Q=t.width,W=t.height,ce=1,q=null,ie=null;const fe=new xi(0,0,Q,W),ge=new xi(0,0,Q,W);let re=!1;const te=new lm;let se=!1,ve=!1;const ze=new rn,De=new pe,rt=new xi,nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ge=!1;function Ee(){return D===null?ce:1}let ne=i;function Oe(ae,Ce){return t.getContext(ae,Ce)}try{const ae={alpha:!0,depth:a,stencil:r,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:h,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${W_}`),t.addEventListener("webglcontextlost",yt,!1),t.addEventListener("webglcontextrestored",lt,!1),t.addEventListener("webglcontextcreationerror",Ot,!1),ne===null){const Ce="webgl2";if(ne=Oe(Ce,ae),ne===null)throw Oe(Ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ae){throw ae("WebGLRenderer: "+ae.message),ae}let Ae,Ve,Be,ke,Ke,Ye,de,Z,xe,Me,Ne,Te,gt,Fe,dt,ot,je,Ze,Dt,be,He,vt,ye,at;function ft(){Ae=new VY(ne),Ae.init(),vt=new r9(ne,Ae),Ve=new NY(ne,Ae,e,vt),Be=new _q(ne,Ae),Ve.reversedDepthBuffer&&v&&Be.buffers.depth.setReversed(!0),ke=new GY(ne),Ke=new lq,Ye=new Sq(ne,Ae,Be,Ke,Ve,vt,ke),de=new LY(O),Z=new FY(O),xe=new qj(ne),ye=new OY(ne,xe),Me=new HY(ne,xe,ke,ye),Ne=new YY(ne,Me,xe,ke),Dt=new WY(ne,Ve,Ye),ot=new DY(Ke),Te=new oq(O,de,Z,Ae,Ve,ye,ot),gt=new Cq(O,Ke),Fe=new uq,dt=new gq(Ae),Ze=new RY(O,de,Z,Be,Ne,y,f),je=new vq(O,Ne,Ve),at=new Rq(ne,ke,Ve,Be),be=new zY(ne,Ae,ke),He=new jY(ne,Ae,ke),ke.programs=Te.programs,O.capabilities=Ve,O.extensions=Ae,O.properties=Ke,O.renderLists=Fe,O.shadowMap=je,O.state=Be,O.info=ke}ft();const bt=new Eq(O,ne);this.xr=bt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const ae=Ae.get("WEBGL_lose_context");ae&&ae.loseContext()},this.forceContextRestore=function(){const ae=Ae.get("WEBGL_lose_context");ae&&ae.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(ae){ae!==void 0&&(ce=ae,this.setSize(Q,W,!1))},this.getSize=function(ae){return ae.set(Q,W)},this.setSize=function(ae,Ce,$e=!0){if(bt.isPresenting){Ut("WebGLRenderer: Can't change size while VR device is presenting.");return}Q=ae,W=Ce,t.width=Math.floor(ae*ce),t.height=Math.floor(Ce*ce),$e===!0&&(t.style.width=ae+"px",t.style.height=Ce+"px"),this.setViewport(0,0,ae,Ce)},this.getDrawingBufferSize=function(ae){return ae.set(Q*ce,W*ce).floor()},this.setDrawingBufferSize=function(ae,Ce,$e){Q=ae,W=Ce,ce=$e,t.width=Math.floor(ae*$e),t.height=Math.floor(Ce*$e),this.setViewport(0,0,ae,Ce)},this.getCurrentViewport=function(ae){return ae.copy(G)},this.getViewport=function(ae){return ae.copy(fe)},this.setViewport=function(ae,Ce,$e,We){ae.isVector4?fe.set(ae.x,ae.y,ae.z,ae.w):fe.set(ae,Ce,$e,We),Be.viewport(G.copy(fe).multiplyScalar(ce).round())},this.getScissor=function(ae){return ae.copy(ge)},this.setScissor=function(ae,Ce,$e,We){ae.isVector4?ge.set(ae.x,ae.y,ae.z,ae.w):ge.set(ae,Ce,$e,We),Be.scissor(X.copy(ge).multiplyScalar(ce).round())},this.getScissorTest=function(){return re},this.setScissorTest=function(ae){Be.setScissorTest(re=ae)},this.setOpaqueSort=function(ae){q=ae},this.setTransparentSort=function(ae){ie=ae},this.getClearColor=function(ae){return ae.copy(Ze.getClearColor())},this.setClearColor=function(){Ze.setClearColor(...arguments)},this.getClearAlpha=function(){return Ze.getClearAlpha()},this.setClearAlpha=function(){Ze.setClearAlpha(...arguments)},this.clear=function(ae=!0,Ce=!0,$e=!0){let We=0;if(ae){let Le=!1;if(D!==null){const wt=D.texture.format;Le=b.has(wt)}if(Le){const wt=D.texture.type,zt=M.has(wt),Bt=Ze.getClearColor(),jt=Ze.getClearAlpha(),sn=Bt.r,un=Bt.g,Xt=Bt.b;zt?(A[0]=sn,A[1]=un,A[2]=Xt,A[3]=jt,ne.clearBufferuiv(ne.COLOR,0,A)):(S[0]=sn,S[1]=un,S[2]=Xt,S[3]=jt,ne.clearBufferiv(ne.COLOR,0,S))}else We|=ne.COLOR_BUFFER_BIT}Ce&&(We|=ne.DEPTH_BUFFER_BIT),$e&&(We|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(We)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",yt,!1),t.removeEventListener("webglcontextrestored",lt,!1),t.removeEventListener("webglcontextcreationerror",Ot,!1),Ze.dispose(),Fe.dispose(),dt.dispose(),Ke.dispose(),de.dispose(),Z.dispose(),Ne.dispose(),ye.dispose(),at.dispose(),Te.dispose(),bt.dispose(),bt.removeEventListener("sessionstart",Mr),bt.removeEventListener("sessionend",Us),ia.stop()};function yt(ae){ae.preventDefault(),G1("WebGLRenderer: Context Lost."),P=!0}function lt(){G1("WebGLRenderer: Context Restored."),P=!1;const ae=ke.autoReset,Ce=je.enabled,$e=je.autoUpdate,We=je.needsUpdate,Le=je.type;ft(),ke.autoReset=ae,je.enabled=Ce,je.autoUpdate=$e,je.needsUpdate=We,je.type=Le}function Ot(ae){Mn("WebGLRenderer: A WebGL context could not be created. Reason: ",ae.statusMessage)}function Wt(ae){const Ce=ae.target;Ce.removeEventListener("dispose",Wt),bn(Ce)}function bn(ae){tn(ae),Ke.remove(ae)}function tn(ae){const Ce=Ke.get(ae).programs;Ce!==void 0&&(Ce.forEach(function($e){Te.releaseProgram($e)}),ae.isShaderMaterial&&Te.releaseShaderCache(ae))}this.renderBufferDirect=function(ae,Ce,$e,We,Le,wt){Ce===null&&(Ce=nt);const zt=Le.isMesh&&Le.matrixWorld.determinant()<0,Bt=al(ae,Ce,$e,We,Le);Be.setMaterial(We,zt);let jt=$e.index,sn=1;if(We.wireframe===!0){if(jt=Me.getWireframeAttribute($e),jt===void 0)return;sn=2}const un=$e.drawRange,Xt=$e.attributes.position;let An=un.start*sn,Wn=(un.start+un.count)*sn;wt!==null&&(An=Math.max(An,wt.start*sn),Wn=Math.min(Wn,(wt.start+wt.count)*sn)),jt!==null?(An=Math.max(An,0),Wn=Math.min(Wn,jt.count)):Xt!=null&&(An=Math.max(An,0),Wn=Math.min(Wn,Xt.count));const Zn=Wn-An;if(Zn<0||Zn===1/0)return;ye.setup(Le,We,Bt,$e,jt);let Pn,pi=be;if(jt!==null&&(Pn=xe.get(jt),pi=He,pi.setIndex(Pn)),Le.isMesh)We.wireframe===!0?(Be.setLineWidth(We.wireframeLinewidth*Ee()),pi.setMode(ne.LINES)):pi.setMode(ne.TRIANGLES);else if(Le.isLine){let on=We.linewidth;on===void 0&&(on=1),Be.setLineWidth(on*Ee()),Le.isLineSegments?pi.setMode(ne.LINES):Le.isLineLoop?pi.setMode(ne.LINE_LOOP):pi.setMode(ne.LINE_STRIP)}else Le.isPoints?pi.setMode(ne.POINTS):Le.isSprite&&pi.setMode(ne.TRIANGLES);if(Le.isBatchedMesh)if(Le._multiDrawInstances!==null)$0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),pi.renderMultiDrawInstances(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount,Le._multiDrawInstances);else if(Ae.get("WEBGL_multi_draw"))pi.renderMultiDraw(Le._multiDrawStarts,Le._multiDrawCounts,Le._multiDrawCount);else{const on=Le._multiDrawStarts,vi=Le._multiDrawCounts,Un=Le._multiDrawCount,Dn=jt?xe.get(jt).bytesPerElement:1,ls=Ke.get(We).currentProgram.getUniforms();for(let Ei=0;Ei<Un;Ei++)ls.setValue(ne,"_gl_DrawID",Ei),pi.render(on[Ei]/Dn,vi[Ei])}else if(Le.isInstancedMesh)pi.renderInstances(An,Zn,Le.count);else if($e.isInstancedBufferGeometry){const on=$e._maxInstanceCount!==void 0?$e._maxInstanceCount:1/0,vi=Math.min($e.instanceCount,on);pi.renderInstances(An,Zn,vi)}else pi.render(An,Zn)};function di(ae,Ce,$e){ae.transparent===!0&&ae.side===vo&&ae.forceSinglePass===!1?(ae.side=Is,ae.needsUpdate=!0,Vi(ae,Ce,$e),ae.side=Bc,ae.needsUpdate=!0,Vi(ae,Ce,$e),ae.side=vo):Vi(ae,Ce,$e)}this.compile=function(ae,Ce,$e=null){$e===null&&($e=ae),w=dt.get($e),w.init(Ce),z.push(w),$e.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Ce.layers)&&(w.pushLight(Le),Le.castShadow&&w.pushShadow(Le))}),ae!==$e&&ae.traverseVisible(function(Le){Le.isLight&&Le.layers.test(Ce.layers)&&(w.pushLight(Le),Le.castShadow&&w.pushShadow(Le))}),w.setupLights();const We=new Set;return ae.traverse(function(Le){if(!(Le.isMesh||Le.isPoints||Le.isLine||Le.isSprite))return;const wt=Le.material;if(wt)if(Array.isArray(wt))for(let zt=0;zt<wt.length;zt++){const Bt=wt[zt];di(Bt,$e,Le),We.add(Bt)}else di(wt,$e,Le),We.add(wt)}),w=z.pop(),We},this.compileAsync=function(ae,Ce,$e=null){const We=this.compile(ae,Ce,$e);return new Promise(Le=>{function wt(){if(We.forEach(function(zt){Ke.get(zt).currentProgram.isReady()&&We.delete(zt)}),We.size===0){Le(ae);return}setTimeout(wt,10)}Ae.get("KHR_parallel_shader_compile")!==null?wt():setTimeout(wt,10)})};let Yt=null;function la(ae){Yt&&Yt(ae)}function Mr(){ia.stop()}function Us(){ia.start()}const ia=new e9;ia.setAnimationLoop(la),typeof self<"u"&&ia.setContext(self),this.setAnimationLoop=function(ae){Yt=ae,bt.setAnimationLoop(ae),ae===null?ia.stop():ia.start()},bt.addEventListener("sessionstart",Mr),bt.addEventListener("sessionend",Us),this.render=function(ae,Ce){if(Ce!==void 0&&Ce.isCamera!==!0){Mn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ce.parent===null&&Ce.matrixWorldAutoUpdate===!0&&Ce.updateMatrixWorld(),bt.enabled===!0&&bt.isPresenting===!0&&(bt.cameraAutoUpdate===!0&&bt.updateCamera(Ce),Ce=bt.getCamera()),ae.isScene===!0&&ae.onBeforeRender(O,ae,Ce,D),w=dt.get(ae,z.length),w.init(Ce),z.push(w),ze.multiplyMatrices(Ce.projectionMatrix,Ce.matrixWorldInverse),te.setFromProjectionMatrix(ze,bo,Ce.reversedDepth),ve=this.localClippingEnabled,se=ot.init(this.clippingPlanes,ve),E=Fe.get(ae,R.length),E.init(),R.push(E),bt.enabled===!0&&bt.isPresenting===!0){const wt=O.xr.getDepthSensingMesh();wt!==null&&os(wt,Ce,-1/0,O.sortObjects)}os(ae,Ce,0,O.sortObjects),E.finish(),O.sortObjects===!0&&E.sort(q,ie),Ge=bt.enabled===!1||bt.isPresenting===!1||bt.hasDepthSensing()===!1,Ge&&Ze.addToRenderList(E,ae),this.info.render.frame++,se===!0&&ot.beginShadows();const $e=w.state.shadowsArray;je.render($e,ae,Ce),se===!0&&ot.endShadows(),this.info.autoReset===!0&&this.info.reset();const We=E.opaque,Le=E.transmissive;if(w.setupLights(),Ce.isArrayCamera){const wt=Ce.cameras;if(Le.length>0)for(let zt=0,Bt=wt.length;zt<Bt;zt++){const jt=wt[zt];Ga(We,Le,ae,jt)}Ge&&Ze.render(ae);for(let zt=0,Bt=wt.length;zt<Bt;zt++){const jt=wt[zt];ja(E,ae,jt,jt.viewport)}}else Le.length>0&&Ga(We,Le,ae,Ce),Ge&&Ze.render(ae),ja(E,ae,Ce);D!==null&&L===0&&(Ye.updateMultisampleRenderTarget(D),Ye.updateRenderTargetMipmap(D)),ae.isScene===!0&&ae.onAfterRender(O,ae,Ce),ye.resetDefaultState(),V=-1,U=null,z.pop(),z.length>0?(w=z[z.length-1],se===!0&&ot.setGlobalState(O.clippingPlanes,w.state.camera)):w=null,R.pop(),R.length>0?E=R[R.length-1]:E=null};function os(ae,Ce,$e,We){if(ae.visible===!1)return;if(ae.layers.test(Ce.layers)){if(ae.isGroup)$e=ae.renderOrder;else if(ae.isLOD)ae.autoUpdate===!0&&ae.update(Ce);else if(ae.isLight)w.pushLight(ae),ae.castShadow&&w.pushShadow(ae);else if(ae.isSprite){if(!ae.frustumCulled||te.intersectsSprite(ae)){We&&rt.setFromMatrixPosition(ae.matrixWorld).applyMatrix4(ze);const zt=Ne.update(ae),Bt=ae.material;Bt.visible&&E.push(ae,zt,Bt,$e,rt.z,null)}}else if((ae.isMesh||ae.isLine||ae.isPoints)&&(!ae.frustumCulled||te.intersectsObject(ae))){const zt=Ne.update(ae),Bt=ae.material;if(We&&(ae.boundingSphere!==void 0?(ae.boundingSphere===null&&ae.computeBoundingSphere(),rt.copy(ae.boundingSphere.center)):(zt.boundingSphere===null&&zt.computeBoundingSphere(),rt.copy(zt.boundingSphere.center)),rt.applyMatrix4(ae.matrixWorld).applyMatrix4(ze)),Array.isArray(Bt)){const jt=zt.groups;for(let sn=0,un=jt.length;sn<un;sn++){const Xt=jt[sn],An=Bt[Xt.materialIndex];An&&An.visible&&E.push(ae,zt,An,$e,rt.z,Xt)}}else Bt.visible&&E.push(ae,zt,Bt,$e,rt.z,null)}}const wt=ae.children;for(let zt=0,Bt=wt.length;zt<Bt;zt++)os(wt[zt],Ce,$e,We)}function ja(ae,Ce,$e,We){const{opaque:Le,transmissive:wt,transparent:zt}=ae;w.setupLightsView($e),se===!0&&ot.setGlobalState(O.clippingPlanes,$e),We&&Be.viewport(G.copy(We)),Le.length>0&&ca(Le,Ce,$e),wt.length>0&&ca(wt,Ce,$e),zt.length>0&&ca(zt,Ce,$e),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Ga(ae,Ce,$e,We){if(($e.isScene===!0?$e.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[We.id]===void 0&&(w.state.transmissionRenderTarget[We.id]=new kl(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")||Ae.has("EXT_color_buffer_float")?Qf:tl,minFilter:Il,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xn.workingColorSpace}));const wt=w.state.transmissionRenderTarget[We.id],zt=We.viewport||G;wt.setSize(zt.z*O.transmissionResolutionScale,zt.w*O.transmissionResolutionScale);const Bt=O.getRenderTarget(),jt=O.getActiveCubeFace(),sn=O.getActiveMipmapLevel();O.setRenderTarget(wt),O.getClearColor(H),K=O.getClearAlpha(),K<1&&O.setClearColor(16777215,.5),O.clear(),Ge&&Ze.render($e);const un=O.toneMapping;O.toneMapping=Pc;const Xt=We.viewport;if(We.viewport!==void 0&&(We.viewport=void 0),w.setupLightsView(We),se===!0&&ot.setGlobalState(O.clippingPlanes,We),ca(ae,$e,We),Ye.updateMultisampleRenderTarget(wt),Ye.updateRenderTargetMipmap(wt),Ae.has("WEBGL_multisampled_render_to_texture")===!1){let An=!1;for(let Wn=0,Zn=Ce.length;Wn<Zn;Wn++){const Pn=Ce[Wn],{object:pi,geometry:on,material:vi,group:Un}=Pn;if(vi.side===vo&&pi.layers.test(We.layers)){const Dn=vi.side;vi.side=Is,vi.needsUpdate=!0,_n(pi,$e,We,on,vi,Un),vi.side=Dn,vi.needsUpdate=!0,An=!0}}An===!0&&(Ye.updateMultisampleRenderTarget(wt),Ye.updateRenderTargetMipmap(wt))}O.setRenderTarget(Bt,jt,sn),O.setClearColor(H,K),Xt!==void 0&&(We.viewport=Xt),O.toneMapping=un}function ca(ae,Ce,$e){const We=Ce.isScene===!0?Ce.overrideMaterial:null;for(let Le=0,wt=ae.length;Le<wt;Le++){const zt=ae[Le],{object:Bt,geometry:jt,group:sn}=zt;let un=zt.material;un.allowOverride===!0&&We!==null&&(un=We),Bt.layers.test($e.layers)&&_n(Bt,Ce,$e,jt,un,sn)}}function _n(ae,Ce,$e,We,Le,wt){ae.onBeforeRender(O,Ce,$e,We,Le,wt),ae.modelViewMatrix.multiplyMatrices($e.matrixWorldInverse,ae.matrixWorld),ae.normalMatrix.getNormalMatrix(ae.modelViewMatrix),Le.onBeforeRender(O,Ce,$e,We,ae,wt),Le.transparent===!0&&Le.side===vo&&Le.forceSinglePass===!1?(Le.side=Is,Le.needsUpdate=!0,O.renderBufferDirect($e,Ce,We,Le,ae,wt),Le.side=Bc,Le.needsUpdate=!0,O.renderBufferDirect($e,Ce,We,Le,ae,wt),Le.side=vo):O.renderBufferDirect($e,Ce,We,Le,ae,wt),ae.onAfterRender(O,Ce,$e,We,Le,wt)}function Vi(ae,Ce,$e){Ce.isScene!==!0&&(Ce=nt);const We=Ke.get(ae),Le=w.state.lights,wt=w.state.shadowsArray,zt=Le.state.version,Bt=Te.getParameters(ae,Le.state,wt,Ce,$e),jt=Te.getProgramCacheKey(Bt);let sn=We.programs;We.environment=ae.isMeshStandardMaterial?Ce.environment:null,We.fog=Ce.fog,We.envMap=(ae.isMeshStandardMaterial?Z:de).get(ae.envMap||We.environment),We.envMapRotation=We.environment!==null&&ae.envMap===null?Ce.environmentRotation:ae.envMapRotation,sn===void 0&&(ae.addEventListener("dispose",Wt),sn=new Map,We.programs=sn);let un=sn.get(jt);if(un!==void 0){if(We.currentProgram===un&&We.lightsStateVersion===zt)return Bs(ae,Bt),un}else Bt.uniforms=Te.getUniforms(ae),ae.onBeforeCompile(Bt,O),un=Te.acquireProgram(Bt,jt),sn.set(jt,un),We.uniforms=Bt.uniforms;const Xt=We.uniforms;return(!ae.isShaderMaterial&&!ae.isRawShaderMaterial||ae.clipping===!0)&&(Xt.clippingPlanes=ot.uniform),Bs(ae,Bt),We.needsLights=io(ae),We.lightsStateVersion=zt,We.needsLights&&(Xt.ambientLightColor.value=Le.state.ambient,Xt.lightProbe.value=Le.state.probe,Xt.directionalLights.value=Le.state.directional,Xt.directionalLightShadows.value=Le.state.directionalShadow,Xt.spotLights.value=Le.state.spot,Xt.spotLightShadows.value=Le.state.spotShadow,Xt.rectAreaLights.value=Le.state.rectArea,Xt.ltc_1.value=Le.state.rectAreaLTC1,Xt.ltc_2.value=Le.state.rectAreaLTC2,Xt.pointLights.value=Le.state.point,Xt.pointLightShadows.value=Le.state.pointShadow,Xt.hemisphereLights.value=Le.state.hemi,Xt.directionalShadowMap.value=Le.state.directionalShadowMap,Xt.directionalShadowMatrix.value=Le.state.directionalShadowMatrix,Xt.spotShadowMap.value=Le.state.spotShadowMap,Xt.spotLightMatrix.value=Le.state.spotLightMatrix,Xt.spotLightMap.value=Le.state.spotLightMap,Xt.pointShadowMap.value=Le.state.pointShadowMap,Xt.pointShadowMatrix.value=Le.state.pointShadowMatrix),We.currentProgram=un,We.uniformsList=null,un}function fr(ae){if(ae.uniformsList===null){const Ce=ae.currentProgram.getUniforms();ae.uniformsList=ub.seqWithValue(Ce.seq,ae.uniforms)}return ae.uniformsList}function Bs(ae,Ce){const $e=Ke.get(ae);$e.outputColorSpace=Ce.outputColorSpace,$e.batching=Ce.batching,$e.batchingColor=Ce.batchingColor,$e.instancing=Ce.instancing,$e.instancingColor=Ce.instancingColor,$e.instancingMorph=Ce.instancingMorph,$e.skinning=Ce.skinning,$e.morphTargets=Ce.morphTargets,$e.morphNormals=Ce.morphNormals,$e.morphColors=Ce.morphColors,$e.morphTargetsCount=Ce.morphTargetsCount,$e.numClippingPlanes=Ce.numClippingPlanes,$e.numIntersection=Ce.numClipIntersection,$e.vertexAlphas=Ce.vertexAlphas,$e.vertexTangents=Ce.vertexTangents,$e.toneMapping=Ce.toneMapping}function al(ae,Ce,$e,We,Le){Ce.isScene!==!0&&(Ce=nt),Ye.resetTextureUnits();const wt=Ce.fog,zt=We.isMeshStandardMaterial?Ce.environment:null,Bt=D===null?O.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:$f,jt=(We.isMeshStandardMaterial?Z:de).get(We.envMap||zt),sn=We.vertexColors===!0&&!!$e.attributes.color&&$e.attributes.color.itemSize===4,un=!!$e.attributes.tangent&&(!!We.normalMap||We.anisotropy>0),Xt=!!$e.morphAttributes.position,An=!!$e.morphAttributes.normal,Wn=!!$e.morphAttributes.color;let Zn=Pc;We.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Zn=O.toneMapping);const Pn=$e.morphAttributes.position||$e.morphAttributes.normal||$e.morphAttributes.color,pi=Pn!==void 0?Pn.length:0,on=Ke.get(We),vi=w.state.lights;if(se===!0&&(ve===!0||ae!==U)){const ta=ae===U&&We.id===V;ot.setState(We,ae,ta)}let Un=!1;We.version===on.__version?(on.needsLights&&on.lightsStateVersion!==vi.state.version||on.outputColorSpace!==Bt||Le.isBatchedMesh&&on.batching===!1||!Le.isBatchedMesh&&on.batching===!0||Le.isBatchedMesh&&on.batchingColor===!0&&Le.colorTexture===null||Le.isBatchedMesh&&on.batchingColor===!1&&Le.colorTexture!==null||Le.isInstancedMesh&&on.instancing===!1||!Le.isInstancedMesh&&on.instancing===!0||Le.isSkinnedMesh&&on.skinning===!1||!Le.isSkinnedMesh&&on.skinning===!0||Le.isInstancedMesh&&on.instancingColor===!0&&Le.instanceColor===null||Le.isInstancedMesh&&on.instancingColor===!1&&Le.instanceColor!==null||Le.isInstancedMesh&&on.instancingMorph===!0&&Le.morphTexture===null||Le.isInstancedMesh&&on.instancingMorph===!1&&Le.morphTexture!==null||on.envMap!==jt||We.fog===!0&&on.fog!==wt||on.numClippingPlanes!==void 0&&(on.numClippingPlanes!==ot.numPlanes||on.numIntersection!==ot.numIntersection)||on.vertexAlphas!==sn||on.vertexTangents!==un||on.morphTargets!==Xt||on.morphNormals!==An||on.morphColors!==Wn||on.toneMapping!==Zn||on.morphTargetsCount!==pi)&&(Un=!0):(Un=!0,on.__version=We.version);let Dn=on.currentProgram;Un===!0&&(Dn=Vi(We,Ce,Le));let ls=!1,Ei=!1,cs=!1;const bi=Dn.getUniforms(),aa=on.uniforms;if(Be.useProgram(Dn.program)&&(ls=!0,Ei=!0,cs=!0),We.id!==V&&(V=We.id,Ei=!0),ls||U!==ae){Be.buffers.depth.getReversed()&&ae.reversedDepth!==!0&&(ae._reversedDepth=!0,ae.updateProjectionMatrix()),bi.setValue(ne,"projectionMatrix",ae.projectionMatrix),bi.setValue(ne,"viewMatrix",ae.matrixWorldInverse);const $i=bi.map.cameraPosition;$i!==void 0&&$i.setValue(ne,De.setFromMatrixPosition(ae.matrixWorld)),Ve.logarithmicDepthBuffer&&bi.setValue(ne,"logDepthBufFC",2/(Math.log(ae.far+1)/Math.LN2)),(We.isMeshPhongMaterial||We.isMeshToonMaterial||We.isMeshLambertMaterial||We.isMeshBasicMaterial||We.isMeshStandardMaterial||We.isShaderMaterial)&&bi.setValue(ne,"isOrthographic",ae.isOrthographicCamera===!0),U!==ae&&(U=ae,Ei=!0,cs=!0)}if(Le.isSkinnedMesh){bi.setOptional(ne,Le,"bindMatrix"),bi.setOptional(ne,Le,"bindMatrixInverse");const ta=Le.skeleton;ta&&(ta.boneTexture===null&&ta.computeBoneTexture(),bi.setValue(ne,"boneTexture",ta.boneTexture,Ye))}Le.isBatchedMesh&&(bi.setOptional(ne,Le,"batchingTexture"),bi.setValue(ne,"batchingTexture",Le._matricesTexture,Ye),bi.setOptional(ne,Le,"batchingIdTexture"),bi.setValue(ne,"batchingIdTexture",Le._indirectTexture,Ye),bi.setOptional(ne,Le,"batchingColorTexture"),Le._colorsTexture!==null&&bi.setValue(ne,"batchingColorTexture",Le._colorsTexture,Ye));const ea=$e.morphAttributes;if((ea.position!==void 0||ea.normal!==void 0||ea.color!==void 0)&&Dt.update(Le,$e,Dn),(Ei||on.receiveShadow!==Le.receiveShadow)&&(on.receiveShadow=Le.receiveShadow,bi.setValue(ne,"receiveShadow",Le.receiveShadow)),We.isMeshGouraudMaterial&&We.envMap!==null&&(aa.envMap.value=jt,aa.flipEnvMap.value=jt.isCubeTexture&&jt.isRenderTargetTexture===!1?-1:1),We.isMeshStandardMaterial&&We.envMap===null&&Ce.environment!==null&&(aa.envMapIntensity.value=Ce.environmentIntensity),aa.dfgLUT!==void 0&&(aa.dfgLUT.value=zq()),Ei&&(bi.setValue(ne,"toneMappingExposure",O.toneMappingExposure),on.needsLights&&Wl(aa,cs),wt&&We.fog===!0&&gt.refreshFogUniforms(aa,wt),gt.refreshMaterialUniforms(aa,We,ce,W,w.state.transmissionRenderTarget[ae.id]),ub.upload(ne,fr(on),aa,Ye)),We.isShaderMaterial&&We.uniformsNeedUpdate===!0&&(ub.upload(ne,fr(on),aa,Ye),We.uniformsNeedUpdate=!1),We.isSpriteMaterial&&bi.setValue(ne,"center",Le.center),bi.setValue(ne,"modelViewMatrix",Le.modelViewMatrix),bi.setValue(ne,"normalMatrix",Le.normalMatrix),bi.setValue(ne,"modelMatrix",Le.matrixWorld),We.isShaderMaterial||We.isRawShaderMaterial){const ta=We.uniformsGroups;for(let $i=0,us=ta.length;$i<us;$i++){const Zt=ta[$i];at.update(Zt,Dn),at.bind(Zt,Dn)}}return Dn}function Wl(ae,Ce){ae.ambientLightColor.needsUpdate=Ce,ae.lightProbe.needsUpdate=Ce,ae.directionalLights.needsUpdate=Ce,ae.directionalLightShadows.needsUpdate=Ce,ae.pointLights.needsUpdate=Ce,ae.pointLightShadows.needsUpdate=Ce,ae.spotLights.needsUpdate=Ce,ae.spotLightShadows.needsUpdate=Ce,ae.rectAreaLights.needsUpdate=Ce,ae.hemisphereLights.needsUpdate=Ce}function io(ae){return ae.isMeshLambertMaterial||ae.isMeshToonMaterial||ae.isMeshPhongMaterial||ae.isMeshStandardMaterial||ae.isShadowMaterial||ae.isShaderMaterial&&ae.lights===!0}this.getActiveCubeFace=function(){return B},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(ae,Ce,$e){const We=Ke.get(ae);We.__autoAllocateDepthBuffer=ae.resolveDepthBuffer===!1,We.__autoAllocateDepthBuffer===!1&&(We.__useRenderToTexture=!1),Ke.get(ae.texture).__webglTexture=Ce,Ke.get(ae.depthTexture).__webglTexture=We.__autoAllocateDepthBuffer?void 0:$e,We.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ae,Ce){const $e=Ke.get(ae);$e.__webglFramebuffer=Ce,$e.__useDefaultFramebuffer=Ce===void 0};const hi=ne.createFramebuffer();this.setRenderTarget=function(ae,Ce=0,$e=0){D=ae,B=Ce,L=$e;let We=!0,Le=null,wt=!1,zt=!1;if(ae){const jt=Ke.get(ae);if(jt.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(ne.FRAMEBUFFER,null),We=!1;else if(jt.__webglFramebuffer===void 0)Ye.setupRenderTarget(ae);else if(jt.__hasExternalTextures)Ye.rebindTextures(ae,Ke.get(ae.texture).__webglTexture,Ke.get(ae.depthTexture).__webglTexture);else if(ae.depthBuffer){const Xt=ae.depthTexture;if(jt.__boundDepthTexture!==Xt){if(Xt!==null&&Ke.has(Xt)&&(ae.width!==Xt.image.width||ae.height!==Xt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ye.setupDepthRenderbuffer(ae)}}const sn=ae.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(zt=!0);const un=Ke.get(ae).__webglFramebuffer;ae.isWebGLCubeRenderTarget?(Array.isArray(un[Ce])?Le=un[Ce][$e]:Le=un[Ce],wt=!0):ae.samples>0&&Ye.useMultisampledRTT(ae)===!1?Le=Ke.get(ae).__webglMultisampledFramebuffer:Array.isArray(un)?Le=un[$e]:Le=un,G.copy(ae.viewport),X.copy(ae.scissor),$=ae.scissorTest}else G.copy(fe).multiplyScalar(ce).floor(),X.copy(ge).multiplyScalar(ce).floor(),$=re;if($e!==0&&(Le=hi),Be.bindFramebuffer(ne.FRAMEBUFFER,Le)&&We&&Be.drawBuffers(ae,Le),Be.viewport(G),Be.scissor(X),Be.setScissorTest($),wt){const jt=Ke.get(ae.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,jt.__webglTexture,$e)}else if(zt){const jt=Ce;for(let sn=0;sn<ae.textures.length;sn++){const un=Ke.get(ae.textures[sn]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+sn,un.__webglTexture,$e,jt)}}else if(ae!==null&&$e!==0){const jt=Ke.get(ae.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,jt.__webglTexture,$e)}V=-1},this.readRenderTargetPixels=function(ae,Ce,$e,We,Le,wt,zt,Bt=0){if(!(ae&&ae.isWebGLRenderTarget)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let jt=Ke.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&zt!==void 0&&(jt=jt[zt]),jt){Be.bindFramebuffer(ne.FRAMEBUFFER,jt);try{const sn=ae.textures[Bt],un=sn.format,Xt=sn.type;if(!Ve.textureFormatReadable(un)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ve.textureTypeReadable(Xt)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ce>=0&&Ce<=ae.width-We&&$e>=0&&$e<=ae.height-Le&&(ae.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Bt),ne.readPixels(Ce,$e,We,Le,vt.convert(un),vt.convert(Xt),wt))}finally{const sn=D!==null?Ke.get(D).__webglFramebuffer:null;Be.bindFramebuffer(ne.FRAMEBUFFER,sn)}}},this.readRenderTargetPixelsAsync=async function(ae,Ce,$e,We,Le,wt,zt,Bt=0){if(!(ae&&ae.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let jt=Ke.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&zt!==void 0&&(jt=jt[zt]),jt)if(Ce>=0&&Ce<=ae.width-We&&$e>=0&&$e<=ae.height-Le){Be.bindFramebuffer(ne.FRAMEBUFFER,jt);const sn=ae.textures[Bt],un=sn.format,Xt=sn.type;if(!Ve.textureFormatReadable(un))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ve.textureTypeReadable(Xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const An=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,An),ne.bufferData(ne.PIXEL_PACK_BUFFER,wt.byteLength,ne.STREAM_READ),ae.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Bt),ne.readPixels(Ce,$e,We,Le,vt.convert(un),vt.convert(Xt),0);const Wn=D!==null?Ke.get(D).__webglFramebuffer:null;Be.bindFramebuffer(ne.FRAMEBUFFER,Wn);const Zn=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await eV(ne,Zn,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,An),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,wt),ne.deleteBuffer(An),ne.deleteSync(Zn),wt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ae,Ce=null,$e=0){const We=Math.pow(2,-$e),Le=Math.floor(ae.image.width*We),wt=Math.floor(ae.image.height*We),zt=Ce!==null?Ce.x:0,Bt=Ce!==null?Ce.y:0;Ye.setTexture2D(ae,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,$e,0,0,zt,Bt,Le,wt),Be.unbindTexture()};const Ii=ne.createFramebuffer(),Pi=ne.createFramebuffer();this.copyTextureToTexture=function(ae,Ce,$e=null,We=null,Le=0,wt=null){wt===null&&(Le!==0?($0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),wt=Le,Le=0):wt=0);let zt,Bt,jt,sn,un,Xt,An,Wn,Zn;const Pn=ae.isCompressedTexture?ae.mipmaps[wt]:ae.image;if($e!==null)zt=$e.max.x-$e.min.x,Bt=$e.max.y-$e.min.y,jt=$e.isBox3?$e.max.z-$e.min.z:1,sn=$e.min.x,un=$e.min.y,Xt=$e.isBox3?$e.min.z:0;else{const ea=Math.pow(2,-Le);zt=Math.floor(Pn.width*ea),Bt=Math.floor(Pn.height*ea),ae.isDataArrayTexture?jt=Pn.depth:ae.isData3DTexture?jt=Math.floor(Pn.depth*ea):jt=1,sn=0,un=0,Xt=0}We!==null?(An=We.x,Wn=We.y,Zn=We.z):(An=0,Wn=0,Zn=0);const pi=vt.convert(Ce.format),on=vt.convert(Ce.type);let vi;Ce.isData3DTexture?(Ye.setTexture3D(Ce,0),vi=ne.TEXTURE_3D):Ce.isDataArrayTexture||Ce.isCompressedArrayTexture?(Ye.setTexture2DArray(Ce,0),vi=ne.TEXTURE_2D_ARRAY):(Ye.setTexture2D(Ce,0),vi=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Ce.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Ce.unpackAlignment);const Un=ne.getParameter(ne.UNPACK_ROW_LENGTH),Dn=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),ls=ne.getParameter(ne.UNPACK_SKIP_PIXELS),Ei=ne.getParameter(ne.UNPACK_SKIP_ROWS),cs=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Pn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Pn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,sn),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,un),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Xt);const bi=ae.isDataArrayTexture||ae.isData3DTexture,aa=Ce.isDataArrayTexture||Ce.isData3DTexture;if(ae.isDepthTexture){const ea=Ke.get(ae),ta=Ke.get(Ce),$i=Ke.get(ea.__renderTarget),us=Ke.get(ta.__renderTarget);Be.bindFramebuffer(ne.READ_FRAMEBUFFER,$i.__webglFramebuffer),Be.bindFramebuffer(ne.DRAW_FRAMEBUFFER,us.__webglFramebuffer);for(let Zt=0;Zt<jt;Zt++)bi&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ke.get(ae).__webglTexture,Le,Xt+Zt),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ke.get(Ce).__webglTexture,wt,Zn+Zt)),ne.blitFramebuffer(sn,un,zt,Bt,An,Wn,zt,Bt,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Be.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(Le!==0||ae.isRenderTargetTexture||Ke.has(ae)){const ea=Ke.get(ae),ta=Ke.get(Ce);Be.bindFramebuffer(ne.READ_FRAMEBUFFER,Ii),Be.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Pi);for(let $i=0;$i<jt;$i++)bi?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ea.__webglTexture,Le,Xt+$i):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,ea.__webglTexture,Le),aa?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ta.__webglTexture,wt,Zn+$i):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,ta.__webglTexture,wt),Le!==0?ne.blitFramebuffer(sn,un,zt,Bt,An,Wn,zt,Bt,ne.COLOR_BUFFER_BIT,ne.NEAREST):aa?ne.copyTexSubImage3D(vi,wt,An,Wn,Zn+$i,sn,un,zt,Bt):ne.copyTexSubImage2D(vi,wt,An,Wn,sn,un,zt,Bt);Be.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else aa?ae.isDataTexture||ae.isData3DTexture?ne.texSubImage3D(vi,wt,An,Wn,Zn,zt,Bt,jt,pi,on,Pn.data):Ce.isCompressedArrayTexture?ne.compressedTexSubImage3D(vi,wt,An,Wn,Zn,zt,Bt,jt,pi,Pn.data):ne.texSubImage3D(vi,wt,An,Wn,Zn,zt,Bt,jt,pi,on,Pn):ae.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,wt,An,Wn,zt,Bt,pi,on,Pn.data):ae.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,wt,An,Wn,Pn.width,Pn.height,pi,Pn.data):ne.texSubImage2D(ne.TEXTURE_2D,wt,An,Wn,zt,Bt,pi,on,Pn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Un),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Dn),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,ls),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Ei),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,cs),wt===0&&Ce.generateMipmaps&&ne.generateMipmap(vi),Be.unbindTexture()},this.initRenderTarget=function(ae){Ke.get(ae).__webglFramebuffer===void 0&&Ye.setupRenderTarget(ae)},this.initTexture=function(ae){ae.isCubeTexture?Ye.setTextureCube(ae,0):ae.isData3DTexture?Ye.setTexture3D(ae,0):ae.isDataArrayTexture||ae.isCompressedArrayTexture?Ye.setTexture2DArray(ae,0):Ye.setTexture2D(ae,0),Be.unbindTexture()},this.resetState=function(){B=0,L=0,D=null,Be.reset(),ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Xn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xn._getUnpackColorSpace()}}const Nq=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:X_,AddEquation:Uf,AddOperation:I6,AdditiveAnimationBlendMode:kM,AdditiveBlending:_5,AgXToneMapping:F6,AlphaFormat:UM,AlwaysCompare:t8,AlwaysDepth:Cb,AlwaysStencilFunc:w5,AmbientLight:pA,AnimationAction:Z8,AnimationClip:Nh,AnimationLoader:HH,AnimationMixer:mj,AnimationObjectGroup:hj,AnimationUtils:BH,ArcCurve:v8,ArrayCamera:q8,ArrowHelper:kj,AttachedBindMode:A5,Audio:$8,AudioAnalyser:ij,AudioContext:mA,AudioListener:ej,AudioLoader:ZH,AxesHelper:Fj,BackSide:Is,BasicDepthPacking:Y6,BasicShadowMap:m6,BatchedMesh:h8,Bone:f2,BooleanKeyframeTrack:Bh,Box2:Aj,Box3:rs,Box3Helper:Uj,BoxGeometry:td,BoxHelper:Pj,BufferAttribute:zi,BufferGeometry:Tn,BufferGeometryLoader:X8,ByteType:DM,Cache:Oc,Camera:r2,CameraHelper:Ij,CanvasTexture:y8,CapsuleGeometry:m2,CatmullRomCurve3:b8,CineonToneMapping:B6,CircleGeometry:g2,ClampToEdgeWrapping:ns,Clock:gA,Color:Ct,ColorKeyframeTrack:sA,ColorManagement:Xn,CompressedArrayTexture:sH,CompressedCubeTexture:oH,CompressedTexture:h2,CompressedTextureLoader:jH,ConeGeometry:hy,ConstantAlphaFactor:N6,ConstantColorFactor:O6,Controls:Hj,CubeCamera:l8,CubeReflectionMapping:ku,CubeRefractionMapping:qf,CubeTexture:fy,CubeTextureLoader:GH,CubeUVReflectionMapping:om,CubicBezierCurve:KM,CubicBezierCurve3:_8,CubicInterpolant:B8,CullFaceBack:b5,CullFaceFront:p6,CullFaceFrontBack:pF,CullFaceNone:h6,Curve:Gl,CurvePath:M8,CustomBlending:g6,CustomToneMapping:k6,CylinderGeometry:cm,Cylindrical:Mj,Data3DTexture:a2,DataArrayTexture:i2,DataTexture:Bl,DataTextureLoader:V8,DataUtils:zV,DecrementStencilOp:CF,DecrementWrapStencilOp:OF,DefaultLoadingManager:lA,DepthFormat:Y0,DepthStencilFormat:X0,DepthTexture:p2,DetachedBindMode:H6,DirectionalLight:hA,DirectionalLightHelper:Lj,DiscreteInterpolant:k8,DodecahedronGeometry:y2,DoubleSide:vo,DstAlphaFactor:w6,DstColorFactor:T6,DynamicCopyUsage:WF,DynamicDrawUsage:kF,DynamicReadUsage:HF,EdgesGeometry:x8,EllipseCurve:x2,EqualCompare:Z6,EqualDepth:Ob,EqualStencilFunc:LF,EquirectangularReflectionMapping:P1,EquirectangularRefractionMapping:U1,Euler:Ps,EventDispatcher:kc,ExternalTexture:qM,ExtrudeGeometry:v2,FileLoader:Vl,Float16BufferAttribute:BV,Float32BufferAttribute:Ht,FloatType:Ds,Fog:o2,FogExp2:s2,FramebufferTexture:rH,FrontSide:Bc,Frustum:lm,FrustumArray:d2,GLBufferAttribute:bj,GLSL1:XF,GLSL3:E5,GreaterCompare:J6,GreaterDepth:Nb,GreaterEqualCompare:e8,GreaterEqualDepth:zb,GreaterEqualStencilFunc:BF,GreaterStencilFunc:PF,GridHelper:Q8,Group:Vf,HalfFloatType:Qf,HemisphereLight:H8,HemisphereLightHelper:Nj,IcosahedronGeometry:b2,ImageBitmapLoader:KH,ImageLoader:$1,ImageUtils:a8,IncrementStencilOp:TF,IncrementWrapStencilOp:RF,InstancedBufferAttribute:Q0,InstancedBufferGeometry:Y8,InstancedInterleavedBuffer:vj,InstancedMesh:d8,Int16BufferAttribute:PV,Int32BufferAttribute:UV,Int8BufferAttribute:DV,IntType:$_,InterleavedBuffer:c2,InterleavedBufferAttribute:Rh,Interpolant:my,InterpolateDiscrete:k1,InterpolateLinear:l_,InterpolateSmooth:lb,InterpolationSamplingMode:KF,InterpolationSamplingType:$F,InvertStencilOp:zF,KeepStencilOp:dh,KeyframeTrack:il,LOD:f8,LatheGeometry:_2,Layers:Z0,LessCompare:K6,LessDepth:Rb,LessEqualCompare:FM,LessEqualDepth:Ch,LessEqualStencilFunc:IF,LessStencilFunc:DF,Light:id,LightProbe:W8,Line:Vu,Line3:Tj,LineBasicMaterial:Ir,LineCurve:ZM,LineCurve3:S8,LineDashedMaterial:I8,LineLoop:p8,LineSegments:jl,LinearFilter:Ea,LinearInterpolant:rA,LinearMipMapLinearFilter:xF,LinearMipMapNearestFilter:yF,LinearMipmapLinearFilter:Il,LinearMipmapNearestFilter:x1,LinearSRGBColorSpace:$f,LinearToneMapping:P6,LinearTransfer:V1,Loader:Pr,LoaderUtils:K1,LoadingManager:oA,LoopOnce:j6,LoopPingPong:W6,LoopRepeat:G6,MOUSE:uh,Material:ss,MaterialLoader:C2,MathUtils:es,Matrix2:_A,Matrix3:Nn,Matrix4:rn,MaxEquation:b6,Mesh:oa,MeshBasicMaterial:Fl,MeshDepthMaterial:nA,MeshDistanceMaterial:iA,MeshLambertMaterial:tA,MeshMatcapMaterial:L8,MeshNormalMaterial:D8,MeshPhongMaterial:wh,MeshPhysicalMaterial:z8,MeshStandardMaterial:vh,MeshToonMaterial:N8,MinEquation:v6,MirroredRepeatWrapping:B1,MixOperation:L6,MultiplyBlending:M5,MultiplyOperation:cy,NearestFilter:Dr,NearestMipMapLinearFilter:gF,NearestMipMapNearestFilter:mF,NearestMipmapLinearFilter:A0,NearestMipmapNearestFilter:NM,NeutralToneMapping:V6,NeverCompare:$6,NeverDepth:Tb,NeverStencilFunc:NF,NoBlending:Ic,NoColorSpace:Cu,NoToneMapping:Pc,NormalAnimationBlendMode:n2,NormalBlending:Wf,NotEqualCompare:Q6,NotEqualDepth:Db,NotEqualStencilFunc:UF,NumberKeyframeTrack:q1,Object3D:mi,ObjectLoader:qH,ObjectSpaceNormalMap:q6,OctahedronGeometry:py,OneFactor:S6,OneMinusConstantAlphaFactor:D6,OneMinusConstantColorFactor:z6,OneMinusDstAlphaFactor:E6,OneMinusDstColorFactor:C6,OneMinusSrcAlphaFactor:Eb,OneMinusSrcColorFactor:A6,OrthographicCamera:Du,PCFShadowMap:Y_,PCFSoftShadowMap:y1,PMREMGenerator:L5,Path:d_,PerspectiveCamera:Aa,Plane:Eu,PlaneGeometry:um,PlaneHelper:Bj,PointLight:dA,PointLightHelper:Oj,Points:m8,PointsMaterial:XM,PolarGridHelper:Dj,PolyhedronGeometry:nd,PositionalAudio:nj,PropertyBinding:yi,PropertyMixer:K8,QuadraticBezierCurve:JM,QuadraticBezierCurve3:QM,Quaternion:Fa,QuaternionKeyframeTrack:dm,QuaternionLinearInterpolant:F8,RED_GREEN_RGTC2_Format:s_,RED_RGTC1_Format:a_,REVISION:W_,RGBADepthPacking:X6,RGBAFormat:is,RGBAIntegerFormat:t2,RGBA_ASTC_10x10_Format:Jb,RGBA_ASTC_10x5_Format:$b,RGBA_ASTC_10x6_Format:Kb,RGBA_ASTC_10x8_Format:Zb,RGBA_ASTC_12x10_Format:Qb,RGBA_ASTC_12x12_Format:e_,RGBA_ASTC_4x4_Format:Vb,RGBA_ASTC_5x4_Format:Hb,RGBA_ASTC_5x5_Format:jb,RGBA_ASTC_6x5_Format:Gb,RGBA_ASTC_6x6_Format:Wb,RGBA_ASTC_8x5_Format:Yb,RGBA_ASTC_8x6_Format:Xb,RGBA_ASTC_8x8_Format:qb,RGBA_BPTC_Format:t_,RGBA_ETC2_EAC_Format:Fb,RGBA_PVRTC_2BPPV1_Format:Ub,RGBA_PVRTC_4BPPV1_Format:Pb,RGBA_S3TC_DXT1_Format:b1,RGBA_S3TC_DXT3_Format:_1,RGBA_S3TC_DXT5_Format:S1,RGBDepthPacking:MF,RGBFormat:BM,RGBIntegerFormat:vF,RGB_BPTC_SIGNED_Format:n_,RGB_BPTC_UNSIGNED_Format:i_,RGB_ETC1_Format:Bb,RGB_ETC2_Format:kb,RGB_PVRTC_2BPPV1_Format:Ib,RGB_PVRTC_4BPPV1_Format:Lb,RGB_S3TC_DXT1_Format:v1,RGDepthPacking:AF,RGFormat:Q_,RGIntegerFormat:e2,RawShaderMaterial:O8,Ray:Uh,Raycaster:bA,RectAreaLight:j8,RedFormat:J_,RedIntegerFormat:uy,ReinhardToneMapping:U6,RenderTarget:HM,RenderTarget3D:gj,RepeatWrapping:Ou,ReplaceStencilOp:EF,ReverseSubtractEquation:x6,RingGeometry:S2,SIGNED_RED_GREEN_RGTC2_Format:o_,SIGNED_RED_RGTC1_Format:r_,SRGBColorSpace:na,SRGBTransfer:Fi,Scene:l2,ShaderChunk:Fn,ShaderLib:Dl,ShaderMaterial:Eo,ShadowMaterial:R8,Shape:Ah,ShapeGeometry:M2,ShapePath:Vj,ShapeUtils:Pl,ShortType:LM,Skeleton:dy,SkeletonHelper:Rj,SkinnedMesh:YM,Source:Ff,Sphere:Lr,SphereGeometry:fm,Spherical:N5,SphericalHarmonics3:G8,SplineCurve:eA,SpotLight:fA,SpotLightHelper:Cj,Sprite:WM,SpriteMaterial:u2,SrcAlphaFactor:wb,SrcAlphaSaturateFactor:R6,SrcColorFactor:M6,StaticCopyUsage:GF,StaticDrawUsage:H1,StaticReadUsage:VF,StereoCamera:JH,StreamCopyUsage:YF,StreamDrawUsage:FF,StreamReadUsage:jF,StringKeyframeTrack:kh,SubtractEquation:y6,SubtractiveBlending:S5,TOUCH:fh,TangentSpaceNormalMap:ed,TetrahedronGeometry:A2,Texture:La,TextureLoader:cA,TextureUtils:Xj,Timer:_j,TimestampQuery:qF,TorusGeometry:w2,TorusKnotGeometry:E2,Triangle:Qs,TriangleFanDrawMode:SF,TriangleStripDrawMode:_F,TrianglesDrawMode:bF,TubeGeometry:T2,UVMapping:q_,Uint16BufferAttribute:jM,Uint32BufferAttribute:GM,Uint8BufferAttribute:LV,Uint8ClampedBufferAttribute:IV,Uniform:vA,UniformsGroup:xj,UniformsLib:Pt,UniformsUtils:o8,UnsignedByteType:tl,UnsignedInt101111Type:PM,UnsignedInt248Type:W0,UnsignedInt5999Type:IM,UnsignedIntType:Fu,UnsignedShort4444Type:K_,UnsignedShort5551Type:Z_,UnsignedShortType:G0,VSMShadowMap:Nl,Vector2:pt,Vector3:pe,Vector4:xi,VectorKeyframeTrack:zh,VideoFrameTexture:aH,VideoTexture:g8,WebGL3DRenderTarget:_V,WebGLArrayRenderTarget:bV,WebGLCoordinateSystem:bo,WebGLCubeRenderTarget:c8,WebGLRenderTarget:kl,WebGLRenderer:s9,WebGLUtils:r9,WebGPUCoordinateSystem:q0,WebXRController:cb,WireframeGeometry:C8,WrapAroundEnding:F1,ZeroCurvatureEnding:yh,ZeroFactor:_6,ZeroSlopeEnding:xh,ZeroStencilOp:wF,createCanvasElement:i8,error:Mn,getConsoleFunction:QF,log:G1,setConsoleFunction:JF,warn:Ut,warnOnce:$0},Symbol.toStringTag,{value:"Module"}));var RS={exports:{}},OS={},zS={exports:{}},NS={};var GC;function Dq(){if(GC)return NS;GC=1;var n=im();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,o=n.useDebugValue;function c(g,v){var y=v(),b=i({inst:{value:y,getSnapshot:v}}),M=b[0].inst,A=b[1];return r(function(){M.value=y,M.getSnapshot=v,f(M)&&A({inst:M})},[g,y,v]),a(function(){return f(M)&&A({inst:M}),g(function(){f(M)&&A({inst:M})})},[g]),o(y),y}function f(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!t(g,y)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return NS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,NS}var WC;function Lq(){return WC||(WC=1,zS.exports=Dq()),zS.exports}var YC;function Iq(){if(YC)return OS;YC=1;var n=im(),e=Lq();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,o=n.useEffect,c=n.useMemo,f=n.useDebugValue;return OS.useSyncExternalStoreWithSelector=function(h,m,g,v,y){var b=r(null);if(b.current===null){var M={hasValue:!1,value:null};b.current=M}else M=b.current;b=c(function(){function S(O){if(!E){if(E=!0,w=O,O=v(O),y!==void 0&&M.hasValue){var P=M.value;if(y(P,O))return R=P}return R=O}if(P=R,i(w,O))return P;var B=v(O);return y!==void 0&&y(P,B)?(w=O,P):(w=O,R=B)}var E=!1,w,R,z=g===void 0?null:g;return[function(){return S(m())},z===null?void 0:function(){return S(z())}]},[m,g,v,y]);var A=a(h,b[0],b[1]);return o(function(){M.hasValue=!0,M.value=A},[A]),f(A),A},OS}var XC;function Pq(){return XC||(XC=1,RS.exports=Iq()),RS.exports}var Uq=Pq();const Bq=Q1(Uq),{useSyncExternalStoreWithSelector:kq}=Bq,Fq=n=>n;function Vq(n,e=Fq,t){const i=kq(n.subscribe,n.getState,n.getInitialState,e,t);return qi.useDebugValue(i),i}const qC=(n,e)=>{const t=i6(n),i=(a,r=e)=>Vq(t,a,r);return Object.assign(i,t),i},Hq=((n,e)=>n?qC(n,e):qC);var DS={exports:{}},LS={exports:{}},IS={exports:{}},PS={};var $C;function jq(){return $C||($C=1,(function(n){function e(H,K){var Q=H.length;H.push(K);e:for(;0<Q;){var W=Q-1>>>1,ce=H[W];if(0<a(ce,K))H[W]=K,H[Q]=ce,Q=W;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],Q=H.pop();if(Q!==K){H[0]=Q;e:for(var W=0,ce=H.length,q=ce>>>1;W<q;){var ie=2*(W+1)-1,fe=H[ie],ge=ie+1,re=H[ge];if(0>a(fe,Q))ge<ce&&0>a(re,fe)?(H[W]=re,H[ge]=Q,W=ge):(H[W]=fe,H[ie]=Q,W=ie);else if(ge<ce&&0>a(re,Q))H[W]=re,H[ge]=Q,W=ge;else break e}}return K}function a(H,K){var Q=H.sortIndex-K.sortIndex;return Q!==0?Q:H.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],h=[],m=1,g=null,v=3,y=!1,b=!1,M=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var K=t(h);K!==null;){if(K.callback===null)i(h);else if(K.startTime<=H)i(h),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(h)}}function R(H){if(M=!1,w(H),!b)if(t(f)!==null)b=!0,X();else{var K=t(h);K!==null&&$(R,K.startTime-H)}}var z=!1,O=-1,P=5,B=-1;function L(){return!(n.unstable_now()-B<P)}function D(){if(z){var H=n.unstable_now();B=H;var K=!0;try{e:{b=!1,M&&(M=!1,S(O),O=-1),y=!0;var Q=v;try{t:{for(w(H),g=t(f);g!==null&&!(g.expirationTime>H&&L());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var ce=W(g.expirationTime<=H);if(H=n.unstable_now(),typeof ce=="function"){g.callback=ce,w(H),K=!0;break t}g===t(f)&&i(f),w(H)}else i(f);g=t(f)}if(g!==null)K=!0;else{var q=t(h);q!==null&&$(R,q.startTime-H),K=!1}}break e}finally{g=null,v=Q,y=!1}K=void 0}}finally{K?V():z=!1}}}var V;if(typeof E=="function")V=function(){E(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,G=U.port2;U.port1.onmessage=D,V=function(){G.postMessage(null)}}else V=function(){A(D,0)};function X(){z||(z=!0,V())}function $(H,K){O=A(function(){H(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){b||y||(b=!0,X())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var Q=v;v=K;try{return H()}finally{v=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=v;v=H;try{return K()}finally{v=Q}},n.unstable_scheduleCallback=function(H,K,Q){var W=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,H={id:m++,callback:K,priorityLevel:H,startTime:Q,expirationTime:ce,sortIndex:-1},Q>W?(H.sortIndex=Q,e(h,H),t(f)===null&&H===t(h)&&(M?(S(O),O=-1):M=!0,$(R,Q-W))):(H.sortIndex=ce,e(f,H),b||y||(b=!0,X())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var K=v;return function(){var Q=v;v=K;try{return H.apply(this,arguments)}finally{v=Q}}}})(PS)),PS}var KC;function o9(){return KC||(KC=1,IS.exports=jq()),IS.exports}var ZC;function Gq(){return ZC||(ZC=1,(function(n){n.exports=function(e){function t(u,d,_,C){return new Um(u,d,_,C)}function i(){}function a(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return u===null||typeof u!="object"?null:(u=Gm&&u[Gm]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Kc?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case af:return"Fragment";case oo:return"Portal";case jm:return"Profiler";case Hm:return"StrictMode";case sp:return"Suspense";case oc:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Lo:return(u.displayName||"Context")+".Provider";case sc:return(u._context.displayName||"Context")+".Consumer";case rf:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case bd:return d=u.displayName||null,d!==null?d:o(u.type)||"Memo";case lo:d=u._payload,u=u._init;try{return o(u(d))}catch{}}return null}function c(u){if(op===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);op=d&&d[1]||"",Wm=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+op+u+Wm}function f(u,d){if(!u||lc)return"";lc=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(d){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(Sn){var Vt=Sn}Reflect.construct(u,[],It)}else{try{It.call()}catch(Sn){Vt=Sn}u.call(It.prototype)}}else{try{throw Error()}catch(Sn){Vt=Sn}(It=u())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(Sn){if(Sn&&Vt&&typeof Sn.stack=="string")return[Sn.stack,Vt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=C.DetermineComponentFrameRoot(),ue=j[0],_e=j[1];if(ue&&_e){var Ue=ue.split(`
`),ht=_e.split(`
`);for(k=C=0;C<Ue.length&&!Ue[C].includes("DetermineComponentFrameRoot");)C++;for(;k<ht.length&&!ht[k].includes("DetermineComponentFrameRoot");)k++;if(C===Ue.length||k===ht.length)for(C=Ue.length-1,k=ht.length-1;1<=C&&0<=k&&Ue[C]!==ht[k];)k--;for(;1<=C&&0<=k;C--,k--)if(Ue[C]!==ht[k]){if(C!==1||k!==1)do if(C--,k--,0>k||Ue[C]!==ht[k]){var Tt=`
`+Ue[C].replace(" at new "," at ");return u.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",u.displayName)),Tt}while(1<=C&&0<=k);break}}}finally{lc=!1,Error.prepareStackTrace=_}return(_=u?u.displayName||u.name:"")?c(_):""}function h(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function m(u){try{var d="";do d+=h(u),u=u.return;while(u);return d}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function g(u){var d=u,_=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(_=d.return),u=d.return;while(u)}return d.tag===3?_:null}function v(u){if(g(u)!==u)throw Error(a(188))}function y(u){var d=u.alternate;if(!d){if(d=g(u),d===null)throw Error(a(188));return d!==u?null:u}for(var _=u,C=d;;){var k=_.return;if(k===null)break;var j=k.alternate;if(j===null){if(C=k.return,C!==null){_=C;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===_)return v(k),u;if(j===C)return v(k),d;j=j.sibling}throw Error(a(188))}if(_.return!==C.return)_=k,C=j;else{for(var ue=!1,_e=k.child;_e;){if(_e===_){ue=!0,_=k,C=j;break}if(_e===C){ue=!0,C=k,_=j;break}_e=_e.sibling}if(!ue){for(_e=j.child;_e;){if(_e===_){ue=!0,_=j,C=k;break}if(_e===C){ue=!0,C=j,_=k;break}_e=_e.sibling}if(!ue)throw Error(a(189))}}if(_.alternate!==C)throw Error(a(190))}if(_.tag!==3)throw Error(a(188));return _.stateNode.current===_?u:d}function b(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=b(u),d!==null)return d;u=u.sibling}return null}function M(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(d=M(u),d!==null))return d;u=u.sibling}return null}function A(u){return{current:u}}function S(u){0>xl||(u.current=Rd[xl],Rd[xl]=null,xl--)}function E(u,d){xl++,Rd[xl]=u.current,u.current=d}function w(u){return u>>>=0,u===0?32:31-(Od(u)/cx|0)|0}function R(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function z(u,d){var _=u.pendingLanes;if(_===0)return 0;var C=0,k=u.suspendedLanes,j=u.pingedLanes,ue=u.warmLanes;u=u.finishedLanes!==0;var _e=_&134217727;return _e!==0?(_=_e&~k,_!==0?C=R(_):(j&=_e,j!==0?C=R(j):u||(ue=_e&~ue,ue!==0&&(C=R(ue))))):(_e=_&~k,_e!==0?C=R(_e):j!==0?C=R(j):u||(ue=_&~ue,ue!==0&&(C=R(ue)))),C===0?0:d!==0&&d!==C&&(d&k)===0&&(k=C&-C,ue=d&-d,k>=ue||k===32&&(ue&4194176)!==0)?d:C}function O(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function P(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var u=cf;return cf<<=1,(cf&4194176)===0&&(cf=128),u}function L(){var u=zd;return zd<<=1,(zd&62914560)===0&&(zd=4194304),u}function D(u){for(var d=[],_=0;31>_;_++)d.push(u);return d}function V(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function U(u,d,_,C,k,j){var ue=u.pendingLanes;u.pendingLanes=_,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=_,u.entangledLanes&=_,u.errorRecoveryDisabledLanes&=_,u.shellSuspendCounter=0;var _e=u.entanglements,Ue=u.expirationTimes,ht=u.hiddenUpdates;for(_=ue&~_;0<_;){var Tt=31-Hr(_),It=1<<Tt;_e[Tt]=0,Ue[Tt]=-1;var Vt=ht[Tt];if(Vt!==null)for(ht[Tt]=null,Tt=0;Tt<Vt.length;Tt++){var Sn=Vt[Tt];Sn!==null&&(Sn.lane&=-536870913)}_&=~It}C!==0&&G(u,C,0),j!==0&&k===0&&u.tag!==0&&(u.suspendedLanes|=j&~(ue&~d))}function G(u,d,_){u.pendingLanes|=d,u.suspendedLanes&=~d;var C=31-Hr(d);u.entangledLanes|=d,u.entanglements[C]=u.entanglements[C]|1073741824|_&4194218}function X(u,d){var _=u.entangledLanes|=d;for(u=u.entanglements;_;){var C=31-Hr(_),k=1<<C;k&d|u[C]&d&&(u[C]|=d),_&=~k}}function $(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function H(u){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(ff,u,void 0,(u.current.flags&128)===128)}catch{}}function K(u){if(typeof hx=="function"&&Sg(u),jr&&typeof jr.setStrictMode=="function")try{jr.setStrictMode(ff,u)}catch{}}function Q(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}function W(u,d){if(typeof u=="object"&&u!==null){var _=Ap.get(u);return _!==void 0?_:(d={value:u,source:d,stack:m(d)},Ap.set(u,d),d)}return{value:u,source:d,stack:m(d)}}function ce(u,d){Ji[ha++]=Ld,Ji[ha++]=Dd,Dd=u,Ld=d}function q(u,d,_){xs[vs++]=ko,xs[vs++]=Hs,xs[vs++]=co,co=u;var C=ko;u=Hs;var k=32-Hr(C)-1;C&=~(1<<k),_+=1;var j=32-Hr(d)+k;if(30<j){var ue=k-k%5;j=(C&(1<<ue)-1).toString(32),C>>=ue,k-=ue,ko=1<<32-Hr(d)+k|_<<k|C,Hs=j+u}else ko=1<<j|_<<k|C,Hs=u}function ie(u){u.return!==null&&(ce(u,1),q(u,1,0))}function fe(u){for(;u===Dd;)Dd=Ji[--ha],Ji[ha]=null,Ld=Ji[--ha],Ji[ha]=null;for(;u===co;)co=xs[--vs],xs[vs]=null,Hs=xs[--vs],xs[vs]=null,ko=xs[--vs],xs[vs]=null}function ge(u,d){E(uo,d),E(Id,u),E($a,null),u=Zc(d),S($a),E($a,u)}function re(){S($a),S(Id),S(uo)}function te(u){u.memoizedState!==null&&E(df,u);var d=$a.current,_=Hy(d,u.type);d!==_&&(E(Id,u),E($a,_))}function se(u){Id.current===u&&(S($a),S(Id)),df.current===u&&(S(df),Po?gn._currentValue=Vr:gn._currentValue2=Vr)}function ve(u){var d=Error(a(418,""));throw Ge(W(d,u)),Pd}function ze(u,d){if(!Tr)throw Error(a(175));k2(u.stateNode,u.type,u.memoizedProps,d,u)||ve(u)}function De(u){for(gr=u.return;gr;)switch(gr.tag){case 3:case 27:js=!0;return;case 5:case 13:js=!1;return;default:gr=gr.return}}function rt(u){if(!Tr||u!==gr)return!1;if(!li)return De(u),li=!0,!1;var d=!1;if(ar?u.tag!==3&&u.tag!==27&&(u.tag!==5||ax(u.type)&&!fc(u.type,u.memoizedProps))&&(d=!0):u.tag!==3&&(u.tag!==5||ax(u.type)&&!fc(u.type,u.memoizedProps))&&(d=!0),d&&sr&&ve(u),De(u),u.tag===13){if(!Tr)throw Error(a(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));sr=nx(u)}else sr=gr?cg(u.stateNode):null;return!0}function nt(){Tr&&(sr=gr=null,li=!1)}function Ge(u){bs===null?bs=[u]:bs.push(u)}function Ee(){for(var u=hc,d=hf=hc=0;d<u;){var _=_s[d];_s[d++]=null;var C=_s[d];_s[d++]=null;var k=_s[d];_s[d++]=null;var j=_s[d];if(_s[d++]=null,C!==null&&k!==null){var ue=C.pending;ue===null?k.next=k:(k.next=ue.next,ue.next=k),C.pending=k}j!==0&&Ve(_,k,j)}}function ne(u,d,_,C){_s[hc++]=u,_s[hc++]=d,_s[hc++]=_,_s[hc++]=C,hf|=C,u.lanes|=C,u=u.alternate,u!==null&&(u.lanes|=C)}function Oe(u,d,_,C){return ne(u,d,_,C),Be(u)}function Ae(u,d){return ne(u,null,null,d),Be(u)}function Ve(u,d,_){u.lanes|=_;var C=u.alternate;C!==null&&(C.lanes|=_);for(var k=!1,j=u.return;j!==null;)j.childLanes|=_,C=j.alternate,C!==null&&(C.childLanes|=_),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(k=!0)),u=j,j=j.return;k&&d!==null&&u.tag===3&&(j=u.stateNode,k=31-Hr(_),j=j.hiddenUpdates,u=j[k],u===null?j[k]=[d]:u.push(d),d.lane=_|536870912)}function Be(u){if(50<lu)throw lu=0,Or=null,Error(a(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}function ke(u){u!==tu&&u.next===null&&(tu===null?pf=tu=u:tu=tu.next=u),Bd=!0,Ud||(Ud=!0,Me(Ye))}function Ke(u,d){if(!fo&&Bd){fo=!0;do for(var _=!1,C=pf;C!==null;){if(u!==0){var k=C.pendingLanes;if(k===0)var j=0;else{var ue=C.suspendedLanes,_e=C.pingedLanes;j=(1<<31-Hr(42|u)+1)-1,j&=k&~(ue&~_e),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(_=!0,xe(C,j))}else j=Bn,j=z(C,C===jn?j:0),(j&3)===0||O(C,j)||(_=!0,xe(C,j));C=C.next}while(_);fo=!1}}function Ye(){Bd=Ud=!1;var u=0;pc!==0&&(dc()&&(u=pc),pc=0);for(var d=rr(),_=null,C=pf;C!==null;){var k=C.next,j=de(C,d);j===0?(C.next=null,_===null?pf=k:_.next=k,k===null&&(tu=_)):(_=C,(u!==0||(j&3)!==0)&&(Bd=!0)),C=k}Ke(u)}function de(u,d){for(var _=u.suspendedLanes,C=u.pingedLanes,k=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var ue=31-Hr(j),_e=1<<ue,Ue=k[ue];Ue===-1?((_e&_)===0||(_e&C)!==0)&&(k[ue]=P(_e,d)):Ue<=d&&(u.expiredLanes|=_e),j&=~_e}if(d=jn,_=Bn,_=z(u,u===d?_:0),C=u.callbackNode,_===0||u===d&&Di===2||u.cancelPendingCommit!==null)return C!==null&&C!==null&&Nd(C),u.callbackNode=null,u.callbackPriority=0;if((_&3)===0||O(u,_)){if(d=_&-_,d===u.callbackPriority)return d;switch(C!==null&&Nd(C),$(_)){case 2:case 8:_=dx;break;case 32:_=Sp;break;case 268435456:_=Mp;break;default:_=Sp}return C=Z.bind(null,u),_=uf(_,C),u.callbackPriority=d,u.callbackNode=_,d}return C!==null&&C!==null&&Nd(C),u.callbackPriority=2,u.callbackNode=null,2}function Z(u,d){var _=u.callbackNode;if(Xa()&&u.callbackNode!==_)return null;var C=Bn;return C=z(u,u===jn?C:0),C===0?null:(md(u,C,d),de(u,rr()),u.callbackNode!=null&&u.callbackNode===_?Z.bind(null,u):null)}function xe(u,d){if(Xa())return null;md(u,d,!0)}function Me(u){Ta?fp(function(){(cn&6)!==0?uf(_g,u):u()}):uf(_g,u)}function Ne(){return pc===0&&(pc=B()),pc}function Te(u,d){if(kd===null){var _=kd=[];wp=0,Gr=Ne(),mc={status:"pending",value:void 0,then:function(C){_.push(C)}}}return wp++,d.then(gt,gt),d}function gt(){if(--wp===0&&kd!==null){mc!==null&&(mc.status="fulfilled");var u=kd;kd=null,Gr=0,mc=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function Fe(u,d){var _=[],C={status:"pending",value:null,reason:null,then:function(k){_.push(k)}};return u.then(function(){C.status="fulfilled",C.value=d;for(var k=0;k<_.length;k++)(0,_[k])(d)},function(k){for(C.status="rejected",C.reason=k,k=0;k<_.length;k++)(0,_[k])(void 0)}),C}function dt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ot(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function je(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ze(u,d,_){var C=u.updateQueue;if(C===null)return null;if(C=C.shared,(cn&2)!==0){var k=C.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),C.pending=d,d=Be(u),Ve(u,null,_),d}return ne(u,C,d,_),Be(u)}function Dt(u,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194176)!==0)){var C=d.lanes;C&=u.pendingLanes,_|=C,d.lanes=_,X(u,_)}}function be(u,d){var _=u.updateQueue,C=u.alternate;if(C!==null&&(C=C.updateQueue,_===C)){var k=null,j=null;if(_=_.firstBaseUpdate,_!==null){do{var ue={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};j===null?k=j=ue:j=j.next=ue,_=_.next}while(_!==null);j===null?k=j=d:j=j.next=d}else k=j=d;_={baseState:C.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:C.shared,callbacks:C.callbacks},u.updateQueue=_;return}u=_.lastBaseUpdate,u===null?_.firstBaseUpdate=d:u.next=d,_.lastBaseUpdate=d}function He(){if(mf){var u=mc;if(u!==null)throw u}}function vt(u,d,_,C){mf=!1;var k=u.updateQueue;vl=!1;var j=k.firstBaseUpdate,ue=k.lastBaseUpdate,_e=k.shared.pending;if(_e!==null){k.shared.pending=null;var Ue=_e,ht=Ue.next;Ue.next=null,ue===null?j=ht:ue.next=ht,ue=Ue;var Tt=u.alternate;Tt!==null&&(Tt=Tt.updateQueue,_e=Tt.lastBaseUpdate,_e!==ue&&(_e===null?Tt.firstBaseUpdate=ht:_e.next=ht,Tt.lastBaseUpdate=Ue))}if(j!==null){var It=k.baseState;ue=0,Tt=ht=Ue=null,_e=j;do{var Vt=_e.lane&-536870913,Sn=Vt!==_e.lane;if(Sn?(Bn&Vt)===Vt:(C&Vt)===Vt){Vt!==0&&Vt===Gr&&(mf=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var qr=u,jd=_e;Vt=d;var cu=_;switch(jd.tag){case 1:if(qr=jd.payload,typeof qr=="function"){It=qr.call(cu,It,Vt);break e}It=qr;break e;case 3:qr.flags=qr.flags&-65537|128;case 0:if(qr=jd.payload,Vt=typeof qr=="function"?qr.call(cu,It,Vt):qr,Vt==null)break e;It=$c({},It,Vt);break e;case 2:vl=!0}}Vt=_e.callback,Vt!==null&&(u.flags|=64,Sn&&(u.flags|=8192),Sn=k.callbacks,Sn===null?k.callbacks=[Vt]:Sn.push(Vt))}else Sn={lane:Vt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Tt===null?(ht=Tt=Sn,Ue=It):Tt=Tt.next=Sn,ue|=Vt;if(_e=_e.next,_e===null){if(_e=k.shared.pending,_e===null)break;Sn=_e,_e=Sn.next,Sn.next=null,k.lastBaseUpdate=Sn,k.shared.pending=null}}while(!0);Tt===null&&(Ue=It),k.baseState=Ue,k.firstBaseUpdate=ht,k.lastBaseUpdate=Tt,j===null&&(k.shared.lanes=0),ws|=ue,u.lanes=ue,u.memoizedState=It}}function ye(u,d){if(typeof u!="function")throw Error(a(191,u));u.call(d)}function at(u,d){var _=u.callbacks;if(_!==null)for(u.callbacks=null,u=0;u<_.length;u++)ye(_[u],d)}function ft(u,d){if(ys(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var _=Object.keys(u),C=Object.keys(d);if(_.length!==C.length)return!1;for(C=0;C<_.length;C++){var k=_[C];if(!Fd.call(d,k)||!ys(u[k],d[k]))return!1}return!0}function bt(u){return u=u.status,u==="fulfilled"||u==="rejected"}function yt(){}function lt(u,d,_){switch(_=u[_],_===void 0?u.push(d):_!==d&&(d.then(yt,yt),d=_),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===Ci?Error(a(483)):u;default:if(typeof d.status=="string")d.then(yt,yt);else{if(u=jn,u!==null&&100<u.shellSuspendCounter)throw Error(a(482));u=d,u.status="pending",u.then(function(C){if(d.status==="pending"){var k=d;k.status="fulfilled",k.value=C}},function(C){if(d.status==="pending"){var k=d;k.status="rejected",k.reason=C}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===Ci?Error(a(483)):u}throw nu=d,Ci}}function Ot(){if(nu===null)throw Error(a(459));var u=nu;return nu=null,u}function Wt(u){var d=Gs;return Gs+=1,Fo===null&&(Fo=[]),lt(Fo,u,d)}function bn(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function tn(u,d){throw d.$$typeof===Vm?Error(a(525)):(u=Object.prototype.toString.call(d),Error(a(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function di(u){var d=u._init;return d(u._payload)}function Yt(u){function d(Qe,Ie){if(u){var tt=Qe.deletions;tt===null?(Qe.deletions=[Ie],Qe.flags|=16):tt.push(Ie)}}function _(Qe,Ie){if(!u)return null;for(;Ie!==null;)d(Qe,Ie),Ie=Ie.sibling;return null}function C(Qe){for(var Ie=new Map;Qe!==null;)Qe.key!==null?Ie.set(Qe.key,Qe):Ie.set(Qe.index,Qe),Qe=Qe.sibling;return Ie}function k(Qe,Ie){return Qe=pr(Qe,Ie),Qe.index=0,Qe.sibling=null,Qe}function j(Qe,Ie,tt){return Qe.index=tt,u?(tt=Qe.alternate,tt!==null?(tt=tt.index,tt<Ie?(Qe.flags|=33554434,Ie):tt):(Qe.flags|=33554434,Ie)):(Qe.flags|=1048576,Ie)}function ue(Qe){return u&&Qe.alternate===null&&(Qe.flags|=33554434),Qe}function _e(Qe,Ie,tt,At){return Ie===null||Ie.tag!==6?(Ie=rc(tt,Qe.mode,At),Ie.return=Qe,Ie):(Ie=k(Ie,tt),Ie.return=Qe,Ie)}function Ue(Qe,Ie,tt,At){var an=tt.type;return an===af?Tt(Qe,Ie,tt.props.children,At,tt.key):Ie!==null&&(Ie.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===lo&&di(an)===Ie.type)?(Ie=k(Ie,tt.props),bn(Ie,tt),Ie.return=Qe,Ie):(Ie=Fs(tt.type,tt.key,tt.props,null,Qe.mode,At),bn(Ie,tt),Ie.return=Qe,Ie)}function ht(Qe,Ie,tt,At){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==tt.containerInfo||Ie.stateNode.implementation!==tt.implementation?(Ie=nf(tt,Qe.mode,At),Ie.return=Qe,Ie):(Ie=k(Ie,tt.children||[]),Ie.return=Qe,Ie)}function Tt(Qe,Ie,tt,At,an){return Ie===null||Ie.tag!==7?(Ie=hl(tt,Qe.mode,At,an),Ie.return=Qe,Ie):(Ie=k(Ie,tt),Ie.return=Qe,Ie)}function It(Qe,Ie,tt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Ie=rc(""+Ie,Qe.mode,tt),Ie.return=Qe,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case pl:return tt=Fs(Ie.type,Ie.key,Ie.props,null,Qe.mode,tt),bn(tt,Ie),tt.return=Qe,tt;case oo:return Ie=nf(Ie,Qe.mode,tt),Ie.return=Qe,Ie;case lo:var At=Ie._init;return Ie=At(Ie._payload),It(Qe,Ie,tt)}if(cc(Ie)||r(Ie))return Ie=hl(Ie,Qe.mode,tt,null),Ie.return=Qe,Ie;if(typeof Ie.then=="function")return It(Qe,Wt(Ie),tt);if(Ie.$$typeof===Lo)return It(Qe,ud(Qe,Ie),tt);tn(Qe,Ie)}return null}function Vt(Qe,Ie,tt,At){var an=Ie!==null?Ie.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return an!==null?null:_e(Qe,Ie,""+tt,At);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case pl:return tt.key===an?Ue(Qe,Ie,tt,At):null;case oo:return tt.key===an?ht(Qe,Ie,tt,At):null;case lo:return an=tt._init,tt=an(tt._payload),Vt(Qe,Ie,tt,At)}if(cc(tt)||r(tt))return an!==null?null:Tt(Qe,Ie,tt,At,null);if(typeof tt.then=="function")return Vt(Qe,Ie,Wt(tt),At);if(tt.$$typeof===Lo)return Vt(Qe,Ie,ud(Qe,tt),At);tn(Qe,tt)}return null}function Sn(Qe,Ie,tt,At,an){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return Qe=Qe.get(tt)||null,_e(Ie,Qe,""+At,an);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case pl:return Qe=Qe.get(At.key===null?tt:At.key)||null,Ue(Ie,Qe,At,an);case oo:return Qe=Qe.get(At.key===null?tt:At.key)||null,ht(Ie,Qe,At,an);case lo:var ji=At._init;return At=ji(At._payload),Sn(Qe,Ie,tt,At,an)}if(cc(At)||r(At))return Qe=Qe.get(tt)||null,Tt(Ie,Qe,At,an,null);if(typeof At.then=="function")return Sn(Qe,Ie,tt,Wt(At),an);if(At.$$typeof===Lo)return Sn(Qe,Ie,tt,ud(Ie,At),an);tn(Ie,At)}return null}function qr(Qe,Ie,tt,At){for(var an=null,ji=null,yn=Ie,ui=Ie=0,Ba=null;yn!==null&&ui<tt.length;ui++){yn.index>ui?(Ba=yn,yn=null):Ba=yn.sibling;var fi=Vt(Qe,yn,tt[ui],At);if(fi===null){yn===null&&(yn=Ba);break}u&&yn&&fi.alternate===null&&d(Qe,yn),Ie=j(fi,Ie,ui),ji===null?an=fi:ji.sibling=fi,ji=fi,yn=Ba}if(ui===tt.length)return _(Qe,yn),li&&ce(Qe,ui),an;if(yn===null){for(;ui<tt.length;ui++)yn=It(Qe,tt[ui],At),yn!==null&&(Ie=j(yn,Ie,ui),ji===null?an=yn:ji.sibling=yn,ji=yn);return li&&ce(Qe,ui),an}for(yn=C(yn);ui<tt.length;ui++)Ba=Sn(yn,Qe,ui,tt[ui],At),Ba!==null&&(u&&Ba.alternate!==null&&yn.delete(Ba.key===null?ui:Ba.key),Ie=j(Ba,Ie,ui),ji===null?an=Ba:ji.sibling=Ba,ji=Ba);return u&&yn.forEach(function(El){return d(Qe,El)}),li&&ce(Qe,ui),an}function jd(Qe,Ie,tt,At){if(tt==null)throw Error(a(151));for(var an=null,ji=null,yn=Ie,ui=Ie=0,Ba=null,fi=tt.next();yn!==null&&!fi.done;ui++,fi=tt.next()){yn.index>ui?(Ba=yn,yn=null):Ba=yn.sibling;var El=Vt(Qe,yn,fi.value,At);if(El===null){yn===null&&(yn=Ba);break}u&&yn&&El.alternate===null&&d(Qe,yn),Ie=j(El,Ie,ui),ji===null?an=El:ji.sibling=El,ji=El,yn=Ba}if(fi.done)return _(Qe,yn),li&&ce(Qe,ui),an;if(yn===null){for(;!fi.done;ui++,fi=tt.next())fi=It(Qe,fi.value,At),fi!==null&&(Ie=j(fi,Ie,ui),ji===null?an=fi:ji.sibling=fi,ji=fi);return li&&ce(Qe,ui),an}for(yn=C(yn);!fi.done;ui++,fi=tt.next())fi=Sn(yn,Qe,ui,fi.value,At),fi!==null&&(u&&fi.alternate!==null&&yn.delete(fi.key===null?ui:fi.key),Ie=j(fi,Ie,ui),ji===null?an=fi:ji.sibling=fi,ji=fi);return u&&yn.forEach(function(Lp){return d(Qe,Lp)}),li&&ce(Qe,ui),an}function cu(Qe,Ie,tt,At){if(typeof tt=="object"&&tt!==null&&tt.type===af&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case pl:e:{for(var an=tt.key;Ie!==null;){if(Ie.key===an){if(an=tt.type,an===af){if(Ie.tag===7){_(Qe,Ie.sibling),At=k(Ie,tt.props.children),At.return=Qe,Qe=At;break e}}else if(Ie.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===lo&&di(an)===Ie.type){_(Qe,Ie.sibling),At=k(Ie,tt.props),bn(At,tt),At.return=Qe,Qe=At;break e}_(Qe,Ie);break}else d(Qe,Ie);Ie=Ie.sibling}tt.type===af?(At=hl(tt.props.children,Qe.mode,At,tt.key),At.return=Qe,Qe=At):(At=Fs(tt.type,tt.key,tt.props,null,Qe.mode,At),bn(At,tt),At.return=Qe,Qe=At)}return ue(Qe);case oo:e:{for(an=tt.key;Ie!==null;){if(Ie.key===an)if(Ie.tag===4&&Ie.stateNode.containerInfo===tt.containerInfo&&Ie.stateNode.implementation===tt.implementation){_(Qe,Ie.sibling),At=k(Ie,tt.children||[]),At.return=Qe,Qe=At;break e}else{_(Qe,Ie);break}else d(Qe,Ie);Ie=Ie.sibling}At=nf(tt,Qe.mode,At),At.return=Qe,Qe=At}return ue(Qe);case lo:return an=tt._init,tt=an(tt._payload),cu(Qe,Ie,tt,At)}if(cc(tt))return qr(Qe,Ie,tt,At);if(r(tt)){if(an=r(tt),typeof an!="function")throw Error(a(150));return tt=an.call(tt),jd(Qe,Ie,tt,At)}if(typeof tt.then=="function")return cu(Qe,Ie,Wt(tt),At);if(tt.$$typeof===Lo)return cu(Qe,Ie,ud(Qe,tt),At);tn(Qe,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Ie!==null&&Ie.tag===6?(_(Qe,Ie.sibling),At=k(Ie,tt),At.return=Qe,Qe=At):(_(Qe,Ie),At=rc(tt,Qe.mode,At),At.return=Qe,Qe=At),ue(Qe)):_(Qe,Ie)}return function(Qe,Ie,tt,At){try{Gs=0;var an=cu(Qe,Ie,tt,At);return Fo=null,an}catch(yn){if(yn===Ci)throw yn;var ji=t(29,yn,null,Qe.mode);return ji.lanes=At,ji.return=Qe,ji}finally{}}}function la(u,d){u=ho,E(Ss,u),E(Vo,d),ho=u|d.baseLanes}function Mr(){E(Ss,ho),E(Vo,Vo.current)}function Us(){ho=Ss.current,S(Vo),S(Ss)}function ia(u){var d=u.alternate;E(Ca,Ca.current&1),E(Ms,u),Ws===null&&(d===null||Vo.current!==null||d.memoizedState!==null)&&(Ws=u)}function os(u){if(u.tag===22){if(E(Ca,Ca.current),E(Ms,u),Ws===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(Ws=u)}}else ja()}function ja(){E(Ca,Ca.current),E(Ms,Ms.current)}function Ga(u){S(Ms),Ws===u&&(Ws=null),S(Ca)}function ca(u){for(var d=u;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||gp(_)||Cd(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function _n(){throw Error(a(321))}function Vi(u,d){if(d===null)return!1;for(var _=0;_<d.length&&_<u.length;_++)if(!ys(u[_],d[_]))return!1;return!0}function fr(u,d,_,C,k,j){return Ho=j,On=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,hn.H=u===null||u.memoizedState===null?Ra:yr,bl=!1,j=_(C,k),bl=!1,Qi&&(j=al(d,_,C,k)),Bs(u),j}function Bs(u){hn.H=ci;var d=gi!==null&&gi.next!==null;if(Ho=0,va=gi=On=null,Ys=!1,pa=0,gf=null,d)throw Error(a(300));u===null||ba||(u=u.dependencies,u!==null&&ql(u)&&(ba=!0))}function al(u,d,_,C){On=u;var k=0;do{if(Qi&&(gf=null),pa=0,Qi=!1,25<=k)throw Error(a(301));if(k+=1,va=gi=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}hn.H=yc,j=d(_,C)}while(Qi);return j}function Wl(){var u=hn.H,d=u.useState()[0];return d=typeof d.then=="function"?Ce(d):d,u=u.useState()[0],(gi!==null?gi.memoizedState:null)!==u&&(On.flags|=1024),d}function io(){var u=Vd!==0;return Vd=0,u}function hi(u,d,_){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~_}function Ii(u){if(Ys){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Ys=!1}Ho=0,va=gi=On=null,Qi=!1,pa=Vd=0,gf=null}function Pi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?On.memoizedState=va=u:va=va.next=u,va}function ae(){if(gi===null){var u=On.alternate;u=u!==null?u.memoizedState:null}else u=gi.next;var d=va===null?On.memoizedState:va.next;if(d!==null)va=d,gi=u;else{if(u===null)throw On.alternate===null?Error(a(467)):Error(a(310));gi=u,u={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},va===null?On.memoizedState=va=u:va=va.next=u}return va}function Ce(u){var d=pa;return pa+=1,gf===null&&(gf=[]),u=lt(gf,u,d),d=On,(va===null?d.memoizedState:va.next)===null&&(d=d.alternate,hn.H=d===null||d.memoizedState===null?Ra:yr),u}function $e(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ce(u);if(u.$$typeof===Lo)return tr(u)}throw Error(a(438,String(u)))}function We(u){var d=null,_=On.updateQueue;if(_!==null&&(d=_.memoCache),d==null){var C=On.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(d={data:C.data.map(function(k){return k.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),_===null&&(_=Tp(),On.updateQueue=_),_.memoCache=d,_=d.data[d.index],_===void 0)for(_=d.data[d.index]=Array(u),C=0;C<u;C++)_[C]=Vy;return d.index++,_}function Le(u,d){return typeof d=="function"?d(u):d}function wt(u){var d=ae();return zt(d,gi,u)}function zt(u,d,_){var C=u.queue;if(C===null)throw Error(a(311));C.lastRenderedReducer=_;var k=u.baseQueue,j=C.pending;if(j!==null){if(k!==null){var ue=k.next;k.next=j.next,j.next=ue}d.baseQueue=k=j,C.pending=null}if(j=u.baseState,k===null)u.memoizedState=j;else{d=k.next;var _e=ue=null,Ue=null,ht=d,Tt=!1;do{var It=ht.lane&-536870913;if(It!==ht.lane?(Bn&It)===It:(Ho&It)===It){var Vt=ht.revertLane;if(Vt===0)Ue!==null&&(Ue=Ue.next={lane:0,revertLane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),It===Gr&&(Tt=!0);else if((Ho&Vt)===Vt){ht=ht.next,Vt===Gr&&(Tt=!0);continue}else It={lane:0,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Ue===null?(_e=Ue=It,ue=j):Ue=Ue.next=It,On.lanes|=Vt,ws|=Vt;It=ht.action,bl&&_(j,It),j=ht.hasEagerState?ht.eagerState:_(j,It)}else Vt={lane:It,revertLane:ht.revertLane,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null},Ue===null?(_e=Ue=Vt,ue=j):Ue=Ue.next=Vt,On.lanes|=It,ws|=It;ht=ht.next}while(ht!==null&&ht!==d);if(Ue===null?ue=j:Ue.next=_e,!ys(j,u.memoizedState)&&(ba=!0,Tt&&(_=mc,_!==null)))throw _;u.memoizedState=j,u.baseState=ue,u.baseQueue=Ue,C.lastRenderedState=j}return k===null&&(C.lanes=0),[u.memoizedState,C.dispatch]}function Bt(u){var d=ae(),_=d.queue;if(_===null)throw Error(a(311));_.lastRenderedReducer=u;var C=_.dispatch,k=_.pending,j=d.memoizedState;if(k!==null){_.pending=null;var ue=k=k.next;do j=u(j,ue.action),ue=ue.next;while(ue!==k);ys(j,d.memoizedState)||(ba=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),_.lastRenderedState=j}return[j,C]}function jt(u,d,_){var C=On,k=ae(),j=li;if(j){if(_===void 0)throw Error(a(407));_=_()}else _=d();var ue=!ys((gi||k).memoizedState,_);if(ue&&(k.memoizedState=_,ba=!0),k=k.queue,J(Xt.bind(null,C,k,u),[u]),k.getSnapshot!==d||ue||va!==null&&va.memoizedState.tag&1){if(C.flags|=2048,$i(9,un.bind(null,C,k,_,d),{destroy:void 0},null),jn===null)throw Error(a(349));j||(Ho&60)!==0||sn(C,d,_)}return _}function sn(u,d,_){u.flags|=16384,u={getSnapshot:d,value:_},d=On.updateQueue,d===null?(d=Tp(),On.updateQueue=d,d.stores=[u]):(_=d.stores,_===null?d.stores=[u]:_.push(u))}function un(u,d,_,C){d.value=_,d.getSnapshot=C,An(d)&&Wn(u)}function Xt(u,d,_){return _(function(){An(d)&&Wn(u)})}function An(u){var d=u.getSnapshot;u=u.value;try{var _=d();return!ys(u,_)}catch{return!0}}function Wn(u){var d=Ae(u,2);d!==null&&hr(d,u,2)}function Zn(u){var d=Pi();if(typeof u=="function"){var _=u;if(u=_(),bl){K(!0);try{_()}finally{K(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Le,lastRenderedState:u},d}function Pn(u,d,_,C){return u.baseState=_,zt(u,gi,typeof C=="function"?C:Le)}function pi(u,d,_,C,k){if(ua(u))throw Error(a(485));if(u=d.action,u!==null){var j={payload:k,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){j.listeners.push(ue)}};hn.T!==null?_(!0):j.isTransition=!1,C(j),_=d.pending,_===null?(j.next=d.pending=j,on(d,j)):(j.next=_.next,d.pending=_.next=j)}}function on(u,d){var _=d.action,C=d.payload,k=u.state;if(d.isTransition){var j=hn.T,ue={};hn.T=ue;try{var _e=_(k,C),Ue=hn.S;Ue!==null&&Ue(ue,_e),vi(u,d,_e)}catch(ht){Dn(u,d,ht)}finally{hn.T=j}}else try{j=_(k,C),vi(u,d,j)}catch(ht){Dn(u,d,ht)}}function vi(u,d,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(C){Un(u,d,C)},function(C){return Dn(u,d,C)}):Un(u,d,_)}function Un(u,d,_){d.status="fulfilled",d.value=_,ls(d),u.state=_,d=u.pending,d!==null&&(_=d.next,_===d?u.pending=null:(_=_.next,d.next=_,on(u,_)))}function Dn(u,d,_){var C=u.pending;if(u.pending=null,C!==null){C=C.next;do d.status="rejected",d.reason=_,ls(d),d=d.next;while(d!==C)}u.action=null}function ls(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function Ei(u,d){return d}function cs(u,d){if(li){var _=jn.formState;if(_!==null){e:{var C=On;if(li){if(sr){var k=qy(sr,js);if(k){sr=cg(k),C=$y(k);break e}}ve(C)}C=!1}C&&(d=_[0])}}_=Pi(),_.memoizedState=_.baseState=d,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:d},_.queue=C,_=Yn.bind(null,On,C),C.dispatch=_,C=Zn(!1);var j=Ur.bind(null,On,!1,C.queue);return C=Pi(),k={state:d,dispatch:null,action:u,pending:null},C.queue=k,_=pi.bind(null,On,k,j,_),k.dispatch=_,C.memoizedState=u,[d,_,!1]}function bi(u){var d=ae();return aa(d,gi,u)}function aa(u,d,_){d=zt(u,d,Ei)[0],u=wt(Le)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Ce(d):d;var C=ae(),k=C.queue,j=k.dispatch;return _!==C.memoizedState&&(On.flags|=2048,$i(9,ea.bind(null,k,_),{destroy:void 0},null)),[d,j,u]}function ea(u,d){u.action=d}function ta(u){var d=ae(),_=gi;if(_!==null)return aa(d,_,u);ae(),d=d.memoizedState,_=ae();var C=_.queue.dispatch;return _.memoizedState=u,[d,C,!1]}function $i(u,d,_,C){return u={tag:u,create:d,inst:_,deps:C,next:null},d=On.updateQueue,d===null&&(d=Tp(),On.updateQueue=d),_=d.lastEffect,_===null?d.lastEffect=u.next=u:(C=_.next,_.next=u,u.next=C,d.lastEffect=u),u}function us(){return ae().memoizedState}function Zt(u,d,_,C){var k=Pi();On.flags|=u,k.memoizedState=$i(1|d,_,{destroy:void 0},C===void 0?null:C)}function Co(u,d,_,C){var k=ae();C=C===void 0?null:C;var j=k.memoizedState.inst;gi!==null&&C!==null&&Vi(C,gi.memoizedState.deps)?k.memoizedState=$i(d,_,j,C):(On.flags|=u,k.memoizedState=$i(1|d,_,j,C))}function ee(u,d){Zt(8390656,8,u,d)}function J(u,d){Co(2048,8,u,d)}function he(u,d){return Co(4,2,u,d)}function le(u,d){return Co(4,4,u,d)}function me(u,d){if(typeof d=="function"){u=u();var _=d(u);return function(){typeof _=="function"?_():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function Je(u,d,_){_=_!=null?_.concat([u]):null,Co(4,4,me.bind(null,d,u),_)}function st(){}function kt(u,d){var _=ae();d=d===void 0?null:d;var C=_.memoizedState;return d!==null&&Vi(d,C[1])?C[0]:(_.memoizedState=[u,d],u)}function Rt(u,d){var _=ae();d=d===void 0?null:d;var C=_.memoizedState;if(d!==null&&Vi(d,C[1]))return C[0];if(C=u(),bl){K(!0);try{u()}finally{K(!1)}}return _.memoizedState=[C,d],C}function Nt(u,d,_){return _===void 0||(Ho&1073741824)!==0?u.memoizedState=d:(u.memoizedState=_,u=Oo(),On.lanes|=u,ws|=u,_)}function Jt(u,d,_,C){return ys(_,d)?_:Vo.current!==null?(u=Nt(u,_,C),ys(u,d)||(ba=!0),u):(Ho&42)===0?(ba=!0,u.memoizedState=_):(u=Oo(),On.lanes|=u,ws|=u,d)}function St(u,d,_,C,k){var j=Pa();mr(j!==0&&8>j?j:8);var ue=hn.T,_e={};hn.T=_e,Ur(u,!1,d,_);try{var Ue=k(),ht=hn.S;if(ht!==null&&ht(_e,Ue),Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var Tt=Fe(Ue,C);Rn(u,d,Tt,Er(u))}else Rn(u,d,C,Er(u))}catch(It){Rn(u,d,{then:function(){},status:"rejected",reason:It},Er())}finally{mr(j),hn.T=ue}}function qt(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:Vr,baseState:Vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Le,lastRenderedState:Vr},next:null};var _={};return d.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Le,lastRenderedState:_},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function Ft(){return tr(gn)}function $t(){return ae().memoizedState}function Qt(){return ae().memoizedState}function Ti(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var _=Er();u=je(_);var C=Ze(d,u,_);C!==null&&(hr(C,d,_),Dt(C,d,_)),d={cache:Gh()},u.payload=d;return}d=d.return}}function Hn(u,d,_){var C=Er();_={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},ua(u)?ks(d,_):(_=Oe(u,d,_,C),_!==null&&(hr(_,u,C),ad(_,d,C)))}function Yn(u,d,_){var C=Er();Rn(u,d,_,C)}function Rn(u,d,_,C){var k={lane:C,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(ua(u))ks(d,k);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var ue=d.lastRenderedState,_e=j(ue,_);if(k.hasEagerState=!0,k.eagerState=_e,ys(_e,ue))return ne(u,d,k,0),jn===null&&Ee(),!1}catch{}finally{}if(_=Oe(u,d,k,C),_!==null)return hr(_,u,C),ad(_,d,C),!0}return!1}function Ur(u,d,_,C){if(C={lane:2,revertLane:Ne(),action:C,hasEagerState:!1,eagerState:null,next:null},ua(u)){if(d)throw Error(a(479))}else d=Oe(u,_,C,2),d!==null&&hr(d,u,2)}function ua(u){var d=u.alternate;return u===On||d!==null&&d===On}function ks(u,d){Qi=Ys=!0;var _=u.pending;_===null?d.next=d:(d.next=_.next,_.next=d),u.pending=d}function ad(u,d,_){if((_&4194176)!==0){var C=d.lanes;C&=u.pendingLanes,_|=C,d.lanes=_,X(u,_)}}function Ia(u,d,_,C){d=u.memoizedState,_=_(C,d),_=_==null?d:$c({},d,_),u.memoizedState=_,u.lanes===0&&(u.updateQueue.baseState=_)}function Yl(u,d,_,C,k,j,ue){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(C,j,ue):d.prototype&&d.prototype.isPureReactComponent?!ft(_,C)||!ft(k,j):!0}function rd(u,d,_,C){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,C),d.state!==u&&Cp.enqueueReplaceState(d,d.state,null)}function ao(u,d){var _=d;if("ref"in d){_={};for(var C in d)C!=="ref"&&(_[C]=d[C])}if(u=u.defaultProps){_===d&&(_=$c({},_));for(var k in u)_[k]===void 0&&(_[k]=u[k])}return _}function Fh(u,d){try{var _=u.onUncaughtError;_(d.value,{componentStack:d.stack})}catch(C){setTimeout(function(){throw C})}}function Vh(u,d,_){try{var C=u.onCaughtError;C(_.value,{componentStack:_.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function sd(u,d,_){return _=je(_),_.tag=3,_.payload={element:null},_.callback=function(){Fh(u,d)},_}function Hu(u){return u=je(u),u.tag=3,u}function od(u,d,_,C){var k=_.type.getDerivedStateFromError;if(typeof k=="function"){var j=C.value;u.payload=function(){return k(j)},u.callback=function(){Vh(d,_,C)}}var ue=_.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(u.callback=function(){Vh(d,_,C),typeof k!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var _e=C.stack;this.componentDidCatch(C.value,{componentStack:_e!==null?_e:""})})}function xy(u,d,_,C,k){if(_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(d=_.alternate,d!==null&&Fc(d,_,k,!0),_=Ms.current,_!==null){switch(_.tag){case 13:return Ws===null?Fr():_.alternate===null&&si===0&&(si=3),_.flags&=-257,_.flags|=65536,_.lanes=k,C===Ep?_.flags|=16384:(d=_.updateQueue,d===null?_.updateQueue=new Set([C]):d.add(C),ap(u,C,k)),!1;case 22:return _.flags|=65536,C===Ep?_.flags|=16384:(d=_.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([C])},_.updateQueue=d):(_=d.retryQueue,_===null?d.retryQueue=new Set([C]):_.add(C)),ap(u,C,k)),!1}throw Error(a(435,_.tag))}return ap(u,C,k),Fr(),!1}if(li)return d=Ms.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=k,C!==Pd&&(u=Error(a(422),{cause:C}),Ge(W(u,_)))):(C!==Pd&&(d=Error(a(423),{cause:C}),Ge(W(d,_))),u=u.current.alternate,u.flags|=65536,k&=-k,u.lanes|=k,C=W(C,_),k=sd(u.stateNode,C,k),be(u,k),si!==4&&(si=2)),!1;var j=Error(a(520),{cause:C});if(j=W(j,_),xf===null?xf=[j]:xf.push(j),si!==4&&(si=2),d===null)return!0;C=W(C,_),_=d;do{switch(_.tag){case 3:return _.flags|=65536,u=k&-k,_.lanes|=u,u=sd(_.stateNode,C,u),be(_,u),!1;case 1:if(d=_.type,j=_.stateNode,(_.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ts===null||!Ts.has(j))))return _.flags|=65536,k&=-k,_.lanes|=k,k=Hu(k),od(k,u,_,C),be(_,k),!1}_=_.return}while(_!==null);return!1}function er(u,d,_,C){d.child=u===null?Ag(d,null,_,C):gc(d,u.child,_,C)}function vy(u,d,_,C,k){_=_.render;var j=d.ref;if("ref"in C){var ue={};for(var _e in C)_e!=="ref"&&(ue[_e]=C[_e])}else ue=C;return Vc(d),C=fr(u,d,_,ue,j,k),_e=io(),u!==null&&!ba?(hi(u,d,k),rl(u,d,k)):(li&&_e&&ie(d),d.flags|=1,er(u,d,C,k),d.child)}function by(u,d,_,C,k){if(u===null){var j=_.type;return typeof j=="function"&&!fl(j)&&j.defaultProps===void 0&&_.compare===null?(d.tag=15,d.type=j,Hh(u,d,j,C,k)):(u=Fs(_.type,null,C,d,d.mode,k),u.ref=d.ref,u.return=d,d.child=u)}if(j=u.child,!Sm(u,k)){var ue=j.memoizedProps;if(_=_.compare,_=_!==null?_:ft,_(ue,C)&&u.ref===d.ref)return rl(u,d,k)}return d.flags|=1,u=pr(j,C),u.ref=d.ref,u.return=d,d.child=u}function Hh(u,d,_,C,k){if(u!==null){var j=u.memoizedProps;if(ft(j,C)&&u.ref===d.ref)if(ba=!1,d.pendingProps=C=j,Sm(u,k))(u.flags&131072)!==0&&(ba=!0);else return d.lanes=u.lanes,rl(u,d,k)}return gm(u,d,_,C,k)}function _y(u,d,_){var C=d.pendingProps,k=C.children,j=(d.stateNode._pendingVisibility&2)!==0,ue=u!==null?u.memoizedState:null;if(ld(u,d),C.mode==="hidden"||j){if((d.flags&128)!==0){if(C=ue!==null?ue.baseLanes|_:_,u!==null){for(k=d.child=u.child,j=0;k!==null;)j=j|k.lanes|k.childLanes,k=k.sibling;d.childLanes=j&~C}else d.childLanes=0,d.child=null;return Sy(u,d,C,_)}if((_&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&Wh(d,ue!==null?ue.cachePool:null),ue!==null?la(d,ue):Mr(),os(d);else return d.lanes=d.childLanes=536870912,Sy(u,d,ue!==null?ue.baseLanes|_:_,_)}else ue!==null?(Wh(d,ue.cachePool),la(d,ue),ja(),d.memoizedState=null):(u!==null&&Wh(d,null),Mr(),ja());return er(u,d,k,_),d.child}function Sy(u,d,_,C){var k=$l();return k=k===null?null:{parent:Po?_i._currentValue:_i._currentValue2,pool:k},d.memoizedState={baseLanes:_,cachePool:k},u!==null&&Wh(d,null),Mr(),os(d),u!==null&&Fc(u,d,C,!0),null}function ld(u,d){var _=d.ref;if(_===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(a(284));(u===null||u.ref!==_)&&(d.flags|=2097664)}}function gm(u,d,_,C,k){return Vc(d),_=fr(u,d,_,C,void 0,k),C=io(),u!==null&&!ba?(hi(u,d,k),rl(u,d,k)):(li&&C&&ie(d),d.flags|=1,er(u,d,_,k),d.child)}function My(u,d,_,C,k,j){return Vc(d),d.updateQueue=null,_=al(d,C,_,k),Bs(u),C=io(),u!==null&&!ba?(hi(u,d,j),rl(u,d,j)):(li&&C&&ie(d),d.flags|=1,er(u,d,_,j),d.child)}function ym(u,d,_,C,k){if(Vc(d),d.stateNode===null){var j=eu,ue=_.contextType;typeof ue=="object"&&ue!==null&&(j=tr(ue)),j=new _(C,j),d.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Cp,d.stateNode=j,j._reactInternals=d,j=d.stateNode,j.props=C,j.state=d.memoizedState,j.refs={},dt(d),ue=_.contextType,j.context=typeof ue=="object"&&ue!==null?tr(ue):eu,j.state=d.memoizedState,ue=_.getDerivedStateFromProps,typeof ue=="function"&&(Ia(d,_,ue,C),j.state=d.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(ue=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),ue!==j.state&&Cp.enqueueReplaceState(j,j.state,null),vt(d,C,j,k),He(),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308),C=!0}else if(u===null){j=d.stateNode;var _e=d.memoizedProps,Ue=ao(_,_e);j.props=Ue;var ht=j.context,Tt=_.contextType;ue=eu,typeof Tt=="object"&&Tt!==null&&(ue=tr(Tt));var It=_.getDerivedStateFromProps;Tt=typeof It=="function"||typeof j.getSnapshotBeforeUpdate=="function",_e=d.pendingProps!==_e,Tt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(_e||ht!==ue)&&rd(d,j,C,ue),vl=!1;var Vt=d.memoizedState;j.state=Vt,vt(d,C,j,k),He(),ht=d.memoizedState,_e||Vt!==ht||vl?(typeof It=="function"&&(Ia(d,_,It,C),ht=d.memoizedState),(Ue=vl||Yl(d,_,Ue,C,Vt,ht,ue))?(Tt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(d.flags|=4194308)):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=ht),j.props=C,j.state=ht,j.context=ue,C=Ue):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{j=d.stateNode,ot(u,d),ue=d.memoizedProps,Tt=ao(_,ue),j.props=Tt,It=d.pendingProps,Vt=j.context,ht=_.contextType,Ue=eu,typeof ht=="object"&&ht!==null&&(Ue=tr(ht)),_e=_.getDerivedStateFromProps,(ht=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ue!==It||Vt!==Ue)&&rd(d,j,C,Ue),vl=!1,Vt=d.memoizedState,j.state=Vt,vt(d,C,j,k),He();var Sn=d.memoizedState;ue!==It||Vt!==Sn||vl||u!==null&&u.dependencies!==null&&ql(u.dependencies)?(typeof _e=="function"&&(Ia(d,_,_e,C),Sn=d.memoizedState),(Tt=vl||Yl(d,_,Tt,C,Vt,Sn,Ue)||u!==null&&u.dependencies!==null&&ql(u.dependencies))?(ht||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(C,Sn,Ue),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(C,Sn,Ue)),typeof j.componentDidUpdate=="function"&&(d.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof j.componentDidUpdate!="function"||ue===u.memoizedProps&&Vt===u.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&Vt===u.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=Sn),j.props=C,j.state=Sn,j.context=Ue,C=Tt):(typeof j.componentDidUpdate!="function"||ue===u.memoizedProps&&Vt===u.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ue===u.memoizedProps&&Vt===u.memoizedState||(d.flags|=1024),C=!1)}return j=C,ld(u,d),C=(d.flags&128)!==0,j||C?(j=d.stateNode,_=C&&typeof _.getDerivedStateFromError!="function"?null:j.render(),d.flags|=1,u!==null&&C?(d.child=gc(d,u.child,null,k),d.child=gc(d,null,_,k)):er(u,d,_,k),d.memoizedState=j.state,u=d.child):u=rl(u,d,k),u}function Ay(u,d,_,C){return nt(),d.flags|=256,er(u,d,_,C),d.child}function xm(u){return{baseLanes:u,cachePool:Ry()}}function vm(u,d,_){return u=u!==null?u.childLanes&~_:0,d&&(u|=Xr),u}function wy(u,d,_){var C=d.pendingProps,k=!1,j=(d.flags&128)!==0,ue;if((ue=j)||(ue=u!==null&&u.memoizedState===null?!1:(Ca.current&2)!==0),ue&&(k=!0,d.flags&=-129),ue=(d.flags&32)!==0,d.flags&=-33,u===null){if(li){if(k?ia(d):ja(),li){var _e=sr,Ue;(Ue=_e)&&(_e=ex(_e,js),_e!==null?(d.memoizedState={dehydrated:_e,treeContext:co!==null?{id:ko,overflow:Hs}:null,retryLane:536870912},Ue=t(18,null,null,0),Ue.stateNode=_e,Ue.return=d,d.child=Ue,gr=d,sr=null,Ue=!0):Ue=!1),Ue||ve(d)}if(_e=d.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null))return Cd(_e)?d.lanes=16:d.lanes=536870912,null;Ga(d)}return _e=C.children,C=C.fallback,k?(ja(),k=d.mode,_e=bm({mode:"hidden",children:_e},k),C=hl(C,k,_,null),_e.return=d,C.return=d,_e.sibling=C,d.child=_e,k=d.child,k.memoizedState=xm(_),k.childLanes=vm(u,ue,_),d.memoizedState=xr,C):(ia(d),cd(d,_e))}if(Ue=u.memoizedState,Ue!==null&&(_e=Ue.dehydrated,_e!==null)){if(j)d.flags&256?(ia(d),d.flags&=-257,d=_m(u,d,_)):d.memoizedState!==null?(ja(),d.child=u.child,d.flags|=128,d=null):(ja(),k=C.fallback,_e=d.mode,C=bm({mode:"visible",children:C.children},_e),k=hl(k,_e,_,null),k.flags|=2,C.return=d,k.return=d,C.sibling=k,d.child=C,gc(d,u.child,null,_),C=d.child,C.memoizedState=xm(_),C.childLanes=vm(u,ue,_),d.memoizedState=xr,d=k);else if(ia(d),Cd(_e))ue=Xy(_e).digest,C=Error(a(419)),C.stack="",C.digest=ue,Ge({value:C,source:null,stack:null}),d=_m(u,d,_);else if(ba||Fc(u,d,_,!1),ue=(_&u.childLanes)!==0,ba||ue){if(ue=jn,ue!==null){if(C=_&-_,(C&42)!==0)C=1;else switch(C){case 2:C=1;break;case 8:C=4;break;case 32:C=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:C=64;break;case 268435456:C=134217728;break;default:C=0}if(C=(C&(ue.suspendedLanes|_))!==0?0:C,C!==0&&C!==Ue.retryLane)throw Ue.retryLane=C,Ae(u,C),hr(ue,u,C),mx}gp(_e)||Fr(),d=_m(u,d,_)}else gp(_e)?(d.flags|=128,d.child=u.child,d=Xc.bind(null,u),B2(_e,d),d=null):(u=Ue.treeContext,Tr&&(sr=Zy(_e),gr=d,li=!0,bs=null,js=!1,u!==null&&(xs[vs++]=ko,xs[vs++]=Hs,xs[vs++]=co,ko=u.id,Hs=u.overflow,co=d)),d=cd(d,C.children),d.flags|=4096);return d}return k?(ja(),k=C.fallback,_e=d.mode,Ue=u.child,j=Ue.sibling,C=pr(Ue,{mode:"hidden",children:C.children}),C.subtreeFlags=Ue.subtreeFlags&31457280,j!==null?k=pr(j,k):(k=hl(k,_e,_,null),k.flags|=2),k.return=d,C.return=d,C.sibling=k,d.child=C,C=k,k=d.child,_e=u.child.memoizedState,_e===null?_e=xm(_):(Ue=_e.cachePool,Ue!==null?(j=Po?_i._currentValue:_i._currentValue2,Ue=Ue.parent!==j?{parent:j,pool:j}:Ue):Ue=Ry(),_e={baseLanes:_e.baseLanes|_,cachePool:Ue}),k.memoizedState=_e,k.childLanes=vm(u,ue,_),d.memoizedState=xr,C):(ia(d),_=u.child,u=_.sibling,_=pr(_,{mode:"visible",children:C.children}),_.return=d,_.sibling=null,u!==null&&(ue=d.deletions,ue===null?(d.deletions=[u],d.flags|=16):ue.push(u)),d.child=_,d.memoizedState=null,_)}function cd(u,d){return d=bm({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function bm(u,d){return rp(u,d,0,null)}function _m(u,d,_){return gc(d,u.child,null,_),u=cd(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function Ey(u,d,_){u.lanes|=d;var C=u.alternate;C!==null&&(C.lanes|=d),Mm(u.return,d,_)}function jh(u,d,_,C,k){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:_,tailMode:k}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=C,j.tail=_,j.tailMode=k)}function Ty(u,d,_){var C=d.pendingProps,k=C.revealOrder,j=C.tail;if(er(u,d,C.children,_),C=Ca.current,(C&2)!==0)C=C&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ey(u,_,d);else if(u.tag===19)Ey(u,_,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}C&=1}switch(E(Ca,C),k){case"forwards":for(_=d.child,k=null;_!==null;)u=_.alternate,u!==null&&ca(u)===null&&(k=_),_=_.sibling;_=k,_===null?(k=d.child,d.child=null):(k=_.sibling,_.sibling=null),jh(d,!1,k,_,j);break;case"backwards":for(_=null,k=d.child,d.child=null;k!==null;){if(u=k.alternate,u!==null&&ca(u)===null){d.child=k;break}u=k.sibling,k.sibling=_,_=k,k=u}jh(d,!0,_,null,j);break;case"together":jh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function rl(u,d,_){if(u!==null&&(d.dependencies=u.dependencies),ws|=d.lanes,(_&d.childLanes)===0)if(u!==null){if(Fc(u,d,_,!1),(_&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(a(153));if(d.child!==null){for(u=d.child,_=pr(u,u.pendingProps),d.child=_,_.return=d;u.sibling!==null;)u=u.sibling,_=_.sibling=pr(u,u.pendingProps),_.return=d;_.sibling=null}return d.child}function Sm(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&ql(u)))}function I2(u,d,_){switch(d.tag){case 3:ge(d,d.stateNode.containerInfo),Xl(d,_i,u.memoizedState.cache),nt();break;case 27:case 5:te(d);break;case 4:ge(d,d.stateNode.containerInfo);break;case 10:Xl(d,d.type,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(ia(d),d.flags|=128,null):(_&d.child.childLanes)!==0?wy(u,d,_):(ia(d),u=rl(u,d,_),u!==null?u.sibling:null);ia(d);break;case 19:var k=(u.flags&128)!==0;if(C=(_&d.childLanes)!==0,C||(Fc(u,d,_,!1),C=(_&d.childLanes)!==0),k){if(C)return Ty(u,d,_);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),E(Ca,Ca.current),C)break;return null;case 22:case 23:return d.lanes=0,_y(u,d,_);case 24:Xl(d,_i,u.memoizedState.cache)}return rl(u,d,_)}function Cy(u,d,_){if(u!==null)if(u.memoizedProps!==d.pendingProps)ba=!0;else{if(!Sm(u,_)&&(d.flags&128)===0)return ba=!1,I2(u,d,_);ba=(u.flags&131072)!==0}else ba=!1,li&&(d.flags&1048576)!==0&&q(d,Ld,d.index);switch(d.lanes=0,d.tag){case 16:e:{u=d.pendingProps;var C=d.elementType,k=C._init;if(C=k(C._payload),d.type=C,typeof C=="function")fl(C)?(u=ao(C,u),d.tag=1,d=ym(null,d,C,u,_)):(d.tag=0,d=gm(null,d,C,u,_));else{if(C!=null){if(k=C.$$typeof,k===rf){d.tag=11,d=vy(null,d,C,u,_);break e}else if(k===bd){d.tag=14,d=by(null,d,C,u,_);break e}}throw d=o(C)||C,Error(a(306,d,""))}}return d;case 0:return gm(u,d,d.type,d.pendingProps,_);case 1:return C=d.type,k=ao(C,d.pendingProps),ym(u,d,C,k,_);case 3:e:{if(ge(d,d.stateNode.containerInfo),u===null)throw Error(a(387));var j=d.pendingProps;k=d.memoizedState,C=k.element,ot(u,d),vt(d,j,null,_);var ue=d.memoizedState;if(j=ue.cache,Xl(d,_i,j),j!==k.cache&&Am(d,[_i],_,!0),He(),j=ue.element,Tr&&k.isDehydrated)if(k={element:j,isDehydrated:!1,cache:ue.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=Ay(u,d,j,_);break e}else if(j!==C){C=W(Error(a(424)),d),Ge(C),d=Ay(u,d,j,_);break e}else for(Tr&&(sr=Ky(d.stateNode.containerInfo),gr=d,li=!0,bs=null,js=!0),_=Ag(d,null,j,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(nt(),j===C){d=rl(u,d,_);break e}er(u,d,j,_)}d=d.child}return d;case 26:if(gs)return ld(u,d),u===null?(_=_p(d.type,null,d.pendingProps,null))?d.memoizedState=_:li||(d.stateNode=F2(d.type,d.pendingProps,uo.current,d)):d.memoizedState=_p(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:if(ar)return te(d),u===null&&ar&&li&&(C=d.stateNode=bg(d.type,d.pendingProps,uo.current,$a.current,!1),gr=d,js=!0,sr=yp(C)),C=d.pendingProps.children,u!==null||li?er(u,d,C,_):d.child=gc(d,null,C,_),ld(u,d),d.child;case 5:return u===null&&li&&(rx(d.type,d.pendingProps,$a.current),(k=C=sr)&&(C=Jy(C,d.type,d.pendingProps,js),C!==null?(d.stateNode=C,gr=d,sr=yp(C),js=!1,k=!0):k=!1),k||ve(d)),te(d),k=d.type,j=d.pendingProps,ue=u!==null?u.memoizedProps:null,C=j.children,fc(k,j)?C=null:ue!==null&&fc(k,ue)&&(d.flags|=32),d.memoizedState!==null&&(k=fr(u,d,Wl,null,null,_),Po?gn._currentValue=k:gn._currentValue2=k),ld(u,d),er(u,d,C,_),d.child;case 6:return u===null&&li&&(sx(d.pendingProps,$a.current),(u=_=sr)&&(_=Qy(_,d.pendingProps,js),_!==null?(d.stateNode=_,gr=d,sr=null,u=!0):u=!1),u||ve(d)),null;case 13:return wy(u,d,_);case 4:return ge(d,d.stateNode.containerInfo),C=d.pendingProps,u===null?d.child=gc(d,null,C,_):er(u,d,C,_),d.child;case 11:return vy(u,d,d.type,d.pendingProps,_);case 7:return er(u,d,d.pendingProps,_),d.child;case 8:return er(u,d,d.pendingProps.children,_),d.child;case 12:return er(u,d,d.pendingProps.children,_),d.child;case 10:return C=d.pendingProps,Xl(d,d.type,C.value),er(u,d,C.children,_),d.child;case 9:return k=d.type._context,C=d.pendingProps.children,Vc(d),k=tr(k),C=C(k),d.flags|=1,er(u,d,C,_),d.child;case 14:return by(u,d,d.type,d.pendingProps,_);case 15:return Hh(u,d,d.type,d.pendingProps,_);case 19:return Ty(u,d,_);case 22:return _y(u,d,_);case 24:return Vc(d),C=tr(_i),u===null?(k=$l(),k===null&&(k=jn,j=Gh(),k.pooledCache=j,j.refCount++,j!==null&&(k.pooledCacheLanes|=_),k=j),d.memoizedState={parent:C,cache:k},dt(d),Xl(d,_i,k)):((u.lanes&_)!==0&&(ot(u,d),vt(d,null,null,_),He()),k=u.memoizedState,j=d.memoizedState,k.parent!==C?(k={parent:C,cache:C},d.memoizedState=k,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=k),Xl(d,_i,C)):(C=j.cache,Xl(d,_i,C),C!==k.cache&&Am(d,[_i],_,!0))),er(u,d,d.pendingProps.children,_),d.child;case 29:throw d.pendingProps}throw Error(a(156,d.tag))}function Xl(u,d,_){Po?(E(Wr,d._currentValue),d._currentValue=_):(E(Wr,d._currentValue2),d._currentValue2=_)}function sl(u){var d=Wr.current;Po?u._currentValue=d:u._currentValue2=d,S(Wr)}function Mm(u,d,_){for(;u!==null;){var C=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),u===_)break;u=u.return}}function Am(u,d,_,C){var k=u.child;for(k!==null&&(k.return=u);k!==null;){var j=k.dependencies;if(j!==null){var ue=k.child;j=j.firstContext;e:for(;j!==null;){var _e=j;j=k;for(var Ue=0;Ue<d.length;Ue++)if(_e.context===d[Ue]){j.lanes|=_,_e=j.alternate,_e!==null&&(_e.lanes|=_),Mm(j.return,_,u),C||(ue=null);break e}j=_e.next}}else if(k.tag===18){if(ue=k.return,ue===null)throw Error(a(341));ue.lanes|=_,j=ue.alternate,j!==null&&(j.lanes|=_),Mm(ue,_,u),ue=null}else ue=k.child;if(ue!==null)ue.return=k;else for(ue=k;ue!==null;){if(ue===u){ue=null;break}if(k=ue.sibling,k!==null){k.return=ue.return,ue=k;break}ue=ue.return}k=ue}}function Fc(u,d,_,C){u=null;for(var k=d,j=!1;k!==null;){if(!j){if((k.flags&524288)!==0)j=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var ue=k.alternate;if(ue===null)throw Error(a(387));if(ue=ue.memoizedProps,ue!==null){var _e=k.type;ys(k.pendingProps.value,ue.value)||(u!==null?u.push(_e):u=[_e])}}else if(k===df.current){if(ue=k.alternate,ue===null)throw Error(a(387));ue.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(u!==null?u.push(gn):u=[gn])}k=k.return}u!==null&&Am(d,u,_,C),d.flags|=262144}function ql(u){for(u=u.firstContext;u!==null;){var d=u.context;if(!ys(Po?d._currentValue:d._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function Vc(u){xc=u,ma=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function tr(u){return wm(xc,u)}function ud(u,d){return xc===null&&Vc(u),wm(u,d)}function wm(u,d){var _=Po?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:_,next:null},ma===null){if(u===null)throw Error(a(308));ma=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else ma=ma.next=d;return _}function Gh(){return{controller:new gx,data:new Map,refCount:0}}function ju(u){u.refCount--,u.refCount===0&&_l(iu,function(){u.controller.abort()})}function $l(){var u=Sl.current;return u!==null?u:jn.pooledCache}function Wh(u,d){d===null?E(Sl,Sl.current):E(Sl,d.pool)}function Ry(){var u=$l();return u===null?null:{parent:Po?_i._currentValue:_i._currentValue2,pool:u}}function fs(u){u.flags|=4}function Em(u,d){if(u!==null&&u.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(u=d.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function Yh(u,d,_,C){if(ir)for(_=d.child;_!==null;){if(_.tag===5||_.tag===6)Io(u,_.stateNode);else if(!(_.tag===4||ar&&_.tag===27)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else if(ps)for(var k=d.child;k!==null;){if(k.tag===5){var j=k.stateNode;_&&C&&(j=og(j,k.type,k.memoizedProps)),Io(u,j)}else if(k.tag===6)j=k.stateNode,_&&C&&(j=lg(j,k.memoizedProps)),Io(u,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),Yh(u,k,!0,!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function Gu(u,d,_,C){if(ps)for(var k=d.child;k!==null;){if(k.tag===5){var j=k.stateNode;_&&C&&(j=og(j,k.type,k.memoizedProps)),rg(u,j)}else if(k.tag===6)j=k.stateNode,_&&C&&(j=lg(j,k.memoizedProps)),rg(u,j);else if(k.tag!==4){if(k.tag===22&&k.memoizedState!==null)j=k.child,j!==null&&(j.return=k),Gu(u,k,!(k.memoizedProps!==null&&k.memoizedProps.mode==="manual"),!0);else if(k.child!==null){k.child.return=k,k=k.child;continue}}if(k===d)break;for(;k.sibling===null;){if(k.return===null||k.return===d)return;k=k.return}k.sibling.return=k.return,k=k.sibling}}function Wu(u,d){if(ps&&Em(u,d)){u=d.stateNode;var _=u.containerInfo,C=mp();Gu(C,d,!1,!1),u.pendingChildren=C,fs(d),Yy(_,C)}}function Tm(u,d,_,C){if(ir)u.memoizedProps!==C&&fs(d);else if(ps){var k=u.stateNode,j=u.memoizedProps;if((u=Em(u,d))||j!==C){var ue=$a.current;j=ag(k,_,j,C,!u,null),j===k?d.stateNode=k:(ml(j,_,C,ue)&&fs(d),d.stateNode=j,u?Yh(j,d,!1,!1):fs(d))}else d.stateNode=k}}function Yu(u,d,_){if(jy(d,_)){if(u.flags|=16777216,!gl(d,_))if(gd())u.flags|=8192;else throw nu=Ep,Mg}else u.flags&=-16777217}function Cm(u,d){if(ox(d)){if(u.flags|=16777216,!xg(d))if(gd())u.flags|=8192;else throw nu=Ep,Mg}else u.flags&=-16777217}function fd(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?L():536870912,u.lanes|=d,Al|=d)}function Hc(u,d){if(!li)switch(u.tailMode){case"hidden":d=u.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?u.tail=null:_.sibling=null;break;case"collapsed":_=u.tail;for(var C=null;_!==null;)_.alternate!==null&&(C=_),_=_.sibling;C===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:C.sibling=null}}function Ki(u){var d=u.alternate!==null&&u.alternate.child===u.child,_=0,C=0;if(d)for(var k=u.child;k!==null;)_|=k.lanes|k.childLanes,C|=k.subtreeFlags&31457280,C|=k.flags&31457280,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)_|=k.lanes|k.childLanes,C|=k.subtreeFlags,C|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=C,u.childLanes=_,d}function Oy(u,d,_){var C=d.pendingProps;switch(fe(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(d),null;case 1:return Ki(d),null;case 3:return _=d.stateNode,C=null,u!==null&&(C=u.memoizedState.cache),d.memoizedState.cache!==C&&(d.flags|=2048),sl(_i),re(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(u===null||u.child===null)&&(rt(d)?fs(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,bs!==null&&(ll(bs),bs=null))),Wu(u,d),Ki(d),null;case 26:if(gs){_=d.type;var k=d.memoizedState;return u===null?(fs(d),k!==null?(Ki(d),Cm(d,k)):(Ki(d),Yu(d,_,C))):k?k!==u.memoizedState?(fs(d),Ki(d),Cm(d,k)):(Ki(d),d.flags&=-16777217):(ir?u.memoizedProps!==C&&fs(d):Tm(u,d,_,C),Ki(d),Yu(d,_,C)),null}case 27:if(ar){if(se(d),_=uo.current,k=d.type,u!==null&&d.stateNode!=null)ir?u.memoizedProps!==C&&fs(d):Tm(u,d,k,C);else{if(!C){if(d.stateNode===null)throw Error(a(166));return Ki(d),null}u=$a.current,rt(d)?ze(d,u):(u=bg(k,C,_,u,!0),d.stateNode=u,fs(d))}return Ki(d),null}case 5:if(se(d),_=d.type,u!==null&&d.stateNode!=null)Tm(u,d,_,C);else{if(!C){if(d.stateNode===null)throw Error(a(166));return Ki(d),null}u=$a.current,rt(d)?ze(d,u):(k=Xm(_,C,uo.current,u,d),Yh(k,d,!1,!1),d.stateNode=k,ml(k,_,C,u)&&fs(d))}return Ki(d),Yu(d,d.type,d.pendingProps),null;case 6:if(u&&d.stateNode!=null)_=u.memoizedProps,ir?_!==C&&fs(d):ps&&(_!==C?(d.stateNode=cp(C,uo.current,$a.current,d),fs(d)):d.stateNode=u.stateNode);else{if(typeof C!="string"&&d.stateNode===null)throw Error(a(166));if(u=uo.current,_=$a.current,rt(d)){if(!Tr)throw Error(a(176));if(u=d.stateNode,_=d.memoizedProps,C=null,k=gr,k!==null)switch(k.tag){case 27:case 5:C=k.memoizedProps}tx(u,_,d,C)||ve(d)}else d.stateNode=cp(C,u,_,d)}return Ki(d),null;case 13:if(C=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(k=rt(d),C!==null&&C.dehydrated!==null){if(u===null){if(!k)throw Error(a(318));if(!Tr)throw Error(a(344));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(a(317));of(k,d)}else nt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ki(d),k=!1}else bs!==null&&(ll(bs),bs=null),k=!0;if(!k)return d.flags&256?(Ga(d),d):(Ga(d),null)}if(Ga(d),(d.flags&128)!==0)return d.lanes=_,d;if(_=C!==null,u=u!==null&&u.memoizedState!==null,_){C=d.child,k=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(k=C.alternate.memoizedState.cachePool.pool);var j=null;C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(j=C.memoizedState.cachePool.pool),j!==k&&(C.flags|=2048)}return _!==u&&_&&(d.child.flags|=8192),fd(d,d.updateQueue),Ki(d),null;case 4:return re(),Wu(u,d),u===null&&Km(d.stateNode.containerInfo),Ki(d),null;case 10:return sl(d.type),Ki(d),null;case 19:if(S(Ca),k=d.memoizedState,k===null)return Ki(d),null;if(C=(d.flags&128)!==0,j=k.rendering,j===null)if(C)Hc(k,!1);else{if(si!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(j=ca(u),j!==null){for(d.flags|=128,Hc(k,!1),u=j.updateQueue,d.updateQueue=u,fd(d,u),d.subtreeFlags=0,u=_,_=d.child;_!==null;)dl(_,u),_=_.sibling;return E(Ca,Ca.current&1|2),d.child}u=u.sibling}k.tail!==null&&rr()>sa&&(d.flags|=128,C=!0,Hc(k,!1),d.lanes=4194304)}else{if(!C)if(u=ca(j),u!==null){if(d.flags|=128,C=!0,u=u.updateQueue,d.updateQueue=u,fd(d,u),Hc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!li)return Ki(d),null}else 2*rr()-k.renderingStartTime>sa&&_!==536870912&&(d.flags|=128,C=!0,Hc(k,!1),d.lanes=4194304);k.isBackwards?(j.sibling=d.child,d.child=j):(u=k.last,u!==null?u.sibling=j:d.child=j,k.last=j)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=rr(),d.sibling=null,u=Ca.current,E(Ca,C?u&1|2:u&1),d):(Ki(d),null);case 22:case 23:return Ga(d),Us(),C=d.memoizedState!==null,u!==null?u.memoizedState!==null!==C&&(d.flags|=8192):C&&(d.flags|=8192),C?(_&536870912)!==0&&(d.flags&128)===0&&(Ki(d),d.subtreeFlags&6&&(d.flags|=8192)):Ki(d),_=d.updateQueue,_!==null&&fd(d,_.retryQueue),_=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),C=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==_&&(d.flags|=2048),u!==null&&S(Sl),null;case 24:return _=null,u!==null&&(_=u.memoizedState.cache),d.memoizedState.cache!==_&&(d.flags|=2048),sl(_i),Ki(d),null;case 25:return null}throw Error(a(156,d.tag))}function zy(u,d){switch(fe(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return sl(_i),re(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return se(d),null;case 13:if(Ga(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(a(340));nt()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return S(Ca),null;case 4:return re(),null;case 10:return sl(d.type),null;case 22:case 23:return Ga(d),Us(),u!==null&&S(Sl),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return sl(_i),null;case 25:return null;default:return null}}function Rm(u,d){switch(fe(d),d.tag){case 3:sl(_i),re();break;case 26:case 27:case 5:se(d);break;case 4:re();break;case 13:Ga(d);break;case 19:S(Ca);break;case 10:sl(d.type);break;case 22:case 23:Ga(d),Us(),u!==null&&S(Sl);break;case 24:sl(_i)}}function dd(u,d){try{var _=d.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var k=C.next;_=k;do{if((_.tag&u)===u){C=void 0;var j=_.create,ue=_.inst;C=j(),ue.destroy=C}_=_.next}while(_!==k)}}catch(_e){Jn(d,d.return,_e)}}function Kl(u,d,_){try{var C=d.updateQueue,k=C!==null?C.lastEffect:null;if(k!==null){var j=k.next;C=j;do{if((C.tag&u)===u){var ue=C.inst,_e=ue.destroy;if(_e!==void 0){ue.destroy=void 0,k=d;var Ue=_;try{_e()}catch(ht){Jn(k,Ue,ht)}}}C=C.next}while(C!==j)}}catch(ht){Jn(d,d.return,ht)}}function Ny(u){var d=u.updateQueue;if(d!==null){var _=u.stateNode;try{at(d,_)}catch(C){Jn(u,u.return,C)}}}function Dy(u,d,_){_.props=ao(u.type,u.memoizedProps),_.state=u.memoizedState;try{_.componentWillUnmount()}catch(C){Jn(u,d,C)}}function jc(u,d){try{var _=u.ref;if(_!==null){var C=u.stateNode;switch(u.tag){case 26:case 27:case 5:var k=sf(C);break;default:k=C}typeof _=="function"?u.refCleanup=_(k):_.current=k}}catch(j){Jn(u,d,j)}}function Zi(u,d){var _=u.ref,C=u.refCleanup;if(_!==null)if(typeof C=="function")try{C()}catch(k){Jn(u,d,k)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(k){Jn(u,d,k)}else _.current=null}function Xu(u){var d=u.type,_=u.memoizedProps,C=u.stateNode;try{U2(C,d,_,u)}catch(k){Jn(u,u.return,k)}}function Om(u,d,_){try{eg(u.stateNode,u.type,_,d,u)}catch(C){Jn(u,u.return,C)}}function zm(u){return u.tag===5||u.tag===3||(gs?u.tag===26:!1)||(ar?u.tag===27:!1)||u.tag===4}function Xh(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||zm(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!ar||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function qh(u,d,_){var C=u.tag;if(C===5||C===6)u=u.stateNode,d?ng(_,u,d):Gy(_,u);else if(!(C===4||ar&&C===27)&&(u=u.child,u!==null))for(qh(u,d,_),u=u.sibling;u!==null;)qh(u,d,_),u=u.sibling}function qu(u,d,_){var C=u.tag;if(C===5||C===6)u=u.stateNode,d?tg(_,u,d):Qm(_,u);else if(!(C===4||ar&&C===27)&&(u=u.child,u!==null))for(qu(u,d,_),u=u.sibling;u!==null;)qu(u,d,_),u=u.sibling}function Ly(u,d,_){u=u.containerInfo;try{sg(u,_)}catch(C){Jn(d,d.return,C)}}function $u(u,d){for(uc(u.containerInfo),ga=d;ga!==null;)if(u=ga,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,ga=d;else for(;ga!==null;){u=ga;var _=u.alternate;switch(d=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&_!==null){d=void 0;var C=u,k=_.memoizedProps;_=_.memoizedState;var j=C.stateNode;try{var ue=ao(C.type,k,C.elementType===C.type);d=j.getSnapshotBeforeUpdate(ue,_),j.__reactInternalSnapshotBeforeUpdate=d}catch(_e){Jn(C,C.return,_e)}}break;case 3:(d&1024)!==0&&ir&&pp(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(a(163))}if(d=u.sibling,d!==null){d.return=u.return,ga=d;break}ga=u.return}return ue=au,au=!1,ue}function $h(u,d,_){var C=_.flags;switch(_.tag){case 0:case 11:case 15:Ro(u,_),C&4&&dd(5,_);break;case 1:if(Ro(u,_),C&4)if(u=_.stateNode,d===null)try{u.componentDidMount()}catch(_e){Jn(_,_.return,_e)}else{var k=ao(_.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(k,d,u.__reactInternalSnapshotBeforeUpdate)}catch(_e){Jn(_,_.return,_e)}}C&64&&Ny(_),C&512&&jc(_,_.return);break;case 3:if(Ro(u,_),C&64&&(C=_.updateQueue,C!==null)){if(u=null,_.child!==null)switch(_.child.tag){case 27:case 5:u=sf(_.child.stateNode);break;case 1:u=_.child.stateNode}try{at(C,u)}catch(_e){Jn(_,_.return,_e)}}break;case 26:if(gs){Ro(u,_),C&512&&jc(_,_.return);break}case 27:case 5:Ro(u,_),d===null&&C&4&&Xu(_),C&512&&jc(_,_.return);break;case 12:Ro(u,_);break;case 13:Ro(u,_),C&4&&Zl(u,_);break;case 22:if(k=_.memoizedState!==null||Ua,!k){d=d!==null&&d.memoizedState!==null||ra;var j=Ua,ue=ra;Ua=k,(ra=d)&&!ue?Ql(u,_,(_.subtreeFlags&8772)!==0):Ro(u,_),Ua=j,ra=ue}C&512&&(_.memoizedProps.mode==="manual"?jc(_,_.return):Zi(_,_.return));break;default:Ro(u,_)}}function Ku(u){var d=u.alternate;d!==null&&(u.alternate=null,Ku(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&Zm(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function ds(u,d,_){for(_=_.child;_!==null;)Kh(u,d,_),_=_.sibling}function Kh(u,d,_){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(ff,_)}catch{}switch(_.tag){case 26:if(gs){ra||Zi(_,d),ds(u,d,_),_.memoizedState?hg(_.memoizedState):_.stateNode&&gg(_.stateNode);break}case 27:if(ar){ra||Zi(_,d);var C=_a,k=Yr;_a=_.stateNode,ds(u,d,_),lx(_.stateNode),_a=C,Yr=k;break}case 5:ra||Zi(_,d);case 6:if(ir){if(C=_a,k=Yr,_a=null,ds(u,d,_),_a=C,Yr=k,_a!==null)if(Yr)try{xa(_a,_.stateNode)}catch(j){Jn(_,d,j)}else try{Cr(_a,_.stateNode)}catch(j){Jn(_,d,j)}}else ds(u,d,_);break;case 18:ir&&_a!==null&&(Yr?ug(_a,_.stateNode):ix(_a,_.stateNode));break;case 4:ir?(C=_a,k=Yr,_a=_.stateNode.containerInfo,Yr=!0,ds(u,d,_),_a=C,Yr=k):(ps&&Ly(_.stateNode,_,mp()),ds(u,d,_));break;case 0:case 11:case 14:case 15:ra||Kl(2,_,d),ra||Kl(4,_,d),ds(u,d,_);break;case 1:ra||(Zi(_,d),C=_.stateNode,typeof C.componentWillUnmount=="function"&&Dy(_,d,C)),ds(u,d,_);break;case 21:ds(u,d,_);break;case 22:ra||Zi(_,d),ra=(C=ra)||_.memoizedState!==null,ds(u,d,_),ra=C;break;default:ds(u,d,_)}}function Zl(u,d){if(Tr&&d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{vp(u)}catch(_){Jn(d,d.return,_)}}function Zu(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new yf),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new yf),d;default:throw Error(a(435,u.tag))}}function hd(u,d){var _=Zu(u);d.forEach(function(C){var k=Pm.bind(null,u,C);_.has(C)||(_.add(C),C.then(k,k))})}function Ar(u,d){var _=d.deletions;if(_!==null)for(var C=0;C<_.length;C++){var k=_[C],j=u,ue=d;if(ir){var _e=ue;e:for(;_e!==null;){switch(_e.tag){case 27:case 5:_a=_e.stateNode,Yr=!1;break e;case 3:_a=_e.stateNode.containerInfo,Yr=!0;break e;case 4:_a=_e.stateNode.containerInfo,Yr=!0;break e}_e=_e.return}if(_a===null)throw Error(a(160));Kh(j,ue,k),_a=null,Yr=!1}else Kh(j,ue,k);j=k.alternate,j!==null&&(j.return=null),k.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Jl(d,u),d=d.sibling}function Jl(u,d){var _=u.alternate,C=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Ar(d,u),Br(u),C&4&&(Kl(3,u,u.return),dd(3,u),Kl(5,u,u.return));break;case 1:Ar(d,u),Br(u),C&512&&(ra||_===null||Zi(_,_.return)),C&64&&Ua&&(u=u.updateQueue,u!==null&&(C=u.callbacks,C!==null&&(_=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=_===null?C:_.concat(C))));break;case 26:if(gs){var k=Rr;Ar(d,u),Br(u),C&512&&(ra||_===null||Zi(_,_.return)),C&4&&(C=_!==null?_.memoizedState:null,d=u.memoizedState,_===null?d===null?u.stateNode===null?u.stateNode=pg(k,u.type,u.memoizedProps,u):mg(k,u.type,u.stateNode):u.stateNode=dg(k,d,u.memoizedProps):C!==d?(C===null?_.stateNode!==null&&gg(_.stateNode):hg(C),d===null?mg(k,u.type,u.stateNode):dg(k,d,u.memoizedProps)):d===null&&u.stateNode!==null&&Om(u,u.memoizedProps,_.memoizedProps));break}case 27:if(ar&&C&4&&u.alternate===null){k=u.stateNode;var j=u.memoizedProps;try{V2(k),H2(u.type,j,k,u)}catch(Tt){Jn(u,u.return,Tt)}}case 5:if(Ar(d,u),Br(u),C&512&&(ra||_===null||Zi(_,_.return)),ir){if(u.flags&32){d=u.stateNode;try{Ed(d)}catch(Tt){Jn(u,u.return,Tt)}}C&4&&u.stateNode!=null&&(d=u.memoizedProps,Om(u,d,_!==null?_.memoizedProps:d)),C&1024&&(vc=!0)}break;case 6:if(Ar(d,u),Br(u),C&4&&ir){if(u.stateNode===null)throw Error(a(162));C=u.memoizedProps,_=_!==null?_.memoizedProps:C,d=u.stateNode;try{Wy(d,_,C)}catch(Tt){Jn(u,u.return,Tt)}}break;case 3:if(gs?(yg(),k=Rr,Rr=bp(d.containerInfo),Ar(d,u),Rr=k):Ar(d,u),Br(u),C&4){if(ir&&Tr&&_!==null&&_.memoizedState.isDehydrated)try{xp(d.containerInfo)}catch(Tt){Jn(u,u.return,Tt)}if(ps){C=d.containerInfo,_=d.pendingChildren;try{sg(C,_)}catch(Tt){Jn(u,u.return,Tt)}}}vc&&(vc=!1,Nm(u));break;case 4:gs?(_=Rr,Rr=bp(u.stateNode.containerInfo),Ar(d,u),Br(u),Rr=_):(Ar(d,u),Br(u)),C&4&&ps&&Ly(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:Ar(d,u),Br(u);break;case 13:Ar(d,u),Br(u),u.child.flags&8192&&u.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(jo=rr()),C&4&&(C=u.updateQueue,C!==null&&(u.updateQueue=null,hd(u,C)));break;case 22:C&512&&(ra||_===null||Zi(_,_.return)),k=u.memoizedState!==null;var ue=_!==null&&_.memoizedState!==null,_e=Ua,Ue=ra;if(Ua=_e||k,ra=Ue||ue,Ar(d,u),ra=Ue,Ua=_e,Br(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,C&8192&&(d._visibility=k?d._visibility&-2:d._visibility|1,k&&(d=Ua||ra,_===null||ue||d||Ju(u)),ir&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(_=null,ir)for(d=u;;){if(d.tag===5||gs&&d.tag===26||ar&&d.tag===27){if(_===null){ue=_=d;try{j=ue.stateNode,k?Td(j):ig(ue.stateNode,ue.memoizedProps)}catch(Tt){Jn(ue,ue.return,Tt)}}}else if(d.tag===6){if(_===null){ue=d;try{var ht=ue.stateNode;k?hp(ht):yl(ht,ue.memoizedProps)}catch(Tt){Jn(ue,ue.return,Tt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;_===d&&(_=null),d=d.return}_===d&&(_=null),d.sibling.return=d.return,d=d.sibling}}C&4&&(C=u.updateQueue,C!==null&&(_=C.retryQueue,_!==null&&(C.retryQueue=null,hd(u,_))));break;case 19:Ar(d,u),Br(u),C&4&&(C=u.updateQueue,C!==null&&(u.updateQueue=null,hd(u,C)));break;case 21:break;default:Ar(d,u),Br(u)}}function Br(u){var d=u.flags;if(d&2){try{if(ir&&(!ar||u.tag!==27)){e:{for(var _=u.return;_!==null;){if(zm(_)){var C=_;break e}_=_.return}throw Error(a(160))}switch(C.tag){case 27:if(ar){var k=C.stateNode,j=Xh(u);qu(u,j,k);break}case 5:var ue=C.stateNode;C.flags&32&&(Ed(ue),C.flags&=-33);var _e=Xh(u);qu(u,_e,ue);break;case 3:case 4:var Ue=C.stateNode.containerInfo,ht=Xh(u);qh(u,ht,Ue);break;default:throw Error(a(161))}}}catch(Tt){Jn(u,u.return,Tt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function Nm(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;Nm(d),d.tag===5&&d.flags&1024&&Ni(d.stateNode),u=u.sibling}}function Ro(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)$h(u,d.alternate,d),d=d.sibling}function Ju(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:Kl(4,d,d.return),Ju(d);break;case 1:Zi(d,d.return);var _=d.stateNode;typeof _.componentWillUnmount=="function"&&Dy(d,d.return,_),Ju(d);break;case 26:case 27:case 5:Zi(d,d.return),Ju(d);break;case 22:Zi(d,d.return),d.memoizedState===null&&Ju(d);break;default:Ju(d)}u=u.sibling}}function Ql(u,d,_){for(_=_&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var C=d.alternate,k=u,j=d,ue=j.flags;switch(j.tag){case 0:case 11:case 15:Ql(k,j,_),dd(4,j);break;case 1:if(Ql(k,j,_),C=j,k=C.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(ht){Jn(C,C.return,ht)}if(C=j,k=C.updateQueue,k!==null){var _e=C.stateNode;try{var Ue=k.shared.hiddenCallbacks;if(Ue!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Ue.length;k++)ye(Ue[k],_e)}catch(ht){Jn(C,C.return,ht)}}_&&ue&64&&Ny(j),jc(j,j.return);break;case 26:case 27:case 5:Ql(k,j,_),_&&C===null&&ue&4&&Xu(j),jc(j,j.return);break;case 12:Ql(k,j,_);break;case 13:Ql(k,j,_),_&&ue&4&&Zl(k,j);break;case 22:j.memoizedState===null&&Ql(k,j,_),jc(j,j.return);break;default:Ql(k,j,_)}d=d.sibling}}function Dm(u,d){var _=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==_&&(u!=null&&u.refCount++,_!=null&&ju(_))}function Zh(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&ju(u))}function ol(u,d,_,C){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Jh(u,d,_,C),d=d.sibling}function Jh(u,d,_,C){var k=d.flags;switch(d.tag){case 0:case 11:case 15:ol(u,d,_,C),k&2048&&dd(9,d);break;case 3:ol(u,d,_,C),k&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&ju(u)));break;case 12:if(k&2048){ol(u,d,_,C),u=d.stateNode;try{var j=d.memoizedProps,ue=j.id,_e=j.onPostCommit;typeof _e=="function"&&_e(ue,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ue){Jn(d,d.return,Ue)}}else ol(u,d,_,C);break;case 23:break;case 22:j=d.stateNode,d.memoizedState!==null?j._visibility&4?ol(u,d,_,C):ec(u,d):j._visibility&4?ol(u,d,_,C):(j._visibility|=4,dr(u,d,_,C,(d.subtreeFlags&10256)!==0)),k&2048&&Dm(d.alternate,d);break;case 24:ol(u,d,_,C),k&2048&&Zh(d.alternate,d);break;default:ol(u,d,_,C)}}function dr(u,d,_,C,k){for(k=k&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var j=u,ue=d,_e=_,Ue=C,ht=ue.flags;switch(ue.tag){case 0:case 11:case 15:dr(j,ue,_e,Ue,k),dd(8,ue);break;case 23:break;case 22:var Tt=ue.stateNode;ue.memoizedState!==null?Tt._visibility&4?dr(j,ue,_e,Ue,k):ec(j,ue):(Tt._visibility|=4,dr(j,ue,_e,Ue,k)),k&&ht&2048&&Dm(ue.alternate,ue);break;case 24:dr(j,ue,_e,Ue,k),k&&ht&2048&&Zh(ue.alternate,ue);break;default:dr(j,ue,_e,Ue,k)}d=d.sibling}}function ec(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var _=u,C=d,k=C.flags;switch(C.tag){case 22:ec(_,C),k&2048&&Dm(C.alternate,C);break;case 24:ec(_,C),k&2048&&Zh(C.alternate,C);break;default:ec(_,C)}d=d.sibling}}function Wa(u){if(u.subtreeFlags&ru)for(u=u.child;u!==null;)Gc(u),u=u.sibling}function Gc(u){switch(u.tag){case 26:Wa(u),u.flags&ru&&(u.memoizedState!==null?vg(Rr,u.memoizedState,u.memoizedProps):fa(u.type,u.memoizedProps));break;case 5:Wa(u),u.flags&ru&&fa(u.type,u.memoizedProps);break;case 3:case 4:if(gs){var d=Rr;Rr=bp(u.stateNode.containerInfo),Wa(u),Rr=d}else Wa(u);break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=ru,ru=16777216,Wa(u),ru=d):Wa(u));break;default:Wa(u)}}function Qh(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function tc(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var C=d[_];ga=C,nc(C,u)}Qh(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)pd(u),u=u.sibling}function pd(u){switch(u.tag){case 0:case 11:case 15:tc(u),u.flags&2048&&Kl(9,u,u.return);break;case 3:tc(u);break;case 12:tc(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,Qu(u)):tc(u);break;default:tc(u)}}function Qu(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var C=d[_];ga=C,nc(C,u)}Qh(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:Kl(8,d,d.return),Qu(d);break;case 22:_=d.stateNode,_._visibility&4&&(_._visibility&=-5,Qu(d));break;default:Qu(d)}u=u.sibling}}function nc(u,d){for(;ga!==null;){var _=ga;switch(_.tag){case 0:case 11:case 15:Kl(8,_,d);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var C=_.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:ju(_.memoizedState.cache)}if(C=_.child,C!==null)C.return=_,ga=C;else e:for(_=u;ga!==null;){C=ga;var k=C.sibling,j=C.return;if(Ku(C),C===_){ga=null;break e}if(k!==null){k.return=j,ga=k;break e}ga=j}}}function ep(u){var d=$m(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(a(364));return d}if(u=Qc(u),u===null)throw Error(a(362));return u.stateNode.current}function ef(u,d){var _=u.tag;switch(d.$$typeof){case Hd:if(u.type===d.value)return!0;break;case zp:e:{for(d=d.value,u=[u,0],_=0;_<u.length;){var C=u[_++],k=C.tag,j=u[_++],ue=d[j];if(k!==5&&k!==26&&k!==27||!Bo(C)){for(;ue!=null&&ef(C,ue);)j++,ue=d[j];if(j===d.length){d=!0;break e}else for(C=C.child;C!==null;)u.push(C,j),C=C.sibling}}d=!1}return d;case Np:if((_===5||_===26||_===27)&&P2(u.stateNode,d.value))return!0;break;case Si:if((_===5||_===6||_===26||_===27)&&(u=wd(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case ri:if((_===5||_===26||_===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ic(u){switch(u.$$typeof){case Hd:return"<"+(o(u.value)||"Unknown")+">";case zp:return":has("+(ic(u)||"")+")";case Np:return'[role="'+u.value+'"]';case Si:return'"'+u.value+'"';case ri:return'[data-testname="'+u.value+'"]';default:throw Error(a(365))}}function Iy(u,d){var _=[];u=[u,0];for(var C=0;C<u.length;){var k=u[C++],j=k.tag,ue=u[C++],_e=d[ue];if(j!==5&&j!==26&&j!==27||!Bo(k)){for(;_e!=null&&ef(k,_e);)ue++,_e=d[ue];if(ue===d.length)_.push(k);else for(k=k.child;k!==null;)u.push(k,ue),k=k.sibling}}return _}function wr(u,d){if(!Uo)throw Error(a(363));u=ep(u),u=Iy(u,d),d=[],u=Array.from(u);for(var _=0;_<u.length;){var C=u[_++],k=C.tag;if(k===5||k===26||k===27)Bo(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)u.push(C),C=C.sibling}return d}function Er(){if((cn&2)!==0&&Bn!==0)return Bn&-Bn;if(hn.T!==null){var u=Gr;return u!==0?u:Ne()}return Vs()}function Oo(){Xr===0&&(Xr=(Bn&536870912)===0||li?B():536870912);var u=Ms.current;return u!==null&&(u.flags|=32),Xr}function hr(u,d,_){(u===jn&&Di===2||u.cancelPendingCommit!==null)&&(so(u,0),ro(u,Bn,Xr,!1)),V(u,_),((cn&2)===0||u!==jn)&&(u===jn&&((cn&2)===0&&(po|=_),si===4&&ro(u,Bn,Xr,!1)),ke(u))}function md(u,d,_){if((cn&6)!==0)throw Error(a(327));var C=!_&&(d&60)===0&&(d&u.expiredLanes)===0||O(u,d),k=C?Do(u,d):zo(u,d,!0),j=C;do{if(k===0){As&&!C&&ro(u,d,0,!1);break}else if(k===6)ro(u,d,0,!Mi);else{if(_=u.current.alternate,j&&!Py(_)){k=zo(u,d,!1),j=!1;continue}if(k===2){if(j=d,u.errorRecoveryDisabledLanes&j)var ue=0;else ue=u.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){d=ue;e:{var _e=u;k=xf;var Ue=Tr&&_e.current.memoizedState.isDehydrated;if(Ue&&(so(_e,ue).flags|=256),ue=zo(_e,ue,!1),ue!==2){if(Ml&&!Ue){_e.errorRecoveryDisabledLanes|=j,po|=j,k=4;break e}j=Es,Es=k,j!==null&&ll(j)}k=ue}if(j=!1,k!==2)continue}}if(k===1){so(u,0),ro(u,d,0,!0);break}e:{switch(C=u,k){case 0:case 1:throw Error(a(345));case 4:if((d&4194176)===d){ro(C,d,Xr,!Mi);break e}break;case 2:Es=null;break;case 3:case 5:break;default:throw Error(a(329))}if(C.finishedWork=_,C.finishedLanes=d,(d&62914560)===d&&(j=jo+300-rr(),10<j)){if(ro(C,d,Xr,!Mi),z(C,0)!==0)break e;C.timeoutHandle=qm(tp.bind(null,C,_,Es,mo,vf,d,Xr,po,Al,Mi,2,-0,0),j);break e}tp(C,_,Es,mo,vf,d,Xr,po,Al,Mi,0,-0,0)}}break}while(!0);ke(u)}function ll(u){Es===null?Es=u:Es.push.apply(Es,u)}function tp(u,d,_,C,k,j,ue,_e,Ue,ht,Tt,It,Vt){var Sn=d.subtreeFlags;if((Sn&8192||(Sn&16785408)===16785408)&&(ms(),Gc(d),d=up(),d!==null)){u.cancelPendingCommit=d(Hi.bind(null,u,_,C,k,ue,_e,Ue,1,It,Vt)),ro(u,j,ue,!ht);return}Hi(u,_,C,k,ue,_e,Ue,Tt,It,Vt)}function Py(u){for(var d=u;;){var _=d.tag;if((_===0||_===11||_===15)&&d.flags&16384&&(_=d.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var C=0;C<_.length;C++){var k=_[C],j=k.getSnapshot;k=k.value;try{if(!ys(j(),k))return!1}catch{return!1}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ro(u,d,_,C){d&=~vr,d&=~po,u.suspendedLanes|=d,u.pingedLanes&=~d,C&&(u.warmLanes|=d),C=u.expirationTimes;for(var k=d;0<k;){var j=31-Hr(k),ue=1<<j;C[j]=-1,k&=~ue}_!==0&&G(u,_,d)}function Lm(){return(cn&6)===0?(Ke(0),!1):!0}function kr(){if(wn!==null){if(Di===0)var u=wn.return;else u=wn,ma=xc=null,Ii(u),Fo=null,Gs=0,u=wn;for(;u!==null;)Rm(u.alternate,u),u=u.return;wn=null}}function so(u,d){u.finishedWork=null,u.finishedLanes=0;var _=u.timeoutHandle;_!==Jc&&(u.timeoutHandle=Jc,Ad(_)),_=u.cancelPendingCommit,_!==null&&(u.cancelPendingCommit=null,_()),kr(),jn=u,wn=_=pr(u.current,null),Bn=d,Di=0,Sa=null,Mi=!1,As=O(u,d),Ml=!1,Al=Xr=vr=po=ws=si=0,Es=xf=null,vf=!1,(d&8)!==0&&(d|=d&32);var C=u.entangledLanes;if(C!==0)for(u=u.entanglements,C&=d;0<C;){var k=31-Hr(C),j=1<<k;d|=u[k],C&=~j}return ho=d,Ee(),_}function Wc(u,d){On=null,hn.H=ci,d===Ci?(d=Ot(),Di=3):d===Mg?(d=Ot(),Di=4):Di=d===mx?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Sa=d,wn===null&&(si=1,Fh(u,W(d,u.current)))}function gd(){var u=Ms.current;return u===null?!0:(Bn&4194176)===Bn?Ws===null:(Bn&62914560)===Bn||(Bn&536870912)!==0?u===Ws:!1}function tf(){var u=hn.H;return hn.H=ci,u===null?ci:u}function hs(){var u=hn.A;return hn.A=Op,u}function Fr(){si=4,Mi||(Bn&4194176)!==Bn&&Ms.current!==null||(As=!0),(ws&134217727)===0&&(po&134217727)===0||jn===null||ro(jn,Bn,Xr,!1)}function zo(u,d,_){var C=cn;cn|=2;var k=tf(),j=hs();(jn!==u||Bn!==d)&&(mo=null,so(u,d)),d=!1;var ue=si;e:do try{if(Di!==0&&wn!==null){var _e=wn,Ue=Sa;switch(Di){case 8:kr(),ue=6;break e;case 3:case 2:case 6:Ms.current===null&&(d=!0);var ht=Di;if(Di=0,Sa=null,ac(u,_e,Ue,ht),_&&As){ue=0;break e}break;default:ht=Di,Di=0,Sa=null,ac(u,_e,Ue,ht)}}No(),ue=si;break}catch(Tt){Wc(u,Tt)}while(!0);return d&&u.shellSuspendCounter++,ma=xc=null,cn=C,hn.H=k,hn.A=j,wn===null&&(jn=null,Bn=0,Ee()),ue}function No(){for(;wn!==null;)Im(wn)}function Do(u,d){var _=cn;cn|=2;var C=tf(),k=hs();jn!==u||Bn!==d?(mo=null,sa=rr()+500,so(u,d)):As=O(u,d);e:do try{if(Di!==0&&wn!==null){d=wn;var j=Sa;t:switch(Di){case 1:Di=0,Sa=null,ac(u,d,j,1);break;case 2:if(bt(j)){Di=0,Sa=null,np(d);break}d=function(){Di===2&&jn===u&&(Di=7),ke(u)},j.then(d,d);break e;case 3:Di=7;break e;case 4:Di=5;break e;case 7:bt(j)?(Di=0,Sa=null,np(d)):(Di=0,Sa=null,ac(u,d,j,7));break;case 5:var ue=null;switch(wn.tag){case 26:ue=wn.memoizedState;case 5:case 27:var _e=wn,Ue=_e.type,ht=_e.pendingProps;if(ue?xg(ue):gl(Ue,ht)){Di=0,Sa=null;var Tt=_e.sibling;if(Tt!==null)wn=Tt;else{var It=_e.return;It!==null?(wn=It,yd(It)):wn=null}break t}}Di=0,Sa=null,ac(u,d,j,5);break;case 6:Di=0,Sa=null,ac(u,d,j,6);break;case 8:kr(),si=6;break e;default:throw Error(a(462))}}cl();break}catch(Vt){Wc(u,Vt)}while(!0);return ma=xc=null,hn.H=C,hn.A=k,cn=_,wn!==null?0:(jn=null,Bn=0,Ee(),si)}function cl(){for(;wn!==null&&!ux();)Im(wn)}function Im(u){var d=Cy(u.alternate,u,ho);u.memoizedProps=u.pendingProps,d===null?yd(u):wn=d}function np(u){var d=u,_=d.alternate;switch(d.tag){case 15:case 0:d=My(_,d,d.pendingProps,d.type,void 0,Bn);break;case 11:d=My(_,d,d.pendingProps,d.type.render,d.ref,Bn);break;case 5:Ii(d);default:Rm(_,d),d=wn=dl(d,ho),d=Cy(_,d,ho)}u.memoizedProps=u.pendingProps,d===null?yd(u):wn=d}function ac(u,d,_,C){ma=xc=null,Ii(d),Fo=null,Gs=0;var k=d.return;try{if(xy(u,k,d,_,Bn)){si=1,Fh(u,W(_,u.current)),wn=null;return}}catch(j){if(k!==null)throw wn=k,j;si=1,Fh(u,W(_,u.current)),wn=null;return}d.flags&32768?(li||C===1?u=!0:As||(Bn&536870912)!==0?u=!1:(Mi=u=!0,(C===2||C===3||C===6)&&(C=Ms.current,C!==null&&C.tag===13&&(C.flags|=16384))),Ya(d,u)):yd(d)}function yd(u){var d=u;do{if((d.flags&32768)!==0){Ya(d,Mi);return}u=d.return;var _=Oy(d.alternate,d,ho);if(_!==null){wn=_;return}if(d=d.sibling,d!==null){wn=d;return}wn=d=u}while(d!==null);si===0&&(si=5)}function Ya(u,d){do{var _=zy(u.alternate,u);if(_!==null){_.flags&=32767,wn=_;return}if(_=u.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!d&&(u=u.sibling,u!==null)){wn=u;return}wn=u=_}while(u!==null);si=6,wn=null}function Hi(u,d,_,C,k,j,ue,_e,Ue,ht){var Tt=hn.T,It=Pa();try{mr(2),hn.T=null,ni(u,d,_,C,It,k,j,ue,_e,Ue,ht)}finally{hn.T=Tt,mr(It)}}function ni(u,d,_,C,k,j,ue,_e){do Xa();while(wl!==null);if((cn&6)!==0)throw Error(a(327));var Ue=u.finishedWork;if(C=u.finishedLanes,Ue===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ue===u.current)throw Error(a(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var ht=Ue.lanes|Ue.childLanes;if(ht|=hf,U(u,C,ht,j,ue,_e),u===jn&&(wn=jn=null,Bn=0),(Ue.subtreeFlags&10256)===0&&(Ue.flags&10256)===0||Xs||(Xs=!0,Dp=ht,ou=_,xd(Sp,function(){return Xa(),null})),_=(Ue.flags&15990)!==0,(Ue.subtreeFlags&15990)!==0||_?(_=hn.T,hn.T=null,j=Pa(),mr(2),ue=cn,cn|=4,$u(u,Ue),Jl(Ue,u),Ym(u.containerInfo),u.current=Ue,$h(u,Ue.alternate,Ue),fx(),cn=ue,mr(j),hn.T=_):u.current=Ue,Xs?(Xs=!1,wl=u,su=C):ul(u,ht),ht=u.pendingLanes,ht===0&&(Ts=null),H(Ue.stateNode),ke(u),d!==null)for(k=u.onRecoverableError,Ue=0;Ue<d.length;Ue++)ht=d[Ue],k(ht.value,{componentStack:ht.stack});return(su&3)!==0&&Xa(),ht=u.pendingLanes,(C&4194218)!==0&&(ht&42)!==0?u===Or?lu++:(lu=0,Or=u):lu=0,Ke(0),null}function ul(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,ju(d)))}function Xa(){if(wl!==null){var u=wl,d=Dp;Dp=0;var _=$(su),C=32>_?32:_;_=hn.T;var k=Pa();try{if(mr(C),hn.T=null,wl===null)var j=!1;else{C=ou,ou=null;var ue=wl,_e=su;if(wl=null,su=0,(cn&6)!==0)throw Error(a(331));var Ue=cn;if(cn|=4,pd(ue.current),Jh(ue,ue.current,_e,C),cn=Ue,Ke(0,!1),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(ff,ue)}catch{}j=!0}return j}finally{mr(k),hn.T=_,ul(u,d)}}return!1}function ip(u,d,_){d=W(_,d),d=sd(u.stateNode,d,2),u=Ze(u,d,2),u!==null&&(V(u,2),ke(u))}function Jn(u,d,_){if(u.tag===3)ip(u,u,_);else for(;d!==null;){if(d.tag===3){ip(d,u,_);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Ts===null||!Ts.has(C))){u=W(_,u),_=Hu(2),C=Ze(d,_,2),C!==null&&(od(_,C,d,u),V(C,2),ke(C));break}}d=d.return}}function ap(u,d,_){var C=u.pingCache;if(C===null){C=u.pingCache=new Qn;var k=new Set;C.set(d,k)}else k=C.get(d),k===void 0&&(k=new Set,C.set(d,k));k.has(_)||(Ml=!0,k.add(_),u=Uy.bind(null,u,d,_),d.then(u,u))}function Uy(u,d,_){var C=u.pingCache;C!==null&&C.delete(d),u.pingedLanes|=u.suspendedLanes&_,u.warmLanes&=~_,jn===u&&(Bn&_)===_&&(si===4||si===3&&(Bn&62914560)===Bn&&300>rr()-jo?(cn&2)===0&&so(u,0):vr|=_,Al===Bn&&(Al=0)),ke(u)}function Yc(u,d){d===0&&(d=L()),u=Ae(u,d),u!==null&&(V(u,d),ke(u))}function Xc(u){var d=u.memoizedState,_=0;d!==null&&(_=d.retryLane),Yc(u,_)}function Pm(u,d){var _=0;switch(u.tag){case 13:var C=u.stateNode,k=u.memoizedState;k!==null&&(_=k.retryLane);break;case 19:C=u.stateNode;break;case 22:C=u.stateNode._retryCache;break;default:throw Error(a(314))}C!==null&&C.delete(d),Yc(u,_)}function xd(u,d){return uf(u,d)}function Um(u,d,_,C){this.tag=u,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fl(u){return u=u.prototype,!(!u||!u.isReactComponent)}function pr(u,d){var _=u.alternate;return _===null?(_=t(u.tag,d,u.key,u.mode),_.elementType=u.elementType,_.type=u.type,_.stateNode=u.stateNode,_.alternate=u,u.alternate=_):(_.pendingProps=d,_.type=u.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=u.flags&31457280,_.childLanes=u.childLanes,_.lanes=u.lanes,_.child=u.child,_.memoizedProps=u.memoizedProps,_.memoizedState=u.memoizedState,_.updateQueue=u.updateQueue,d=u.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=u.sibling,_.index=u.index,_.ref=u.ref,_.refCleanup=u.refCleanup,_}function dl(u,d){u.flags&=31457282;var _=u.alternate;return _===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=_.childLanes,u.lanes=_.lanes,u.child=_.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=_.memoizedProps,u.memoizedState=_.memoizedState,u.updateQueue=_.updateQueue,u.type=_.type,d=_.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function Fs(u,d,_,C,k,j){var ue=0;if(C=u,typeof u=="function")fl(u)&&(ue=1);else if(typeof u=="string")ue=gs&&ar?fg(u,_,$a.current)?26:lf(u)?27:5:gs?fg(u,_,$a.current)?26:5:ar&&lf(u)?27:5;else e:switch(u){case af:return hl(_.children,k,j,d);case Hm:ue=8,k|=24;break;case jm:return u=t(12,_,d,k|2),u.elementType=jm,u.lanes=j,u;case sp:return u=t(13,_,d,k),u.elementType=sp,u.lanes=j,u;case oc:return u=t(19,_,d,k),u.elementType=oc,u.lanes=j,u;case _d:return rp(_,k,j,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Fy:case Lo:ue=10;break e;case sc:ue=9;break e;case rf:ue=11;break e;case bd:ue=14;break e;case lo:ue=16,C=null;break e}ue=29,_=Error(a(130,u===null?"null":typeof u,"")),C=null}return d=t(ue,_,d,k),d.elementType=u,d.type=C,d.lanes=j,d}function hl(u,d,_,C){return u=t(7,u,C,d),u.lanes=_,u}function rp(u,d,_,C){u=t(22,u,C,d),u.elementType=_d,u.lanes=_;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)===0){var ue=Ae(j,2);ue!==null&&(k._pendingVisibility|=2,hr(ue,j,2))}},attach:function(){var j=k._current;if(j===null)throw Error(a(456));if((k._pendingVisibility&2)!==0){var ue=Ae(j,2);ue!==null&&(k._pendingVisibility&=-3,hr(ue,j,2))}}};return u.stateNode=k,u}function rc(u,d,_){return u=t(6,u,null,d),u.lanes=_,u}function nf(u,d,_){return d=t(4,u.children!==null?u.children:[],u.key,d),d.lanes=_,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function qc(u,d,_,C,k,j,ue,_e){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Jc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=C,this.onUncaughtError=k,this.onCaughtError=j,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function qa(u,d,_,C,k,j,ue,_e,Ue,ht,Tt,It){return u=new qc(u,d,_,ue,_e,Ue,ht,It),d=1,j===!0&&(d|=24),j=t(3,null,null,d),u.current=j,j.stateNode=u,d=Gh(),d.refCount++,u.pooledCache=d,d.refCount++,j.memoizedState={element:C,isDehydrated:_,cache:d},dt(j),u}function vd(u){return u?(u=eu,u):eu}function Bm(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(a(188)):(u=Object.keys(u).join(","),Error(a(268,u)));return u=y(d),u=u!==null?b(u):null,u===null?null:sf(u.stateNode)}function By(u,d,_,C,k,j){k=vd(k),C.context===null?C.context=k:C.pendingContext=k,C=je(d),C.payload={element:_},j=j===void 0?null:j,j!==null&&(C.callback=j),_=Ze(u,C,d),_!==null&&(hr(_,u,d),Dt(_,u,d))}function ky(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var _=u.retryLane;u.retryLane=_!==0&&_<d?_:d}}function km(u,d){ky(u,d),(u=u.alternate)&&ky(u,d)}var ln={},Fm=im(),nr=o9(),$c=Object.assign,Vm=Symbol.for("react.element"),pl=Symbol.for("react.transitional.element"),oo=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),Fy=Symbol.for("react.provider"),sc=Symbol.for("react.consumer"),Lo=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),oc=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),_d=Symbol.for("react.offscreen"),Vy=Symbol.for("react.memo_cache_sentinel"),Gm=Symbol.iterator,Kc=Symbol.for("react.client.reference"),hn=Fm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,op,Wm,lc=!1,cc=Array.isArray,lp=e.rendererVersion,Sd=e.rendererPackageName,Md=e.extraDevToolsConfig,sf=e.getPublicInstance,Zc=e.getRootHostContext,Hy=e.getChildHostContext,uc=e.prepareForCommit,Ym=e.resetAfterCommit,Xm=e.createInstance,Io=e.appendInitialChild,ml=e.finalizeInitialChildren,fc=e.shouldSetTextContent,cp=e.createTextInstance,qm=e.scheduleTimeout,Ad=e.cancelTimeout,Jc=e.noTimeout,Po=e.isPrimaryRenderer;e.warnsIfNotActing;var ir=e.supportsMutation,ps=e.supportsPersistence,Tr=e.supportsHydration,$m=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Km=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var mr=e.setCurrentUpdatePriority,Pa=e.getCurrentUpdatePriority,Vs=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var dc=e.shouldAttemptEagerTransition,Zm=e.detachDeletedInstance;e.requestPostPaintCallback;var jy=e.maySuspendCommit,gl=e.preloadInstance,ms=e.startSuspendingCommit,fa=e.suspendInstance,up=e.waitForCommitToBeReady,Vr=e.NotPendingTransition,gn=e.HostTransitionContext,Ni=e.resetFormInstance;e.bindToConsole;var Ta=e.supportsMicrotasks,fp=e.scheduleMicrotask,Uo=e.supportsTestSelectors,Qc=e.findFiberRoot,dp=e.getBoundingRect,wd=e.getTextContent,Bo=e.isHiddenSubtree,P2=e.matchAccessibilityRole,da=e.setFocusIfFocusable,Jm=e.setupIntersectionObserver,Qm=e.appendChild,Gy=e.appendChildToContainer,Wy=e.commitTextUpdate,U2=e.commitMount,eg=e.commitUpdate,tg=e.insertBefore,ng=e.insertInContainerBefore,Cr=e.removeChild,xa=e.removeChildFromContainer,Ed=e.resetTextContent,Td=e.hideInstance,hp=e.hideTextInstance,ig=e.unhideInstance,yl=e.unhideTextInstance,pp=e.clearContainer,ag=e.cloneInstance,mp=e.createContainerChildSet,rg=e.appendChildToContainerChildSet,Yy=e.finalizeContainerChildren,sg=e.replaceContainerChildren,og=e.cloneHiddenInstance,lg=e.cloneHiddenTextInstance,gp=e.isSuspenseInstancePending,Cd=e.isSuspenseInstanceFallback,Xy=e.getSuspenseInstanceFallbackErrorDetails,B2=e.registerSuspenseInstanceRetry,qy=e.canHydrateFormStateMarker,$y=e.isFormStateMarkerMatching,cg=e.getNextHydratableSibling,yp=e.getFirstHydratableChild,Ky=e.getFirstHydratableChildWithinContainer,Zy=e.getFirstHydratableChildWithinSuspenseInstance,Jy=e.canHydrateInstance,Qy=e.canHydrateTextInstance,ex=e.canHydrateSuspenseInstance,k2=e.hydrateInstance,tx=e.hydrateTextInstance,of=e.hydrateSuspenseInstance,nx=e.getNextHydratableInstanceAfterSuspenseInstance,xp=e.commitHydratedContainer,vp=e.commitHydratedSuspenseInstance,ix=e.clearSuspenseBoundary,ug=e.clearSuspenseBoundaryFromContainer,ax=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var rx=e.validateHydratableInstance,sx=e.validateHydratableTextInstance,gs=e.supportsResources,fg=e.isHostHoistableType,bp=e.getHoistableRoot,_p=e.getResource,dg=e.acquireResource,hg=e.releaseResource,pg=e.hydrateHoistable,mg=e.mountHoistable,gg=e.unmountHoistable,F2=e.createHoistableInstance,yg=e.prepareToCommitHoistables,ox=e.mayResourceSuspendCommit,xg=e.preloadResource,vg=e.suspendResource,ar=e.supportsSingletons,bg=e.resolveSingletonInstance,V2=e.clearSingleton,H2=e.acquireSingletonInstance,lx=e.releaseSingletonInstance,lf=e.isHostSingletonType,Rd=[],xl=-1,eu={},Hr=Math.clz32?Math.clz32:w,Od=Math.log,cx=Math.LN2,cf=128,zd=4194304,uf=nr.unstable_scheduleCallback,Nd=nr.unstable_cancelCallback,ux=nr.unstable_shouldYield,fx=nr.unstable_requestPaint,rr=nr.unstable_now,_g=nr.unstable_ImmediatePriority,dx=nr.unstable_UserBlockingPriority,Sp=nr.unstable_NormalPriority,Mp=nr.unstable_IdlePriority,hx=nr.log,Sg=nr.unstable_setDisableYieldValue,ff=null,jr=null,ys=typeof Object.is=="function"?Object.is:Q,Ap=new WeakMap,Ji=[],ha=0,Dd=null,Ld=0,xs=[],vs=0,co=null,ko=1,Hs="",$a=A(null),Id=A(null),uo=A(null),df=A(null),gr=null,sr=null,li=!1,bs=null,js=!1,Pd=Error(a(519)),_s=[],hc=0,hf=0,pf=null,tu=null,Ud=!1,Bd=!1,fo=!1,pc=0,kd=null,wp=0,Gr=0,mc=null,vl=!1,mf=!1,Fd=Object.prototype.hasOwnProperty,Ci=Error(a(460)),Mg=Error(a(474)),Ep={then:function(){}},nu=null,Fo=null,Gs=0,gc=Yt(!0),Ag=Yt(!1),Vo=A(null),Ss=A(0),Ms=A(null),Ws=null,Ca=A(0),Ho=0,On=null,gi=null,va=null,Ys=!1,Qi=!1,bl=!1,Vd=0,pa=0,gf=null,px=0,Tp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ci={readContext:tr,use:$e,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n};ci.useCacheRefresh=_n,ci.useMemoCache=_n,ci.useHostTransitionStatus=_n,ci.useFormState=_n,ci.useActionState=_n,ci.useOptimistic=_n;var Ra={readContext:tr,use:$e,useCallback:function(u,d){return Pi().memoizedState=[u,d===void 0?null:d],u},useContext:tr,useEffect:ee,useImperativeHandle:function(u,d,_){_=_!=null?_.concat([u]):null,Zt(4194308,4,me.bind(null,d,u),_)},useLayoutEffect:function(u,d){return Zt(4194308,4,u,d)},useInsertionEffect:function(u,d){Zt(4,2,u,d)},useMemo:function(u,d){var _=Pi();d=d===void 0?null:d;var C=u();if(bl){K(!0);try{u()}finally{K(!1)}}return _.memoizedState=[C,d],C},useReducer:function(u,d,_){var C=Pi();if(_!==void 0){var k=_(d);if(bl){K(!0);try{_(d)}finally{K(!1)}}}else k=d;return C.memoizedState=C.baseState=k,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:k},C.queue=u,u=u.dispatch=Hn.bind(null,On,u),[C.memoizedState,u]},useRef:function(u){var d=Pi();return u={current:u},d.memoizedState=u},useState:function(u){u=Zn(u);var d=u.queue,_=Yn.bind(null,On,d);return d.dispatch=_,[u.memoizedState,_]},useDebugValue:st,useDeferredValue:function(u,d){var _=Pi();return Nt(_,u,d)},useTransition:function(){var u=Zn(!1);return u=St.bind(null,On,u.queue,!0,!1),Pi().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,_){var C=On,k=Pi();if(li){if(_===void 0)throw Error(a(407));_=_()}else{if(_=d(),jn===null)throw Error(a(349));(Bn&60)!==0||sn(C,d,_)}k.memoizedState=_;var j={value:_,getSnapshot:d};return k.queue=j,ee(Xt.bind(null,C,j,u),[u]),C.flags|=2048,$i(9,un.bind(null,C,j,_,d),{destroy:void 0},null),_},useId:function(){var u=Pi(),d=jn.identifierPrefix;if(li){var _=Hs,C=ko;_=(C&~(1<<32-Hr(C)-1)).toString(32)+_,d=":"+d+"R"+_,_=Vd++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=px++,d=":"+d+"r"+_.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return Pi().memoizedState=Ti.bind(null,On)}};Ra.useMemoCache=We,Ra.useHostTransitionStatus=Ft,Ra.useFormState=cs,Ra.useActionState=cs,Ra.useOptimistic=function(u){var d=Pi();d.memoizedState=d.baseState=u;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=_,d=Ur.bind(null,On,!0,_),_.dispatch=d,[u,d]};var yr={readContext:tr,use:$e,useCallback:kt,useContext:tr,useEffect:J,useImperativeHandle:Je,useInsertionEffect:he,useLayoutEffect:le,useMemo:Rt,useReducer:wt,useRef:us,useState:function(){return wt(Le)},useDebugValue:st,useDeferredValue:function(u,d){var _=ae();return Jt(_,gi.memoizedState,u,d)},useTransition:function(){var u=wt(Le)[0],d=ae().memoizedState;return[typeof u=="boolean"?u:Ce(u),d]},useSyncExternalStore:jt,useId:$t};yr.useCacheRefresh=Qt,yr.useMemoCache=We,yr.useHostTransitionStatus=Ft,yr.useFormState=bi,yr.useActionState=bi,yr.useOptimistic=function(u,d){var _=ae();return Pn(_,gi,u,d)};var yc={readContext:tr,use:$e,useCallback:kt,useContext:tr,useEffect:J,useImperativeHandle:Je,useInsertionEffect:he,useLayoutEffect:le,useMemo:Rt,useReducer:Bt,useRef:us,useState:function(){return Bt(Le)},useDebugValue:st,useDeferredValue:function(u,d){var _=ae();return gi===null?Nt(_,u,d):Jt(_,gi.memoizedState,u,d)},useTransition:function(){var u=Bt(Le)[0],d=ae().memoizedState;return[typeof u=="boolean"?u:Ce(u),d]},useSyncExternalStore:jt,useId:$t};yc.useCacheRefresh=Qt,yc.useMemoCache=We,yc.useHostTransitionStatus=Ft,yc.useFormState=ta,yc.useActionState=ta,yc.useOptimistic=function(u,d){var _=ae();return gi!==null?Pn(_,gi,u,d):(_.baseState=u,[u,_.queue.dispatch])};var Cp={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,d,_){u=u._reactInternals;var C=Er(),k=je(C);k.payload=d,_!=null&&(k.callback=_),d=Ze(u,k,C),d!==null&&(hr(d,u,C),Dt(d,u,C))},enqueueReplaceState:function(u,d,_){u=u._reactInternals;var C=Er(),k=je(C);k.tag=1,k.payload=d,_!=null&&(k.callback=_),d=Ze(u,k,C),d!==null&&(hr(d,u,C),Dt(d,u,C))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var _=Er(),C=je(_);C.tag=2,d!=null&&(C.callback=d),d=Ze(u,C,_),d!==null&&(hr(d,u,_),Dt(d,u,_))}},wg=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},mx=Error(a(461)),ba=!1,xr={dehydrated:null,treeContext:null,retryLane:0},Wr=A(null),xc=null,ma=null,gx=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(_,C){u.push(C)}};this.abort=function(){d.aborted=!0,u.forEach(function(_){return _()})}},_l=nr.unstable_scheduleCallback,iu=nr.unstable_NormalPriority,_i={$$typeof:Lo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Rp=hn.S;hn.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Te(u,d),Rp!==null&&Rp(u,d)};var Sl=A(null),Ua=!1,ra=!1,vc=!1,yf=typeof WeakSet=="function"?WeakSet:Set,ga=null,au=!1,_a=null,Yr=!1,Rr=null,ru=8192,Op={getCacheForType:function(u){var d=tr(_i),_=d.data.get(u);return _===void 0&&(_=u(),d.data.set(u,_)),_}},Hd=0,zp=1,Np=2,ri=3,Si=4;if(typeof Symbol=="function"&&Symbol.for){var zn=Symbol.for;Hd=zn("selector.component"),zp=zn("selector.has_pseudo_class"),Np=zn("selector.role"),ri=zn("selector.test_id"),Si=zn("selector.text")}var Qn=typeof WeakMap=="function"?WeakMap:Map,cn=0,jn=null,wn=null,Bn=0,Di=0,Sa=null,Mi=!1,As=!1,Ml=!1,ho=0,si=0,ws=0,po=0,vr=0,Xr=0,Al=0,xf=null,Es=null,vf=!1,jo=0,sa=1/0,mo=null,Ts=null,Xs=!1,wl=null,su=0,Dp=0,ou=null,lu=0,Or=null;return ln.attemptContinuousHydration=function(u){if(u.tag===13){var d=Ae(u,67108864);d!==null&&hr(d,u,67108864),km(u,67108864)}},ln.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Er(),_=Ae(u,d);_!==null&&hr(_,u,d),km(u,d)}},ln.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=R(u.pendingLanes);if(d!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;d;){var _=1<<31-Hr(d);u.entanglements[1]|=_,d&=~_}ke(u),(cn&6)===0&&(sa=rr()+500,Ke(0))}}break;case 13:d=Ae(u,2),d!==null&&hr(d,u,2),Lm(),km(u,2)}},ln.batchedUpdates=function(u,d){return u(d)},ln.createComponentSelector=function(u){return{$$typeof:Hd,value:u}},ln.createContainer=function(u,d,_,C,k,j,ue,_e,Ue,ht){return qa(u,d,!1,null,_,C,j,ue,_e,Ue,ht,null)},ln.createHasPseudoClassSelector=function(u){return{$$typeof:zp,value:u}},ln.createHydrationContainer=function(u,d,_,C,k,j,ue,_e,Ue,ht,Tt,It,Vt){return u=qa(_,C,!0,u,k,j,_e,Ue,ht,Tt,It,Vt),u.context=vd(null),_=u.current,C=Er(),k=je(C),k.callback=d!=null?d:null,Ze(_,k,C),u.current.lanes=C,V(u,C),ke(u),u},ln.createPortal=function(u,d,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:C==null?null:""+C,children:u,containerInfo:d,implementation:_}},ln.createRoleSelector=function(u){return{$$typeof:Np,value:u}},ln.createTestNameSelector=function(u){return{$$typeof:ri,value:u}},ln.createTextSelector=function(u){return{$$typeof:Si,value:u}},ln.defaultOnCaughtError=function(u){console.error(u)},ln.defaultOnRecoverableError=function(u){wg(u)},ln.defaultOnUncaughtError=function(u){wg(u)},ln.deferredUpdates=function(u){var d=hn.T,_=Pa();try{return mr(32),hn.T=null,u()}finally{mr(_),hn.T=d}},ln.discreteUpdates=function(u,d,_,C,k){var j=hn.T,ue=Pa();try{return mr(2),hn.T=null,u(d,_,C,k)}finally{mr(ue),hn.T=j,cn===0&&(sa=rr()+500)}},ln.findAllNodes=wr,ln.findBoundingRects=function(u,d){if(!Uo)throw Error(a(363));d=wr(u,d),u=[];for(var _=0;_<d.length;_++)u.push(dp(d[_]));for(d=u.length-1;0<d;d--){_=u[d];for(var C=_.x,k=C+_.width,j=_.y,ue=j+_.height,_e=d-1;0<=_e;_e--)if(d!==_e){var Ue=u[_e],ht=Ue.x,Tt=ht+Ue.width,It=Ue.y,Vt=It+Ue.height;if(C>=ht&&j>=It&&k<=Tt&&ue<=Vt){u.splice(d,1);break}else if(C!==ht||_.width!==Ue.width||Vt<j||It>ue){if(!(j!==It||_.height!==Ue.height||Tt<C||ht>k)){ht>C&&(Ue.width+=ht-C,Ue.x=C),Tt<k&&(Ue.width=k-ht),u.splice(d,1);break}}else{It>j&&(Ue.height+=It-j,Ue.y=j),Vt<ue&&(Ue.height=ue-It),u.splice(d,1);break}}}return u},ln.findHostInstance=Bm,ln.findHostInstanceWithNoPortals=function(u){return u=y(u),u=u!==null?M(u):null,u===null?null:sf(u.stateNode)},ln.findHostInstanceWithWarning=function(u){return Bm(u)},ln.flushPassiveEffects=Xa,ln.flushSyncFromReconciler=function(u){var d=cn;cn|=1;var _=hn.T,C=Pa();try{if(mr(2),hn.T=null,u)return u()}finally{mr(C),hn.T=_,cn=d,(cn&6)===0&&Ke(0)}},ln.flushSyncWork=Lm,ln.focusWithin=function(u,d){if(!Uo)throw Error(a(363));for(u=ep(u),d=Iy(u,d),d=Array.from(d),u=0;u<d.length;){var _=d[u++],C=_.tag;if(!Bo(_)){if((C===5||C===26||C===27)&&da(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},ln.getFindAllNodesFailureDescription=function(u,d){if(!Uo)throw Error(a(363));var _=0,C=[];u=[ep(u),0];for(var k=0;k<u.length;){var j=u[k++],ue=j.tag,_e=u[k++],Ue=d[_e];if((ue!==5&&ue!==26&&ue!==27||!Bo(j))&&(ef(j,Ue)&&(C.push(ic(Ue)),_e++,_e>_&&(_=_e)),_e<d.length))for(j=j.child;j!==null;)u.push(j,_e),j=j.sibling}if(_<d.length){for(u=[];_<d.length;_++)u.push(ic(d[_]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},ln.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return sf(u.child.stateNode);default:return u.child.stateNode}},ln.injectIntoDevTools=function(){var u={bundleType:0,version:lp,rendererPackageName:Sd,currentDispatcherRef:hn,findFiberByHostInstance:$m,reconcilerVersion:"19.0.0"};if(Md!==null&&(u.rendererConfig=Md),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{ff=d.inject(u),jr=d}catch{}u=!!d.checkDCE}}return u},ln.isAlreadyRendering=function(){return!1},ln.observeVisibleRects=function(u,d,_,C){if(!Uo)throw Error(a(363));u=wr(u,d);var k=Jm(u,_,C).disconnect;return{disconnect:function(){k()}}},ln.shouldError=function(){return null},ln.shouldSuspend=function(){return!1},ln.startHostTransition=function(u,d,_,C){if(u.tag!==5)throw Error(a(476));var k=qt(u).queue;St(u,k,d,Vr,_===null?i:function(){var j=qt(u).next.queue;return Rn(u,j,{},Er()),_(C)})},ln.updateContainer=function(u,d,_,C){var k=d.current,j=Er();return By(k,j,u,d,_,C),j},ln.updateContainerSync=function(u,d,_,C){return d.tag===0&&Xa(),By(d.current,2,u,d,_,C),2},ln},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(LS)),LS.exports}var JC;function Wq(){return JC||(JC=1,DS.exports=Gq()),DS.exports}var Yq=Wq();const Xq=Q1(Yq);var QC=o9();function SA(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=SA(i,e,t);if(a)return a;i=e?null:i.sibling}}function l9(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const MA=l9(F.createContext(null));class c9 extends F.Component{render(){return F.createElement(MA.Provider,{value:this._reactInternals},this.props.children)}}function u9(){const n=F.useContext(MA);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=SA(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const qq=Symbol.for("react.context"),$q=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===qq;function Kq(){const n=u9(),[e]=F.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;$q(i)&&i!==MA&&!e.has(i)&&e.set(i,F.use(l9(i))),t=t.return}return e}function Zq(){const n=Kq();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>F.createElement(e,null,F.createElement(t.Provider,{...i,value:n.get(t)})),e=>F.createElement(c9,{...e})),[n])}function f9(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const d9=n=>n&&n.isOrthographicCamera,Jq=n=>n&&n.hasOwnProperty("current"),Qq=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),gy=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?F.useLayoutEffect:F.useEffect;function h9(n){const e=F.useRef(n);return gy(()=>void(e.current=n),[n]),e}function e$(){const n=u9(),e=Zq();return F.useMemo(()=>({children:t})=>{const a=!!SA(n,!0,r=>r.type===F.StrictMode)?F.StrictMode:F.Fragment;return I.jsx(a,{children:I.jsx(e,{children:t})})},[n,e])}function t$({set:n}){return gy(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const n$=(n=>(n=class extends F.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function p9(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function g0(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ma={obj:n=>n===Object(n)&&!Ma.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ma.str(n)||Ma.num(n)||Ma.boo(n))return n===e;const r=Ma.obj(n);if(r&&i==="reference")return n===e;const o=Ma.arr(n);if(o&&t==="reference")return n===e;if((o||r)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(c in a?e:n)if(!Ma.equ(n[c],e[c],{strict:a,objects:"reference"}))return!1}else for(c in a?e:n)if(n[c]!==e[c])return!1;if(Ma.und(c)){if(o&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function i$(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const m9=["children","key","ref"];function a$(n){const e={};for(const t in n)m9.includes(t)||(e[t]=n[t]);return e}function h_(n,e,t,i){const a=n;let r=a==null?void 0:a.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:a$(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function Z1(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const e4=/-\d+$/;function p_(n,e){if(Ma.str(e.props.attach)){if(e4.test(e.props.attach)){const a=e.props.attach.replace(e4,""),{root:r,key:o}=Z1(n.object,a);Array.isArray(r[o])||(r[o]=[])}const{root:t,key:i}=Z1(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ma.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function m_(n,e){if(Ma.str(e.props.attach)){const{root:t,key:i}=Z1(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const P5=[...m9,"args","dispose","attach","object","onUpdate","dispose"],t4=new Map;function r$(n){let e=t4.get(n.constructor);try{e||(e=new n.constructor,t4.set(n.constructor,e))}catch{}return e}function s$(n,e){const t={};for(const i in e)if(!P5.includes(i)&&!Ma.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(P5.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=Z1(n.object,i);if(a.constructor&&a.constructor.length===0){const o=r$(a);Ma.und(o)||(t[r]=o[r])}else t[r]=0}return t}const o$=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],l$=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Bf(n,e){var t;const i=n.__r3f,a=i&&f9(i).getState(),r=i==null?void 0:i.eventCount;for(const c in e){let f=e[c];if(P5.includes(c))continue;if(i&&l$.test(c)){typeof f=="function"?i.handlers[c]=f:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:h,key:m,target:g}=Z1(n,c);if(g===void 0&&(typeof h!="object"||h===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${m}".`);if(g instanceof Z0&&f instanceof Z0)g.mask=f.mask;else if(g instanceof Ct&&Qq(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var o;h[m]=f,a&&!a.linear&&o$.includes(m)&&(o=h[m])!=null&&o.isTexture&&h[m].format===is&&h[m].type===tl&&(h[m].colorSpace=na)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const c=i.object,f=a.internal.interaction.indexOf(c);f>-1&&a.internal.interaction.splice(f,1),i.eventCount&&c.raycast!==null&&a.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&pm(i),n}function pm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function c$(n,e){n.manual||(d9(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Js=n=>n==null?void 0:n.isObject3D;function Hv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function g9(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function u$(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{g9(t.capturedMap,e,i,a)})}function f$(n){function e(f){const{internal:h}=n.getState(),m=f.offsetX-h.initialClick[0],g=f.offsetY-h.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(f){return f.filter(h=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=h.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(f,h){const m=n.getState(),g=new Set,v=[],y=h?h(m.internal.interaction):m.internal.interaction;for(let S=0;S<y.length;S++){const E=g0(y[S]);E&&(E.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function b(S){const E=g0(S);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var w;E.events.compute==null||E.events.compute(f,E,(w=E.previousRoot)==null?void 0:w.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(S,!0):[]}let M=y.flatMap(b).sort((S,E)=>{const w=g0(S.object),R=g0(E.object);return!w||!R?S.distance-E.distance:R.events.priority-w.events.priority||S.distance-E.distance}).filter(S=>{const E=Hv(S);return g.has(E)?!1:(g.add(E),!0)});m.events.filter&&(M=m.events.filter(M,m));for(const S of M){let E=S.object;for(;E;){var A;(A=E.__r3f)!=null&&A.eventCount&&v.push({...S,eventObject:E}),E=E.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let S of m.internal.capturedMap.get(f.pointerId).values())g.has(Hv(S.intersection))||v.push(S.intersection);return v}function a(f,h,m,g){if(f.length){const v={stopped:!1};for(const y of f){let b=g0(y.object);if(b||y.object.traverseAncestors(M=>{const A=g0(M);if(A)return b=A,!1}),b){const{raycaster:M,pointer:A,camera:S,internal:E}=b,w=new pe(A.x,A.y,0).unproject(S),R=L=>{var D,V;return(D=(V=E.capturedMap.get(L))==null?void 0:V.has(y.eventObject))!=null?D:!1},z=L=>{const D={intersection:y,target:h.target};E.capturedMap.has(L)?E.capturedMap.get(L).set(y.eventObject,D):E.capturedMap.set(L,new Map([[y.eventObject,D]])),h.target.setPointerCapture(L)},O=L=>{const D=E.capturedMap.get(L);D&&g9(E.capturedMap,y.eventObject,D,L)};let P={};for(let L in h){let D=h[L];typeof D!="function"&&(P[L]=D)}let B={...y,...P,pointer:A,intersections:f,stopped:v.stopped,delta:m,unprojectedPoint:w,ray:M.ray,camera:S,stopPropagation(){const L="pointerId"in h&&E.capturedMap.get(h.pointerId);if((!L||L.has(y.eventObject))&&(B.stopped=v.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(D=>D.eventObject===y.eventObject))){const D=f.slice(0,f.indexOf(y));r([...D,y])}},target:{hasPointerCapture:R,setPointerCapture:z,releasePointerCapture:O},currentTarget:{hasPointerCapture:R,setPointerCapture:z,releasePointerCapture:O},nativeEvent:h};if(g(B),v.stopped===!0)break}}}return f}function r(f){const{internal:h}=n.getState();for(const m of h.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const v=m.eventObject.__r3f;if(h.hovered.delete(Hv(m)),v!=null&&v.eventCount){const y=v.handlers,b={...m,intersections:f};y.onPointerOut==null||y.onPointerOut(b),y.onPointerLeave==null||y.onPointerLeave(b)}}}function o(f,h){for(let m=0;m<h.length;m++){const g=h[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function c(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return h=>{const{internal:m}=n.getState();"pointerId"in h&&m.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(h.pointerId)&&(m.capturedMap.delete(h.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:v}=n.getState();v.lastEvent.current=m;const y=f==="onPointerMove",b=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",A=i(m,y?t:void 0),S=b?e(m):0;f==="onPointerDown"&&(v.initialClick=[m.offsetX,m.offsetY],v.initialHits=A.map(w=>w.eventObject)),b&&!A.length&&S<=2&&(o(m,v.interaction),g&&g(m)),y&&r(A);function E(w){const R=w.eventObject,z=R.__r3f;if(!(z!=null&&z.eventCount))return;const O=z.handlers;if(y){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const P=Hv(w),B=v.hovered.get(P);B?B.stopped&&w.stopPropagation():(v.hovered.set(P,w),O.onPointerOver==null||O.onPointerOver(w),O.onPointerEnter==null||O.onPointerEnter(w))}O.onPointerMove==null||O.onPointerMove(w)}else{const P=O[f];P?(!b||v.initialHits.includes(R))&&(o(m,v.interaction.filter(B=>!v.initialHits.includes(B))),P(w)):b&&v.initialHits.includes(R)&&o(m,v.interaction.filter(B=>!v.initialHits.includes(B)))}}a(A,m,S,E)}}return{handlePointer:c}}const n4=n=>!!(n!=null&&n.render),y9=F.createContext(null),d$=(n,e)=>{const t=Hq((c,f)=>{const h=new pe,m=new pe,g=new pe;function v(S=f().camera,E=m,w=f().size){const{width:R,height:z,top:O,left:P}=w,B=R/z;E.isVector3?g.copy(E):g.set(...E);const L=S.getWorldPosition(h).distanceTo(g);if(d9(S))return{width:R/S.zoom,height:z/S.zoom,top:O,left:P,factor:1,distance:L,aspect:B};{const D=S.fov*Math.PI/180,V=2*Math.tan(D/2)*L,U=V*(R/z);return{width:U,height:V,top:O,left:P,factor:R/U,distance:L,aspect:B}}}let y;const b=S=>c(E=>({performance:{...E.performance,current:S}})),M=new pt;return{set:c,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(f(),S),advance:(S,E)=>e(S,E,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new gA,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=f();y&&clearTimeout(y),S.performance.current!==S.performance.min&&b(S.performance.min),y=setTimeout(()=>b(f().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:S=>c(E=>({...E,events:{...E.events,...S}})),setSize:(S,E,w=0,R=0)=>{const z=f().camera,O={width:S,height:E,top:w,left:R};c(P=>({size:O,viewport:{...P.viewport,...v(z,m,O)}}))},setDpr:S=>c(E=>{const w=p9(S);return{viewport:{...E.viewport,dpr:w,initialDpr:E.viewport.initialDpr||w}}}),setFrameloop:(S="always")=>{const E=f().clock;E.stop(),E.elapsedTime=0,S!=="never"&&(E.start(),E.elapsedTime=0),c(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:F.createRef(),active:!1,frames:0,priority:0,subscribe:(S,E,w)=>{const R=f().internal;return R.priority=R.priority+(E>0?1:0),R.subscribers.push({ref:S,priority:E,store:w}),R.subscribers=R.subscribers.sort((z,O)=>z.priority-O.priority),()=>{const z=f().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(E>0?1:0),z.subscribers=z.subscribers.filter(O=>O.ref!==S))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:f,viewport:h,gl:m,set:g}=t.getState();if(f.width!==a.width||f.height!==a.height||h.dpr!==r){a=f,r=h.dpr,c$(c,f),h.dpr>0&&m.setPixelRatio(h.dpr);const v=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,v)}c!==o&&(o=c,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function x9(){const n=F.useContext(y9);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function ts(n=t=>t,e){return x9()(n,e)}function mm(n,e=0){const t=x9(),i=t.getState().internal.subscribe,a=h9(n);return gy(()=>i(a,e,t),[e,i,t]),null}function h$(n){const e=Xq(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version}),e}const v9=0,tm={},p$=/^three(?=[A-Z])/,z2=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let m$=0;const g$=n=>typeof n=="function";function y$(n){if(g$(n)){const e=`${m$++}`;return tm[e]=n,e}else Object.assign(tm,n)}function b9(n,e){const t=z2(n),i=tm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function x$(n,e,t){var i;return n=z2(n)in tm?n:n.replace(p$,""),b9(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,h_(e.object,t,n,e)}function v$(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?m_(n.parent,n):Js(n.object)&&(n.object.visible=!1),n.isHidden=!0,pm(n)}}function _9(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?p_(n.parent,n):Js(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,pm(n)}}function AA(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const o=tm[z2(e.type)];e.object=(a=e.props.object)!=null?a:new o(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Bf(e.object,e.props),e.props.attach)p_(n,e);else if(Js(e.object)&&Js(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const f=c<o?o-1:o;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)AA(e,o);pm(e)}}function US(n,e){e&&(e.parent=n,n.children.push(e),AA(n,e))}function i4(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),AA(n,e,t)}function S9(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():QC.unstable_scheduleCallback(QC.unstable_IdlePriority,e)}}function U5(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?m_(n,e):Js(e.object)&&Js(n.object)&&(n.object.remove(e.object),u$(f9(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const o=e.children[r];U5(e,o,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&S9(e.object),t===void 0&&pm(e)}function b$(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const fb=[];function _$(){for(const[t]of fb){const i=t.parent;if(i){t.props.attach?m_(i,t):Js(t.object)&&Js(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?m_(t,a):Js(a.object)&&Js(t.object)&&t.object.remove(a.object)}t.isHidden&&_9(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&S9(t.object)}for(const[t,i,a]of fb){t.props=i;const r=t.parent;if(r){var n,e;const o=tm[z2(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,b$(a,t.object),Bf(t.object,t.props),t.props.attach?p_(r,t):Js(t.object)&&Js(r.object)&&r.object.add(t.object);for(const c of t.children)c.props.attach?p_(t,c):Js(c.object)&&Js(t.object)&&t.object.add(c.object);pm(t)}}fb.length=0}const BS=()=>{},a4={};let jv=v9;const S$=0,M$=4,B5=h$({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:x$,removeChild:U5,appendChild:US,appendInitialChild:US,insertBefore:i4,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||US(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||U5(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||i4(i,e,t)},getRootHostContext:()=>a4,getChildHostContext:()=>a4,commitUpdate(n,e,t,i,a){var r,o,c;b9(e,i);let f=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,g)=>{var v;return m!==((v=t.args)==null?void 0:v[g])}))&&(f=!0),f)fb.push([n,{...i},a]);else{const m=s$(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Bf(n.object,m))}(a.sibling===null||(a.flags&M$)===S$)&&_$()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>h_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:v$,unhideInstance:_9,createTextInstance:BS,hideTextInstance:BS,unhideTextInstance:BS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:F.createContext(null),setCurrentUpdatePriority(n){jv=n},getCurrentUpdatePriority(){return jv},resolveUpdatePriority(){var n;if(jv!==v9)return jv;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ob.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ob.ContinuousEventPriority;default:return ob.DefaultEventPriority}},resetFormInstance(){}}),Dh=new Map,y0={objects:"shallow",strict:!1};function A$(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function w$(n){const e=Dh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||d$(V5,s4),o=t||B5.createContainer(r,ob.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||Dh.set(n,{fiber:o,store:r});let c,f,h=!1,m=null;return{async configure(g={}){let v;m=new Promise(q=>v=q);let{gl:y,size:b,scene:M,events:A,onCreated:S,shadows:E=!1,linear:w=!1,flat:R=!1,legacy:z=!1,orthographic:O=!1,frameloop:P="always",dpr:B=[1,2],performance:L,raycaster:D,camera:V,onPointerMissed:U}=g,G=r.getState(),X=G.gl;if(!G.gl){const q={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ie=typeof y=="function"?await y(q):y;n4(ie)?X=ie:X=new s9({...q,...y}),G.set({gl:X})}let $=G.raycaster;$||G.set({raycaster:$=new bA});const{params:H,...K}=D||{};if(Ma.equ(K,$,y0)||Bf($,{...K}),Ma.equ(H,$.params,y0)||Bf($,{params:{...$.params,...H}}),!G.camera||G.camera===f&&!Ma.equ(f,V,y0)){f=V;const q=V==null?void 0:V.isCamera,ie=q?V:O?new Du(0,0,0,0,.1,1e3):new Aa(75,0,.1,1e3);q||(ie.position.z=5,V&&(Bf(ie,V),ie.manual||("aspect"in V||"left"in V||"right"in V||"bottom"in V||"top"in V)&&(ie.manual=!0,ie.updateProjectionMatrix())),!G.camera&&!(V!=null&&V.rotation)&&ie.lookAt(0,0,0)),G.set({camera:ie}),$.camera=ie}if(!G.scene){let q;M!=null&&M.isScene?(q=M,h_(q,r,"",{})):(q=new l2,h_(q,r,"",{}),M&&Bf(q,M)),G.set({scene:q})}A&&!G.events.handlers&&G.set({events:A(r)});const Q=A$(n,b);if(Ma.equ(Q,G.size,y0)||G.setSize(Q.width,Q.height,Q.top,Q.left),B&&G.viewport.dpr!==p9(B)&&G.setDpr(B),G.frameloop!==P&&G.setFrameloop(P),G.onPointerMissed||G.set({onPointerMissed:U}),L&&!Ma.equ(L,G.performance,y0)&&G.set(q=>({performance:{...q.performance,...L}})),!G.xr){var W;const q=(ge,re)=>{const te=r.getState();te.frameloop!=="never"&&s4(ge,!0,te,re)},ie=()=>{const ge=r.getState();ge.gl.xr.enabled=ge.gl.xr.isPresenting,ge.gl.xr.setAnimationLoop(ge.gl.xr.isPresenting?q:null),ge.gl.xr.isPresenting||V5(ge)},fe={connect(){const ge=r.getState().gl;ge.xr.addEventListener("sessionstart",ie),ge.xr.addEventListener("sessionend",ie)},disconnect(){const ge=r.getState().gl;ge.xr.removeEventListener("sessionstart",ie),ge.xr.removeEventListener("sessionend",ie)}};typeof((W=X.xr)==null?void 0:W.addEventListener)=="function"&&fe.connect(),G.set({xr:fe})}if(X.shadowMap){const q=X.shadowMap.enabled,ie=X.shadowMap.type;if(X.shadowMap.enabled=!!E,Ma.boo(E))X.shadowMap.type=y1;else if(Ma.str(E)){var ce;const fe={basic:m6,percentage:Y_,soft:y1,variance:Nl};X.shadowMap.type=(ce=fe[E])!=null?ce:y1}else Ma.obj(E)&&Object.assign(X.shadowMap,E);(q!==X.shadowMap.enabled||ie!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}return Xn.enabled=!z,h||(X.outputColorSpace=w?$f:na,X.toneMapping=R?Pc:X_),G.legacy!==z&&G.set(()=>({legacy:z})),G.linear!==w&&G.set(()=>({linear:w})),G.flat!==R&&G.set(()=>({flat:R})),y&&!Ma.fun(y)&&!n4(y)&&!Ma.equ(y,X,y0)&&Bf(X,y),c=S,h=!0,v(),this},render(g){return!h&&!m&&this.configure(),m.then(()=>{B5.updateContainer(I.jsx(E$,{store:r,children:g,onCreated:c,rootElement:n}),o,null,()=>{})}),r},unmount(){M9(n)}}}function E$({store:n,children:e,onCreated:t,rootElement:i}){return gy(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),I.jsx(y9.Provider,{value:n,children:e})}function M9(n,e){const t=Dh.get(n),i=t==null?void 0:t.fiber;if(i){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),B5.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,o,c,f;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(c=a.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(f=a.gl)!=null&&f.xr&&a.xr.disconnect(),i$(a.scene),Dh.delete(n)}catch{}},500)})}}const T$=new Set,C$=new Set,R$=new Set;function kS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function E1(n,e){switch(n){case"before":return kS(T$,e);case"after":return kS(C$,e);case"tail":return kS(R$,e)}}let FS,VS;function k5(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),FS=e.internal.subscribers;for(let a=0;a<FS.length;a++)VS=FS[a],VS.ref.current(VS.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let g_=!1,F5=!1,HS,r4,x0;function A9(n){r4=requestAnimationFrame(A9),g_=!0,HS=0,E1("before",n),F5=!0;for(const t of Dh.values()){var e;x0=t.store.getState(),x0.internal.active&&(x0.frameloop==="always"||x0.internal.frames>0)&&!((e=x0.gl.xr)!=null&&e.isPresenting)&&(HS+=k5(n,x0))}if(F5=!1,E1("after",n),HS===0)return E1("tail",n),g_=!1,cancelAnimationFrame(r4)}function V5(n,e=1){var t;if(!n)return Dh.forEach(i=>V5(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):F5?n.internal.frames=2:n.internal.frames=1,g_||(g_=!0,requestAnimationFrame(A9)))}function s4(n,e=!0,t,i){if(e&&E1("before",n),t)k5(n,t,i);else for(const a of Dh.values())k5(n,a.store.getState());e&&E1("after",n)}const jS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O$(n){const{handlePointer:e}=f$(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(jS).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const o=a.handlers[r],[c,f]=jS[r];t.addEventListener(c,o,{passive:f})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[o]=jS[a];i.connected.removeEventListener(o,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function o4(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function z$({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,h=n?typeof n=="number"?n:n.resize:null,m=F.useRef(!1);F.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,v,y]=F.useMemo(()=>{const S=()=>{if(!c.current.element)return;const{left:E,top:w,width:R,height:z,bottom:O,right:P,x:B,y:L}=c.current.element.getBoundingClientRect(),D={left:E,top:w,width:R,height:z,bottom:O,right:P,x:B,y:L};c.current.element instanceof HTMLElement&&i&&(D.height=c.current.element.offsetHeight,D.width=c.current.element.offsetWidth),Object.freeze(D),m.current&&!I$(c.current.lastBounds,D)&&o(c.current.lastBounds=D)};return[S,h?o4(S,h):S,f?o4(S,f):S]},[o,i,f,h]);function b(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function M(){c.current.element&&(c.current.resizeObserver=new a(y),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(S=>S.addEventListener("scroll",y,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const A=S=>{!S||S===c.current.element||(b(),c.current.element=S,c.current.scrollContainers=w9(S),M())};return D$(y,!!e),N$(v),F.useEffect(()=>{b(),M()},[e,y,v]),F.useEffect(()=>b,[]),[A,r,g]}function N$(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function D$(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function w9(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...w9(n.parentElement)]}const L$=["x","y","top","bottom","left","right","width","height"],I$=(n,e)=>L$.every(t=>n[t]===e[t]);function P$({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:o=O$,eventSource:c,eventPrefix:f,shadows:h,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:M,performance:A,raycaster:S,camera:E,scene:w,onPointerMissed:R,onCreated:z,...O}){F.useMemo(()=>y$(Nq),[]);const P=e$(),[B,L]=z$({scroll:!0,debounce:{scroll:50,resize:0},...i}),D=F.useRef(null),V=F.useRef(null);F.useImperativeHandle(n,()=>D.current);const U=h9(R),[G,X]=F.useState(!1),[$,H]=F.useState(!1);if(G)throw G;if($)throw $;const K=F.useRef(null);gy(()=>{const W=D.current;if(L.width>0&&L.height>0&&W){K.current||(K.current=w$(W));async function ce(){await K.current.configure({gl:r,scene:w,events:o,shadows:h,linear:m,flat:g,legacy:v,orthographic:y,frameloop:b,dpr:M,performance:A,raycaster:S,camera:E,size:L,onPointerMissed:(...q)=>U.current==null?void 0:U.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(c?Jq(c)?c.current:c:V.current),f&&q.setEvents({compute:(ie,fe)=>{const ge=ie[f+"X"],re=ie[f+"Y"];fe.pointer.set(ge/fe.size.width*2-1,-(re/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),z==null||z(q)}}),K.current.render(I.jsx(P,{children:I.jsx(n$,{set:H,children:I.jsx(F.Suspense,{fallback:I.jsx(t$,{set:X}),children:e!=null?e:null})})}))}ce()}}),F.useEffect(()=>{const W=D.current;if(W)return()=>M9(W)},[]);const Q=c?"none":"auto";return I.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...a},...O,children:I.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:D,style:{display:"block"},children:t})})})}function U$(n){return I.jsx(c9,{children:I.jsx(P$,{...n})})}const B$=Vn(I.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1q-.09-.03-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1q.09.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73s-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),k$=Vn(I.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}));var F$=Object.defineProperty,V$=(n,e,t)=>e in n?F$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,H$=(n,e,t)=>(V$(n,e+"",t),t);class j${constructor(){H$(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,o=a.length;r<o;r++)a[r].call(this,e);e.target=null}}}var G$=Object.defineProperty,W$=(n,e,t)=>e in n?G$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pn=(n,e,t)=>(W$(n,typeof e!="symbol"?e+"":e,t),t);const Gv=new Uh,l4=new Eu,Y$=Math.cos(70*(Math.PI/180)),c4=(n,e)=>(n%e+e)%e;let X$=class extends j${constructor(e,t){super(),pn(this,"object"),pn(this,"domElement"),pn(this,"enabled",!0),pn(this,"target",new pe),pn(this,"minDistance",0),pn(this,"maxDistance",1/0),pn(this,"minZoom",0),pn(this,"maxZoom",1/0),pn(this,"minPolarAngle",0),pn(this,"maxPolarAngle",Math.PI),pn(this,"minAzimuthAngle",-1/0),pn(this,"maxAzimuthAngle",1/0),pn(this,"enableDamping",!1),pn(this,"dampingFactor",.05),pn(this,"enableZoom",!0),pn(this,"zoomSpeed",1),pn(this,"enableRotate",!0),pn(this,"rotateSpeed",1),pn(this,"enablePan",!0),pn(this,"panSpeed",1),pn(this,"screenSpacePanning",!0),pn(this,"keyPanSpeed",7),pn(this,"zoomToCursor",!1),pn(this,"autoRotate",!1),pn(this,"autoRotateSpeed",2),pn(this,"reverseOrbit",!1),pn(this,"reverseHorizontalOrbit",!1),pn(this,"reverseVerticalOrbit",!1),pn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),pn(this,"mouseButtons",{LEFT:uh.ROTATE,MIDDLE:uh.DOLLY,RIGHT:uh.PAN}),pn(this,"touches",{ONE:fh.ROTATE,TWO:fh.DOLLY_PAN}),pn(this,"target0"),pn(this,"position0"),pn(this,"zoom0"),pn(this,"_domElementKeyEvents",null),pn(this,"getPolarAngle"),pn(this,"getAzimuthalAngle"),pn(this,"setPolarAngle"),pn(this,"setAzimuthalAngle"),pn(this,"getDistance"),pn(this,"getZoomScale"),pn(this,"listenToKeyEvents"),pn(this,"stopListenToKeyEvents"),pn(this,"saveState"),pn(this,"reset"),pn(this,"update"),pn(this,"connect"),pn(this,"dispose"),pn(this,"dollyIn"),pn(this,"dollyOut"),pn(this,"getScale"),pn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=be=>{let He=c4(be,2*Math.PI),vt=m.phi;vt<0&&(vt+=2*Math.PI),He<0&&(He+=2*Math.PI);let ye=Math.abs(He-vt);2*Math.PI-ye<ye&&(He<vt?He+=2*Math.PI:vt+=2*Math.PI),g.phi=He-vt,i.update()},this.setAzimuthalAngle=be=>{let He=c4(be,2*Math.PI),vt=m.theta;vt<0&&(vt+=2*Math.PI),He<0&&(He+=2*Math.PI);let ye=Math.abs(He-vt);2*Math.PI-ye<ye&&(He<vt?He+=2*Math.PI:vt+=2*Math.PI),g.theta=He-vt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=be=>{be.addEventListener("keydown",Te),this._domElementKeyEvents=be},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Te),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(a),i.update(),f=c.NONE},this.update=(()=>{const be=new pe,He=new pe(0,1,0),vt=new Fa().setFromUnitVectors(e.up,He),ye=vt.clone().invert(),at=new pe,ft=new Fa,bt=2*Math.PI;return function(){const lt=i.object.position;vt.setFromUnitVectors(e.up,He),ye.copy(vt).invert(),be.copy(lt).sub(i.target),be.applyQuaternion(vt),m.setFromVector3(be),i.autoRotate&&f===c.NONE&&X(U()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Ot=i.minAzimuthAngle,Wt=i.maxAzimuthAngle;isFinite(Ot)&&isFinite(Wt)&&(Ot<-Math.PI?Ot+=bt:Ot>Math.PI&&(Ot-=bt),Wt<-Math.PI?Wt+=bt:Wt>Math.PI&&(Wt-=bt),Ot<=Wt?m.theta=Math.max(Ot,Math.min(Wt,m.theta)):m.theta=m.theta>(Ot+Wt)/2?Math.max(Ot,m.theta):Math.min(Wt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),i.zoomToCursor&&L||i.object.isOrthographicCamera?m.radius=fe(m.radius):m.radius=fe(m.radius*v),be.setFromSpherical(m),be.applyQuaternion(ye),lt.copy(i.target).add(be),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),y.set(0,0,0));let bn=!1;if(i.zoomToCursor&&L){let tn=null;if(i.object instanceof Aa&&i.object.isPerspectiveCamera){const di=be.length();tn=fe(di*v);const Yt=di-tn;i.object.position.addScaledVector(P,Yt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const di=new pe(B.x,B.y,0);di.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix(),bn=!0;const Yt=new pe(B.x,B.y,0);Yt.unproject(i.object),i.object.position.sub(Yt).add(di),i.object.updateMatrixWorld(),tn=be.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;tn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(tn).add(i.object.position):(Gv.origin.copy(i.object.position),Gv.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Gv.direction))<Y$?e.lookAt(i.target):(l4.setFromNormalAndCoplanarPoint(i.object.up,i.target),Gv.intersectPlane(l4,i.target))))}else i.object instanceof Du&&i.object.isOrthographicCamera&&(bn=v!==1,bn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/v)),i.object.updateProjectionMatrix()));return v=1,L=!1,bn||at.distanceToSquared(i.object.position)>h||8*(1-ft.dot(i.object.quaternion))>h?(i.dispatchEvent(a),at.copy(i.object.position),ft.copy(i.object.quaternion),bn=!1,!0):!1}})(),this.connect=be=>{i.domElement=be,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",dt),i.domElement.addEventListener("pointerdown",Ye),i.domElement.addEventListener("pointercancel",Z),i.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var be,He,vt,ye,at,ft;i.domElement&&(i.domElement.style.touchAction="auto"),(be=i.domElement)==null||be.removeEventListener("contextmenu",dt),(He=i.domElement)==null||He.removeEventListener("pointerdown",Ye),(vt=i.domElement)==null||vt.removeEventListener("pointercancel",Z),(ye=i.domElement)==null||ye.removeEventListener("wheel",Ne),(at=i.domElement)==null||at.ownerDocument.removeEventListener("pointermove",de),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointerup",Z),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Te)};const i=this,a={type:"change"},r={type:"start"},o={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=c.NONE;const h=1e-6,m=new N5,g=new N5;let v=1;const y=new pe,b=new pt,M=new pt,A=new pt,S=new pt,E=new pt,w=new pt,R=new pt,z=new pt,O=new pt,P=new pe,B=new pt;let L=!1;const D=[],V={};function U(){return 2*Math.PI/60/60*i.autoRotateSpeed}function G(){return Math.pow(.95,i.zoomSpeed)}function X(be){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=be:g.theta-=be}function $(be){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=be:g.phi-=be}const H=(()=>{const be=new pe;return function(vt,ye){be.setFromMatrixColumn(ye,0),be.multiplyScalar(-vt),y.add(be)}})(),K=(()=>{const be=new pe;return function(vt,ye){i.screenSpacePanning===!0?be.setFromMatrixColumn(ye,1):(be.setFromMatrixColumn(ye,0),be.crossVectors(i.object.up,be)),be.multiplyScalar(vt),y.add(be)}})(),Q=(()=>{const be=new pe;return function(vt,ye){const at=i.domElement;if(at&&i.object instanceof Aa&&i.object.isPerspectiveCamera){const ft=i.object.position;be.copy(ft).sub(i.target);let bt=be.length();bt*=Math.tan(i.object.fov/2*Math.PI/180),H(2*vt*bt/at.clientHeight,i.object.matrix),K(2*ye*bt/at.clientHeight,i.object.matrix)}else at&&i.object instanceof Du&&i.object.isOrthographicCamera?(H(vt*(i.object.right-i.object.left)/i.object.zoom/at.clientWidth,i.object.matrix),K(ye*(i.object.top-i.object.bottom)/i.object.zoom/at.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function W(be){i.object instanceof Aa&&i.object.isPerspectiveCamera||i.object instanceof Du&&i.object.isOrthographicCamera?v=be:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ce(be){W(v/be)}function q(be){W(v*be)}function ie(be){if(!i.zoomToCursor||!i.domElement)return;L=!0;const He=i.domElement.getBoundingClientRect(),vt=be.clientX-He.left,ye=be.clientY-He.top,at=He.width,ft=He.height;B.x=vt/at*2-1,B.y=-(ye/ft)*2+1,P.set(B.x,B.y,1).unproject(i.object).sub(i.object.position).normalize()}function fe(be){return Math.max(i.minDistance,Math.min(i.maxDistance,be))}function ge(be){b.set(be.clientX,be.clientY)}function re(be){ie(be),R.set(be.clientX,be.clientY)}function te(be){S.set(be.clientX,be.clientY)}function se(be){M.set(be.clientX,be.clientY),A.subVectors(M,b).multiplyScalar(i.rotateSpeed);const He=i.domElement;He&&(X(2*Math.PI*A.x/He.clientHeight),$(2*Math.PI*A.y/He.clientHeight)),b.copy(M),i.update()}function ve(be){z.set(be.clientX,be.clientY),O.subVectors(z,R),O.y>0?ce(G()):O.y<0&&q(G()),R.copy(z),i.update()}function ze(be){E.set(be.clientX,be.clientY),w.subVectors(E,S).multiplyScalar(i.panSpeed),Q(w.x,w.y),S.copy(E),i.update()}function De(be){ie(be),be.deltaY<0?q(G()):be.deltaY>0&&ce(G()),i.update()}function rt(be){let He=!1;switch(be.code){case i.keys.UP:Q(0,i.keyPanSpeed),He=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),He=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),He=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),He=!0;break}He&&(be.preventDefault(),i.update())}function nt(){if(D.length==1)b.set(D[0].pageX,D[0].pageY);else{const be=.5*(D[0].pageX+D[1].pageX),He=.5*(D[0].pageY+D[1].pageY);b.set(be,He)}}function Ge(){if(D.length==1)S.set(D[0].pageX,D[0].pageY);else{const be=.5*(D[0].pageX+D[1].pageX),He=.5*(D[0].pageY+D[1].pageY);S.set(be,He)}}function Ee(){const be=D[0].pageX-D[1].pageX,He=D[0].pageY-D[1].pageY,vt=Math.sqrt(be*be+He*He);R.set(0,vt)}function ne(){i.enableZoom&&Ee(),i.enablePan&&Ge()}function Oe(){i.enableZoom&&Ee(),i.enableRotate&&nt()}function Ae(be){if(D.length==1)M.set(be.pageX,be.pageY);else{const vt=Dt(be),ye=.5*(be.pageX+vt.x),at=.5*(be.pageY+vt.y);M.set(ye,at)}A.subVectors(M,b).multiplyScalar(i.rotateSpeed);const He=i.domElement;He&&(X(2*Math.PI*A.x/He.clientHeight),$(2*Math.PI*A.y/He.clientHeight)),b.copy(M)}function Ve(be){if(D.length==1)E.set(be.pageX,be.pageY);else{const He=Dt(be),vt=.5*(be.pageX+He.x),ye=.5*(be.pageY+He.y);E.set(vt,ye)}w.subVectors(E,S).multiplyScalar(i.panSpeed),Q(w.x,w.y),S.copy(E)}function Be(be){const He=Dt(be),vt=be.pageX-He.x,ye=be.pageY-He.y,at=Math.sqrt(vt*vt+ye*ye);z.set(0,at),O.set(0,Math.pow(z.y/R.y,i.zoomSpeed)),ce(O.y),R.copy(z)}function ke(be){i.enableZoom&&Be(be),i.enablePan&&Ve(be)}function Ke(be){i.enableZoom&&Be(be),i.enableRotate&&Ae(be)}function Ye(be){var He,vt;i.enabled!==!1&&(D.length===0&&((He=i.domElement)==null||He.ownerDocument.addEventListener("pointermove",de),(vt=i.domElement)==null||vt.ownerDocument.addEventListener("pointerup",Z)),ot(be),be.pointerType==="touch"?gt(be):xe(be))}function de(be){i.enabled!==!1&&(be.pointerType==="touch"?Fe(be):Me(be))}function Z(be){var He,vt,ye;je(be),D.length===0&&((He=i.domElement)==null||He.releasePointerCapture(be.pointerId),(vt=i.domElement)==null||vt.ownerDocument.removeEventListener("pointermove",de),(ye=i.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",Z)),i.dispatchEvent(o),f=c.NONE}function xe(be){let He;switch(be.button){case 0:He=i.mouseButtons.LEFT;break;case 1:He=i.mouseButtons.MIDDLE;break;case 2:He=i.mouseButtons.RIGHT;break;default:He=-1}switch(He){case uh.DOLLY:if(i.enableZoom===!1)return;re(be),f=c.DOLLY;break;case uh.ROTATE:if(be.ctrlKey||be.metaKey||be.shiftKey){if(i.enablePan===!1)return;te(be),f=c.PAN}else{if(i.enableRotate===!1)return;ge(be),f=c.ROTATE}break;case uh.PAN:if(be.ctrlKey||be.metaKey||be.shiftKey){if(i.enableRotate===!1)return;ge(be),f=c.ROTATE}else{if(i.enablePan===!1)return;te(be),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(r)}function Me(be){if(i.enabled!==!1)switch(f){case c.ROTATE:if(i.enableRotate===!1)return;se(be);break;case c.DOLLY:if(i.enableZoom===!1)return;ve(be);break;case c.PAN:if(i.enablePan===!1)return;ze(be);break}}function Ne(be){i.enabled===!1||i.enableZoom===!1||f!==c.NONE&&f!==c.ROTATE||(be.preventDefault(),i.dispatchEvent(r),De(be),i.dispatchEvent(o))}function Te(be){i.enabled===!1||i.enablePan===!1||rt(be)}function gt(be){switch(Ze(be),D.length){case 1:switch(i.touches.ONE){case fh.ROTATE:if(i.enableRotate===!1)return;nt(),f=c.TOUCH_ROTATE;break;case fh.PAN:if(i.enablePan===!1)return;Ge(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(i.touches.TWO){case fh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ne(),f=c.TOUCH_DOLLY_PAN;break;case fh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Oe(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(r)}function Fe(be){switch(Ze(be),f){case c.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ae(be),i.update();break;case c.TOUCH_PAN:if(i.enablePan===!1)return;Ve(be),i.update();break;case c.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ke(be),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ke(be),i.update();break;default:f=c.NONE}}function dt(be){i.enabled!==!1&&be.preventDefault()}function ot(be){D.push(be)}function je(be){delete V[be.pointerId];for(let He=0;He<D.length;He++)if(D[He].pointerId==be.pointerId){D.splice(He,1);return}}function Ze(be){let He=V[be.pointerId];He===void 0&&(He=new pt,V[be.pointerId]=He),He.set(be.pageX,be.pageY)}function Dt(be){const He=be.pointerId===D[0].pointerId?D[1]:D[0];return V[He.pointerId]}this.dollyIn=(be=G())=>{q(be),i.update()},this.dollyOut=(be=G())=>{ce(be),i.update()},this.getScale=()=>v,this.setScale=be=>{W(be),i.update()},this.getZoomScale=()=>G(),t!==void 0&&this.connect(t),this.update()}};function q$(n,e,t){const i=ts(y=>y.size),a=ts(y=>y.viewport),r=typeof n=="number"?n:i.width*a.dpr,o=i.height*a.dpr,c=(typeof n=="number"?t:n)||{},{samples:f=0,depth:h,...m}=c,g=h!=null?h:c.depthBuffer,v=F.useMemo(()=>{const y=new kl(r,o,{minFilter:Ea,magFilter:Ea,type:Qf,...m});return g&&(y.depthTexture=new p2(r,o,Ds)),y.samples=f,y},[]);return F.useLayoutEffect(()=>{v.setSize(r,o),f&&(v.samples=f)},[f,v,r,o]),F.useEffect(()=>()=>v.dispose(),[]),v}const $$=n=>typeof n=="function",E9=F.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,makeDefault:i,children:a,...r},o)=>{const c=ts(({set:A})=>A),f=ts(({camera:A})=>A),h=ts(({size:A})=>A),m=F.useRef(null);F.useImperativeHandle(o,()=>m.current,[]);const g=F.useRef(null),v=q$(e);F.useLayoutEffect(()=>{r.manual||(m.current.aspect=h.width/h.height)},[h,r]),F.useLayoutEffect(()=>{m.current.updateProjectionMatrix()});let y=0,b=null;const M=$$(a);return mm(A=>{M&&(t===1/0||y<t)&&(g.current.visible=!1,A.gl.setRenderTarget(v),b=A.scene.background,n&&(A.scene.background=n),A.gl.render(A.scene,m.current),A.scene.background=b,A.gl.setRenderTarget(null),g.current.visible=!0,y++)}),F.useLayoutEffect(()=>{if(i){const A=f;return c(()=>({camera:m.current})),()=>c(()=>({camera:A}))}},[m,i,c]),F.createElement(F.Fragment,null,F.createElement("perspectiveCamera",z0({ref:m},r),!M&&a),F.createElement("group",{ref:g},M&&a(v.texture)))}),u4=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:a=!0,keyEvents:r=!1,onChange:o,onStart:c,onEnd:f,...h},m)=>{const g=ts(O=>O.invalidate),v=ts(O=>O.camera),y=ts(O=>O.gl),b=ts(O=>O.events),M=ts(O=>O.setEvents),A=ts(O=>O.set),S=ts(O=>O.get),E=ts(O=>O.performance),w=e||v,R=i||b.connected||y.domElement,z=F.useMemo(()=>new X$(w),[w]);return mm(()=>{z.enabled&&z.update()},-1),F.useEffect(()=>(r&&z.connect(r===!0?R:r),z.connect(R),()=>void z.dispose()),[r,R,t,z,g]),F.useEffect(()=>{const O=L=>{g(),t&&E.regress(),o&&o(L)},P=L=>{c&&c(L)},B=L=>{f&&f(L)};return z.addEventListener("change",O),z.addEventListener("start",P),z.addEventListener("end",B),()=>{z.removeEventListener("start",P),z.removeEventListener("end",B),z.removeEventListener("change",O)}},[o,c,f,z,g,M]),F.useEffect(()=>{if(n){const O=S().controls;return A({controls:z}),()=>A({controls:O})}},[n,z]),F.createElement("primitive",z0({ref:m,object:z,enableDamping:a},h))}),f4={uniforms:{baseColor:{value:new Ct(5924208)},rimColor:{value:new Ct(9083564)}},vertexShader:`
    varying vec3 vNormal;
    varying vec3 vViewPosition;
    
    void main() {
      vNormal = normalize(normalMatrix * normal);
      vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
      vViewPosition = -mvPosition.xyz;
      gl_Position = projectionMatrix * mvPosition;
    }
  `,fragmentShader:`
    uniform vec3 baseColor;
    uniform vec3 rimColor;
    uniform float opacity;
    uniform float rimIntensity;
    
    varying vec3 vNormal;
    varying vec3 vViewPosition;
    
    void main() {
      vec3 normal = normalize(vNormal);
      vec3 viewDir = normalize(vViewPosition);
      
      // Fresnel effect: edges are brighter (rim lighting)
      float fresnel = 1.0 - max(dot(viewDir, normal), 0.0);
      fresnel = pow(fresnel, 2.0);
      
      // Mix base color with rim color based on fresnel
      vec3 finalColor = mix(baseColor, rimColor, fresnel * rimIntensity);
      
      gl_FragColor = vec4(finalColor, opacity);
    }
  `};function zc(n=5924208,e={}){var c,f,h;const t=e.scanMode===!0,i=t?2972221:n,a=t?4906624:e.rimColor||9083564,r={baseColor:{value:new Ct(i)},rimColor:{value:new Ct(a)},opacity:{value:(c=e.opacity)!=null?c:.3},rimIntensity:{value:(f=e.rimIntensity)!=null?f:.6}};return new Eo({uniforms:r,vertexShader:f4.vertexShader,fragmentShader:f4.fragmentShader,transparent:!0,depthWrite:!1,depthTest:!0,side:vo,opacity:(h=e.opacity)!=null?h:.3})}const K$="/v2/assets/5w_speaker-CZVNJ9dG.stl",Z$="/v2/assets/antenna-BNkG0XQh.stl",J$="/v2/assets/antenna_body_3dprint-BkLhrziY.stl",Q$="/v2/assets/antenna_holder_l_3dprint-BwIHwVzM.stl",eK="/v2/assets/antenna_holder_r_3dprint-C1yibrGI.stl",tK="/v2/assets/antenna_interface_3dprint-Pq3SvkHi.stl",nK="/v2/assets/arducam-PEF0lFOh.stl",iK="/v2/assets/b3b_eh-Bezone1x.stl",aK="/v2/assets/b3b_eh_1-B6EA3WDN.stl",rK="/v2/assets/bearing_85x110x13-Dd0e4Wzw.stl",sK="/v2/assets/big_lens_d40-BoPhO4Fq.stl",oK="/v2/assets/body_down_3dprint-D_QIrlLZ.stl",lK="/v2/assets/body_foot_3dprint-BtEkhyMP.stl",cK="/v2/assets/body_top_3dprint-D6n_1FK4.stl",uK="/v2/assets/body_turning_3dprint-lF64xBr1.stl",fK="/v2/assets/bts2_m2_6x8-CU27jQZD.stl",dK="/v2/assets/dc15_a01_case_b_dummy-DuH90DYG.stl",hK="/v2/assets/dc15_a01_case_f_dummy-DPGNHJZH.stl",pK="/v2/assets/dc15_a01_case_m_dummy-9slAJPuI.stl",mK="/v2/assets/dc15_a01_horn_dummy-BeO--lSI.stl",gK="data:model/stl;base64,AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAANfQMT5cHHw/CtcjO/Ocf7yPwvW7CtcjO4/CdbwXPPm7Ctcju/Ocf7yPwvW7AAAAAAAA19AxPlwcfD8K1yM7j8J1vBc8+bsK1yO7j8J1vBc8+bsK1yO785x/vI/C9bsAAAAAAAAAAACAAACAPwrXIzt3vp+8j8L1uwrXIzvznH+8j8L1uwrXI7t3vp+8j8L1uwAAAAAAAAAAAIAAAIA/CtcjO/Ocf7yPwvW7Ctcju/Ocf7yPwvW7Ctcju3e+n7yPwvW7AAAAAAAAAACAvwAAAAAK1yO7d76fvI/C9bsK1yO7d76fvAdfGLwK1yM7d76fvI/C9bsAAAAAAIAAAIC/AAAAgArXI7t3vp+8B18YvArXIzt3vp+8B18YvArXIzt3vp+8j8L1uwAAAAAAAPMENb/zBDW/CtcjuwkbnrzjpRu8CtcjOwkbnrzjpRu8Ctcju3e+n7wHXxi8AAAAAACA8wQ1v/MENb8K1yM7CRuevOOlG7wK1yM7d76fvAdfGLwK1yO7d76fvAdfGLwAAAAAAIAAAACAAACAvwrXIztO0ZG846UbvArXIzsJG56846UbvArXI7tO0ZG846UbvAAAAAAAgAAAAIAAAIC/CtcjOwkbnrzjpRu8CtcjuwkbnrzjpRu8Ctcju07RkbzjpRu8AAAAAAAA8wQ1P/MENb8K1yM7TtGRvOOlG7wK1yO7TtGRvOOlG7wK1yM74C2QvAdfGLwAAAAAAIDzBDU/8wQ1vwrXI7tO0ZG846UbvArXI7vgLZC8B18YvArXIzvgLZC8B18YvAAAAAAAAAAAgD8AAAAACtcjO+AtkLyWQwu8CtcjO+AtkLwHXxi8Ctcju+AtkLyWQwu8AAAAAACAAACAPwAAAIAK1yM74C2QvAdfGLwK1yO74C2QvAdfGLwK1yO74C2QvJZDC7wAAAAAgL8AAAAAAAAAAArXI7vznH+8j8L1uwrXI7uPwnW8Fzz5uwrXI7uPwnW8lkMLvAAAAACAvwAAAIAAAACACtcju/Ocf7yPwvW7Ctcju4/CdbyWQwu8Ctcju3e+n7yPwvW7AAAAAIC/AAAAAAAAAAAK1yO74C2QvAdfGLwK1yO7TtGRvOOlG7wK1yO7CRuevOOlG7wAAAAAgL8AAAAAAAAAAArXI7uPwnW8lkMLvArXI7vgLZC8lkMLvArXI7t3vp+8j8L1uwAAAACAvwAAAIAAAACACtcju+AtkLyWQwu8Ctcju+AtkLwHXxi8Ctcju3e+n7yPwvW7AAAAAIC/AAAAAAAAAAAK1yO7d76fvI/C9bsK1yO74C2QvAdfGLwK1yO7d76fvAdfGLwAAAAAgL8AAACAAAAAgArXI7vgLZC8B18YvArXI7sJG56846UbvArXI7t3vp+8B18YvAAAAAAAAAAAgD8AAACACtcjO4/CdbyWQwu8Ctcju4/CdbyWQwu8CtcjO4/CdbwXPPm7AAAAAACAAACAPwAAAIAK1yO7j8J1vJZDC7wK1yO7j8J1vBc8+bsK1yM7j8J1vBc8+bsAAAAAAAAAAAAAAACAvwrXI7vgLZC8lkMLvArXI7uPwnW8lkMLvArXIzvgLZC8lkMLvAAAAAAAAAAAAIAAAIC/Ctcju4/CdbyWQwu8CtcjO4/CdbyWQwu8CtcjO+AtkLyWQwu8AAAAAIA/AAAAAAAAAIAK1yM7j8J1vJZDC7wK1yM7j8J1vBc8+bsK1yM785x/vI/C9bsAAAAAgD8AAAAAAAAAAArXIzt3vp+8B18YvArXIzsJG56846UbvArXIztO0ZG846UbvAAAAACAPwAAAAAAAAAACtcjO4/CdbyWQwu8CtcjO/Ocf7yPwvW7CtcjO+AtkLyWQwu8AAAAAIA/AAAAAAAAAAAK1yM785x/vI/C9bsK1yM7d76fvI/C9bsK1yM74C2QvJZDC7wAAAAAgD8AAACAAAAAgArXIzt3vp+8j8L1uwrXIzt3vp+8B18YvArXIzvgLZC8lkMLvAAAAACAPwAAAAAAAAAACtcjO+AtkLyWQwu8CtcjO3e+n7wHXxi8CtcjO+AtkLwHXxi8AAAAAIA/AAAAgAAAAIAK1yM7d76fvAdfGLwK1yM7TtGRvOOlG7wK1yM74C2QvAdfGLwAAA==",yK="/v2/assets/glasses_dolder_3dprint-CKebMlft.stl",xK="/v2/assets/head_back_3dprint-exS65Vst.stl",vK="/v2/assets/head_front_3dprint-D0HciSlu.stl",bK="/v2/assets/head_mic_3dprint-YcQZGCkh.stl",_K="/v2/assets/lens_cap_d30_3dprint-ZBPmuKfC.stl",SK="/v2/assets/lens_cap_d40_3dprint-BwhTh6Z_.stl",MK="/v2/assets/m12_fisheye_lens_1_8mm-DXTjA_7w.stl",AK="/v2/assets/mp01062_stewart_arm_3-D-WqeTP5.stl",wK="/v2/assets/neck_reference_3dprint-mMVp_clh.stl",EK="/v2/assets/phs_1_7x20_5_dc10-DEYbMvEO.stl",TK="/v2/assets/phs_1_7x20_5_dc10_1-DNYHOdom.stl",CK="/v2/assets/phs_1_7x20_5_dc10_2-CJlU4p5i.stl",RK="/v2/assets/phs_1_7x20_5_dc10_3-BlcZ3uVb.stl",OK="/v2/assets/pp01102_arducam_carter-CWTlxrEQ.stl",zK="/v2/assets/small_lens_d30-D7KtNeMM.stl",NK="/v2/assets/stewart_link_ball-Bb5qUEVe.stl",DK="/v2/assets/stewart_link_ball__2-D3VPwIEU.stl",LK="/v2/assets/stewart_link_rod-Dpb9AWfa.stl",IK="/v2/assets/stewart_main_plate_3dprint-BqGdO1Uq.stl",PK="/v2/assets/stewart_tricap_3dprint-C0rPXqtV.stl";class UK extends Pr{constructor(e){super(e)}load(e,t,i,a){const r=this,o=new Vl(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(r.parse(c))}catch(f){a?a(f):console.error(f),r.manager.itemError(e)}},i,a)}parse(e){function t(h){const m=new DataView(h),g=32/8*3+32/8*3*3+16/8,v=m.getUint32(80,!0);if(80+32/8+v*g===m.byteLength)return!0;const b=[115,111,108,105,100];for(let M=0;M<5;M++)if(i(b,m,M))return!1;return!0}function i(h,m,g){for(let v=0,y=h.length;v<y;v++)if(h[v]!==m.getUint8(g+v))return!1;return!0}function a(h){const m=new DataView(h),g=m.getUint32(80,!0);let v,y,b,M=!1,A,S,E,w,R;for(let V=0;V<70;V++)m.getUint32(V,!1)==1129270351&&m.getUint8(V+4)==82&&m.getUint8(V+5)==61&&(M=!0,A=new Float32Array(g*3*3),S=m.getUint8(V+6)/255,E=m.getUint8(V+7)/255,w=m.getUint8(V+8)/255,R=m.getUint8(V+9)/255);const z=84,O=50,P=new Tn,B=new Float32Array(g*3*3),L=new Float32Array(g*3*3),D=new Ct;for(let V=0;V<g;V++){const U=z+V*O,G=m.getFloat32(U,!0),X=m.getFloat32(U+4,!0),$=m.getFloat32(U+8,!0);if(M){const H=m.getUint16(U+48,!0);(H&32768)===0?(v=(H&31)/31,y=(H>>5&31)/31,b=(H>>10&31)/31):(v=S,y=E,b=w)}for(let H=1;H<=3;H++){const K=U+H*12,Q=V*3*3+(H-1)*3;B[Q]=m.getFloat32(K,!0),B[Q+1]=m.getFloat32(K+4,!0),B[Q+2]=m.getFloat32(K+8,!0),L[Q]=G,L[Q+1]=X,L[Q+2]=$,M&&(D.setRGB(v,y,b,na),A[Q]=D.r,A[Q+1]=D.g,A[Q+2]=D.b)}}return P.setAttribute("position",new zi(B,3)),P.setAttribute("normal",new zi(L,3)),M&&(P.setAttribute("color",new zi(A,3)),P.hasColors=!0,P.alpha=R),P}function r(h){const m=new Tn,g=/solid([\s\S]*?)endsolid/g,v=/facet([\s\S]*?)endfacet/g,y=/solid\s(.+)/;let b=0;const M=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,A=new RegExp("vertex"+M+M+M,"g"),S=new RegExp("normal"+M+M+M,"g"),E=[],w=[],R=[],z=new pe;let O,P=0,B=0,L=0;for(;(O=g.exec(h))!==null;){B=L;const D=O[0],V=(O=y.exec(D))!==null?O[1]:"";for(R.push(V);(O=v.exec(D))!==null;){let X=0,$=0;const H=O[0];for(;(O=S.exec(H))!==null;)z.x=parseFloat(O[1]),z.y=parseFloat(O[2]),z.z=parseFloat(O[3]),$++;for(;(O=A.exec(H))!==null;)E.push(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3])),w.push(z.x,z.y,z.z),X++,L++;$!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+b),X!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+b),b++}const U=B,G=L-B;m.userData.groupNames=R,m.addGroup(U,G,P),P++}return m.setAttribute("position",new Ht(E,3)),m.setAttribute("normal",new Ht(w,3)),m}function o(h){return typeof h!="string"?new TextDecoder().decode(h):h}function c(h){if(typeof h=="string"){const m=new Uint8Array(h.length);for(let g=0;g<h.length;g++)m[g]=h.charCodeAt(g)&255;return m.buffer||m}else return h}const f=c(e);return t(f)?a(f):r(o(e))}}class d4 extends V8{constructor(e){super(e)}parse(e){function t(H){switch(H.image_type){case v:case M:if(H.colormap_length>256||H.colormap_size!==24||H.colormap_type!==1)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case y:case b:case A:case S:if(H.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case g:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+H.image_type)}if(H.width<=0||H.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(H.pixel_size!==8&&H.pixel_size!==16&&H.pixel_size!==24&&H.pixel_size!==32)throw new Error("THREE.TGALoader: Invalid pixel size "+H.pixel_size)}function i(H,K,Q,W,ce){let q,ie;const fe=Q.pixel_size>>3,ge=Q.width*Q.height*fe;if(K&&(ie=ce.subarray(W,W+=Q.colormap_length*(Q.colormap_size>>3))),H){q=new Uint8Array(ge);let re,te,se,ve=0;const ze=new Uint8Array(fe);for(;ve<ge;)if(re=ce[W++],te=(re&127)+1,re&128){for(se=0;se<fe;++se)ze[se]=ce[W++];for(se=0;se<te;++se)q.set(ze,ve+se*fe);ve+=fe*te}else{for(te*=fe,se=0;se<te;++se)q[ve+se]=ce[W++];ve+=te}}else q=ce.subarray(W,W+=K?Q.width*Q.height:ge);return{pixel_data:q,palettes:ie}}function a(H,K,Q,W,ce,q,ie,fe,ge){const re=ge;let te,se=0,ve,ze;const De=D.width;for(ze=K;ze!==W;ze+=Q)for(ve=ce;ve!==ie;ve+=q,se++)te=fe[se],H[(ve+De*ze)*4+3]=255,H[(ve+De*ze)*4+2]=re[te*3+0],H[(ve+De*ze)*4+1]=re[te*3+1],H[(ve+De*ze)*4+0]=re[te*3+2];return H}function r(H,K,Q,W,ce,q,ie,fe){let ge,re=0,te,se;const ve=D.width;for(se=K;se!==W;se+=Q)for(te=ce;te!==ie;te+=q,re+=2)ge=fe[re+0]+(fe[re+1]<<8),H[(te+ve*se)*4+0]=(ge&31744)>>7,H[(te+ve*se)*4+1]=(ge&992)>>2,H[(te+ve*se)*4+2]=(ge&31)<<3,H[(te+ve*se)*4+3]=ge&32768?0:255;return H}function o(H,K,Q,W,ce,q,ie,fe){let ge=0,re,te;const se=D.width;for(te=K;te!==W;te+=Q)for(re=ce;re!==ie;re+=q,ge+=3)H[(re+se*te)*4+3]=255,H[(re+se*te)*4+2]=fe[ge+0],H[(re+se*te)*4+1]=fe[ge+1],H[(re+se*te)*4+0]=fe[ge+2];return H}function c(H,K,Q,W,ce,q,ie,fe){let ge=0,re,te;const se=D.width;for(te=K;te!==W;te+=Q)for(re=ce;re!==ie;re+=q,ge+=4)H[(re+se*te)*4+2]=fe[ge+0],H[(re+se*te)*4+1]=fe[ge+1],H[(re+se*te)*4+0]=fe[ge+2],H[(re+se*te)*4+3]=fe[ge+3];return H}function f(H,K,Q,W,ce,q,ie,fe){let ge,re=0,te,se;const ve=D.width;for(se=K;se!==W;se+=Q)for(te=ce;te!==ie;te+=q,re++)ge=fe[re],H[(te+ve*se)*4+0]=ge,H[(te+ve*se)*4+1]=ge,H[(te+ve*se)*4+2]=ge,H[(te+ve*se)*4+3]=255;return H}function h(H,K,Q,W,ce,q,ie,fe){let ge=0,re,te;const se=D.width;for(te=K;te!==W;te+=Q)for(re=ce;re!==ie;re+=q,ge+=2)H[(re+se*te)*4+0]=fe[ge+0],H[(re+se*te)*4+1]=fe[ge+0],H[(re+se*te)*4+2]=fe[ge+0],H[(re+se*te)*4+3]=fe[ge+1];return H}function m(H,K,Q,W,ce){let q,ie,fe,ge,re,te;switch((D.flags&E)>>w){default:case O:q=0,fe=1,re=K,ie=0,ge=1,te=Q;break;case R:q=0,fe=1,re=K,ie=Q-1,ge=-1,te=-1;break;case P:q=K-1,fe=-1,re=-1,ie=0,ge=1,te=Q;break;case z:q=K-1,fe=-1,re=-1,ie=Q-1,ge=-1,te=-1;break}if(G)switch(D.pixel_size){case 8:f(H,ie,ge,te,q,fe,re,W);break;case 16:h(H,ie,ge,te,q,fe,re,W);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(D.pixel_size){case 8:a(H,ie,ge,te,q,fe,re,W,ce);break;case 16:r(H,ie,ge,te,q,fe,re,W);break;case 24:o(H,ie,ge,te,q,fe,re,W);break;case 32:c(H,ie,ge,te,q,fe,re,W);break;default:throw new Error("THREE.TGALoader: Format not supported.")}return H}const g=0,v=1,y=2,b=3,M=9,A=10,S=11,E=48,w=4,R=0,z=1,O=2,P=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let B=0;const L=new Uint8Array(e),D={id_length:L[B++],colormap_type:L[B++],image_type:L[B++],colormap_index:L[B++]|L[B++]<<8,colormap_length:L[B++]|L[B++]<<8,colormap_size:L[B++],origin:[L[B++]|L[B++]<<8,L[B++]|L[B++]<<8],width:L[B++]|L[B++]<<8,height:L[B++]|L[B++]<<8,pixel_size:L[B++],flags:L[B++]};if(t(D),D.id_length+B>e.length)throw new Error("THREE.TGALoader: No data.");B+=D.id_length;let V=!1,U=!1,G=!1;switch(D.image_type){case M:V=!0,U=!0;break;case v:U=!0;break;case A:V=!0;break;case y:break;case S:V=!0,G=!0;break;case b:G=!0;break}const X=new Uint8Array(D.width*D.height*4),$=i(V,U,D,B,L);return m(X,D.width,D.height,$.pixel_data,$.palettes),{data:X,width:D.width,height:D.height,flipY:!0,generateMipmaps:!0,minFilter:Il}}}class BK extends Pr{load(e,t,i,a){const r=this,o=r.path===""?K1.extractUrlBase(e):r.path,c=new Vl(r.manager);c.setPath(r.path),c.setRequestHeader(r.requestHeader),c.setWithCredentials(r.withCredentials),c.load(e,function(f){try{t(r.parse(f,o))}catch(h){a?a(h):console.error(h),r.manager.itemError(e)}},i,a)}parse(e,t){function i(ee,J){const he=[],le=ee.childNodes;for(let me=0,Je=le.length;me<Je;me++){const st=le[me];st.nodeName===J&&he.push(st)}return he}function a(ee){if(ee.length===0)return[];const J=ee.trim().split(/\s+/),he=new Array(J.length);for(let le=0,me=J.length;le<me;le++)he[le]=J[le];return he}function r(ee){if(ee.length===0)return[];const J=ee.trim().split(/\s+/),he=new Array(J.length);for(let le=0,me=J.length;le<me;le++)he[le]=parseFloat(J[le]);return he}function o(ee){if(ee.length===0)return[];const J=ee.trim().split(/\s+/),he=new Array(J.length);for(let le=0,me=J.length;le<me;le++)he[le]=parseInt(J[le]);return he}function c(ee){return ee.substring(1)}function f(){return"three_default_"+us++}function h(ee){return Object.keys(ee).length===0}function m(ee){return{unit:g(i(ee,"unit")[0]),upAxis:v(i(ee,"up_axis")[0])}}function g(ee){return ee!==void 0&&ee.hasAttribute("meter")===!0?parseFloat(ee.getAttribute("meter")):1}function v(ee){return ee!==void 0?ee.textContent:"Y_UP"}function y(ee,J,he,le){const me=i(ee,J)[0];if(me!==void 0){const Je=i(me,he);for(let st=0;st<Je.length;st++)le(Je[st])}}function b(ee,J){for(const he in ee){const le=ee[he];le.build=J(ee[he])}}function M(ee,J){return ee.build!==void 0||(ee.build=J(ee)),ee.build}function A(ee){const J={sources:{},samplers:{},channels:{}};let he=!1;for(let le=0,me=ee.childNodes.length;le<me;le++){const Je=ee.childNodes[le];if(Je.nodeType!==1)continue;let st;switch(Je.nodeName){case"source":st=Je.getAttribute("id"),J.sources[st]=ft(Je);break;case"sampler":st=Je.getAttribute("id"),J.samplers[st]=S(Je);break;case"channel":st=Je.getAttribute("target"),J.channels[st]=E(Je);break;case"animation":A(Je),he=!0;break;default:console.log(Je)}}he===!1&&(Zt.animations[ee.getAttribute("id")||es.generateUUID()]=J)}function S(ee){const J={inputs:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"input":const Je=c(me.getAttribute("source")),st=me.getAttribute("semantic");J.inputs[st]=Je;break}}return J}function E(ee){const J={};let le=ee.getAttribute("target").split("/");const me=le.shift();let Je=le.shift();const st=Je.indexOf("(")!==-1,kt=Je.indexOf(".")!==-1;if(kt)le=Je.split("."),Je=le.shift(),J.member=le.shift();else if(st){const Rt=Je.split("(");Je=Rt.shift();for(let Nt=0;Nt<Rt.length;Nt++)Rt[Nt]=parseInt(Rt[Nt].replace(/\)/,""));J.indices=Rt}return J.id=me,J.sid=Je,J.arraySyntax=st,J.memberSyntax=kt,J.sampler=c(ee.getAttribute("source")),J}function w(ee){const J=[],he=ee.channels,le=ee.samplers,me=ee.sources;for(const Je in he)if(he.hasOwnProperty(Je)){const st=he[Je],kt=le[st.sampler],Rt=kt.inputs.INPUT,Nt=kt.inputs.OUTPUT,Jt=me[Rt],St=me[Nt],qt=z(st,Jt,St);D(qt,J)}return J}function R(ee){return M(Zt.animations[ee],w)}function z(ee,J,he){const le=Zt.nodes[ee.id],me=Xt(le.id),Je=le.transforms[ee.sid],st=le.matrix.clone().transpose();let kt,Rt,Nt,Jt,St,qt;const Ft={};switch(Je){case"matrix":for(Nt=0,Jt=J.array.length;Nt<Jt;Nt++)if(kt=J.array[Nt],Rt=Nt*he.stride,Ft[kt]===void 0&&(Ft[kt]={}),ee.arraySyntax===!0){const Ti=he.array[Rt],Hn=ee.indices[0]+4*ee.indices[1];Ft[kt][Hn]=Ti}else for(St=0,qt=he.stride;St<qt;St++)Ft[kt][St]=he.array[Rt+St];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Je);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Je);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',Je);break}const $t=O(Ft,st);return{name:me.uuid,keyframes:$t}}function O(ee,J){const he=[];for(const me in ee)he.push({time:parseFloat(me),value:ee[me]});he.sort(le);for(let me=0;me<16;me++)V(he,me,J.elements[me]);return he;function le(me,Je){return me.time-Je.time}}const P=new pe,B=new pe,L=new Fa;function D(ee,J){const he=ee.keyframes,le=ee.name,me=[],Je=[],st=[],kt=[];for(let Rt=0,Nt=he.length;Rt<Nt;Rt++){const Jt=he[Rt],St=Jt.time,qt=Jt.value;ae.fromArray(qt).transpose(),ae.decompose(P,L,B),me.push(St),Je.push(P.x,P.y,P.z),st.push(L.x,L.y,L.z,L.w),kt.push(B.x,B.y,B.z)}return Je.length>0&&J.push(new zh(le+".position",me,Je)),st.length>0&&J.push(new dm(le+".quaternion",me,st)),kt.length>0&&J.push(new zh(le+".scale",me,kt)),J}function V(ee,J,he){let le,me=!0,Je,st;for(Je=0,st=ee.length;Je<st;Je++)le=ee[Je],le.value[J]===void 0?le.value[J]=null:me=!1;if(me===!0)for(Je=0,st=ee.length;Je<st;Je++)le=ee[Je],le.value[J]=he;else U(ee,J)}function U(ee,J){let he,le;for(let me=0,Je=ee.length;me<Je;me++){const st=ee[me];if(st.value[J]===null){if(he=G(ee,me,J),le=X(ee,me,J),he===null){st.value[J]=le.value[J];continue}if(le===null){st.value[J]=he.value[J];continue}$(st,he,le,J)}}}function G(ee,J,he){for(;J>=0;){const le=ee[J];if(le.value[he]!==null)return le;J--}return null}function X(ee,J,he){for(;J<ee.length;){const le=ee[J];if(le.value[he]!==null)return le;J++}return null}function $(ee,J,he,le){if(he.time-J.time===0){ee.value[le]=J.value[le];return}ee.value[le]=(ee.time-J.time)*(he.value[le]-J.value[le])/(he.time-J.time)+J.value[le]}function H(ee){const J={name:ee.getAttribute("id")||"default",start:parseFloat(ee.getAttribute("start")||0),end:parseFloat(ee.getAttribute("end")||0),animations:[]};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"instance_animation":J.animations.push(c(me.getAttribute("url")));break}}Zt.clips[ee.getAttribute("id")]=J}function K(ee){const J=[],he=ee.name,le=ee.end-ee.start||-1,me=ee.animations;for(let Je=0,st=me.length;Je<st;Je++){const kt=R(me[Je]);for(let Rt=0,Nt=kt.length;Rt<Nt;Rt++)J.push(kt[Rt])}return new Nh(he,le,J)}function Q(ee){return M(Zt.clips[ee],K)}function W(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"skin":J.id=c(me.getAttribute("source")),J.skin=ce(me);break;case"morph":J.id=c(me.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}Zt.controllers[ee.getAttribute("id")]=J}function ce(ee){const J={sources:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"bind_shape_matrix":J.bindShapeMatrix=r(me.textContent);break;case"source":const Je=me.getAttribute("id");J.sources[Je]=ft(me);break;case"joints":J.joints=q(me);break;case"vertex_weights":J.vertexWeights=ie(me);break}}return J}function q(ee){const J={inputs:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"input":const Je=me.getAttribute("semantic"),st=c(me.getAttribute("source"));J.inputs[Je]=st;break}}return J}function ie(ee){const J={inputs:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"input":const Je=me.getAttribute("semantic"),st=c(me.getAttribute("source")),kt=parseInt(me.getAttribute("offset"));J.inputs[Je]={id:st,offset:kt};break;case"vcount":J.vcount=o(me.textContent);break;case"v":J.v=o(me.textContent);break}}return J}function fe(ee){const J={id:ee.id},he=Zt.geometries[J.id];return ee.skin!==void 0&&(J.skin=ge(ee.skin),he.sources.skinIndices=J.skin.indices,he.sources.skinWeights=J.skin.weights),J}function ge(ee){const he={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},le=ee.sources,me=ee.vertexWeights,Je=me.vcount,st=me.v,kt=me.inputs.JOINT.offset,Rt=me.inputs.WEIGHT.offset,Nt=ee.sources[ee.joints.inputs.JOINT],Jt=ee.sources[ee.joints.inputs.INV_BIND_MATRIX],St=le[me.inputs.WEIGHT.id].array;let qt=0,Ft,$t,Qt;for(Ft=0,Qt=Je.length;Ft<Qt;Ft++){const Hn=Je[Ft],Yn=[];for($t=0;$t<Hn;$t++){const Rn=st[qt+kt],Ur=st[qt+Rt],ua=St[Ur];Yn.push({index:Rn,weight:ua}),qt+=2}for(Yn.sort(Ti),$t=0;$t<4;$t++){const Rn=Yn[$t];Rn!==void 0?(he.indices.array.push(Rn.index),he.weights.array.push(Rn.weight)):(he.indices.array.push(0),he.weights.array.push(0))}}for(ee.bindShapeMatrix?he.bindMatrix=new rn().fromArray(ee.bindShapeMatrix).transpose():he.bindMatrix=new rn().identity(),Ft=0,Qt=Nt.array.length;Ft<Qt;Ft++){const Hn=Nt.array[Ft],Yn=new rn().fromArray(Jt.array,Ft*Jt.stride).transpose();he.joints.push({name:Hn,boneInverse:Yn})}return he;function Ti(Hn,Yn){return Yn.weight-Hn.weight}}function re(ee){return M(Zt.controllers[ee],fe)}function te(ee){const J={init_from:i(ee,"init_from")[0].textContent};Zt.images[ee.getAttribute("id")]=J}function se(ee){return ee.build!==void 0?ee.build:ee.init_from}function ve(ee){const J=Zt.images[ee];return J!==void 0?M(J,se):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",ee),null)}function ze(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"profile_COMMON":J.profile=De(me);break}}Zt.effects[ee.getAttribute("id")]=J}function De(ee){const J={surfaces:{},samplers:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"newparam":rt(me,J);break;case"technique":J.technique=Ee(me);break;case"extra":J.extra=ke(me);break}}return J}function rt(ee,J){const he=ee.getAttribute("sid");for(let le=0,me=ee.childNodes.length;le<me;le++){const Je=ee.childNodes[le];if(Je.nodeType===1)switch(Je.nodeName){case"surface":J.surfaces[he]=nt(Je);break;case"sampler2D":J.samplers[he]=Ge(Je);break}}}function nt(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"init_from":J.init_from=me.textContent;break}}return J}function Ge(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"source":J.source=me.textContent;break}}return J}function Ee(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"constant":case"lambert":case"blinn":case"phong":J.type=me.nodeName,J.parameters=ne(me);break;case"extra":J.extra=ke(me);break}}return J}function ne(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":J[me.nodeName]=Oe(me);break;case"transparent":J[me.nodeName]={opaque:me.hasAttribute("opaque")?me.getAttribute("opaque"):"A_ONE",data:Oe(me)};break}}return J}function Oe(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"color":J[me.nodeName]=r(me.textContent);break;case"float":J[me.nodeName]=parseFloat(me.textContent);break;case"texture":J[me.nodeName]={id:me.getAttribute("texture"),extra:Ae(me)};break}}return J}function Ae(ee){const J={technique:{}};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"extra":Ve(me,J);break}}return J}function Ve(ee,J){for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"technique":Be(me,J);break}}}function Be(ee,J){for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":J.technique[me.nodeName]=parseFloat(me.textContent);break;case"wrapU":case"wrapV":me.textContent.toUpperCase()==="TRUE"?J.technique[me.nodeName]=1:me.textContent.toUpperCase()==="FALSE"?J.technique[me.nodeName]=0:J.technique[me.nodeName]=parseInt(me.textContent);break;case"bump":J[me.nodeName]=Ye(me);break}}}function ke(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"technique":J.technique=Ke(me);break}}return J}function Ke(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"double_sided":J[me.nodeName]=parseInt(me.textContent);break;case"bump":J[me.nodeName]=Ye(me);break}}return J}function Ye(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"texture":J[me.nodeName]={id:me.getAttribute("texture"),texcoord:me.getAttribute("texcoord"),extra:Ae(me)};break}}return J}function de(ee){return ee}function Z(ee){return M(Zt.effects[ee],de)}function xe(ee){const J={name:ee.getAttribute("name")};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"instance_effect":J.url=c(me.getAttribute("url"));break}}Zt.materials[ee.getAttribute("id")]=J}function Me(ee){let J,he=ee.slice((ee.lastIndexOf(".")-1>>>0)+2);switch(he=he.toLowerCase(),he){case"tga":J=aa;break;default:J=bi}return J}function Ne(ee){const J=Z(ee.url),he=J.profile.technique;let le;switch(he.type){case"phong":case"blinn":le=new wh;break;case"lambert":le=new tA;break;default:le=new Fl;break}le.name=ee.name||"";function me(Rt,Nt=null){const Jt=J.profile.samplers[Rt.id];let St=null;if(Jt!==void 0){const qt=J.profile.surfaces[Jt.source];St=ve(qt.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),St=ve(Rt.id);if(St!==null){const qt=Me(St);if(qt!==void 0){const Ft=qt.load(St),$t=Rt.extra;if($t!==void 0&&$t.technique!==void 0&&h($t.technique)===!1){const Qt=$t.technique;Ft.wrapS=Qt.wrapU?Ou:ns,Ft.wrapT=Qt.wrapV?Ou:ns,Ft.offset.set(Qt.offsetU||0,Qt.offsetV||0),Ft.repeat.set(Qt.repeatU||1,Qt.repeatV||1)}else Ft.wrapS=Ou,Ft.wrapT=Ou;return Nt!==null&&(Ft.colorSpace=Nt),Ft}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",St),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",Rt.id),null}const Je=he.parameters;for(const Rt in Je){const Nt=Je[Rt];switch(Rt){case"diffuse":Nt.color&&le.color.fromArray(Nt.color),Nt.texture&&(le.map=me(Nt.texture,na));break;case"specular":Nt.color&&le.specular&&le.specular.fromArray(Nt.color),Nt.texture&&(le.specularMap=me(Nt.texture));break;case"bump":Nt.texture&&(le.normalMap=me(Nt.texture));break;case"ambient":Nt.texture&&(le.lightMap=me(Nt.texture,na));break;case"shininess":Nt.float&&le.shininess&&(le.shininess=Nt.float);break;case"emission":Nt.color&&le.emissive&&le.emissive.fromArray(Nt.color),Nt.texture&&(le.emissiveMap=me(Nt.texture,na));break}}Xn.colorSpaceToWorking(le.color,na),le.specular&&Xn.colorSpaceToWorking(le.specular,na),le.emissive&&Xn.colorSpaceToWorking(le.emissive,na);let st=Je.transparent,kt=Je.transparency;if(kt===void 0&&st&&(kt={float:1}),st===void 0&&kt&&(st={opaque:"A_ONE",data:{color:[1,1,1,1]}}),st&&kt)if(st.data.texture)le.transparent=!0;else{const Rt=st.data.color;switch(st.opaque){case"A_ONE":le.opacity=Rt[3]*kt.float;break;case"RGB_ZERO":le.opacity=1-Rt[0]*kt.float;break;case"A_ZERO":le.opacity=1-Rt[3]*kt.float;break;case"RGB_ONE":le.opacity=Rt[0]*kt.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',st.opaque)}le.opacity<1&&(le.transparent=!0)}if(he.extra!==void 0&&he.extra.technique!==void 0){const Rt=he.extra.technique;for(const Nt in Rt){const Jt=Rt[Nt];switch(Nt){case"double_sided":le.side=Jt===1?vo:Bc;break;case"bump":le.normalMap=me(Jt.texture),le.normalScale=new pt(1,1);break}}}return le}function Te(ee){return M(Zt.materials[ee],Ne)}function gt(ee){const J={name:ee.getAttribute("name")};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"optics":J.optics=Fe(me);break}}Zt.cameras[ee.getAttribute("id")]=J}function Fe(ee){for(let J=0;J<ee.childNodes.length;J++){const he=ee.childNodes[J];switch(he.nodeName){case"technique_common":return dt(he)}}return{}}function dt(ee){const J={};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];switch(le.nodeName){case"perspective":case"orthographic":J.technique=le.nodeName,J.parameters=ot(le);break}}return J}function ot(ee){const J={};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];switch(le.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":J[le.nodeName]=parseFloat(le.textContent);break}}return J}function je(ee){let J;switch(ee.optics.technique){case"perspective":J=new Aa(ee.optics.parameters.yfov,ee.optics.parameters.aspect_ratio,ee.optics.parameters.znear,ee.optics.parameters.zfar);break;case"orthographic":let he=ee.optics.parameters.ymag,le=ee.optics.parameters.xmag;const me=ee.optics.parameters.aspect_ratio;le=le===void 0?he*me:le,he=he===void 0?le/me:he,le*=.5,he*=.5,J=new Du(-le,le,he,-he,ee.optics.parameters.znear,ee.optics.parameters.zfar);break;default:J=new Aa;break}return J.name=ee.name||"",J}function Ze(ee){const J=Zt.cameras[ee];return J!==void 0?M(J,je):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",ee),null)}function Dt(ee){let J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"technique_common":J=be(me);break}}Zt.lights[ee.getAttribute("id")]=J}function be(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"directional":case"point":case"spot":case"ambient":J.technique=me.nodeName,J.parameters=He(me)}}return J}function He(ee){const J={};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"color":const Je=r(me.textContent);J.color=new Ct().fromArray(Je),Xn.colorSpaceToWorking(J.color,na);break;case"falloff_angle":J.falloffAngle=parseFloat(me.textContent);break;case"quadratic_attenuation":const st=parseFloat(me.textContent);J.distance=st?Math.sqrt(1/st):0;break}}return J}function vt(ee){let J;switch(ee.technique){case"directional":J=new hA;break;case"point":J=new dA;break;case"spot":J=new fA;break;case"ambient":J=new pA;break}return ee.parameters.color&&J.color.copy(ee.parameters.color),ee.parameters.distance&&(J.distance=ee.parameters.distance),J}function ye(ee){const J=Zt.lights[ee];return J!==void 0?M(J,vt):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",ee),null)}function at(ee){const J={name:ee.getAttribute("name"),sources:{},vertices:{},primitives:[]},he=i(ee,"mesh")[0];if(he!==void 0){for(let le=0;le<he.childNodes.length;le++){const me=he.childNodes[le];if(me.nodeType!==1)continue;const Je=me.getAttribute("id");switch(me.nodeName){case"source":J.sources[Je]=ft(me);break;case"vertices":J.vertices=bt(me);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",me.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":J.primitives.push(yt(me));break;default:console.log(me)}}Zt.geometries[ee.getAttribute("id")]=J}}function ft(ee){const J={array:[],stride:3};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"float_array":J.array=r(le.textContent);break;case"Name_array":J.array=a(le.textContent);break;case"technique_common":const me=i(le,"accessor")[0];me!==void 0&&(J.stride=parseInt(me.getAttribute("stride")));break}}return J}function bt(ee){const J={};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];le.nodeType===1&&(J[le.getAttribute("semantic")]=c(le.getAttribute("source")))}return J}function yt(ee){const J={type:ee.nodeName,material:ee.getAttribute("material"),count:parseInt(ee.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let he=0,le=ee.childNodes.length;he<le;he++){const me=ee.childNodes[he];if(me.nodeType===1)switch(me.nodeName){case"input":const Je=c(me.getAttribute("source")),st=me.getAttribute("semantic"),kt=parseInt(me.getAttribute("offset")),Rt=parseInt(me.getAttribute("set")),Nt=Rt>0?st+Rt:st;J.inputs[Nt]={id:Je,offset:kt},J.stride=Math.max(J.stride,kt+1),st==="TEXCOORD"&&(J.hasUV=!0);break;case"vcount":J.vcount=o(me.textContent);break;case"p":J.p=o(me.textContent);break}}return J}function lt(ee){const J={};for(let he=0;he<ee.length;he++){const le=ee[he];J[le.type]===void 0&&(J[le.type]=[]),J[le.type].push(le)}return J}function Ot(ee){let J=0;for(let he=0,le=ee.length;he<le;he++)ee[he].hasUV===!0&&J++;J>0&&J<ee.length&&(ee.uvsNeedsFix=!0)}function Wt(ee){const J={},he=ee.sources,le=ee.vertices,me=ee.primitives;if(me.length===0)return{};const Je=lt(me);for(const st in Je){const kt=Je[st];Ot(kt),J[st]=bn(kt,he,le)}return J}function bn(ee,J,he){const le={},me={array:[],stride:0},Je={array:[],stride:0},st={array:[],stride:0},kt={array:[],stride:0},Rt={array:[],stride:0},Nt={array:[],stride:4},Jt={array:[],stride:4},St=new Tn,qt=[];let Ft=0;for(let $t=0;$t<ee.length;$t++){const Qt=ee[$t],Ti=Qt.inputs;let Hn=0;switch(Qt.type){case"lines":case"linestrips":Hn=Qt.count*2;break;case"triangles":Hn=Qt.count*3;break;case"polylist":for(let Yn=0;Yn<Qt.count;Yn++){const Rn=Qt.vcount[Yn];switch(Rn){case 3:Hn+=3;break;case 4:Hn+=6;break;default:Hn+=(Rn-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknown primitive type:",Qt.type)}St.addGroup(Ft,Hn,$t),Ft+=Hn,Qt.material&&qt.push(Qt.material);for(const Yn in Ti){const Rn=Ti[Yn];switch(Yn){case"VERTEX":for(const Ur in he){const ua=he[Ur];switch(Ur){case"POSITION":const ks=me.array.length;if(tn(Qt,J[ua],Rn.offset,me.array),me.stride=J[ua].stride,J.skinWeights&&J.skinIndices&&(tn(Qt,J.skinIndices,Rn.offset,Nt.array),tn(Qt,J.skinWeights,Rn.offset,Jt.array)),Qt.hasUV===!1&&ee.uvsNeedsFix===!0){const ad=(me.array.length-ks)/me.stride;for(let Ia=0;Ia<ad;Ia++)st.array.push(0,0)}break;case"NORMAL":tn(Qt,J[ua],Rn.offset,Je.array),Je.stride=J[ua].stride;break;case"COLOR":tn(Qt,J[ua],Rn.offset,Rt.array),Rt.stride=J[ua].stride;break;case"TEXCOORD":tn(Qt,J[ua],Rn.offset,st.array),st.stride=J[ua].stride;break;case"TEXCOORD1":tn(Qt,J[ua],Rn.offset,kt.array),st.stride=J[ua].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',Ur)}}break;case"NORMAL":tn(Qt,J[Rn.id],Rn.offset,Je.array),Je.stride=J[Rn.id].stride;break;case"COLOR":tn(Qt,J[Rn.id],Rn.offset,Rt.array,!0),Rt.stride=J[Rn.id].stride;break;case"TEXCOORD":tn(Qt,J[Rn.id],Rn.offset,st.array),st.stride=J[Rn.id].stride;break;case"TEXCOORD1":tn(Qt,J[Rn.id],Rn.offset,kt.array),kt.stride=J[Rn.id].stride;break}}}return me.array.length>0&&St.setAttribute("position",new Ht(me.array,me.stride)),Je.array.length>0&&St.setAttribute("normal",new Ht(Je.array,Je.stride)),Rt.array.length>0&&St.setAttribute("color",new Ht(Rt.array,Rt.stride)),st.array.length>0&&St.setAttribute("uv",new Ht(st.array,st.stride)),kt.array.length>0&&St.setAttribute("uv1",new Ht(kt.array,kt.stride)),Nt.array.length>0&&St.setAttribute("skinIndex",new Ht(Nt.array,Nt.stride)),Jt.array.length>0&&St.setAttribute("skinWeight",new Ht(Jt.array,Jt.stride)),le.data=St,le.type=ee[0].type,le.materialKeys=qt,le}function tn(ee,J,he,le,me=!1){const Je=ee.p,st=ee.stride,kt=ee.vcount;function Rt(St){let qt=Je[St+he]*Jt;const Ft=qt+Jt;for(;qt<Ft;qt++)le.push(Nt[qt]);if(me){const $t=le.length-Jt-1;ea.setRGB(le[$t+0],le[$t+1],le[$t+2],na),le[$t+0]=ea.r,le[$t+1]=ea.g,le[$t+2]=ea.b}}const Nt=J.array,Jt=J.stride;if(ee.vcount!==void 0){let St=0;for(let qt=0,Ft=kt.length;qt<Ft;qt++){const $t=kt[qt];if($t===4){const Qt=St+st*0,Ti=St+st*1,Hn=St+st*2,Yn=St+st*3;Rt(Qt),Rt(Ti),Rt(Yn),Rt(Ti),Rt(Hn),Rt(Yn)}else if($t===3){const Qt=St+st*0,Ti=St+st*1,Hn=St+st*2;Rt(Qt),Rt(Ti),Rt(Hn)}else if($t>4)for(let Qt=1,Ti=$t-2;Qt<=Ti;Qt++){const Hn=St+st*0,Yn=St+st*Qt,Rn=St+st*(Qt+1);Rt(Hn),Rt(Yn),Rt(Rn)}St+=st*$t}}else for(let St=0,qt=Je.length;St<qt;St+=st)Rt(St)}function di(ee){return M(Zt.geometries[ee],Wt)}function Yt(ee){const J={name:ee.getAttribute("name")||"",joints:{},links:[]};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"technique_common":Us(le,J);break}}Zt.kinematicsModels[ee.getAttribute("id")]=J}function la(ee){return ee.build!==void 0?ee.build:ee}function Mr(ee){return M(Zt.kinematicsModels[ee],la)}function Us(ee,J){for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"joint":J.joints[le.getAttribute("sid")]=ia(le);break;case"link":J.links.push(ja(le));break}}}function ia(ee){let J;for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"prismatic":case"revolute":J=os(le);break}}return J}function os(ee){const J={sid:ee.getAttribute("sid"),name:ee.getAttribute("name")||"",axis:new pe,limits:{min:0,max:0},type:ee.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"axis":const me=r(le.textContent);J.axis.fromArray(me);break;case"limits":const Je=le.getElementsByTagName("max")[0],st=le.getElementsByTagName("min")[0];J.limits.max=parseFloat(Je.textContent),J.limits.min=parseFloat(st.textContent);break}}return J.limits.min>=J.limits.max&&(J.static=!0),J.middlePosition=(J.limits.min+J.limits.max)/2,J}function ja(ee){const J={sid:ee.getAttribute("sid"),name:ee.getAttribute("name")||"",attachments:[],transforms:[]};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"attachment_full":J.attachments.push(Ga(le));break;case"matrix":case"translate":case"rotate":J.transforms.push(ca(le));break}}return J}function Ga(ee){const J={joint:ee.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"link":J.links.push(ja(le));break;case"matrix":case"translate":case"rotate":J.transforms.push(ca(le));break}}return J}function ca(ee){const J={type:ee.nodeName},he=r(ee.textContent);switch(J.type){case"matrix":J.obj=new rn,J.obj.fromArray(he).transpose();break;case"translate":J.obj=new pe,J.obj.fromArray(he);break;case"rotate":J.obj=new pe,J.obj.fromArray(he),J.angle=es.degToRad(he[3]);break}return J}function _n(ee){const J={name:ee.getAttribute("name")||"",rigidBodies:{}};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"rigid_body":J.rigidBodies[le.getAttribute("name")]={},Vi(le,J.rigidBodies[le.getAttribute("name")]);break}}Zt.physicsModels[ee.getAttribute("id")]=J}function Vi(ee,J){for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"technique_common":fr(le,J);break}}}function fr(ee,J){for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"inertia":J.inertia=r(le.textContent);break;case"mass":J.mass=r(le.textContent)[0];break}}}function Bs(ee){const J={bindJointAxis:[]};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"bind_joint_axis":J.bindJointAxis.push(al(le));break}}Zt.kinematicsScenes[c(ee.getAttribute("url"))]=J}function al(ee){const J={target:ee.getAttribute("target").split("/").pop()};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType===1)switch(le.nodeName){case"axis":const me=le.getElementsByTagName("param")[0];J.axis=me.textContent;const Je=J.axis.split("inst_").pop().split("axis")[0];J.jointIndex=Je.substring(0,Je.length-1);break}}return J}function Wl(ee){return ee.build!==void 0?ee.build:ee}function io(ee){return M(Zt.kinematicsScenes[ee],Wl)}function hi(){const ee=Object.keys(Zt.kinematicsModels)[0],J=Object.keys(Zt.kinematicsScenes)[0],he=Object.keys(Zt.visualScenes)[0];if(ee===void 0||J===void 0)return;const le=Mr(ee),me=io(J),Je=Pn(he),st=me.bindJointAxis,kt={};for(let Jt=0,St=st.length;Jt<St;Jt++){const qt=st[Jt],Ft=Dn.querySelector('[sid="'+qt.target+'"]');if(Ft){const $t=Ft.parentElement;Rt(qt.jointIndex,$t)}}function Rt(Jt,St){const qt=St.getAttribute("name"),Ft=le.joints[Jt];Je.traverse(function($t){$t.name===qt&&(kt[Jt]={object:$t,transforms:Ii(St),joint:Ft,position:Ft.zeroPosition})})}const Nt=new rn;$i={joints:le&&le.joints,getJointValue:function(Jt){const St=kt[Jt];if(St)return St.position;console.warn("THREE.ColladaLoader: Joint "+Jt+" doesn't exist.")},setJointValue:function(Jt,St){const qt=kt[Jt];if(qt){const Ft=qt.joint;if(St>Ft.limits.max||St<Ft.limits.min)console.warn("THREE.ColladaLoader: Joint "+Jt+" value "+St+" outside of limits (min: "+Ft.limits.min+", max: "+Ft.limits.max+").");else if(Ft.static)console.warn("THREE.ColladaLoader: Joint "+Jt+" is static.");else{const $t=qt.object,Qt=Ft.axis,Ti=qt.transforms;ae.identity();for(let Hn=0;Hn<Ti.length;Hn++){const Yn=Ti[Hn];if(Yn.sid&&Yn.sid.indexOf(Jt)!==-1)switch(Ft.type){case"revolute":ae.multiply(Nt.makeRotationAxis(Qt,es.degToRad(St)));break;case"prismatic":ae.multiply(Nt.makeTranslation(Qt.x*St,Qt.y*St,Qt.z*St));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Ft.type);break}else switch(Yn.type){case"matrix":ae.multiply(Yn.obj);break;case"translate":ae.multiply(Nt.makeTranslation(Yn.obj.x,Yn.obj.y,Yn.obj.z));break;case"scale":ae.scale(Yn.obj);break;case"rotate":ae.multiply(Nt.makeRotationAxis(Yn.obj,Yn.angle));break}}$t.matrix.copy(ae),$t.matrix.decompose($t.position,$t.quaternion,$t.scale),kt[Jt].position=St}}else console.log("THREE.ColladaLoader: "+Jt+" does not exist.")}}}function Ii(ee){const J=[],he=Dn.querySelector('[id="'+ee.id+'"]');for(let le=0;le<he.childNodes.length;le++){const me=he.childNodes[le];if(me.nodeType!==1)continue;let Je,st;switch(me.nodeName){case"matrix":Je=r(me.textContent);const kt=new rn().fromArray(Je).transpose();J.push({sid:me.getAttribute("sid"),type:me.nodeName,obj:kt});break;case"translate":case"scale":Je=r(me.textContent),st=new pe().fromArray(Je),J.push({sid:me.getAttribute("sid"),type:me.nodeName,obj:st});break;case"rotate":Je=r(me.textContent),st=new pe().fromArray(Je);const Rt=es.degToRad(Je[3]);J.push({sid:me.getAttribute("sid"),type:me.nodeName,obj:st,angle:Rt});break}}return J}function Pi(ee){const J=ee.getElementsByTagName("node");for(let he=0;he<J.length;he++){const le=J[he];le.hasAttribute("id")===!1&&le.setAttribute("id",f())}}const ae=new rn,Ce=new pe;function $e(ee){const J={name:ee.getAttribute("name")||"",type:ee.getAttribute("type"),id:ee.getAttribute("id"),sid:ee.getAttribute("sid"),matrix:new rn,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];if(le.nodeType!==1)continue;let me;switch(le.nodeName){case"node":J.nodes.push(le.getAttribute("id")),$e(le);break;case"instance_camera":J.instanceCameras.push(c(le.getAttribute("url")));break;case"instance_controller":J.instanceControllers.push(We(le));break;case"instance_light":J.instanceLights.push(c(le.getAttribute("url")));break;case"instance_geometry":J.instanceGeometries.push(We(le));break;case"instance_node":J.instanceNodes.push(c(le.getAttribute("url")));break;case"matrix":me=r(le.textContent),J.matrix.multiply(ae.fromArray(me).transpose()),J.transforms[le.getAttribute("sid")]=le.nodeName;break;case"translate":me=r(le.textContent),Ce.fromArray(me),J.matrix.multiply(ae.makeTranslation(Ce.x,Ce.y,Ce.z)),J.transforms[le.getAttribute("sid")]=le.nodeName;break;case"rotate":me=r(le.textContent);const Je=es.degToRad(me[3]);J.matrix.multiply(ae.makeRotationAxis(Ce.fromArray(me),Je)),J.transforms[le.getAttribute("sid")]=le.nodeName;break;case"scale":me=r(le.textContent),J.matrix.scale(Ce.fromArray(me)),J.transforms[le.getAttribute("sid")]=le.nodeName;break;case"extra":break;default:console.log(le)}}return un(J.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",J.id):Zt.nodes[J.id]=J,J}function We(ee){const J={id:c(ee.getAttribute("url")),materials:{},skeletons:[]};for(let he=0;he<ee.childNodes.length;he++){const le=ee.childNodes[he];switch(le.nodeName){case"bind_material":const me=le.getElementsByTagName("instance_material");for(let Je=0;Je<me.length;Je++){const st=me[Je],kt=st.getAttribute("symbol"),Rt=st.getAttribute("target");J.materials[kt]=c(Rt)}break;case"skeleton":J.skeletons.push(c(le.textContent));break}}return J}function Le(ee,J){const he=[],le=[];let me,Je,st;for(me=0;me<ee.length;me++){const Nt=ee[me];let Jt;if(un(Nt))Jt=Xt(Nt),wt(Jt,J,he);else if(Zn(Nt)){const qt=Zt.visualScenes[Nt].children;for(let Ft=0;Ft<qt.length;Ft++){const $t=qt[Ft];if($t.type==="JOINT"){const Qt=Xt($t.id);wt(Qt,J,he)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",Nt)}for(me=0;me<J.length;me++)for(Je=0;Je<he.length;Je++)if(st=he[Je],st.bone.name===J[me].name){le[me]=st,st.processed=!0;break}for(me=0;me<he.length;me++)st=he[me],st.processed===!1&&(le.push(st),st.processed=!0);const kt=[],Rt=[];for(me=0;me<le.length;me++)st=le[me],kt.push(st.bone),Rt.push(st.boneInverse);return new dy(kt,Rt)}function wt(ee,J,he){ee.traverse(function(le){if(le.isBone===!0){let me;for(let Je=0;Je<J.length;Je++){const st=J[Je];if(st.name===le.name){me=st.boneInverse;break}}me===void 0&&(me=new rn),he.push({bone:le,boneInverse:me,processed:!1})}})}function zt(ee){const J=[],he=ee.matrix,le=ee.nodes,me=ee.type,Je=ee.instanceCameras,st=ee.instanceControllers,kt=ee.instanceLights,Rt=ee.instanceGeometries,Nt=ee.instanceNodes;for(let St=0,qt=le.length;St<qt;St++)J.push(Xt(le[St]));for(let St=0,qt=Je.length;St<qt;St++){const Ft=Ze(Je[St]);Ft!==null&&J.push(Ft.clone())}for(let St=0,qt=st.length;St<qt;St++){const Ft=st[St],$t=re(Ft.id),Qt=di($t.id),Ti=sn(Qt,Ft.materials),Hn=Ft.skeletons,Yn=$t.skin.joints,Rn=Le(Hn,Yn);for(let Ur=0,ua=Ti.length;Ur<ua;Ur++){const ks=Ti[Ur];ks.isSkinnedMesh&&(ks.bind(Rn,$t.skin.bindMatrix),ks.normalizeSkinWeights()),J.push(ks)}}for(let St=0,qt=kt.length;St<qt;St++){const Ft=ye(kt[St]);Ft!==null&&J.push(Ft.clone())}for(let St=0,qt=Rt.length;St<qt;St++){const Ft=Rt[St],$t=di(Ft.id),Qt=sn($t,Ft.materials);for(let Ti=0,Hn=Qt.length;Ti<Hn;Ti++)J.push(Qt[Ti])}for(let St=0,qt=Nt.length;St<qt;St++)J.push(Xt(Nt[St]).clone());let Jt;if(le.length===0&&J.length===1)Jt=J[0];else{Jt=me==="JOINT"?new f2:new Vf;for(let St=0;St<J.length;St++)Jt.add(J[St])}return Jt.name=me==="JOINT"?ee.sid:ee.name,Jt.matrix.copy(he),Jt.matrix.decompose(Jt.position,Jt.quaternion,Jt.scale),Jt}const Bt=new Fl({name:Pr.DEFAULT_MATERIAL_NAME,color:16711935});function jt(ee,J){const he=[];for(let le=0,me=ee.length;le<me;le++){const Je=J[ee[le]];Je===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",ee[le]),he.push(Bt)):he.push(Te(Je))}return he}function sn(ee,J){const he=[];for(const le in ee){const me=ee[le],Je=jt(me.materialKeys,J);if(Je.length===0&&(le==="lines"||le==="linestrips"?Je.push(new Ir):Je.push(new wh)),le==="lines"||le==="linestrips")for(let Nt=0,Jt=Je.length;Nt<Jt;Nt++){const St=Je[Nt];if(St.isMeshPhongMaterial===!0||St.isMeshLambertMaterial===!0){const qt=new Ir;qt.color.copy(St.color),qt.opacity=St.opacity,qt.transparent=St.transparent,Je[Nt]=qt}}const st=me.data.attributes.skinIndex!==void 0,kt=Je.length===1?Je[0]:Je;let Rt;switch(le){case"lines":Rt=new jl(me.data,kt);break;case"linestrips":Rt=new Vu(me.data,kt);break;case"triangles":case"polylist":st?Rt=new YM(me.data,kt):Rt=new oa(me.data,kt);break}he.push(Rt)}return he}function un(ee){return Zt.nodes[ee]!==void 0}function Xt(ee){return M(Zt.nodes[ee],zt)}function An(ee){const J={name:ee.getAttribute("name"),children:[]};Pi(ee);const he=i(ee,"node");for(let le=0;le<he.length;le++)J.children.push($e(he[le]));Zt.visualScenes[ee.getAttribute("id")]=J}function Wn(ee){const J=new Vf;J.name=ee.name;const he=ee.children;for(let le=0;le<he.length;le++){const me=he[le];J.add(Xt(me.id))}return J}function Zn(ee){return Zt.visualScenes[ee]!==void 0}function Pn(ee){return M(Zt.visualScenes[ee],Wn)}function pi(ee){const J=i(ee,"instance_visual_scene")[0];return Pn(c(J.getAttribute("url")))}function on(){const ee=Zt.clips;if(h(ee)===!0){if(h(Zt.animations)===!1){const J=[];for(const he in Zt.animations){const le=R(he);for(let me=0,Je=le.length;me<Je;me++)J.push(le[me])}ta.push(new Nh("default",-1,J))}}else for(const J in ee)ta.push(Q(J))}function vi(ee){let J="";const he=[ee];for(;he.length;){const le=he.shift();le.nodeType===Node.TEXT_NODE?J+=le.textContent:(J+=`
`,he.push(...le.childNodes))}return J.trim()}if(e.length===0)return{scene:new l2};const Un=new DOMParser().parseFromString(e,"application/xml"),Dn=i(Un,"COLLADA")[0],ls=Un.getElementsByTagName("parsererror")[0];if(ls!==void 0){const ee=i(ls,"div")[0];let J;return ee?J=ee.textContent:J=vi(ls),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,J),null}const Ei=Dn.getAttribute("version");console.debug("THREE.ColladaLoader: File version",Ei);const cs=m(i(Dn,"asset")[0]),bi=new cA(this.manager);bi.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);let aa;d4&&(aa=new d4(this.manager),aa.setPath(this.resourcePath||t));const ea=new Ct,ta=[];let $i={},us=0;const Zt={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};y(Dn,"library_animations","animation",A),y(Dn,"library_animation_clips","animation_clip",H),y(Dn,"library_controllers","controller",W),y(Dn,"library_images","image",te),y(Dn,"library_effects","effect",ze),y(Dn,"library_materials","material",xe),y(Dn,"library_cameras","camera",gt),y(Dn,"library_lights","light",Dt),y(Dn,"library_geometries","geometry",at),y(Dn,"library_nodes","node",$e),y(Dn,"library_visual_scenes","visual_scene",An),y(Dn,"library_kinematics_models","kinematics_model",Yt),y(Dn,"library_physics_models","physics_model",_n),y(Dn,"scene","instance_kinematics_scene",Bs),b(Zt.animations,w),b(Zt.clips,K),b(Zt.controllers,fe),b(Zt.images,se),b(Zt.effects,de),b(Zt.materials,Ne),b(Zt.cameras,je),b(Zt.lights,vt),b(Zt.geometries,Wt),b(Zt.visualScenes,Wn),on(),hi();const Co=pi(i(Dn,"scene")[0]);return Co.animations=ta,cs.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Co.rotation.set(-Math.PI/2,0,0)),Co.scale.multiplyScalar(cs.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),ta},kinematics:$i,library:Zt,scene:Co}}}const h4=new pe,kK=new Ps,Wv=new rn,Lf=new rn,Yv=new Fa,Xv=new pe(1,1,1),qv=new pe;class N2 extends mi{constructor(...e){super(...e),this.urdfNode=null,this.urdfName=""}copy(e,t){return super.copy(e,t),this.urdfNode=e.urdfNode,this.urdfName=e.urdfName,this}}class FK extends N2{constructor(...e){super(...e),this.isURDFCollider=!0,this.type="URDFCollider"}}class VK extends N2{constructor(...e){super(...e),this.isURDFVisual=!0,this.type="URDFVisual"}}class T9 extends N2{constructor(...e){super(...e),this.isURDFLink=!0,this.type="URDFLink"}}class C9 extends N2{get jointType(){return this._jointType}set jointType(e){if(this.jointType!==e)switch(this._jointType=e,this.matrixWorldNeedsUpdate=!0,e){case"fixed":this.jointValue=[];break;case"continuous":case"revolute":case"prismatic":this.jointValue=new Array(1).fill(0);break;case"planar":this.jointValue=new Array(3).fill(0),this.axis=new pe(0,0,1);break;case"floating":this.jointValue=new Array(6).fill(0);break}}get angle(){return this.jointValue[0]}constructor(...e){super(...e),this.isURDFJoint=!0,this.type="URDFJoint",this.jointValue=null,this.jointType="fixed",this.axis=new pe(1,0,0),this.limit={lower:0,upper:0},this.ignoreLimits=!1,this.origPosition=null,this.origQuaternion=null,this.mimicJoints=[]}copy(e,t){return super.copy(e,t),this.jointType=e.jointType,this.axis=e.axis.clone(),this.limit.lower=e.limit.lower,this.limit.upper=e.limit.upper,this.ignoreLimits=!1,this.jointValue=[...e.jointValue],this.origPosition=e.origPosition?e.origPosition.clone():null,this.origQuaternion=e.origQuaternion?e.origQuaternion.clone():null,this.mimicJoints=[...e.mimicJoints],this}setJointValue(...e){e=e.map(i=>i===null?null:parseFloat(i)),(!this.origPosition||!this.origQuaternion)&&(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone());let t=!1;switch(this.mimicJoints.forEach(i=>{t=i.updateFromMimickedJoint(...e)||t}),this.jointType){case"fixed":return t;case"continuous":case"revolute":{let i=e[0];return i==null||i===this.jointValue[0]?t:(!this.ignoreLimits&&this.jointType==="revolute"&&(i=Math.min(this.limit.upper,i),i=Math.max(this.limit.lower,i)),this.quaternion.setFromAxisAngle(this.axis,i).premultiply(this.origQuaternion),this.jointValue[0]!==i?(this.jointValue[0]=i,this.matrixWorldNeedsUpdate=!0,!0):t)}case"prismatic":{let i=e[0];return i==null||i===this.jointValue[0]?t:(this.ignoreLimits||(i=Math.min(this.limit.upper,i),i=Math.max(this.limit.lower,i)),this.position.copy(this.origPosition),h4.copy(this.axis).applyEuler(this.rotation),this.position.addScaledVector(h4,i),this.jointValue[0]!==i?(this.jointValue[0]=i,this.matrixWorldNeedsUpdate=!0,!0):t)}case"floating":return this.jointValue.every((i,a)=>e[a]===i||e[a]===null)?t:(this.jointValue[0]=e[0]!==null?e[0]:this.jointValue[0],this.jointValue[1]=e[1]!==null?e[1]:this.jointValue[1],this.jointValue[2]=e[2]!==null?e[2]:this.jointValue[2],this.jointValue[3]=e[3]!==null?e[3]:this.jointValue[3],this.jointValue[4]=e[4]!==null?e[4]:this.jointValue[4],this.jointValue[5]=e[5]!==null?e[5]:this.jointValue[5],Lf.compose(this.origPosition,this.origQuaternion,Xv),Yv.setFromEuler(kK.set(this.jointValue[3],this.jointValue[4],this.jointValue[5],"XYZ")),qv.set(this.jointValue[0],this.jointValue[1],this.jointValue[2]),Wv.compose(qv,Yv,Xv),Lf.premultiply(Wv),this.position.setFromMatrixPosition(Lf),this.rotation.setFromRotationMatrix(Lf),this.matrixWorldNeedsUpdate=!0,!0);case"planar":return this.jointValue.every((i,a)=>e[a]===i||e[a]===null)?t:(this.jointValue[0]=e[0]!==null?e[0]:this.jointValue[0],this.jointValue[1]=e[1]!==null?e[1]:this.jointValue[1],this.jointValue[2]=e[2]!==null?e[2]:this.jointValue[2],Lf.compose(this.origPosition,this.origQuaternion,Xv),Yv.setFromAxisAngle(this.axis,this.jointValue[2]),qv.set(this.jointValue[0],this.jointValue[1],0),Wv.compose(qv,Yv,Xv),Lf.premultiply(Wv),this.position.setFromMatrixPosition(Lf),this.rotation.setFromRotationMatrix(Lf),this.matrixWorldNeedsUpdate=!0,!0)}return t}}class p4 extends C9{constructor(...e){super(...e),this.type="URDFMimicJoint",this.mimicJoint=null,this.offset=0,this.multiplier=1}updateFromMimickedJoint(...e){const t=e.map(i=>i*this.multiplier+this.offset);return super.setJointValue(...t)}copy(e,t){return super.copy(e,t),this.mimicJoint=e.mimicJoint,this.offset=e.offset,this.multiplier=e.multiplier,this}}let HK=class extends T9{constructor(...e){super(...e),this.isURDFRobot=!0,this.urdfNode=null,this.urdfRobotNode=null,this.robotName=null,this.links=null,this.joints=null,this.colliders=null,this.visual=null,this.frames=null}copy(e,t){super.copy(e,t),this.urdfRobotNode=e.urdfRobotNode,this.robotName=e.robotName,this.links={},this.joints={},this.colliders={},this.visual={},this.traverse(i=>{i.isURDFJoint&&i.urdfName in e.joints&&(this.joints[i.urdfName]=i),i.isURDFLink&&i.urdfName in e.links&&(this.links[i.urdfName]=i),i.isURDFCollider&&i.urdfName in e.colliders&&(this.colliders[i.urdfName]=i),i.isURDFVisual&&i.urdfName in e.visual&&(this.visual[i.urdfName]=i)});for(const i in this.joints)this.joints[i].mimicJoints=this.joints[i].mimicJoints.map(a=>this.joints[a.name]);return this.frames={...this.colliders,...this.visual,...this.links,...this.joints},this}getFrame(e){return this.frames[e]}setJointValue(e,...t){const i=this.joints[e];return i?i.setJointValue(...t):!1}setJointValues(e){let t=!1;for(const i in e){const a=e[i];Array.isArray(a)?t=this.setJointValue(i,...a)||t:t=this.setJointValue(i,a)||t}return t}};const GS=new Fa,m4=new Ps;function v0(n){return n?n.trim().split(/\s+/g).map(e=>parseFloat(e)):[0,0,0]}function g4(n,e,t=!1){t||n.rotation.set(0,0,0),m4.set(e[0],e[1],e[2],"ZYX"),GS.setFromEuler(m4),GS.multiply(n.quaternion),n.quaternion.copy(GS)}class jK{constructor(e){this.manager=e||lA,this.loadMeshCb=this.defaultMeshLoader.bind(this),this.parseVisual=!0,this.parseCollision=!1,this.packages="",this.workingPath="",this.fetchOptions={}}loadAsync(e){return new Promise((t,i)=>{this.load(e,t,null,i)})}load(e,t,i,a){const r=this.manager,o=K1.extractUrlBase(e),c=this.manager.resolveURL(e);r.itemStart(c),fetch(c,this.fetchOptions).then(f=>{if(f.ok)return i&&i(null),f.text();throw new Error(`URDFLoader: Failed to load url '${c}' with error code ${f.status} : ${f.statusText}.`)}).then(f=>{const h=this.parse(f,this.workingPath||o);t(h),r.itemEnd(c)}).catch(f=>{a?a(f):console.error("URDFLoader: Error loading file.",f),r.itemError(c),r.itemEnd(c)})}parse(e,t=this.workingPath){const i=this.packages,a=this.loadMeshCb,r=this.parseVisual,o=this.parseCollision,c=this.manager,f={},h={},m={};function g(E){if(!/^package:\/\//.test(E))return t?t+E:E;const[w,R]=E.replace(/^package:\/\//,"").split(/\/(.+)/);if(typeof i=="string")return i.endsWith(w)?i+"/"+R:i+"/"+w+"/"+R;if(i instanceof Function)return i(w)+"/"+R;if(typeof i=="object")return w in i?i[w]+"/"+R:(console.error(`URDFLoader : ${w} not found in provided package list.`),null)}function v(E){let w;E instanceof Document?w=[...E.children]:E instanceof Element?w=[E]:w=[...new DOMParser().parseFromString(E,"text/xml").children];const R=w.filter(z=>z.nodeName==="robot").pop();return y(R)}function y(E){const w=[...E.children],R=w.filter(V=>V.nodeName.toLowerCase()==="link"),z=w.filter(V=>V.nodeName.toLowerCase()==="joint"),O=w.filter(V=>V.nodeName.toLowerCase()==="material"),P=new HK;P.robotName=E.getAttribute("name"),P.urdfRobotNode=E,O.forEach(V=>{const U=V.getAttribute("name");m[U]=A(V)});const B={},L={};R.forEach(V=>{const U=V.getAttribute("name"),G=E.querySelector(`child[link="${U}"]`)===null;f[U]=M(V,B,L,G?P:null)}),z.forEach(V=>{const U=V.getAttribute("name");h[U]=b(V)}),P.joints=h,P.links=f,P.colliders=L,P.visual=B;const D=Object.values(h);return D.forEach(V=>{V instanceof p4&&h[V.mimicJoint].mimicJoints.push(V)}),D.forEach(V=>{const U=new Set,G=X=>{if(U.has(X))throw new Error("URDFLoader: Detected an infinite loop of mimic joints.");U.add(X),X.mimicJoints.forEach($=>{G($)})};G(V)}),P.frames={...L,...B,...f,...h},P}function b(E){const w=[...E.children],R=E.getAttribute("type");let z;const O=w.find(U=>U.nodeName.toLowerCase()==="mimic");O?(z=new p4,z.mimicJoint=O.getAttribute("joint"),z.multiplier=parseFloat(O.getAttribute("multiplier")||1),z.offset=parseFloat(O.getAttribute("offset")||0)):z=new C9,z.urdfNode=E,z.name=E.getAttribute("name"),z.urdfName=z.name,z.jointType=R;let P=null,B=null,L=[0,0,0],D=[0,0,0];w.forEach(U=>{const G=U.nodeName.toLowerCase();G==="origin"?(L=v0(U.getAttribute("xyz")),D=v0(U.getAttribute("rpy"))):G==="child"?B=f[U.getAttribute("link")]:G==="parent"?P=f[U.getAttribute("link")]:G==="limit"&&(z.limit.lower=parseFloat(U.getAttribute("lower")||z.limit.lower),z.limit.upper=parseFloat(U.getAttribute("upper")||z.limit.upper))}),P.add(z),z.add(B),g4(z,D),z.position.set(L[0],L[1],L[2]);const V=w.filter(U=>U.nodeName.toLowerCase()==="axis")[0];if(V){const U=V.getAttribute("xyz").split(/\s+/g).map(G=>parseFloat(G));z.axis=new pe(U[0],U[1],U[2]),z.axis.normalize()}return z}function M(E,w,R,z=null){z===null&&(z=new T9);const O=[...E.children];return z.name=E.getAttribute("name"),z.urdfName=z.name,z.urdfNode=E,r&&O.filter(B=>B.nodeName.toLowerCase()==="visual").forEach(B=>{const L=S(B,m);if(z.add(L),B.hasAttribute("name")){const D=B.getAttribute("name");L.name=D,L.urdfName=D,w[D]=L}}),o&&O.filter(B=>B.nodeName.toLowerCase()==="collision").forEach(B=>{const L=S(B);if(z.add(L),B.hasAttribute("name")){const D=B.getAttribute("name");L.name=D,L.urdfName=D,R[D]=L}}),z}function A(E){const w=[...E.children],R=new wh;return R.name=E.getAttribute("name")||"",w.forEach(z=>{const O=z.nodeName.toLowerCase();if(O==="color"){const P=z.getAttribute("rgba").split(/\s/g).map(B=>parseFloat(B));R.color.setRGB(P[0],P[1],P[2]),R.opacity=P[3],R.transparent=P[3]<1,R.depthWrite=!R.transparent}else if(O==="texture"){const P=z.getAttribute("filename");if(P){const B=new cA(c),L=g(P);R.map=B.load(L),R.map.colorSpace=na}}}),R}function S(E,w={}){const R=E.nodeName.toLowerCase()==="collision",z=[...E.children];let O=null;const P=z.filter(L=>L.nodeName.toLowerCase()==="material")[0];if(P){const L=P.getAttribute("name");L&&L in w?O=w[L]:O=A(P)}else O=new wh;const B=R?new FK:new VK;return B.urdfNode=E,z.forEach(L=>{const D=L.nodeName.toLowerCase();if(D==="geometry"){const V=L.children[0].nodeName.toLowerCase();if(V==="mesh"){const U=L.children[0].getAttribute("filename"),G=g(U);if(G!==null){const X=L.children[0].getAttribute("scale");if(X){const $=v0(X);B.scale.set($[0],$[1],$[2])}a(G,c,($,H)=>{H?console.error("URDFLoader: Error loading mesh.",H):$&&($ instanceof oa&&($.material=O),$.position.set(0,0,0),$.quaternion.identity(),B.add($))})}}else if(V==="box"){const U=new oa;U.geometry=new td(1,1,1),U.material=O;const G=v0(L.children[0].getAttribute("size"));U.scale.set(G[0],G[1],G[2]),B.add(U)}else if(V==="sphere"){const U=new oa;U.geometry=new fm(1,30,30),U.material=O;const G=parseFloat(L.children[0].getAttribute("radius"))||0;U.scale.set(G,G,G),B.add(U)}else if(V==="cylinder"){const U=new oa;U.geometry=new cm(1,1,1,30),U.material=O;const G=parseFloat(L.children[0].getAttribute("radius"))||0,X=parseFloat(L.children[0].getAttribute("length"))||0;U.scale.set(G,X,G),U.rotation.set(Math.PI/2,0,0),B.add(U)}}else if(D==="origin"){const V=v0(L.getAttribute("xyz")),U=v0(L.getAttribute("rpy"));B.position.set(V[0],V[1],V[2]),B.rotation.set(0,0,0),g4(B,U)}}),B}return v(e)}defaultMeshLoader(e,t,i){/\.stl$/i.test(e)?new UK(t).load(e,r=>{const o=new oa(r,new wh);i(o)}):/\.dae$/i.test(e)?new BK(t).load(e,r=>i(r.scene)):console.warn(`URDFLoader: Could not load model at ${e}.
No loader available`)}}const GK=`<?xml version="1.0" ?>
<!-- Generated using onshape-to-robot -->
<!-- Onshape https://cad.onshape.com/documents/7836ed39be931c6ece17e007/w/39d557f31a0ba179c9e7bd5b/e/c82436d68c7d00e142abc581 -->
<robot name="robot">
  <!-- Link body_foot_3dprint -->
  <link name="body_foot_3dprint">
    <inertial>
      <origin xyz="0.00290221 0.000112574 0.0132607" rpy="0 0 0"/>
      <mass value="0.0617881"/>
      <inertia ixx="6.91521e-05" ixy="-1.98794e-07" ixz="-4.91678e-08" iyy="6.07324e-05" iyz="-3.02441e-08" izz="0.000110345"/>
    </inertial>
    <!-- Part body_foot_3dprint -->
    <visual>
      <origin xyz="-2.45997e-07 6.93889e-18 0.2298" rpy="6.12323e-17 -2.07076e-30 1.5708"/>
      <geometry>
        <mesh filename="meshes/body_foot_3dprint.stl"/>
      </geometry>
      <material name="body_foot_3dprint_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-2.45997e-07 6.93889e-18 0.2298" rpy="6.12323e-17 -2.07076e-30 1.5708"/>
      <geometry>
        <mesh filename="meshes/body_foot_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_horn_dummy -->
    <visual>
      <origin xyz="-2.45997e-07 6.93889e-18 0.0413" rpy="-1.5708 6.01506e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-2.45997e-07 6.93889e-18 0.0413" rpy="-1.5708 6.01506e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part body_turning_3dprint -->
    <visual>
      <origin xyz="-2.45997e-07 6.93889e-18 0.2298" rpy="6.12323e-17 -2.91879e-28 1.5708"/>
      <geometry>
        <mesh filename="meshes/body_turning_3dprint.stl"/>
      </geometry>
      <material name="body_turning_3dprint_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-2.45997e-07 6.93889e-18 0.2298" rpy="6.12323e-17 -2.91879e-28 1.5708"/>
      <geometry>
        <mesh filename="meshes/body_turning_3dprint.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link body_down_3dprint -->
  <link name="body_down_3dprint">
    <inertial>
      <origin xyz="2.19196e-06 0.000620543 0.0201687" rpy="0 0 0"/>
      <mass value="0.78209"/>
      <inertia ixx="0.00233791" ixy="1.10376e-07" ixz="-1.41892e-07" iyy="0.00224458" iyz="-4.46122e-05" izz="0.00254424"/>
    </inertial>
    <!-- Part body_down_3dprint -->
    <visual>
      <origin xyz="3.79972e-17 -3.70588e-18 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/body_down_3dprint.stl"/>
      </geometry>
      <material name="body_down_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.79972e-17 -3.70588e-18 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/body_down_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_tricap_3dprint -->
    <visual>
      <origin xyz="4.80615e-16 -1.03807e-15 0.195" rpy="5.72119e-18 -3.9443e-31 3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_tricap_3dprint.stl"/>
      </geometry>
      <material name="stewart_tricap_3dprint_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="4.80615e-16 -1.03807e-15 0.195" rpy="5.72119e-18 -3.9443e-31 3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_tricap_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part 5w_speaker -->
    <visual>
      <origin xyz="8.17568e-16 -0.005 0.0535833" rpy="1.5708 -3.9443e-31 3.14159"/>
      <geometry>
        <mesh filename="meshes/5w_speaker.stl"/>
      </geometry>
      <material name="5w_speaker_material">
        <color rgba="0.196078 0.196078 0.196078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="8.17568e-16 -0.005 0.0535833" rpy="1.5708 -3.9443e-31 3.14159"/>
      <geometry>
        <mesh filename="meshes/5w_speaker.stl"/>
      </geometry>
    </collision>
    <!-- Part bearing_85x110x13 -->
    <visual>
      <origin xyz="3.79972e-17 -3.70588e-18 -0.0115" rpy="1.5708 -5.55112e-17 1.5708"/>
      <geometry>
        <mesh filename="meshes/bearing_85x110x13.stl"/>
      </geometry>
      <material name="bearing_85x110x13_material">
        <color rgba="0.768627 0.886275 0.952941 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.79972e-17 -3.70588e-18 -0.0115" rpy="1.5708 -5.55112e-17 1.5708"/>
      <geometry>
        <mesh filename="meshes/bearing_85x110x13.stl"/>
      </geometry>
    </collision>
    <!-- Part body_top_3dprint -->
    <visual>
      <origin xyz="6.43558e-16 9.98888e-16 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/body_top_3dprint.stl"/>
      </geometry>
      <material name="body_top_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="6.43558e-16 9.98888e-16 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/body_top_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_main_plate_3dprint -->
    <visual>
      <origin xyz="-3.07628e-26 -5.29396e-23 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_main_plate_3dprint.stl"/>
      </geometry>
      <material name="stewart_main_plate_3dprint_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-3.07628e-26 -5.29396e-23 0.195" rpy="5.72119e-18 -0 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_main_plate_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10 -->
    <visual>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.0501606 0.0418333" rpy="-3.14159 -1.63452e-15 3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_2_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2 -->
    <visual>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0384404 0.0337406 0.0418333" rpy="-3.14159 -1.68259e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_3_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3 -->
    <visual>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 -5.29396e-23 0.0065" rpy="-1.5708 -0 5.65819e-31"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_4_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_4 -->
    <visual>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0384404 0.0337406 0.0418333" rpy="-3.14159 1.68259e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_5_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_5 -->
    <visual>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.01 -0.0501606 0.0418333" rpy="-3.14159 1.63452e-15 -3.14159"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_6_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_6 -->
    <visual>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0484404 0.01642 0.0418333" rpy="-3.14159 1.58644e-15 1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_7_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_7 -->
    <visual>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0484404 0.01642 0.0418333" rpy="-3.14159 -1.58644e-15 -1.0472"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link dc15_a01_horn_dummy -->
  <link name="dc15_a01_horn_dummy">
    <inertial>
      <origin xyz="0.0237505 1.13786e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.81822e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.09002e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part dc15_a01_horn_dummy_2 -->
    <visual>
      <origin xyz="3.46945e-18 0 -0.0065" rpy="1.5708 -2.09044e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_2_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.46945e-18 0 -0.0065" rpy="1.5708 -2.09044e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part mp01062_stewart_arm_3 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball -->
    <visual>
      <origin xyz="0.0825 -1.6545e-10 0.007" rpy="4.32628e-14 -5.84082e-17 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0825 -1.6545e-10 0.007" rpy="4.32628e-14 -5.84082e-17 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_1_link_x -->
  <link name="passive_1_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_1_link_y -->
  <link name="passive_1_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod -->
  <link name="stewart_link_rod">
    <inertial>
      <origin xyz="0.0425001 8.43768e-11 -1.88428e-09" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.63976e-08" ixy="-3.69517e-13" ixz="7.12534e-14" iyy="3.65211e-06" iyz="5.21041e-14" izz="3.66473e-06"/>
    </inertial>
    <!-- Part stewart_link_rod -->
    <visual>
      <origin xyz="0.0425 0 6.93889e-18" rpy="-4.80812e-17 3.69195e-17 -3.11194e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0425 0 6.93889e-18" rpy="-4.80812e-17 3.69195e-17 -3.11194e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_1_1 (dummy link + fixed joint) -->
  <link name="closing_1_1">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_1_1_frame" type="fixed">
    <origin xyz="0.085 -1.38778e-17 0" rpy="-4.80812e-17 3.69195e-17 -3.11194e-17"/>
    <parent link="stewart_link_rod"/>
    <child link="closing_1_1"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Joint from passive_1_link_y to stewart_link_rod -->
  <joint name="passive_1_z" type="revolute">
    <origin xyz="6.93889e-18 0 0" rpy="-4.80812e-17 3.69195e-17 -3.11194e-17"/>
    <parent link="passive_1_link_y"/>
    <child link="stewart_link_rod"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_1_link_x to passive_1_link_y -->
  <joint name="passive_1_y" type="revolute">
    <origin xyz="6.93889e-18 0 0" rpy="-4.80812e-17 3.69195e-17 -3.11194e-17"/>
    <parent link="passive_1_link_x"/>
    <child link="passive_1_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy to passive_1_link_x -->
  <joint name="passive_1_x" type="revolute">
    <origin xyz="0.04 -1.6545e-10 0.007" rpy="-0.13754 -0.0882156 2.10349"/>
    <parent link="dc15_a01_horn_dummy"/>
    <child link="passive_1_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy -->
  <joint name="stewart_1" type="revolute">
    <origin xyz="-0.0328112 0.0304906 0.0418333" rpy="1.5708 5.91241e-14 1.0472"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-0.837758" upper="1.39626"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_2 -->
  <link name="dc15_a01_horn_dummy_2">
    <inertial>
      <origin xyz="0.0237505 1.27591e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.79436e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.03818e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part stewart_link_ball_2 -->
    <visual>
      <origin xyz="-0.0025 4.16334e-17 0.007" rpy="4.75464e-14 5.37396e-16 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_2_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0025 4.16334e-17 0.007" rpy="4.75464e-14 5.37396e-16 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_horn_dummy_3 -->
    <visual>
      <origin xyz="-1.73472e-18 0 -0.0065" rpy="1.5708 -3.99138e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_3_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-1.73472e-18 0 -0.0065" rpy="1.5708 -3.99138e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part mp01062_stewart_arm_3_2 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 3.6476e-15"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_2_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 3.6476e-15"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_2_link_x -->
  <link name="passive_2_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_2_link_y -->
  <link name="passive_2_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod_2 -->
  <link name="stewart_link_rod_2">
    <inertial>
      <origin xyz="0.0214999 -0.0364688 -0.00374429" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.72424e-06" ixy="1.57393e-06" ixz="1.6134e-07" iyy="9.82586e-07" iyz="-2.75528e-07" izz="3.63642e-06"/>
    </inertial>
    <!-- Part stewart_link_rod_2 -->
    <visual>
      <origin xyz="0.0215 -0.0364689 -0.0037443" rpy="3.06617 -0.0882156 2.10349"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_2_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0215 -0.0364689 -0.0037443" rpy="3.06617 -0.0882156 2.10349"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_2_1 (dummy link + fixed joint) -->
  <link name="closing_2_1">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_2_1_frame" type="fixed">
    <origin xyz="0.043 -0.0729378 -0.00748861" rpy="3.06617 -0.0882156 2.10349"/>
    <parent link="stewart_link_rod_2"/>
    <child link="closing_2_1"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Joint from passive_2_link_y to stewart_link_rod_2 -->
  <joint name="passive_2_z" type="revolute">
    <origin xyz="-6.93889e-18 0 6.93889e-18" rpy="-4.29816e-30 7.32263e-17 -8.42229e-30"/>
    <parent link="passive_2_link_y"/>
    <child link="stewart_link_rod_2"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_2_link_x to passive_2_link_y -->
  <joint name="passive_2_y" type="revolute">
    <origin xyz="-6.93889e-18 0 6.93889e-18" rpy="-4.29816e-30 7.32263e-17 -8.42229e-30"/>
    <parent link="passive_2_link_x"/>
    <child link="passive_2_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy_2 to passive_2_link_x -->
  <joint name="passive_2_x" type="revolute">
    <origin xyz="0.04 1.249e-16 0.007" rpy="-3.14159 5.37396e-16 -3.14159"/>
    <parent link="dc15_a01_horn_dummy_2"/>
    <child link="passive_2_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy_2 -->
  <joint name="stewart_2" type="revolute">
    <origin xyz="-0.0428112 0.01317 0.0418333" rpy="-1.5708 1.47282e-13 -2.0944"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy_2"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-1.39626" upper="1.22173"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_3 -->
  <link name="dc15_a01_horn_dummy_3">
    <inertial>
      <origin xyz="0.0237505 1.27591e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.79436e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.03818e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part dc15_a01_horn_dummy_4 -->
    <visual>
      <origin xyz="-1.73472e-18 1.38778e-17 -0.0065" rpy="1.5708 1.89883e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_4_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-1.73472e-18 1.38778e-17 -0.0065" rpy="1.5708 1.89883e-30 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_3 -->
    <visual>
      <origin xyz="0.04 -0.0425 0.007" rpy="-2.8701e-15 -2.95696e-14 -1.5708"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_3_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.04 -0.0425 0.007" rpy="-2.8701e-15 -2.95696e-14 -1.5708"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
    <!-- Part mp01062_stewart_arm_3_3 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_3_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_3_link_x -->
  <link name="passive_3_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_3_link_y -->
  <link name="passive_3_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod_3 -->
  <link name="stewart_link_rod_3">
    <inertial>
      <origin xyz="-0.0424999 8.43768e-11 -1.88428e-09" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.63976e-08" ixy="-3.69517e-13" ixz="7.12534e-14" iyy="3.65211e-06" iyz="5.21041e-14" izz="3.66473e-06"/>
    </inertial>
    <!-- Part stewart_link_rod_3 -->
    <visual>
      <origin xyz="-0.0425 -1.38778e-17 0" rpy="-4.71809e-17 -7.61919e-18 5.54539e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_3_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0425 -1.38778e-17 0" rpy="-4.71809e-17 -7.61919e-18 5.54539e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_3_1 (dummy link + fixed joint) -->
  <link name="closing_3_1">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_3_1_frame" type="fixed">
    <origin xyz="-0.085 -1.38778e-17 0" rpy="-4.71809e-17 -7.61919e-18 5.54539e-17"/>
    <parent link="stewart_link_rod_3"/>
    <child link="closing_3_1"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Joint from passive_3_link_y to stewart_link_rod_3 -->
  <joint name="passive_3_z" type="revolute">
    <origin xyz="-6.93889e-18 0 -1.38778e-17" rpy="-4.71809e-17 -7.61919e-18 5.54539e-17"/>
    <parent link="passive_3_link_y"/>
    <child link="stewart_link_rod_3"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_3_link_x to passive_3_link_y -->
  <joint name="passive_3_y" type="revolute">
    <origin xyz="-6.93889e-18 0 -1.38778e-17" rpy="-4.71809e-17 -7.61919e-18 5.54539e-17"/>
    <parent link="passive_3_link_x"/>
    <child link="passive_3_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy_3 to passive_3_link_x -->
  <joint name="passive_3_x" type="revolute">
    <origin xyz="0.04 8.32667e-17 0.007" rpy="0.373569 0.0882156 -1.0381"/>
    <parent link="dc15_a01_horn_dummy_3"/>
    <child link="passive_3_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy_3 -->
  <joint name="stewart_3" type="revolute">
    <origin xyz="-0.01 -0.0436606 0.0418333" rpy="1.5708 5.72146e-14 3.14159"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy_3"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-0.837758" upper="1.39626"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_4 -->
  <link name="dc15_a01_horn_dummy_4">
    <inertial>
      <origin xyz="0.0237505 1.27591e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.79436e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.03818e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part stewart_link_ball_4 -->
    <visual>
      <origin xyz="0.04 0.0425 0.007" rpy="-2.36664e-29 2.12546e-15 1.5708"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_4_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.04 0.0425 0.007" rpy="-2.36664e-29 2.12546e-15 1.5708"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
    <!-- Part mp01062_stewart_arm_3_4 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_4_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_horn_dummy_5 -->
    <visual>
      <origin xyz="-1.73472e-18 -1.38778e-17 -0.0065" rpy="1.5708 1.27364e-31 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_5_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-1.73472e-18 -1.38778e-17 -0.0065" rpy="1.5708 1.27364e-31 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_4_link_x -->
  <link name="passive_4_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_4_link_y -->
  <link name="passive_4_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod_4 -->
  <link name="stewart_link_rod_4">
    <inertial>
      <origin xyz="-0.0424999 8.43769e-11 -1.88428e-09" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.63976e-08" ixy="-3.69517e-13" ixz="7.12534e-14" iyy="3.65211e-06" iyz="5.21041e-14" izz="3.66473e-06"/>
    </inertial>
    <!-- Part stewart_link_rod_4 -->
    <visual>
      <origin xyz="-0.0425 1.38778e-17 0" rpy="-3.54762e-18 2.76754e-18 -1.40989e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_4_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0425 1.38778e-17 0" rpy="-3.54762e-18 2.76754e-18 -1.40989e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_4_1 (dummy link + fixed joint) -->
  <link name="closing_4_1">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_4_1_frame" type="fixed">
    <origin xyz="-0.085 2.77556e-17 0" rpy="-3.54762e-18 2.76754e-18 -1.40989e-17"/>
    <parent link="stewart_link_rod_4"/>
    <child link="closing_4_1"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Joint from passive_4_link_y to stewart_link_rod_4 -->
  <joint name="passive_4_z" type="revolute">
    <origin xyz="6.93889e-18 0 0" rpy="-3.54762e-18 2.76754e-18 -1.40989e-17"/>
    <parent link="passive_4_link_y"/>
    <child link="stewart_link_rod_4"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_4_link_x to passive_4_link_y -->
  <joint name="passive_4_y" type="revolute">
    <origin xyz="6.93889e-18 0 0" rpy="-3.54762e-18 2.76754e-18 -1.40989e-17"/>
    <parent link="passive_4_link_x"/>
    <child link="passive_4_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy_4 to passive_4_link_x -->
  <joint name="passive_4_x" type="revolute">
    <origin xyz="0.04 2.77556e-17 0.007" rpy="-0.0860846 0.0882156 1.0381"/>
    <parent link="dc15_a01_horn_dummy_4"/>
    <child link="passive_4_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy_4 -->
  <joint name="stewart_4" type="revolute">
    <origin xyz="0.01 -0.0436606 0.0418333" rpy="-1.5708 -7.49452e-14 3.47181e-14"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy_4"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-1.39626" upper="0.837758"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_5 -->
  <link name="dc15_a01_horn_dummy_5">
    <inertial>
      <origin xyz="0.0237505 1.27591e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.79436e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.03818e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part mp01062_stewart_arm_3_5 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_5_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_5 -->
    <visual>
      <origin xyz="-0.0025 8.32667e-17 0.007" rpy="1.14239e-16 1.38095e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_5_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0025 8.32667e-17 0.007" rpy="1.14239e-16 1.38095e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_horn_dummy_6 -->
    <visual>
      <origin xyz="0 0 -0.0065" rpy="1.5708 -1.18329e-29 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_6_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 -0.0065" rpy="1.5708 -1.18329e-29 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_5_link_x -->
  <link name="passive_5_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_5_link_y -->
  <link name="passive_5_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod_5 -->
  <link name="stewart_link_rod_5">
    <inertial>
      <origin xyz="-0.0424999 8.43768e-11 -1.88428e-09" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.63976e-08" ixy="-3.69517e-13" ixz="7.12534e-14" iyy="3.65211e-06" iyz="5.21041e-14" izz="3.66473e-06"/>
    </inertial>
    <!-- Part stewart_link_rod_5 -->
    <visual>
      <origin xyz="-0.0425 0 0" rpy="-1.10888e-16 -3.21444e-17 3.55033e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_5_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0425 0 0" rpy="-1.10888e-16 -3.21444e-17 3.55033e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_5_1 (dummy link + fixed joint) -->
  <link name="closing_5_1">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_5_1_frame" type="fixed">
    <origin xyz="-0.085 -1.38778e-17 0" rpy="-1.10888e-16 -3.21444e-17 3.55033e-17"/>
    <parent link="stewart_link_rod_5"/>
    <child link="closing_5_1"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Joint from passive_5_link_y to stewart_link_rod_5 -->
  <joint name="passive_5_z" type="revolute">
    <origin xyz="0 0 -6.93889e-18" rpy="-1.10888e-16 -3.21444e-17 3.55033e-17"/>
    <parent link="passive_5_link_y"/>
    <child link="stewart_link_rod_5"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_5_link_x to passive_5_link_y -->
  <joint name="passive_5_y" type="revolute">
    <origin xyz="0 0 -6.93889e-18" rpy="-1.10888e-16 -3.21444e-17 3.55033e-17"/>
    <parent link="passive_5_link_x"/>
    <child link="passive_5_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy_5 to passive_5_link_x -->
  <joint name="passive_5_x" type="revolute">
    <origin xyz="0.04 5.55112e-17 0.007" rpy="0.123977 0.0882156 -1.0381"/>
    <parent link="dc15_a01_horn_dummy_5"/>
    <child link="passive_5_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy_5 -->
  <joint name="stewart_5" type="revolute">
    <origin xyz="0.0428112 0.01317 0.0418333" rpy="1.5708 -1.79054e-13 -1.0472"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy_5"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-1.22173" upper="1.39626"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_6 -->
  <link name="dc15_a01_horn_dummy_6">
    <inertial>
      <origin xyz="0.0237505 1.27591e-09 0.00335838" rpy="0 0 0"/>
      <mass value="0.00366675"/>
      <inertia ixx="8.57063e-08" ixy="1.79436e-13" ixz="-1.93125e-07" iyy="1.28019e-06" iyz="1.03818e-14" izz="1.26546e-06"/>
    </inertial>
    <!-- Part dc15_a01_horn_dummy_7 -->
    <visual>
      <origin xyz="3.46945e-18 0 -0.0065" rpy="1.5708 2.54036e-31 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_7_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.46945e-18 0 -0.0065" rpy="1.5708 2.54036e-31 -1.5708"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_6 -->
    <visual>
      <origin xyz="0.0825 8.32667e-17 0.007" rpy="2.5071e-14 -2.28835e-17 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
      <material name="stewart_link_ball_6_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0825 8.32667e-17 0.007" rpy="2.5071e-14 -2.28835e-17 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball.stl"/>
      </geometry>
    </collision>
    <!-- Part mp01062_stewart_arm_3_6 -->
    <visual>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
      <material name="mp01062_stewart_arm_3_6_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.01 -0.153167 0.0436606" rpy="1.5708 -1.0472 6.12323e-17"/>
      <geometry>
        <mesh filename="meshes/mp01062_stewart_arm_3.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_6_link_x -->
  <link name="passive_6_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_6_link_y -->
  <link name="passive_6_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link stewart_link_rod_6 -->
  <link name="stewart_link_rod_6">
    <inertial>
      <origin xyz="-0.0424999 8.43768e-11 -1.88428e-09" rpy="0 0 0"/>
      <mass value="0.00503424"/>
      <inertia ixx="2.63976e-08" ixy="-3.69517e-13" ixz="7.12534e-14" iyy="3.65211e-06" iyz="5.21041e-14" izz="3.66473e-06"/>
    </inertial>
    <!-- Part stewart_link_rod_6 -->
    <visual>
      <origin xyz="-0.0425 0 0" rpy="-7.27418e-17 2.10388e-17 4.15523e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
      <material name="stewart_link_rod_6_material">
        <color rgba="0.811765 0.858824 0.898039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0425 0 0" rpy="-7.27418e-17 2.10388e-17 4.15523e-17"/>
      <geometry>
        <mesh filename="meshes/stewart_link_rod.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Link passive_7_link_x -->
  <link name="passive_7_link_x">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link passive_7_link_y -->
  <link name="passive_7_link_y">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-09"/>
      <inertia ixx="1e-09" ixy="0" ixz="0" iyy="1e-09" iyz="0" izz="1e-09"/>
    </inertial>
  </link>
  <!-- Link xl_330 -->
  <link name="xl_330">
    <inertial>
      <origin xyz="-0.0487051 -0.0237648 0.020658" rpy="0 0 0"/>
      <mass value="0.259259"/>
      <inertia ixx="0.000634651" ixy="3.65691e-05" ixz="-2.18087e-05" iyy="0.000587786" iyz="9.29467e-05" izz="0.000460283"/>
    </inertial>
    <!-- Part m12_fisheye_lens_1_8mm -->
    <visual>
      <origin xyz="-0.0387195 -0.0329451 -0.0240431" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/m12_fisheye_lens_1_8mm.stl"/>
      </geometry>
      <material name="m12_fisheye_lens_1_8mm_material">
        <color rgba="0.498039 0.498039 0.498039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0387195 -0.0329451 -0.0240431" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/m12_fisheye_lens_1_8mm.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_7 -->
    <visual>
      <origin xyz="0.0175286 0.0420772 0.0551172" rpy="-2.11906 0.116645 -2.61388"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_7_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0175286 0.0420772 0.0551172" rpy="-2.11906 0.116645 -2.61388"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part big_lens_d40 -->
    <visual>
      <origin xyz="-0.0262968 -0.0511554 -0.0373805" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/big_lens_d40.stl"/>
      </geometry>
      <material name="big_lens_d40_material">
        <color rgba="0.439216 0.47451 0.501961 0.301961"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0262968 -0.0511554 -0.0373805" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/big_lens_d40.stl"/>
      </geometry>
    </collision>
    <!-- Part neck_reference_3dprint -->
    <visual>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/neck_reference_3dprint.stl"/>
      </geometry>
      <material name="neck_reference_3dprint_material">
        <color rgba="0.901961 0.901961 0.901961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/neck_reference_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part head_back_3dprint -->
    <visual>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_back_3dprint.stl"/>
      </geometry>
      <material name="head_back_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_back_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part arducam -->
    <visual>
      <origin xyz="-0.045905 -0.0448628 -0.0036254" rpy="-1.79194 1.01151 1.9102"/>
      <geometry>
        <mesh filename="meshes/arducam.stl"/>
      </geometry>
      <material name="arducam_material">
        <color rgba="0.498039 0.498039 0.498039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.045905 -0.0448628 -0.0036254" rpy="-1.79194 1.01151 1.9102"/>
      <geometry>
        <mesh filename="meshes/arducam.stl"/>
      </geometry>
    </collision>
    <!-- Part pp01102_arducam_carter -->
    <visual>
      <origin xyz="-0.0311515 -0.0518836 0.00154345" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/pp01102_arducam_carter.stl"/>
      </geometry>
      <material name="pp01102_arducam_carter_material">
        <color rgba="0.301961 0.301961 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0311515 -0.0518836 0.00154345" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/pp01102_arducam_carter.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_holder_l_3dprint -->
    <visual>
      <origin xyz="-0.0536682 -0.0188765 0.0257182" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/antenna_holder_l_3dprint.stl"/>
      </geometry>
      <material name="antenna_holder_l_3dprint_material">
        <color rgba="0.498039 0.498039 0.498039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0536682 -0.0188765 0.0257182" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/antenna_holder_l_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_8 -->
    <visual>
      <origin xyz="-0.00630385 -0.00639493 0.0739606" rpy="-2.90143 1.05953 -0.832675"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_8_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.00630385 -0.00639493 0.0739606" rpy="-2.90143 1.05953 -0.832675"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part lens_cap_d30_3dprint -->
    <visual>
      <origin xyz="-0.0536562 -0.018894 0.0257054" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/lens_cap_d30_3dprint.stl"/>
      </geometry>
      <material name="lens_cap_d30_3dprint_material">
        <color rgba="0.0980392 0.0980392 0.0980392 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0536562 -0.018894 0.0257054" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/lens_cap_d30_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part lens_cap_d40_3dprint -->
    <visual>
      <origin xyz="-0.0536391 -0.0189191 0.025687" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/lens_cap_d40_3dprint.stl"/>
      </geometry>
      <material name="lens_cap_d40_3dprint_material">
        <color rgba="0.0980392 0.0980392 0.0980392 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0536391 -0.0189191 0.025687" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/lens_cap_d40_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_holder_r_3dprint -->
    <visual>
      <origin xyz="-0.0536682 -0.0188765 0.0257182" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/antenna_holder_r_3dprint.stl"/>
      </geometry>
      <material name="antenna_holder_r_3dprint_material">
        <color rgba="0.498039 0.498039 0.498039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0536682 -0.0188765 0.0257182" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/antenna_holder_r_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_9 -->
    <visual>
      <origin xyz="0.0150556 0.0490816 0.0432504" rpy="-2.11906 0.116645 -2.61388"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_9_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0.0150556 0.0490816 0.0432504" rpy="-2.11906 0.116645 -2.61388"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part small_lens_d30 -->
    <visual>
      <origin xyz="-0.0244054 -0.0696173 0.0280123" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/small_lens_d30.stl"/>
      </geometry>
      <material name="small_lens_d30_material">
        <color rgba="0.439216 0.47451 0.501961 0.301961"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0244054 -0.0696173 0.0280123" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/small_lens_d30.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_10 -->
    <visual>
      <origin xyz="-0.0109132 -0.00132777 0.0861703" rpy="-2.90143 1.05953 -0.832675"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_10_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0109132 -0.00132777 0.0861703" rpy="-2.90143 1.05953 -0.832675"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_11 -->
    <visual>
      <origin xyz="-0.0215 0.0366458 0.00104087" rpy="0.11668 0.0244934 -1.04022"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_11_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0215 0.0366458 0.00104087" rpy="0.11668 0.0244934 -1.04022"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part glasses_dolder_3dprint -->
    <visual>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/glasses_dolder_3dprint.stl"/>
      </geometry>
      <material name="glasses_dolder_3dprint_material">
        <color rgba="0.196078 0.196078 0.196078 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/glasses_dolder_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part head_front_3dprint -->
    <visual>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_front_3dprint.stl"/>
      </geometry>
      <material name="head_front_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_front_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part head_mic_3dprint -->
    <visual>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_mic_3dprint.stl"/>
      </geometry>
      <material name="head_mic_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0535717 -0.0190178 0.0256147" rpy="1.79194 -1.01151 -1.23139"/>
      <geometry>
        <mesh filename="meshes/head_mic_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part m12_fisheye_lens_1_8mm_2 -->
    <visual>
      <origin xyz="-0.0272066 -0.0655112 0.0310197" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/m12_fisheye_lens_1_8mm.stl"/>
      </geometry>
      <material name="m12_fisheye_lens_1_8mm_2_material">
        <color rgba="0.498039 0.498039 0.498039 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0272066 -0.0655112 0.0310197" rpy="1.43435 -0.544115 2.16946"/>
      <geometry>
        <mesh filename="meshes/m12_fisheye_lens_1_8mm.stl"/>
      </geometry>
    </collision>
    <!-- Part stewart_link_ball_12 -->
    <visual>
      <origin xyz="-0.0285824 0.0487174 0.00138374" rpy="0.11668 0.0244934 -1.04022"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
      <material name="stewart_link_ball_12_material">
        <color rgba="0.439216 0.47451 0.501961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0285824 0.0487174 0.00138374" rpy="0.11668 0.0244934 -1.04022"/>
      <geometry>
        <mesh filename="meshes/stewart_link_ball__2.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_8_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_8 -->
    <visual>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0737021 -0.0344474 0.0784637" rpy="1.36569 0.508471 2.10225"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_2_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_2_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_2.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_b_dummy_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_b_dummy_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_b_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_m_dummy_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_m_dummy_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_m_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_led_cap2_dummy_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_led_cap2_dummy_9_material">
        <color rgba="0.87451 0.447059 0.317647 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_led_cap2_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part bts2_m2_6x8_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
      <material name="bts2_m2_6x8_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/bts2_m2_6x8.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_case_f_dummy_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_case_f_dummy_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_case_f_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_1_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
      <material name="b3b_eh_1_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/b3b_eh_1.stl"/>
      </geometry>
    </collision>
    <!-- Part b3b_eh_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
      <material name="b3b_eh_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/b3b_eh.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_3_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_3_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_3.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_1_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_1_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10_1.stl"/>
      </geometry>
    </collision>
    <!-- Part phs_1_7x20_5_dc10_9 -->
    <visual>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
      <material name="phs_1_7x20_5_dc10_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="-0.0909991 0.0145437 -0.0045371" rpy="0.0684236 1.39152 0.701924"/>
      <geometry>
        <mesh filename="meshes/phs_1_7x20_5_dc10.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Frame closing_1_2 (dummy link + fixed joint) -->
  <link name="closing_1_2">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_1_2_frame" type="fixed">
    <origin xyz="0.00768882 -0.0217774 0.0368953" rpy="-2.90143 1.05953 -0.832675"/>
    <parent link="xl_330"/>
    <child link="closing_1_2"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame closing_2_2 (dummy link + fixed joint) -->
  <link name="closing_2_2">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_2_2_frame" type="fixed">
    <origin xyz="0.00307947 -0.0167102 0.049105" rpy="-2.90143 1.05953 -0.832675"/>
    <parent link="xl_330"/>
    <child link="closing_2_2"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame closing_3_2 (dummy link + fixed joint) -->
  <link name="closing_3_2">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_3_2_frame" type="fixed">
    <origin xyz="-0.0189403 0.0208215 0.050171" rpy="-2.92045 -1.01151 -1.23139"/>
    <parent link="xl_330"/>
    <child link="closing_3_2"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame closing_4_2 (dummy link + fixed joint) -->
  <link name="closing_4_2">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_4_2_frame" type="fixed">
    <origin xyz="-0.0214133 0.0278259 0.0383042" rpy="-2.92045 -1.01151 -1.23139"/>
    <parent link="xl_330"/>
    <child link="closing_4_2"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame closing_5_2 (dummy link + fixed joint) -->
  <link name="closing_5_2">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="closing_5_2_frame" type="fixed">
    <origin xyz="-0.00708235 0.0120716 0.000342873" rpy="-3.11693 -0.116645 0.52771"/>
    <parent link="xl_330"/>
    <child link="closing_5_2"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame camera_optical (dummy link + fixed joint) -->
  <link name="camera_optical">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="camera_optical_frame" type="fixed">
    <origin xyz="-0.0321159 -0.05047 0.00257878" rpy="2.92045 1.01151 1.9102"/>
    <parent link="xl_330"/>
    <child link="camera_optical"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame camera (dummy link + fixed joint) -->
  <link name="camera">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="camera_frame" type="fixed">
    <origin xyz="-0.0321159 -0.05047 0.00257878" rpy="1.70724 0.544115 -0.97213"/>
    <parent link="xl_330"/>
    <child link="camera"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Frame head (dummy link + fixed joint) -->
  <link name="head">
    <origin xyz="0 0 0" rpy="0 -0 0"/>
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="1e-9"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="head_frame" type="fixed">
    <origin xyz="-0.00611127 0.00370522 0.0291364" rpy="1.70724 0.544115 -0.97213"/>
    <parent link="xl_330"/>
    <child link="head"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_7 -->
  <link name="dc15_a01_horn_dummy_7">
    <inertial>
      <origin xyz="2.09613e-05 -0.0378463 -0.00866471" rpy="0 0 0"/>
      <mass value="0.0105926"/>
      <inertia ixx="2.69314e-05" ixy="2.22219e-09" ixz="3.62599e-10" iyy="2.98203e-07" iyz="-6.63107e-07" izz="2.68876e-05"/>
    </inertial>
    <!-- Part antenna -->
    <visual>
      <origin xyz="8.00228e-15 -0.0588 -0.0103" rpy="2.21412e-15 -1.16302e-14 1.20994e-13"/>
      <geometry>
        <mesh filename="meshes/antenna.stl"/>
      </geometry>
      <material name="antenna_material">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="8.00228e-15 -0.0588 -0.0103" rpy="2.21412e-15 -1.16302e-14 1.20994e-13"/>
      <geometry>
        <mesh filename="meshes/antenna.stl"/>
      </geometry>
    </collision>
    <!-- Part dc15_a01_horn_dummy_8 -->
    <visual>
      <origin xyz="3.46945e-18 5.55112e-17 0.0065" rpy="-1.5708 -9.90471e-15 1.20979e-13"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_8_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.46945e-18 5.55112e-17 0.0065" rpy="-1.5708 -9.90471e-15 1.20979e-13"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_interface_3dprint -->
    <visual>
      <origin xyz="5.20417e-18 5.55112e-17 1.38778e-17" rpy="-1.5708 -3.37306e-16 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_interface_3dprint.stl"/>
      </geometry>
      <material name="antenna_interface_3dprint_material">
        <color rgba="0.713725 0.760784 0.8 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="5.20417e-18 5.55112e-17 1.38778e-17" rpy="-1.5708 -3.37306e-16 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_interface_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_body_3dprint -->
    <visual>
      <origin xyz="5.72459e-17 1.38778e-16 -0.0028" rpy="-1.5708 1.15929e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_body_3dprint.stl"/>
      </geometry>
      <material name="antenna_body_3dprint_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="5.72459e-17 1.38778e-16 -0.0028" rpy="-1.5708 1.15929e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_body_3dprint.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Joint from xl_330 to dc15_a01_horn_dummy_7 -->
  <joint name="right_antenna" type="revolute">
    <origin xyz="-0.0948524 0.0197779 -0.00445785" rpy="1.63922 1.39152 0.701924"/>
    <parent link="xl_330"/>
    <child link="dc15_a01_horn_dummy_7"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Link dc15_a01_horn_dummy_8 -->
  <link name="dc15_a01_horn_dummy_8">
    <inertial>
      <origin xyz="2.09613e-05 -0.0378463 -0.00866471" rpy="0 0 0"/>
      <mass value="0.0105926"/>
      <inertia ixx="2.69314e-05" ixy="2.22219e-09" ixz="3.62599e-10" iyy="2.98203e-07" iyz="-6.63107e-07" izz="2.68876e-05"/>
    </inertial>
    <!-- Part dc15_a01_horn_dummy_9 -->
    <visual>
      <origin xyz="3.46945e-18 -2.77556e-17 0.0065" rpy="-1.5708 -2.80299e-14 1.15234e-13"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
      <material name="dc15_a01_horn_dummy_9_material">
        <color rgba="0.262745 0.282353 0.301961 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="3.46945e-18 -2.77556e-17 0.0065" rpy="-1.5708 -2.80299e-14 1.15234e-13"/>
      <geometry>
        <mesh filename="meshes/dc15_a01_horn_dummy.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_body_3dprint_2 -->
    <visual>
      <origin xyz="5.89806e-17 2.77556e-17 -0.0028" rpy="-1.5708 1.85671e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_body_3dprint.stl"/>
      </geometry>
      <material name="antenna_body_3dprint_2_material">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="5.89806e-17 2.77556e-17 -0.0028" rpy="-1.5708 1.85671e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_body_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_interface_3dprint_2 -->
    <visual>
      <origin xyz="5.20417e-18 0 0" rpy="-1.5708 2.85907e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_interface_3dprint.stl"/>
      </geometry>
      <material name="antenna_interface_3dprint_2_material">
        <color rgba="0.713725 0.760784 0.8 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="5.20417e-18 0 0" rpy="-1.5708 2.85907e-14 -3.14159"/>
      <geometry>
        <mesh filename="meshes/antenna_interface_3dprint.stl"/>
      </geometry>
    </collision>
    <!-- Part antenna_2 -->
    <visual>
      <origin xyz="6.79838e-15 -0.0588 -0.0103" rpy="5.3124e-16 -1.84481e-14 1.16503e-13"/>
      <geometry>
        <mesh filename="meshes/antenna.stl"/>
      </geometry>
      <material name="antenna_2_material">
        <color rgba="0 0 0 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="6.79838e-15 -0.0588 -0.0103" rpy="5.3124e-16 -1.84481e-14 1.16503e-13"/>
      <geometry>
        <mesh filename="meshes/antenna.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- Joint from xl_330 to dc15_a01_horn_dummy_8 -->
  <joint name="left_antenna" type="revolute">
    <origin xyz="-0.0764135 -0.0324475 0.0840224" rpy="2.93649 0.508471 2.10225"/>
    <parent link="xl_330"/>
    <child link="dc15_a01_horn_dummy_8"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_7_link_y to xl_330 -->
  <joint name="passive_7_z" type="revolute">
    <origin xyz="0 0 0" rpy="-7.27418e-17 -2.10388e-17 -4.15523e-17"/>
    <parent link="passive_7_link_y"/>
    <child link="xl_330"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_7_link_x to passive_7_link_y -->
  <joint name="passive_7_y" type="revolute">
    <origin xyz="0 0 0" rpy="-7.27418e-17 -2.10388e-17 -4.15523e-17"/>
    <parent link="passive_7_link_x"/>
    <child link="passive_7_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from stewart_link_rod_6 to passive_7_link_x -->
  <joint name="passive_7_x" type="revolute">
    <origin xyz="-0.085 0 0" rpy="3.14159 2.10388e-17 4.15523e-17"/>
    <parent link="stewart_link_rod_6"/>
    <child link="passive_7_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_6_link_y to stewart_link_rod_6 -->
  <joint name="passive_6_z" type="revolute">
    <origin xyz="1.38778e-17 0 0" rpy="-7.27418e-17 2.10388e-17 4.15523e-17"/>
    <parent link="passive_6_link_y"/>
    <child link="stewart_link_rod_6"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from passive_6_link_x to passive_6_link_y -->
  <joint name="passive_6_y" type="revolute">
    <origin xyz="1.38778e-17 0 0" rpy="-7.27418e-17 2.10388e-17 4.15523e-17"/>
    <parent link="passive_6_link_x"/>
    <child link="passive_6_link_y"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from dc15_a01_horn_dummy_6 to passive_6_link_x -->
  <joint name="passive_6_x" type="revolute">
    <origin xyz="0.04 9.71445e-17 0.007" rpy="3.0613 0.0882156 1.0381"/>
    <parent link="dc15_a01_horn_dummy_6"/>
    <child link="passive_6_link_x"/>
    <axis xyz="1 0 0"/>
    <limit effort="10" velocity="1e+08" lower="-3.141592653589793" upper="3.141592653589793"/>
  </joint>
  <!-- Joint from body_down_3dprint to dc15_a01_horn_dummy_6 -->
  <joint name="stewart_6" type="revolute">
    <origin xyz="0.0328112 0.0304906 0.0418333" rpy="-1.5708 -5.32144e-14 2.0944"/>
    <parent link="body_down_3dprint"/>
    <child link="dc15_a01_horn_dummy_6"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-1.39626" upper="0.837758"/>
  </joint>
  <!-- Joint from body_foot_3dprint to body_down_3dprint -->
  <joint name="yaw_body" type="revolute">
    <origin xyz="-2.45997e-07 6.93889e-18 0.0348" rpy="-3.74039e-16 1.77636e-15 -1.5708"/>
    <parent link="body_foot_3dprint"/>
    <child link="body_down_3dprint"/>
    <axis xyz="0 0 1"/>
    <limit effort="10" velocity="8" lower="-2.79253" upper="2.79253"/>
  </joint>
    <!-- Dummy Link head_oriented_yaw used for constraint setting in placo-kinematics -->
  <link name="dummy_torso_yaw">
    <visual>
      <geometry>
        <box size="0 0 0"/>
      </geometry>
    </visual>
  </link>
  <!-- Joint from pp01071_turning_bowl to dc15_a01_case_b_dummy -->
  <joint name="dummy_yaw" type="fixed">
    <origin xyz="0 0 0" rpy="3.14 0 1.57"/>
    <!-- <origin xyz="4.85723e-17 -5.60663e-19 0.0339" rpy="3.14159 -2.22045e-16 1.5708"/> -->
    <parent link="body_down_3dprint"/>
    <!-- <parent link="dc15_a01_case_b_dummy"/>   -->
    <child link="dummy_torso_yaw"/>
    <axis xyz="0 0 1"/>
  </joint>
</robot>

`;class WK{constructor(){this.robotModel=null,this.isLoading=!1,this.isLoaded=!1,this.loadPromise=null,this.listeners=new Set,this.version="v20-debug-merge-vertices"}computeIntelligentSmoothAngle(e){if(!e.attributes.position)return Math.PI/3;const t=e.attributes.position.array,i=t.length/3;if(i<3)return Math.PI/3;const a=e.index!==null,r=a?e.index.array:null,o=[],c=new pe,f=new pe,h=new pe,m=new pe,g=new pe,v=new pe;let y;if(a){if(r.length%3!==0)return console.warn(" Invalid index count, not a multiple of 3"),Math.PI/3;y=r.length/3}else{if(i%3!==0)return console.warn(" Invalid vertex count for non-indexed geometry, not a multiple of 3"),Math.PI/3;y=i/3}for(let z=0;z<y;z++){let O,P,B;if(a){const G=z*3;if(O=r[G],P=r[G+1],B=r[G+2],O>=i||P>=i||B>=i||O<0||P<0||B<0)continue}else if(O=z*3,P=z*3+1,B=z*3+2,O>=i||P>=i||B>=i)continue;const L=O*3,D=P*3,V=B*3;if(L+2>=t.length||D+2>=t.length||V+2>=t.length)continue;c.set(t[L],t[L+1],t[L+2]),f.set(t[D],t[D+1],t[D+2]),h.set(t[V],t[V+1],t[V+2]),m.subVectors(f,c),g.subVectors(h,c),v.crossVectors(m,g),v.length()>1e-10&&(v.normalize(),o.push(v.clone()))}if(o.length<3)return Math.PI/3;const b=[],M=Math.min(200,o.length*2);for(let z=0;z<M;z++){const O=Math.floor(Math.random()*o.length),P=Math.floor(Math.random()*o.length);if(O!==P){const B=o[O],L=o[P],D=B.dot(L),V=Math.acos(Math.max(-1,Math.min(1,D)));!isNaN(V)&&isFinite(V)&&b.push(V)}}if(b.length<10)return Math.PI/3;b.sort((z,O)=>z-O);const A=b[Math.floor(b.length/2)],S=b[Math.floor(b.length*.25)],E=b[Math.floor(b.length*.75)],w=b.reduce((z,O)=>z+O,0)/b.length;let R;return A<Math.PI/6&&w<Math.PI/4?R=Math.PI/2:A<Math.PI/3&&w<Math.PI/2?(R=Math.min(E*1.3,Math.PI/2),R=Math.max(R,Math.PI/4)):R=Math.max(S*1.2,Math.PI/6),R=Math.max(Math.PI/6,Math.min(Math.PI/2,R)),R}async load(){try{localStorage.getItem("robotModelCacheVersion")!==this.version&&(this.clear(),localStorage.setItem("robotModelCacheVersion",this.version))}catch{}return this.isLoaded&&this.robotModel?this.robotModel:this.isLoading&&this.loadPromise?this.loadPromise:(this.isLoading=!0,this.loadPromise=(async()=>{try{const e=new jK,t=new Map;e.manager.setURLModifier(c=>{const f=c.split("/").pop(),h=new URL(Object.assign({"../assets/robot-3d/meshes/5w_speaker.stl":K$,"../assets/robot-3d/meshes/antenna.stl":Z$,"../assets/robot-3d/meshes/antenna_body_3dprint.stl":J$,"../assets/robot-3d/meshes/antenna_holder_l_3dprint.stl":Q$,"../assets/robot-3d/meshes/antenna_holder_r_3dprint.stl":eK,"../assets/robot-3d/meshes/antenna_interface_3dprint.stl":tK,"../assets/robot-3d/meshes/arducam.stl":nK,"../assets/robot-3d/meshes/b3b_eh.stl":iK,"../assets/robot-3d/meshes/b3b_eh_1.stl":aK,"../assets/robot-3d/meshes/bearing_85x110x13.stl":rK,"../assets/robot-3d/meshes/big_lens_d40.stl":sK,"../assets/robot-3d/meshes/body_down_3dprint.stl":oK,"../assets/robot-3d/meshes/body_foot_3dprint.stl":lK,"../assets/robot-3d/meshes/body_top_3dprint.stl":cK,"../assets/robot-3d/meshes/body_turning_3dprint.stl":uK,"../assets/robot-3d/meshes/bts2_m2_6x8.stl":fK,"../assets/robot-3d/meshes/dc15_a01_case_b_dummy.stl":dK,"../assets/robot-3d/meshes/dc15_a01_case_f_dummy.stl":hK,"../assets/robot-3d/meshes/dc15_a01_case_m_dummy.stl":pK,"../assets/robot-3d/meshes/dc15_a01_horn_dummy.stl":mK,"../assets/robot-3d/meshes/dc15_a01_led_cap2_dummy.stl":gK,"../assets/robot-3d/meshes/glasses_dolder_3dprint.stl":yK,"../assets/robot-3d/meshes/head_back_3dprint.stl":xK,"../assets/robot-3d/meshes/head_front_3dprint.stl":vK,"../assets/robot-3d/meshes/head_mic_3dprint.stl":bK,"../assets/robot-3d/meshes/lens_cap_d30_3dprint.stl":_K,"../assets/robot-3d/meshes/lens_cap_d40_3dprint.stl":SK,"../assets/robot-3d/meshes/m12_fisheye_lens_1_8mm.stl":MK,"../assets/robot-3d/meshes/mp01062_stewart_arm_3.stl":AK,"../assets/robot-3d/meshes/neck_reference_3dprint.stl":wK,"../assets/robot-3d/meshes/phs_1_7x20_5_dc10.stl":EK,"../assets/robot-3d/meshes/phs_1_7x20_5_dc10_1.stl":TK,"../assets/robot-3d/meshes/phs_1_7x20_5_dc10_2.stl":CK,"../assets/robot-3d/meshes/phs_1_7x20_5_dc10_3.stl":RK,"../assets/robot-3d/meshes/pp01102_arducam_carter.stl":OK,"../assets/robot-3d/meshes/small_lens_d30.stl":zK,"../assets/robot-3d/meshes/stewart_link_ball.stl":NK,"../assets/robot-3d/meshes/stewart_link_ball__2.stl":DK,"../assets/robot-3d/meshes/stewart_link_rod.stl":LK,"../assets/robot-3d/meshes/stewart_main_plate_3dprint.stl":IK,"../assets/robot-3d/meshes/stewart_tricap_3dprint.stl":PK})[`../assets/robot-3d/meshes/${f}`],import.meta.url).href;return t.set(c,f),t.set(h,f),h}),e.manager.addHandler(/\.stl$/i,{load:c=>{const f=c.split("/").pop();t.set(c,f)}});const i=e.parse(GK);let a=0;i.traverse(c=>{c.isMesh&&a++}),await new Promise(c=>{if(e.manager.onLoad){const f=e.manager.onLoad;e.manager.onLoad=()=>{f&&f(),c()}}else e.manager.onLoad=()=>c();setTimeout(()=>c(),2e3)}),a=0,i.traverse(c=>{c.isMesh&&a++});let r=0,o=0;return i.traverse(c=>{var f,h,m,g,v;if(c.isMesh){r++;let y="";if(c.geometry){const w=[(f=c.geometry.userData)==null?void 0:f.url,(h=c.geometry.userData)==null?void 0:h.sourceFile,(m=c.geometry.userData)==null?void 0:m.filename,(g=c.geometry.userData)==null?void 0:g.sourceURL].filter(Boolean);for(const R of w){const z=t.get(R);if(z){y=z;break}const O=R.split("/").pop();if(O&&O.toLowerCase().endsWith(".stl")){y=O;break}}}y&&(c.userData.stlFileName=y),c.geometry&&c.geometry.attributes.normal&&c.geometry.deleteAttribute("normal");let b=16749824;c.material&&c.material.color&&(b=c.material.color.getHex()),c.userData.originalColor=b,c.material&&c.material.name&&(c.userData.materialName=c.material.name);const M=(((v=c.material)==null?void 0:v.name)||"").toLowerCase(),A=(c.userData.stlFileName||"").toLowerCase(),S=M.includes("big_lens")||M.includes("small_lens")||M.includes("lens_d40")||M.includes("lens_d30"),E=b===16749824||M.includes("antenna")||A.includes("antenna");c.userData.isAntenna=E,c.userData.isBigLens=S}}),this.robotModel=i,this.isLoaded=!0,this.isLoading=!1,this.notifyListeners(),i}catch(e){throw console.error(" [Cache] URDF loading error:",e),this.isLoading=!1,e}})(),this.loadPromise)}async getModel(){return this.isLoaded&&this.robotModel?this.robotModel:this.load()}cloneModel(){return this.robotModel?this.robotModel.clone():(console.warn(" [Cache] Model not loaded yet"),null)}isModelLoaded(){return this.isLoaded&&this.robotModel!==null}addListener(e){this.listeners.add(e),this.isLoaded&&e(this.robotModel)}removeListener(e){this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>{try{e(this.robotModel)}catch(t){console.error("Error in cache listener:",t)}})}clear(){this.robotModel&&this.robotModel.traverse(e=>{e.isMesh&&(e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose())}),this.robotModel=null,this.isLoaded=!1,this.isLoading=!1,this.loadPromise=null,this.listeners.clear();try{localStorage.removeItem("robotModelCacheVersion")}catch{}}}const wA=new WK;function lr(n,e,t=.005){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(Math.abs(n[i]-e[i])>t)return!1;return!0}function YK({headPose:n,headJoints:e,passiveJoints:t,yawBody:i,antennas:a,isActive:r,isTransparent:o,cellShading:c={enabled:!1,bands:100,smoothShading:!0},xrayOpacity:f=.5,wireframe:h=!1,onMeshesReady:m,onRobotReady:g,forceLoad:v=!1}){const[y,b]=F.useState(null),[M,A]=F.useState(!1),S=F.useRef(),E=F.useRef([]),w=F.useRef(null),{camera:R,gl:z}=ts(),O=dn(W=>W.darkMode),P=F.useRef(new bA),B=F.useRef(new pt);F.useRef(null);const L=F.useRef(0),D=F.useRef(0),V=300;F.useRef(new rn),F.useRef(new pe),F.useRef(new Fa),F.useRef(new pe);const U=F.useRef(null),G=F.useRef(null),X=F.useRef(null),$=F.useRef(void 0),H=F.useRef(null);F.useEffect(()=>{const W=q=>{const ie=z.domElement.getBoundingClientRect();B.current.x=(q.clientX-ie.left)/ie.width*2-1,B.current.y=-((q.clientY-ie.top)/ie.height)*2+1},ce=q=>{if(!y)return;const ie=Date.now();ie-D.current<V||(D.current=ie,requestAnimationFrame(()=>{const fe=z.domElement.getBoundingClientRect(),ge=(q.clientX-fe.left)/fe.width*2-1,re=-((q.clientY-fe.top)/fe.height)*2+1;P.current.setFromCamera(new pt(ge,re),R);const te=P.current.intersectObject(y,!0);if(te.length>0){const se=te[0].object;if(se.isMesh&&!se.userData.isErrorMesh){const ve=[" You clicked on Reachy!"," That tickles!"," Nice aim!"," Bullseye!"," Hey there!"],ze=ve[Math.floor(Math.random()*ve.length)];Lk(ze)}}}))};return z.domElement.addEventListener("mousemove",W),z.domElement.addEventListener("click",ce),()=>{z.domElement.removeEventListener("mousemove",W),z.domElement.removeEventListener("click",ce)}},[z,R,y]);const K=F.useCallback((W,ce,q,ie,fe,ge)=>{W.traverse(re=>{var nt,Ge,Ee,ne,Oe,Ae;if(!re.isMesh||re.userData.isErrorMesh)return;const te=((nt=re.userData)==null?void 0:nt.originalColor)||16749824,se=(((Ge=re.userData)==null?void 0:Ge.materialName)||((Ee=re.material)==null?void 0:Ee.name)||"").toLowerCase(),ve=(((ne=re.userData)==null?void 0:ne.stlFileName)||"").toLowerCase(),ze=((Oe=re.userData)==null?void 0:Oe.isBigLens)||se.includes("big_lens")||se.includes("small_lens")||se.includes("lens_d40")||se.includes("lens_d30"),De=((Ae=re.userData)==null?void 0:Ae.isAntenna)||se.includes("antenna")||ve.includes("antenna"),rt=se.includes("arducam")||ve.includes("arducam");if(fe)re.material=new Fl({color:te,wireframe:!0,transparent:!1}),re.material.needsUpdate=!0;else if(ce){let Ve,Be;ge?De?(Ve=9088208,Be=11192552):ze?(Ve=10205368,Be=12114136):(Ve=9083562,Be=11190480):(Ve=5924208,De?Ve=5925756:ze&&(Ve=7043962),Be=void 0),re.material=zc(Ve,{opacity:ge?Math.min(ie*1.5,.15):ie,rimColor:Be,rimIntensity:ge?.8:.6})}else if(re.geometry.attributes.normal&&re.geometry.deleteAttribute("normal"),re.geometry.computeVertexNormals(),ze)re.material=new vh({color:0,transparent:!0,opacity:.75,flatShading:!0});else if(De){const Ve=ge?10066329:0;re.material=new vh({color:Ve,flatShading:!0,roughness:.3,metalness:.2}),re.material.needsUpdate=!0}else rt?(re.material=new vh({color:5066061,flatShading:!0,roughness:.7,metalness:0}),re.material.needsUpdate=!0):re.material=new vh({color:te,flatShading:!0,roughness:.7,metalness:0})})},[O]);F.useEffect(()=>{if(!r&&!v){b(null),A(!1);return}let W=!0;return wA.getModel().then(ce=>{if(!W)return;const q=ce.clone(!0),ie=[];q.traverse(fe=>{fe.isMesh&&ie.push(fe)}),E.current=ie,m&&m(ie),g&&g(q),q&&q.joints&&(q.joints.yaw_body&&q.setJointValue("yaw_body",0),["stewart_1","stewart_2","stewart_3","stewart_4","stewart_5","stewart_6"].forEach(re=>{q.joints[re]&&q.setJointValue(re,0)}),["passive_1_x","passive_1_y","passive_1_z","passive_2_x","passive_2_y","passive_2_z","passive_3_x","passive_3_y","passive_3_z","passive_4_x","passive_4_y","passive_4_z","passive_5_x","passive_5_y","passive_5_z","passive_6_x","passive_6_y","passive_6_z","passive_7_x","passive_7_y","passive_7_z"].forEach(re=>{q.joints[re]&&q.setJointValue(re,0)}),q.traverse(re=>{re.isObject3D&&(re.updateMatrix(),re.updateMatrixWorld(!0))})),w.current=setTimeout(()=>{W&&(b(q),w.current=null)},500)}).catch(ce=>{console.error(" URDF loading error:",ce)}),()=>{W=!1,w.current&&(clearTimeout(w.current),w.current=null)}},[r,v,m]);const Q=F.useRef(null);return F.useEffect(()=>{if(!y)return;const W=(a==null?void 0:a[0])!==void 0?a[0]:0,ce=(a==null?void 0:a[1])!==void 0?a[1]:0,q=[W,ce];y.joints.left_antenna&&y.setJointValue("left_antenna",-ce),y.joints.right_antenna&&y.setJointValue("right_antenna",-W),H.current=q;const ie=Q.current;(!ie||Math.abs(q[0]-ie[0])>.01||Math.abs(q[1]-ie[1])>.01)&&(Q.current=q)},[y,a]),mm(()=>{if(y&&!(!r&&!v)&&(L.current++,L.current%6===0)){if(e&&Array.isArray(e)&&e.length===7){if(!lr(e,G.current)){y.joints.yaw_body?y.setJointValue("yaw_body",e[0]):console.warn(" Joint yaw_body not found in robot model");const ce=["stewart_1","stewart_2","stewart_3","stewart_4","stewart_5","stewart_6"];let q=0;for(let ie=0;ie<6;ie++){const fe=ce[ie];if(y.joints[fe]){const ge=e[ie+1];y.setJointValue(fe,ge),q++}else G.current||console.warn(` Joint ${fe} not found in robot model`)}q<6&&!G.current&&console.warn(` Only ${q}/6 stewart joints were applied`),G.current=e}}else i!==$.current&&i!==void 0&&y.joints.yaw_body&&Math.abs(i-($.current||0))>.005&&(y.setJointValue("yaw_body",i),$.current=i);if(t&&(Array.isArray(t)||t.array&&Array.isArray(t.array))){const W=Array.isArray(t)?t:t.array;if(!lr(W,X.current)&&W.length>=21){const q=["passive_1_x","passive_1_y","passive_1_z","passive_2_x","passive_2_y","passive_2_z","passive_3_x","passive_3_y","passive_3_z","passive_4_x","passive_4_y","passive_4_z","passive_5_x","passive_5_y","passive_5_z","passive_6_x","passive_6_y","passive_6_z","passive_7_x","passive_7_y","passive_7_z"];for(let ie=0;ie<Math.min(W.length,q.length);ie++){const fe=q[ie];y.joints[fe]&&y.setJointValue(fe,W[ie])}X.current=W}}n&&n.length===16&&!lr(n,U.current)&&(U.current=n),a!=null&&Array.isArray(a)&&a.length>=2&&(!H.current||Math.abs(a[0]-H.current[0])>.005||Math.abs(a[1]-H.current[1])>.005)&&(y.joints.left_antenna&&y.setJointValue("left_antenna",-a[1]),y.joints.right_antenna&&y.setJointValue("right_antenna",-a[0]),H.current=a)}}),F.useLayoutEffect(()=>{if(!y)return;const W=!M;K(y,o,c,f,h,O),W&&A(!0)},[y,o,f,h,O,K]),y&&M?I.jsx("group",{position:[0,0,0],rotation:[0,-Math.PI/2,0],children:I.jsx("primitive",{ref:S,object:y,scale:1,rotation:[-Math.PI/2,0,0]})}):null}const XK=F.memo(YK,(n,e)=>{var a,r,o,c;if(n.isActive!==e.isActive||n.isTransparent!==e.isTransparent||n.wireframe!==e.wireframe||n.forceLoad!==e.forceLoad||n.xrayOpacity!==e.xrayOpacity||n.yawBody!==e.yawBody||((a=n.cellShading)==null?void 0:a.enabled)!==((r=e.cellShading)==null?void 0:r.enabled)||!lr(n.headJoints,e.headJoints))return!1;const t=Array.isArray(n.passiveJoints)?n.passiveJoints:(o=n.passiveJoints)==null?void 0:o.array,i=Array.isArray(e.passiveJoints)?e.passiveJoints:(c=e.passiveJoints)==null?void 0:c.array;return!(!lr(t,i)||!lr(n.antennas,e.antennas)||!lr(n.headPose,e.headPose))}),qK=[{family:"Base Unit",parts:["Body Base","Body Foot","Body Turning Mechanism","Yaw Body Joint"]},{family:"Head Assembly",parts:["Head Front Panel","Head Back Panel","Head Structure","Neck Reference"]},{family:"Stewart Platform",parts:["Stewart Main Plate","Stewart Link Rods","Stewart Link Balls","Stewart Tricap","Stewart Actuators"]},{family:"Camera Module",parts:["Arducam Housing","Main Optical Lens","Camera Lens","Lens Cap","Camera Mount"]},{family:"Antenna System",parts:["Left Antenna","Right Antenna","Antenna Body","Antenna Holders","Antenna Interface"]},{family:"Audio System",parts:["Speaker Module","Microphone Array","Audio Interface"]},{family:"Electronics",parts:["Main Control Board","Power Distribution","Sensor Modules","Motor Drivers","Communication Interface"]},{family:"Mechanical Components",parts:["Bearings","Connectors","Fasteners","Support Structures"]}];function $K(n){var o,c,f,h;if(!n)return null;const e=(n.name||"").toLowerCase(),t=(((o=n.userData)==null?void 0:o.materialName)||((c=n.material)==null?void 0:c.name)||"").toLowerCase();if((f=n.userData)!=null&&f.isAntenna)return e.includes("left")||e.includes("l_")?{family:"Antenna System",part:"Left Antenna"}:e.includes("right")||e.includes("r_")?{family:"Antenna System",part:"Right Antenna"}:e.includes("body")||e.includes("interface")?{family:"Antenna System",part:"Antenna Body"}:e.includes("holder")?{family:"Antenna System",part:"Antenna Holders"}:{family:"Antenna System",part:"Antenna Interface"};if(t.includes("big_lens")||t.includes("lens_d40"))return{family:"Camera Module",part:"Main Optical Lens"};if(t.includes("small_lens")||t.includes("lens_d30"))return{family:"Camera Module",part:"Camera Lens"};if(t.includes("lens_cap"))return{family:"Camera Module",part:"Lens Cap"};let i=n.parent,a=0;for(;i&&a<5;){const m=(i.name||"").toLowerCase();if(m.includes("xl_330")||m.includes("camera")||m.includes("arducam")||e.includes("xl_330")||e.includes("camera")||e.includes("arducam"))return e.includes("mount")||m.includes("mount")?{family:"Camera Module",part:"Camera Mount"}:{family:"Camera Module",part:"Arducam Housing"};if(m.includes("stewart")||e.includes("stewart")){if(e.includes("plate")||e.includes("main"))return{family:"Stewart Platform",part:"Stewart Main Plate"};if(e.includes("rod")||e.includes("link_rod"))return{family:"Stewart Platform",part:"Stewart Link Rods"};if(e.includes("ball")||e.includes("link_ball"))return{family:"Stewart Platform",part:"Stewart Link Balls"};if(e.includes("tricap"))return{family:"Stewart Platform",part:"Stewart Tricap"};if(e.includes("arm")||e.includes("actuator"))return{family:"Stewart Platform",part:"Stewart Actuators"};if(m.includes("head")||e.includes("head"))return e.includes("front")?{family:"Head Assembly",part:"Head Front Panel"}:e.includes("back")?{family:"Head Assembly",part:"Head Back Panel"}:e.includes("mic")?{family:"Audio System",part:"Microphone Array"}:{family:"Head Assembly",part:"Head Structure"}}if(m.includes("head")||e.includes("head"))return e.includes("front")?{family:"Head Assembly",part:"Head Front Panel"}:e.includes("back")?{family:"Head Assembly",part:"Head Back Panel"}:e.includes("mic")?{family:"Audio System",part:"Microphone Array"}:e.includes("neck")?{family:"Head Assembly",part:"Neck Reference"}:{family:"Head Assembly",part:"Head Structure"};if(m.includes("base")||m.includes("body")||m.includes("yaw_body")||e.includes("base")||e.includes("body")||e.includes("yaw"))return e.includes("foot")?{family:"Base Unit",part:"Body Foot"}:e.includes("top")?{family:"Base Unit",part:"Body Base"}:e.includes("down")||e.includes("bottom")?{family:"Base Unit",part:"Body Base"}:e.includes("turning")?{family:"Base Unit",part:"Body Turning Mechanism"}:e.includes("yaw")?{family:"Base Unit",part:"Yaw Body Joint"}:{family:"Base Unit",part:"Body Base"};if(m.includes("speaker")||e.includes("speaker")||e.includes("mic"))return e.includes("mic")?{family:"Audio System",part:"Microphone Array"}:{family:"Audio System",part:"Speaker Module"};i=i.parent,a++}const r=((h=n.userData)==null?void 0:h.stlFileName)||"";if(r){const m=r.toLowerCase();if(m.includes("antenna"))return{family:"Antenna System",part:"Antenna Body"};if(m.includes("stewart"))return{family:"Stewart Platform",part:"Stewart Main Plate"};if(m.includes("head"))return{family:"Head Assembly",part:"Head Structure"};if(m.includes("body"))return{family:"Base Unit",part:"Body Base"};if(m.includes("lens"))return{family:"Camera Module",part:"Camera Lens"};if(m.includes("speaker"))return{family:"Audio System",part:"Speaker Module"}}return{family:"Mechanical Components",part:"Support Structures"}}function KK({meshes:n=[],scanColor:e="#22c55e",enabled:t=!0,onComplete:i=null,onScanMesh:a=null}){const r=F.useRef(!1),o=F.useRef(null),c=F.useRef(a),f=F.useRef(i),h=F.useRef({meshes:[],startTime:0,duration:0,scannedCount:0,notifiedMeshes:new Set});return F.useEffect(()=>{c.current=a,f.current=i},[a,i]),F.useEffect(()=>{if(!t||n.length===0){r.current=!1,o.current&&(cancelAnimationFrame(o.current),o.current=null);return}if(r.current)return;r.current=!0;const m=qn.ANIMATIONS.SCAN_DURATION/1e3,g=n.filter(P=>P.material&&!P.userData.isShellPiece&&!P.userData.isOutline&&!P.userData.isErrorMesh),v=new Map,y=P=>{if(!v.has(P)){const B=new pe;P.getWorldPosition(B),v.set(P,B.y)}return v.get(P)},b=new Map,M=[],A=new WeakMap;g.forEach(P=>{let B=A.get(P);B||(B=$K(P),B&&A.set(P,B)),B&&B.family?(b.has(B.family)||b.set(B.family,[]),b.get(B.family).push(P)):M.push(P)});const S=qK.map(P=>P.family),E=Array.from(b.entries()).sort((P,B)=>{const L=S.indexOf(P[0]),D=S.indexOf(B[0]);return L===-1&&D===-1?0:L===-1?1:D===-1?-1:L-D}),w=[];if(E.forEach(([P,B])=>{const L=[...B].sort((D,V)=>y(D)-y(V));w.push(...L)}),M.length>0){const P=[...M].sort((B,L)=>y(B)-y(L));w.push(...P)}const R=w.map((P,B)=>{var W,ce,q,ie,fe;const L=((W=P.userData)==null?void 0:W.isAntenna)||!1,D=((ce=P.userData)==null?void 0:ce.isShellPiece)||!1,V=(((q=P.userData)==null?void 0:q.materialName)||((ie=P.material)==null?void 0:ie.name)||"").toLowerCase(),U=V.includes("big_lens")||V.includes("small_lens")||V.includes("lens_d40")||V.includes("lens_d30");let G;if(L)G=5925756;else if(U)G=7043962;else if(D)G=5924208;else{const ge=((fe=P.userData)==null?void 0:fe.originalColor)||16749824,re=ge>>16&255,te=ge>>8&255,se=ge&255,ve=re*.299+te*.587+se*.114;ve>200?G=7042429:ve>150?G=5924208:ve>100?G=4871520:ve>50?G=3818832:G=2766144}const X=.2,$=D?X*.3:X,H=350,K=m*1e3,Q=w.length>1?(K-H)*B/(w.length-1):0;return{mesh:P,index:B,isAntenna:L,isBigLens:U,isShellPiece:D,targetXrayColor:G,finalOpacity:$,startDelay:Q,highlightDuration:H,state:"waiting",scanStartTime:0}}),z=w.length;h.current={meshes:R,startTime:Date.now(),duration:m*1e3,scannedCount:0,notifiedMeshes:new Set,totalMeshes:z};const O=()=>{const P=Date.now();let B=0;h.current.meshes.forEach(X=>{const{mesh:$,index:H,targetXrayColor:K,finalOpacity:Q,isAntenna:W,isBigLens:ce,isShellPiece:q,highlightDuration:ie}=X;if(!$.material||$.userData.isErrorMesh)return;const fe=P-h.current.startTime-X.startDelay;if(fe<0)return;h.current.notifiedMeshes.has($)||(h.current.notifiedMeshes.add($),c.current&&c.current($,H+1,h.current.totalMeshes));const ge=Math.min(fe/ie,1);if(ge<.5){if(X.state="scanning",B++,$.userData.scanMaterial||($.userData.scanMaterial=zc(2972221,{scanMode:!0,opacity:.4,rimIntensity:.7}),$.userData.originalMaterial||($.userData.originalMaterial=$.material)),$.material!==$.userData.scanMaterial&&($.material=$.userData.scanMaterial),$.material.uniforms){const re=ge/.5,te=Math.sin(re*Math.PI*2)*.08;$.material.uniforms.opacity.value=.4+te,$.material.opacity=$.material.uniforms.opacity.value}}else if(ge<1){X.state="transitioning",B++;const re=(ge-.5)/.5,te=1-Math.pow(1-re,2.5);if($.userData.scanMaterial||($.userData.scanMaterial=zc(2972221,{scanMode:!0,opacity:.6,rimIntensity:.7})),$.material!==$.userData.scanMaterial&&($.material=$.userData.scanMaterial),$.material.uniforms){const se=new Ct(2972221),ve=new Ct(K),ze=se.clone().lerp(ve,te);$.material.uniforms.baseColor.value.copy(ze);const De=new Ct(4906624),rt=new Ct(W?9083564:ce?8030858:q?8029584:6976896),nt=De.clone().lerp(rt,te);$.material.uniforms.rimColor.value.copy(nt);const Ge=es.lerp(.3,Q,te);$.material.uniforms.opacity.value=Ge,$.material.opacity=Ge,$.material.uniforms.rimIntensity.value=es.lerp(.7,.6,te)}if(re>=.95&&!$.userData.finalMaterial){const se=W?9083564:ce?8030858:q?8029584:6976896;$.userData.finalMaterial=zc(K,{rimColor:se,opacity:Q,rimIntensity:.6}),$.material=$.userData.finalMaterial,$.userData.scanned=!0,X.state="complete",h.current.scannedCount++}}else if(X.state!=="complete"){if(!$.userData.finalMaterial){const re=W?9083564:ce?8030858:q?8029584:6976896;$.userData.finalMaterial=zc(K,{rimColor:re,opacity:Q,rimIntensity:.6})}$.material=$.userData.finalMaterial,$.userData.scanned=!0,X.state="complete",h.current.scannedCount++}});const L=h.current.scannedCount>=h.current.totalMeshes,D=h.current.meshes[h.current.meshes.length-1],V=h.current.startTime+D.startDelay+D.highlightDuration,U=P>=V;if(L&&U){r.current=!1,f.current&&f.current();return}const G=h.current.meshes.some(X=>P-h.current.startTime-X.startDelay<h.current.duration);B>0||G||!U?o.current=requestAnimationFrame(O):r.current=!1};return o.current=requestAnimationFrame(O),()=>{o.current&&(cancelAnimationFrame(o.current),o.current=null),r.current=!1,h.current.meshes&&h.current.meshes.forEach(P=>{const B=P.mesh;B&&B.userData.scanMaterial&&B.material===B.userData.scanMaterial&&B.userData.originalMaterial&&(B.material=B.userData.originalMaterial)})}},[t,n.length,e]),null}function ZK({meshes:n=[],scanColor:e="#00ff88",enabled:t=!0,onComplete:i=null,onScanMesh:a=null}){const r=F.useRef(!1),o=F.useRef(null),c=F.useRef(a),f=F.useRef(i),h=F.useRef({meshes:[],startTime:0,duration:0,scannedCount:0,notifiedMeshes:new Set,sweepPosition:0});return F.useEffect(()=>{c.current=a,f.current=i},[a,i]),F.useEffect(()=>{if(!t||n.length===0){r.current=!1,o.current&&(cancelAnimationFrame(o.current),o.current=null);return}if(r.current)return;r.current=!0;const m=qn.ANIMATIONS.SCAN_DURATION/1e3,v=[...n.filter(A=>A.material&&!A.userData.isShellPiece&&!A.userData.isOutline&&!A.userData.isErrorMesh)].sort((A,S)=>{const E=new pe,w=new pe;return A.getWorldPosition(E),S.getWorldPosition(w),E.y-w.y}),y=v.map((A,S)=>{var X,$,H,K,Q;const E=((X=A.userData)==null?void 0:X.isAntenna)||!1,w=(($=A.userData)==null?void 0:$.isShellPiece)||!1,R=(((H=A.userData)==null?void 0:H.materialName)||((K=A.material)==null?void 0:K.name)||"").toLowerCase(),z=R.includes("big_lens")||R.includes("small_lens")||R.includes("lens_d40")||R.includes("lens_d30");let O;if(E)O=5925756;else if(z)O=7043962;else if(w)O=5924208;else{const W=((Q=A.userData)==null?void 0:Q.originalColor)||16749824,ce=W>>16&255,q=W>>8&255,ie=W&255,fe=ce*.299+q*.587+ie*.114;fe>200?O=7042429:fe>150?O=5924208:fe>100?O=4871520:fe>50?O=3818832:O=2766144}const P=A.material.opacity||.5,B=w?P*.3:P,L=new pe;A.getWorldPosition(L);const D=v.length>0?v[0].getWorldPosition(new pe).y:0,V=v.length>1?v[v.length-1].getWorldPosition(new pe).y:D+.5,U=V>D?(L.y-D)/(V-D):0,G=v.length>1?m*1e3*S/(v.length-1)*.05:0;return{mesh:A,index:S,isAntenna:E,isBigLens:z,isShellPiece:w,targetXrayColor:O,finalOpacity:B,startDelay:G,normalizedY:U,state:"waiting",scanStartTime:0}}),b=v.length;h.current={meshes:y,startTime:Date.now(),duration:m*1e3,scannedCount:0,notifiedMeshes:new Set,totalMeshes:b,sweepPosition:0};const M=()=>{const A=Date.now(),S=A-h.current.startTime,E=h.current.duration;h.current.sweepPosition=Math.min(S/E,1);const z=233+133;let O=0;if(h.current.meshes.forEach(B=>{var q,ie,fe,ge;const{mesh:L,index:D,targetXrayColor:V,finalOpacity:U,isAntenna:G,isBigLens:X,isShellPiece:$,normalizedY:H}=B;if(!L.material||L.userData.isErrorMesh)return;const K=A-h.current.startTime-B.startDelay;if(K<0)return;h.current.notifiedMeshes.has(L)||(h.current.notifiedMeshes.add(L),c.current&&c.current(L,D+1,h.current.totalMeshes));const Q=Math.min(K/z,1);if(Q<=0)return;const W=Math.abs(H-h.current.sweepPosition),ce=Math.max(0,1-W*3);if(Q<.5){B.state="scanning",O++;const re=((q=L.material)==null?void 0:q.opacity)||U,te=((ge=(fe=(ie=L.material)==null?void 0:ie.uniforms)==null?void 0:fe.rimIntensity)==null?void 0:ge.value)||.25;if(L.userData.scanMaterial||(L.userData.scanMaterial=zc(V,{rimColor:V,rimIntensity:te,opacity:re})),Q>.02&&L.material!==L.userData.scanMaterial&&(L.material=L.userData.scanMaterial),L.material.uniforms){const se=Q/.5,ve=se*Math.PI*4,ze=Math.sin(ve)*.5+.5,De=Math.sin(ve*1.7)*.5+.5,rt=Math.cos(ve*.8)*.5+.5,nt=ze*.5+De*.3+rt*.2,Ge=ce*.4,Ee=new Ct(e),ne=Ee.clone().multiplyScalar(1.3),Oe=Ee.clone().multiplyScalar(.5),Ae=new Ct(V),Ve=Ae.clone().lerp(Oe,se);L.material.uniforms.baseColor.value.copy(Ve);const ke=new Ct(V).clone().lerp(ne,se);L.material.uniforms.rimColor.value.copy(ke);const Ke=1+nt*.4+Ge;L.material.uniforms.rimIntensity.value=es.lerp(te,Ke,se);const Ye=.9+nt*.08+Ge*.1;L.material.uniforms.opacity.value=es.lerp(re,Ye,se);const de=.6+nt*.2+Ge*.15;L.material.uniforms.edgeIntensity.value=es.lerp(.2,de,se);const Z=.45+nt*.15+Ge*.1,xe=Ae.clone().lerp(Ee,se);L.material.uniforms.subsurfaceColor.value.copy(xe),L.material.uniforms.subsurfaceIntensity.value=es.lerp(.15,Z,se),L.material.needsUpdate=!0}}else if(Q<1){B.state="transitioning",O++;const re=(Q-.5)/.5,te=1-Math.pow(1-re,2.2);if(L.material.uniforms){const se=new Ct(e).multiplyScalar(.9),ve=new Ct(V),ze=se.clone().lerp(ve,te);L.material.uniforms.baseColor.value.copy(ze);const De=G?9083564:X?8030858:$?8029584:6976896,rt=new Ct(e).multiplyScalar(1.2),nt=new Ct(De),Ge=rt.clone().lerp(nt,te);L.material.uniforms.rimColor.value.copy(Ge),L.material.uniforms.opacity.value=es.lerp(.98,U,te),L.material.uniforms.rimIntensity.value=es.lerp(1.1,.25,te),L.material.uniforms.edgeIntensity.value=es.lerp(.7,.2,te);const Ee=new Ct(e).multiplyScalar(.8),ne=new Ct(G?4872812:X?5925482:4871520),Oe=Ee.clone().lerp(ne,te);L.material.uniforms.subsurfaceColor.value.copy(Oe),L.material.uniforms.subsurfaceIntensity.value=es.lerp(.5,.15,te),L.material.needsUpdate=!0}if(re>=.88){const ve=zc(V,{rimColor:G?9083564:X?8030858:$?8029584:6976896,rimIntensity:.25,opacity:U});L.material=ve,L.userData.scanned=!0,B.state="complete",h.current.scannedCount++}}else if(B.state!=="complete"){const te=zc(V,{rimColor:G?9083564:X?8030858:$?8029584:6976896,rimIntensity:.25,opacity:U});L.material=te,L.userData.scanned=!0,B.state="complete",h.current.scannedCount++}}),h.current.scannedCount>=h.current.totalMeshes){h.current.meshes.forEach(B=>{const{mesh:L,targetXrayColor:D,finalOpacity:V,isAntenna:U,isBigLens:G,isShellPiece:X}=B;if(!(!L.material||L.userData.isErrorMesh)&&(B.state!=="complete"||L.userData.scanMaterial)){const H=zc(D,{rimColor:U?9083564:G?8030858:X?8029584:6976896,rimIntensity:.25,opacity:V});L.material=H,L.userData.scanned=!0,B.state="complete"}}),r.current=!1,f.current&&f.current();return}const P=h.current.meshes.some(B=>A-h.current.startTime-B.startDelay<h.current.duration);O>0||P?o.current=requestAnimationFrame(M):r.current=!1};return o.current=requestAnimationFrame(M),()=>{o.current&&(cancelAnimationFrame(o.current),o.current=null),r.current=!1}},[t,n.length,e]),null}function JK({errorMesh:n=null,errorMeshes:e=null,allMeshes:t=[],errorColor:i="#ff0000",enabled:a=!0}){const r=F.useRef(new Map);return F.useEffect(()=>{const o=e||(n?[n]:[]);if(!a||o.length===0||t.length===0)return;const c=new Set(o.map(y=>y.uuid)),f=t.filter(y=>c.has(y.uuid));f.length===0&&o.length>0&&(console.warn(" No matching meshes found by UUID! Error meshes:",o.map(y=>({name:y.name,uuid:y.uuid}))),console.warn(" First few allMeshes UUIDs:",t.slice(0,5).map(y=>({name:y.name,uuid:y.uuid}))));const h=new Map,m=f.length>0?f:o,g=new Set(m.map(y=>y.uuid)),v=new Set(m);return t.forEach(y=>{if(!y.material){console.warn(" Mesh without material:",y.name);return}const b=y.material.emissive!==void 0;if(h.set(y,{material:y.material,color:y.material.color?y.material.color.getHex():null,emissive:b?y.material.emissive.getHex():null,emissiveIntensity:y.material.emissiveIntensity,transparent:y.material.transparent,opacity:y.material.opacity,depthWrite:y.material.depthWrite,side:y.material.side,gradientMap:y.material.gradientMap,renderOrder:y.renderOrder}),v.has(y)||m.includes(y)||g.has(y.uuid)){y.userData.isErrorMesh=!0,y.renderOrder=1e3;const A=new Ct("#ff3333"),S=A.getHex(),E=A.multiplyScalar(.8).getHex(),w=zc(E,{rimColor:S,rimIntensity:1.5,opacity:1});w.depthTest=!0,y.material=w,y.material.needsUpdate=!0,y.updateMatrix(),y.updateMatrixWorld(!0),requestAnimationFrame(()=>{const R=Date.now(),z=y.uuid,O=()=>{var V;if(!y.material||!y.material.uniforms||!y.userData.isErrorMesh){console.warn(" Animation stopped for mesh:",y.name,{hasMaterial:!!y.material,hasUniforms:!!((V=y.material)!=null&&V.uniforms),isErrorMesh:y.userData.isErrorMesh}),r.current.has(z)&&(cancelAnimationFrame(r.current.get(z)),r.current.delete(z));return}y.material.uniforms.baseColor&&y.material.uniforms.baseColor.value.getHex()!==E&&y.material.uniforms.baseColor.value.setHex(E),y.material.uniforms.rimColor&&y.material.uniforms.rimColor.value.getHex()!==S&&y.material.uniforms.rimColor.value.setHex(S);const B=Date.now()-R,L=Math.sin(B/500)*.3+.7;y.material.uniforms.rimIntensity&&(y.material.uniforms.rimIntensity.value=1+L*.3),y.material.uniforms.opacity&&(y.material.uniforms.opacity.value=.95+L*.05),y.material.needsUpdate=!0;const D=requestAnimationFrame(O);r.current.set(z,D)},P=requestAnimationFrame(O);r.current.set(z,P)})}else y.material.transparent=!0,y.material.opacity=.05,y.material.depthWrite=!1,y.material.side=vo,b&&(y.material.emissive.set(0),y.material.emissiveIntensity=0);y.material.needsUpdate=!0}),()=>{r.current.forEach(y=>{cancelAnimationFrame(y)}),r.current.clear(),t.forEach(y=>{y.userData.isErrorMesh&&(y.userData.isErrorMesh=!1);const b=h.get(y);b&&y.material&&(b.material&&b.material!==y.material?y.material=b.material:(b.color!==null&&y.material.color&&y.material.color.setHex(b.color),b.emissive!==null&&y.material.emissive&&(y.material.emissive.setHex(b.emissive),y.material.emissiveIntensity=b.emissiveIntensity),y.material.transparent=b.transparent,y.material.opacity=b.opacity,y.material.depthWrite=b.depthWrite,y.material.side=b.side,y.material.gradientMap=b.gradientMap),b.renderOrder!==void 0&&(y.renderOrder=b.renderOrder),y.material.needsUpdate=!0)})}},[a,n,e,t,i]),null}function Rs(n){const e=Math.sin(n)*1e4;return e-Math.floor(e)}function QK(n){return 1-Math.pow(1-n,3)}function y4(n){return n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2}function eZ({type:n="sleep",spawnPoint:e=[0,.18,.02],particleCount:t=8,enabled:i=!0,duration:a=10}){const r=F.useRef(),o=F.useRef([]),c=F.useRef(0),f=F.useRef(0),h=F.useMemo(()=>{const g={sleep:{symbol:"",color:"#4B5563",baseVelocity:[0,.04,0],spread:.015,rotationSpeed:.2,scale:.065,gravity:0,turbulence:.001,damping:.995,spreadRate:.002},love:{symbol:"",color:"#F472B6",baseVelocity:[0,.045,0],spread:.015,rotationSpeed:.3,scale:.06,gravity:0,turbulence:.001,damping:.993,spreadRate:.0025},surprised:{symbol:"",color:"#FB923C",baseVelocity:[0,.05,0],spread:.012,rotationSpeed:0,scale:.07,gravity:0,turbulence:8e-4,damping:.99,spreadRate:.002},sad:{symbol:"",color:"#60A5FA",baseVelocity:[0,.035,0],spread:.01,rotationSpeed:.15,scale:.055,gravity:0,turbulence:8e-4,damping:.994,spreadRate:.0015}};return g[n]||g.sleep},[n]),m=F.useMemo(()=>{if(!i)return[];const g=[],v=document.createElement("canvas"),y=v.getContext("2d");v.width=256,v.height=256,y.font="bold 200px Arial",y.fillStyle=h.color,y.textAlign="center",y.textBaseline="middle",y.fillText(h.symbol,128,128);const b=new y8(v);b.needsUpdate=!0;for(let M=0;M<t;M++){const A=M*123.456+Date.now()*.001,S=new u2({map:b,transparent:!0,opacity:0,depthWrite:!1,blending:Wf}),E=new WM(S),w=.8+Rs(A)*.4,R=h.scale*w;E.scale.set(R,R,1);const z=M/t*Math.PI*2,O=Rs(A+.1)*h.spread*.3,P=new pe(Math.cos(z)*O,(Rs(A+.2)-.5)*h.spread*.1,Math.sin(z)*O);E.position.copy(new pe(...e).add(P));const B=.85+Rs(A+.3)*.3,D=new pe(...h.baseVelocity).multiplyScalar(B),V=M/t*Math.PI*2+Rs(A+.4)*.5,U=Rs(A+.5)*.001;D.x+=Math.cos(V)*U,D.z+=Math.sin(V)*U;const G=.5+Rs(A+.6)*.3,X=.7+Rs(A+.7)*.3,$=Rs(A+.8)*Math.PI*2,H=.08+Rs(A+.9)*.1,K=.5+Rs(A+1)*1,Q=Rs(A+1.1)>.5?1:-1;E.userData={seed:A,spawnDelay:M*(a/t)*.6,velocity:D,baseVelocity:D.clone(),rotationSpeed:h.rotationSpeed*K*Q,oscillationFreq1:G,oscillationFreq2:X,oscillationPhase:$,oscillationAmplitude:H,turbulenceOffset:Rs(A+1.2)*100,gravity:h.gravity,damping:h.damping,spreadRate:h.spreadRate||.008,age:0,lifeProgress:0,isActive:!1},g.push(E)}return o.current=g,f.current=0,g},[i,t,e,a,h]);return F.useEffect(()=>{c.current=0,f.current=0},[n,i]),mm((g,v)=>{if(!i||m.length===0)return;const y=Math.min(v,.1);c.current+=y,m.forEach((b,M)=>{const A=b.userData;if(c.current<A.spawnDelay){b.material.opacity=0;return}if(A.isActive||(A.isActive=!0,A.age=0,f.current++),A.age+=y,A.lifeProgress=Math.min(A.age/a,1),A.lifeProgress>=1){b.material.opacity=0;return}let S=0;if(A.lifeProgress<.25)S=y4(A.lifeProgress/.25);else if(A.lifeProgress<.75)S=1;else{const V=(A.lifeProgress-.75)/.25;S=1-y4(V)}const E=1.5+Rs(A.seed)*.3,w=Math.sin(A.age*E+A.oscillationPhase)*.05;S=S*(.92+w),b.material.opacity=Math.max(0,Math.min(1,S));const R=A.lifeProgress*A.spreadRate,z=A.oscillationPhase;A.velocity.x+=Math.cos(z)*R*y,A.velocity.z+=Math.sin(z)*R*y;const O=Math.sin(A.age*.8+A.turbulenceOffset)*h.turbulence*.5,P=Math.sin(A.age*.9+A.turbulenceOffset+200)*h.turbulence*.5;if(A.velocity.x+=O*y,A.velocity.z+=P*y,A.velocity.multiplyScalar(A.damping),b.position.x+=A.velocity.x*y,b.position.y+=A.velocity.y*y,b.position.z+=A.velocity.z*y,A.rotationSpeed!==0){const V=Math.abs(A.velocity.x+A.velocity.z)*.5,U=A.rotationSpeed*(1+V);b.material.rotation+=U*y}let B=1;A.lifeProgress<.04?B=QK(A.lifeProgress/.04)*1.1:B=1.1;const D=h.scale*(.9+Rs(A.seed)*.2)*B;b.scale.set(D,D,1)})}),F.useEffect(()=>()=>{m.forEach(g=>{g.material&&(g.material.map&&g.material.map.dispose(),g.material.dispose())})},[m]),!i||m.length===0?null:I.jsx("group",{ref:r,name:`particle-effect-${n}`,children:m.map((g,v)=>I.jsx("primitive",{object:g},`${n}-particle-${v}`))})}function tZ({initialPosition:n=[0,.15,.35],target:e=[0,.12,0],fov:t=55,enabled:i=!0,errorFocusMesh:a=null}){const r=F.useRef(),o=F.useRef(null),c=F.useRef(null),f=F.useRef(null),h=F.useRef(null),{set:m}=ts(),g=qn.ANIMATIONS.SCAN_DURATION/1e3;return F.useEffect(()=>{r.current&&m({camera:r.current})},[m]),F.useEffect(()=>{if(a&&r.current){if(!a.geometry){console.error(" Error mesh has no geometry!",a);return}a.geometry.boundingBox||a.geometry.computeBoundingBox();const v=a.geometry.boundingBox;if(!v){console.error(" Could not compute bounding box for error mesh!");return}const y=new pe;v.getCenter(y);const b=new pe;a.getWorldPosition(b);const M=y.clone();M.applyMatrix4(a.matrixWorld),b.add(M.sub(a.position));const A=y.clone();a.localToWorld(A);const S=A,E=new pe(0,.15,0),w=new pe().subVectors(S,E);if(w.y=0,w.length()<.001){console.warn(" Error mesh is at robot center, cannot calculate angle");return}w.normalize();const R=Math.atan2(w.x,w.z);f.current=R,c.current=null,h.current=null}else a&&!r.current&&console.warn(" Error mesh set but camera not ready yet")},[a]),mm(()=>{if(!i||!r.current)return;if(a&&f.current!==null){if(c.current===null){c.current=Date.now();const K=r.current.position,Q=Math.atan2(K.x,K.z);h.current=Q}const R=(Date.now()-c.current)/1e3,O=Math.min(R/1.5,1),P=O<.5?2*O*O:1-Math.pow(-2*O+2,2)/2,B=h.current;let D=f.current-B;D>Math.PI&&(D-=2*Math.PI),D<-Math.PI&&(D+=2*Math.PI);const V=B+D*P,U=.35,G=.15,X=Math.sin(V)*U,$=Math.cos(V)*U;r.current.position.set(X,G,$);const H=new pe;a.getWorldPosition(H),r.current.lookAt(H);return}o.current===null&&(o.current=Date.now());const v=(Date.now()-o.current)/1e3,y=.3,b=.15,M=Math.PI/g,A=v*M,S=Math.sin(A)*y,E=Math.cos(A)*y;r.current.position.set(S,b,E);const w=new pe(e[0],e[1],e[2]);r.current.lookAt(w)}),I.jsx(E9,{ref:r,makeDefault:!0,position:n,fov:t,near:.01,far:100})}function nZ({robot:n=null,offset:e=[0,0,.25],fov:t=50,lookAtOffset:i=[0,0,0],enabled:a=!0,lockToOrientation:r=!1}){const o=F.useRef(),{set:c}=ts();F.useRef(0);const f=F.useRef(new pe),h=F.useRef(new pe),m=F.useRef(new pe),g=F.useRef(new pe),v=F.useRef(new Fa),y=F.useRef(new pe(1,0,0));return F.useEffect(()=>{o.current&&c({camera:o.current})},[c]),mm(()=>{var M,A;if(!a||!o.current||!n)return;const b=(M=n.links)==null?void 0:M.xl_330;if(b)if(b.getWorldPosition(m.current),r){const S=(A=n.links)==null?void 0:A.camera;if(S){S.getWorldPosition(g.current),S.getWorldQuaternion(v.current),y.current.set(1,0,0),y.current.applyQuaternion(v.current);const E=Math.sqrt(e[0]**2+e[1]**2+e[2]**2)||.26;f.current.copy(g.current),f.current.add(y.current.multiplyScalar(E)),o.current.position.lerp(f.current,.1),o.current.lookAt(g.current)}else o.current.position.set(...e),o.current.lookAt(m.current)}else f.current.set(0,.25,.32),h.current.set(0,.2,0),o.current.position.copy(f.current),o.current.lookAt(h.current);else o.current.position.set(...e),h.current.set(0,.2,0),o.current.lookAt(h.current)}),I.jsx(E9,{ref:o,makeDefault:!0,position:e,fov:t,near:.01,far:100})}function iZ({headPose:n,headJoints:e,passiveJoints:t,yawBody:i,antennas:a,isActive:r,isTransparent:o,wireframe:c=!1,forceLoad:f=!1,hideGrid:h=!1,showScanEffect:m=!1,usePremiumScan:g=!1,onScanComplete:v=null,onScanMesh:y=null,onMeshesReady:b=null,cameraConfig:M={},useCinematicCamera:A=!1,useHeadFollowCamera:S=!1,lockCameraToHead:E=!1,errorFocusMesh:w=null,hideEffects:R=!1,darkMode:z=!1}){const[O,P]=F.useState([]),[B,L]=F.useState(null);F.useEffect(()=>{b&&O.length>0&&b(O)},[b,O]);const D=F.useRef(null),V=F.useRef(null);F.useEffect(()=>{if(e&&e.length===7){const ie=!D.current||e.some((re,te)=>{var se;return Math.abs(re-(((se=D.current)==null?void 0:se[te])||0))>.001}),fe=!!t,ge=fe!==V.current;(ie||ge)&&(window.kinematics={headJoints:e,passiveJoints:t,headPose:n,timestamp:new Date().toISOString()},D.current=e,V.current=fe)}},[e,t,n]),qn.ANIMATIONS.SCAN_DURATION/1e3;const{activeEffect:U}=dn(),G={bands:100,smoothness:.45,rimIntensity:.4,specularIntensity:.3,ambientIntensity:.45,contrastBoost:.9,outlineEnabled:!0,outlineThickness:12,outlineColor:"#000000"},X={ambient:.3,keyIntensity:1.8,fillIntensity:.3,rimIntensity:.8},$={opacity:z?.05:.2},H={showGrid:!0,fogDistance:2.5},K=F.useRef(new pe),Q=F.useMemo(()=>{var ge,re;if(!B)return[0,.18,.02];const ie=(ge=B.links)==null?void 0:ge.camera;if(ie)return ie.getWorldPosition(K.current),[K.current.x,K.current.y+.03,K.current.z+.02];const fe=(re=B.links)==null?void 0:re.xl_330;return fe?(fe.getWorldPosition(K.current),[K.current.x,K.current.y+.03,K.current.z+.02]):[0,.18,.02]},[B,U]),W=F.useMemo(()=>{const ie=z?"#555555":"#999999",fe=z?"#333333":"#cccccc",ge=new Q8(2,20,ie,fe);return ge.material.opacity=z?.4:.5,ge.material.transparent=!0,ge.material.fog=!0,ge},[z]),ce=F.useMemo(()=>{var se;if(!w)return null;if(!B||!O.length)return[w];const ie=(ve,ze=[])=>(ve.isMesh&&!ve.userData.isOutline&&ze.push(ve),ve.children&&ve.children.forEach(De=>{ie(De,ze)}),ze);let fe=!1,ge=null;if((se=B.links)!=null&&se.camera){ge=B.links.camera;const ve=ie(ge,[]);if(fe=ve.includes(w),fe)return ve.length>0?ve:[w]}let re=w,te=0;for(;re&&re.parent&&te<10;){const ve=(re.parent.name||"").toLowerCase(),ze=(re.name||"").toLowerCase();if(ve.includes("camera")||ze.includes("camera")){fe=!0;break}re=re.parent,te++}if(fe){if(ge){const ze=ie(ge,[]);return ze.length>0?ze:[w]}const ve=[];return O.forEach(ze=>{let De=ze,rt=0;for(;De&&De.parent&&rt<10;){const nt=(De.parent.name||"").toLowerCase(),Ge=(De.name||"").toLowerCase();if(nt.includes("camera")||Ge.includes("camera")){ve.push(ze);break}De=De.parent,rt++}}),ve.length>0?ve:[w]}return[w]},[w,B,O]),q=z?"#1a1a1a":"#fdfcfa";return I.jsxs(I.Fragment,{children:[I.jsx("fog",{attach:"fog",args:[q,1,H.fogDistance]}),I.jsx("ambientLight",{intensity:X.ambient}),I.jsx("directionalLight",{position:[2,4,2],intensity:X.keyIntensity,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),I.jsx("directionalLight",{position:[-2,2,1.5],intensity:X.fillIntensity}),I.jsx("directionalLight",{position:[0,3,-2],intensity:X.rimIntensity,color:"#FFB366"}),!h&&H.showGrid&&I.jsx("primitive",{object:W,position:[0,0,0]}),I.jsx(XK,{headPose:n,headJoints:e,passiveJoints:t,yawBody:i,antennas:a,isActive:r,isTransparent:o,wireframe:c,cellShading:G,xrayOpacity:$.opacity,onMeshesReady:P,onRobotReady:L,forceLoad:f}),m&&I.jsx(I.Fragment,{children:g?I.jsx(ZK,{meshes:O,scanColor:"#00ff88",enabled:!0,onScanMesh:(ie,fe,ge)=>{y&&y(ie,fe,ge)},onComplete:()=>{v&&v()}}):I.jsx(I.Fragment,{children:I.jsx(KK,{meshes:O,scanColor:"#16a34a",enabled:!0,onScanMesh:(ie,fe,ge)=>{y&&y(ie,fe,ge)},onComplete:()=>{v&&v()}})})}),w&&I.jsx(JK,{errorMesh:w,errorMeshes:ce,allMeshes:O,errorColor:"#ff0000",enabled:!0}),S?I.jsxs(I.Fragment,{children:[I.jsx(nZ,{robot:B,offset:[0,0,.25],fov:M.fov||50,lookAtOffset:[0,0,0],enabled:!0,lockToOrientation:E}),!E&&I.jsx(u4,{enablePan:!1,enableRotate:!0,enableZoom:!0,enableDamping:!0,dampingFactor:.05,target:M.target||[0,.2,0],minDistance:M.minDistance||.2,maxDistance:M.maxDistance||10})]}):A?I.jsx(tZ,{initialPosition:M.position||[0,.22,.35],target:M.target||[0,.12,0],fov:M.fov||55,enabled:!0,errorFocusMesh:w}):I.jsx(u4,{enablePan:!1,enableRotate:!0,enableZoom:!0,enableDamping:!0,dampingFactor:.05,target:M.target||[0,.2,0],minDistance:M.minDistance||.2,maxDistance:M.maxDistance||10}),!R&&U&&I.jsx(eZ,{type:U,spawnPoint:Q,particleCount:6,enabled:!0,duration:4})]})}const aZ=F.memo(iZ,(n,e)=>!(n.isActive!==e.isActive||n.isTransparent!==e.isTransparent||n.wireframe!==e.wireframe||n.forceLoad!==e.forceLoad||n.hideGrid!==e.hideGrid||n.showScanEffect!==e.showScanEffect||n.useCinematicCamera!==e.useCinematicCamera||n.useHeadFollowCamera!==e.useHeadFollowCamera||n.lockCameraToHead!==e.lockCameraToHead||n.hideEffects!==e.hideEffects||n.darkMode!==e.darkMode||n.yawBody!==e.yawBody||!lr(n.headJoints,e.headJoints)||!lr(n.passiveJoints,e.passiveJoints)||!lr(n.antennas,e.antennas)||!lr(n.headPose,e.headPose)));function rZ(n){const[e,t]=F.useState({headPose:null,headJoints:null,yawBody:0,antennas:[0,0],passiveJoints:null}),i=F.useRef(null),a=F.useRef(null),r=F.useRef(!0);return F.useEffect(()=>{if(r.current=!0,!n){i.current&&(i.current.close(),i.current=null),a.current&&(clearTimeout(a.current),a.current=null);return}const o=()=>{try{const c=new WebSocket("ws://localhost:8000/api/state/ws/full?frequency=10&with_head_pose=true&use_pose_matrix=true&with_head_joints=true&with_antenna_positions=true&with_passive_joints=true");c.onopen=()=>{},c.onmessage=f=>{try{const h=JSON.parse(f.data),m={};if(h.head_pose){const g=Array.isArray(h.head_pose)?h.head_pose:h.head_pose.m;g&&g.length===16&&(m.headPose=g)}h.head_joints&&Array.isArray(h.head_joints)&&h.head_joints.length===7&&(m.headJoints=h.head_joints,m.yawBody=h.head_joints[0]),h.antennas_position&&(m.antennas=h.antennas_position),h.passive_joints!==null&&h.passive_joints!==void 0?Array.isArray(h.passive_joints)&&h.passive_joints.length>=21&&(m.passiveJoints=h.passive_joints):m.passiveJoints=null,Object.keys(m).length>0&&t(g=>m.headPose&&!lr(m.headPose,g.headPose)||m.headJoints&&!lr(m.headJoints,g.headJoints)||m.yawBody!==void 0&&Math.abs(m.yawBody-g.yawBody)>.005||m.antennas&&!lr(m.antennas,g.antennas)||m.passiveJoints!==void 0&&(!g.passiveJoints||!m.passiveJoints||!lr(m.passiveJoints,g.passiveJoints))?{...g,...m}:g)}catch(h){console.error(" WebSocket message parse error:",h)}},c.onerror=f=>{console.error(" WebSocket error:",f)},c.onclose=()=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{r.current&&n&&o(),a.current=null},1e3)},i.current=c}catch(c){console.error(" WebSocket connection error:",c)}};return o(),()=>{r.current=!1,i.current&&(i.current.close(),i.current=null),a.current&&(clearTimeout(a.current),a.current=null)}},[n]),e}const sZ=Vn(I.jsx("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"})),oZ=Vn(I.jsx("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"})),lZ=Vn(I.jsx("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"})),nm=Vn(I.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function D2({open:n,onClose:e,darkMode:t,zIndex:i=9999,showCloseButton:a=!1,usePortal:r=!0,backdropBlur:o=20,backdropOpacity:c,centered:f=!0,centeredX:h,centeredY:m,onBackdropClick:g,children:v}){if(!n)return null;const y=c!==void 0?c:t?.92:.95,b=h!==void 0?h:f,M=m!==void 0?m:f,A=w=>{w.target===w.currentTarget&&(g?g(w):e())},S=t?`rgba(18, 18, 18, ${y})`:`rgba(255, 255, 255, ${y})`,E=I.jsx(we,{onClick:A,sx:{position:"fixed",top:0,left:0,right:0,bottom:0,bgcolor:S,backdropFilter:`blur(${o}px)`,WebkitBackdropFilter:`blur(${o}px)`,display:"flex",alignItems:M?"center":"flex-start",justifyContent:b?"center":"flex-start",zIndex:i,animation:"fadeIn 0.3s ease","@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},overflow:"auto"},children:I.jsx(we,{onClick:w=>w.stopPropagation(),sx:{width:"100%",height:M?"auto":"100%",display:"flex",flexDirection:"column",alignItems:b?"center":"stretch",justifyContent:M?"center":"flex-start"},children:v})});return r?L0.createPortal(E,document.body):E}function cZ({open:n,onClose:e,darkMode:t}){const[i,a]=F.useState(""),[r,o]=F.useState("");return I.jsx(D2,{open:n,onClose:e,darkMode:t,zIndex:10001,centeredX:!0,centeredY:!0,children:I.jsxs(we,{sx:{position:"relative",width:"90%",maxWidth:"400px",display:"flex",flexDirection:"column",alignItems:"center",gap:3},children:[I.jsx(Mo,{onClick:e,sx:{position:"absolute",top:0,right:0,color:"#FF9500",bgcolor:t?"rgba(255, 255, 255, 0.08)":"#ffffff",border:"1px solid #FF9500",opacity:.7,"&:hover":{opacity:1,bgcolor:t?"rgba(255, 255, 255, 0.12)":"#ffffff"},zIndex:1},children:I.jsx(nm,{sx:{fontSize:20}})}),I.jsx(_t,{sx:{fontSize:24,fontWeight:700,color:t?"#f5f5f5":"#333",letterSpacing:"-0.3px",textAlign:"center"},children:"Settings"}),I.jsxs(we,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:1.5},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[I.jsx(sZ,{sx:{fontSize:18,color:t?"#aaa":"#666"}}),I.jsx(_t,{sx:{fontSize:14,fontWeight:600,color:t?"#f5f5f5":"#333"},children:"WiFi Configuration"})]}),I.jsx(ZE,{label:"Network SSID",value:i,onChange:c=>a(c.target.value),placeholder:"Enter network name",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{bgcolor:t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)","& fieldset":{borderColor:t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},"&:hover fieldset":{borderColor:t?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"},"&.Mui-focused fieldset":{borderColor:"#FF9500"}},"& .MuiInputLabel-root":{color:t?"#aaa":"#666"},"& .MuiInputBase-input":{color:t?"#f5f5f5":"#333"}}}),I.jsx(ZE,{label:"Password",type:"password",value:r,onChange:c=>o(c.target.value),placeholder:"Enter password",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{bgcolor:t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)","& fieldset":{borderColor:t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"},"&:hover fieldset":{borderColor:t?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)"},"&.Mui-focused fieldset":{borderColor:"#FF9500"}},"& .MuiInputLabel-root":{color:t?"#aaa":"#666"},"& .MuiInputBase-input":{color:t?"#f5f5f5":"#333"}}})]}),I.jsxs(we,{sx:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderRadius:"12px",bgcolor:t?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)",border:t?"1px solid rgba(255, 255, 255, 0.06)":"1px solid rgba(0, 0, 0, 0.06)"},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[t?I.jsx(lZ,{sx:{fontSize:20,color:t?"#aaa":"#666"}}):I.jsx(oZ,{sx:{fontSize:20,color:t?"#aaa":"#666"}}),I.jsxs(we,{children:[I.jsx(_t,{sx:{fontSize:14,fontWeight:600,color:t?"#f5f5f5":"#333",mb:.25},children:t?"Light Mode":"Dark Mode"}),I.jsx(_t,{sx:{fontSize:11,color:t?"#888":"#999"},children:t?"Switch to light theme":"Switch to dark theme"})]})]}),I.jsx(bk,{checked:t,onChange:()=>dn.getState().toggleDarkMode(),sx:{"& .MuiSwitch-switchBase.Mui-checked":{color:"#FF9500"},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:"#FF9500"}}})]})]})})}function uZ({darkMode:n}){const[e,t]=F.useState(0),i=F.useRef(0),a=F.useRef(performance.now()),r=F.useRef(null);return F.useEffect(()=>{const o=()=>{i.current+=1;const c=performance.now(),f=c-a.current;if(f>=1e3){const h=Math.round(i.current*1e3/f);t(h),i.current=0,a.current=c}r.current=requestAnimationFrame(o)};return r.current=requestAnimationFrame(o),()=>{r.current&&cancelAnimationFrame(r.current)}},[]),I.jsx(we,{sx:{px:1.25,py:.75,borderRadius:"8px",bgcolor:n?"rgba(26, 26, 26, 0.85)":"rgba(255, 255, 255, 0.85)",border:n?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)",pointerEvents:"none"},children:I.jsxs(_t,{sx:{fontSize:9,fontWeight:500,color:n?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.5)",fontFamily:"SF Mono, Monaco, Menlo, monospace",letterSpacing:"0.02em",lineHeight:1},children:[e," FPS"]})})}const x4={normal:{position:[0,.25,.52],fov:50,target:[0,.2,0],minDistance:.2,maxDistance:.6},scan:{position:[0,.22,.5],fov:55,target:[0,.12,0],minDistance:.15,maxDistance:.5}};function fZ({isActive:n,initialMode:e="normal",hideControls:t=!1,forceLoad:i=!1,hideGrid:a=!1,hideBorder:r=!1,showScanEffect:o=!1,usePremiumScan:c=!1,onScanComplete:f=null,onScanMesh:h=null,onMeshesReady:m=null,cameraPreset:g="normal",useCinematicCamera:v=!1,useHeadFollowCamera:y=!1,showCameraToggle:b=!1,errorFocusMesh:M=null,backgroundColor:A="#e0e0e0",wireframe:S=!1,antennas:E=null,headPose:w=null,headJoints:R=null,yawBody:z=null,showStatusTag:O=!1,isOn:P=null,isMoving:B=!1,robotStatus:L=null,busyReason:D=null,hideEffects:V=!1,canvasScale:U=1,canvasTranslateX:G=0,canvasTranslateY:X=0}){const $=typeof g=="string"?x4[g]:{...x4.normal,...g},H=n||i&&R!==null,K=rZ(H),Q=F.useRef(null),W=F.useRef(null),ce=F.useRef(null),q=F.useRef(null),ie=F.useRef(null),fe=F.useMemo(()=>{const ke=E!==null?E:H?K.antennas||[0,0]:[0,0];return lr(ke,Q.current)?Q.current||ke:(Q.current=ke,ke)},[E,H,K.antennas]),ge=F.useMemo(()=>{const ke=w!==null?w:H?K.headPose:null;return ke&&(!W.current||!lr(ke,W.current))?(W.current=ke,ke):!ke&&W.current?(W.current=null,null):W.current||ke},[w,H,K.headPose]),re=F.useMemo(()=>{const ke=R!==null?R:H?K.headJoints:null;return ke&&(!ce.current||!lr(ke,ce.current))?(ce.current=ke,ke):!ke&&ce.current?(ce.current=null,null):ce.current||ke},[R,H,K.headJoints]),te=F.useMemo(()=>{var Ke,Ye,de;const ke=z!==null?z:H?K.yawBody:null;return ke!==void 0&&Math.abs(ke-((Ke=q.current)!=null?Ke:0))>.005?(q.current=ke,ke):(de=(Ye=q.current)!=null?Ye:ke)!=null?de:null},[z,H,K.yawBody]),se=F.useMemo(()=>{var de;const ke=H?K.passiveJoints:null,Ke=Array.isArray(ie.current)?ie.current:(de=ie.current)==null?void 0:de.array,Ye=Array.isArray(ke)?ke:ke==null?void 0:ke.array;return ke&&(!ie.current||!lr(Ye,Ke))?(ie.current=ke,ke):!ke&&ie.current?(ie.current=null,null):ie.current||ke},[H,K.passiveJoints]),[ve,ze]=F.useState(e==="xray"),[De,rt]=F.useState(!1),nt=dn(ke=>ke.darkMode),Ge=A==="transparent"?"transparent":A==="#e0e0e0"?nt?"#1a1a1a":"#e0e0e0":A,[Ee,ne]=F.useState("free"),Oe=Ee==="locked",Ae=Ee==="locked",Be=(()=>{if(L)switch(L){case"disconnected":return{label:"Offline",color:"#999"};case"ready-to-start":return{label:"Ready to Start",color:"#3b82f6"};case"starting":return{label:"Starting",color:"#3b82f6",animated:!0};case"ready":return P===!0?{label:"Ready",color:"#22c55e"}:P===!1?{label:"Standby",color:"#FF9500"}:{label:"Connected",color:"#3b82f6"};case"busy":return{...{moving:{label:"Moving",color:"#a855f7"},command:{label:"Executing",color:"#a855f7"},"app-running":{label:"App Running",color:"#f59e0b"},installing:{label:"Installing",color:"#3b82f6"}}[D]||{label:"Busy",color:"#a855f7"},animated:!0};case"stopping":return{label:"Stopping",color:"#ef4444",animated:!0};case"crashed":return{label:"Crashed",color:"#ef4444"};default:return{label:"Unknown",color:"#999"}}return n?B?{label:"Moving",color:"#a855f7",animated:!0}:P===!0?{label:"Ready",color:"#22c55e"}:P===!1?{label:"Standby",color:"#FF9500"}:{label:"Connected",color:"#3b82f6"}:{label:"Offline",color:"#999"}})();return I.jsxs("div",{style:{width:"100%",height:"100%",background:Ge==="transparent"?"transparent":Ge,backgroundColor:Ge==="transparent"?"transparent":Ge,borderRadius:r?"0":"16px",position:"relative",overflow:"visible"},children:[I.jsxs(U$,{camera:{position:$.position,fov:$.fov},dpr:[1,2],frameloop:V?"demand":"always",gl:{antialias:!0,alpha:Ge==="transparent",preserveDrawingBuffer:!0,powerPreference:"high-performance",toneMapping:X_,toneMappingExposure:1,outputEncoding:void 0,stencil:!1,depth:!0,logarithmicDepthBuffer:!1},onCreated:({gl:ke})=>{ke.sortObjects=!1,Ge==="transparent"&&ke.setClearColor(0,0)},style:{width:"100%",height:"100%",display:"block",background:Ge==="transparent"?"transparent":Ge,border:r?"none":nt?"1px solid rgba(255, 255, 255, 0.08)":"1px solid rgba(0, 0, 0, 0.08)",borderRadius:r?"0":"16px",transform:`scale(${U}) translate(${G}, ${X})`,transformOrigin:"center center"},children:[Ge!=="transparent"&&I.jsx("color",{attach:"background",args:[Ge]}),I.jsx(aZ,{headPose:ge,headJoints:re,passiveJoints:se,yawBody:te,antennas:fe,isActive:n,isTransparent:ve,wireframe:S,forceLoad:i,hideGrid:a,showScanEffect:o,usePremiumScan:c,onScanComplete:f,onScanMesh:h,onMeshesReady:m,cameraConfig:$,useCinematicCamera:v,useHeadFollowCamera:y&&Oe,lockCameraToHead:Ae,errorFocusMesh:M,hideEffects:V,darkMode:nt})]}),!t&&I.jsx(we,{sx:{position:"absolute",top:12,right:12,display:"flex",alignItems:"center",gap:"4px",zIndex:10},children:I.jsx(Ul,{title:"Settings",placement:"top",arrow:!0,children:I.jsx(Mo,{onClick:()=>rt(!0),size:"small",sx:{width:32,height:32,transition:"all 0.2s ease",opacity:.7,color:"#666","&:hover":{opacity:1,color:"#FF9500",bgcolor:"rgba(255, 149, 0, 0.08)"}},children:I.jsx(B$,{sx:{fontSize:20}})})})}),!t&&I.jsx(we,{sx:{position:"absolute",bottom:50,left:12,zIndex:11},children:I.jsx(uZ,{darkMode:nt})}),!t&&O&&I.jsxs(we,{sx:{position:"absolute",bottom:12,left:12,display:"flex",alignItems:"center",gap:.75,px:1.5,py:.75,borderRadius:"10px",bgcolor:nt?"rgba(26, 26, 26, 0.95)":"rgba(255, 255, 255, 0.95)",border:`1.5px solid ${Be.color==="#22c55e"?"rgba(34, 197, 94, 0.3)":Be.color==="#FF9500"?"rgba(255, 149, 0, 0.3)":Be.color==="#3b82f6"?"rgba(59, 130, 246, 0.3)":Be.color==="#a855f7"?"rgba(168, 85, 247, 0.35)":Be.color==="#f59e0b"?"rgba(245, 158, 11, 0.35)":Be.color==="#ef4444"?"rgba(239, 68, 68, 0.4)":Be.color==="#999"?"rgba(153, 153, 153, 0.25)":"rgba(0, 0, 0, 0.12)"}`,backdropFilter:"blur(10px)",transition:"none",zIndex:10},children:[I.jsx(k$,{sx:{fontSize:7,color:Be.color,...Be.animated&&{animation:"pulse-dot 1.5s ease-in-out infinite","@keyframes pulse-dot":{"0%, 100%":{opacity:1,transform:"scale(1)"},"50%":{opacity:.6,transform:"scale(1.3)"}}}}}),I.jsx(_t,{sx:{fontSize:11,fontWeight:600,color:Be.color,letterSpacing:"0.2px"},children:Be.label})]}),I.jsx(cZ,{open:De,onClose:()=>rt(!1),darkMode:nt})]})}const yy=Vn(I.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),R9=Vn(I.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),dZ=Vn(I.jsx("path",{d:"M12 5.99 19.53 19H4.47zM12 2 1 21h22zm1 14h-2v2h2zm0-6h-2v4h2z"})),hZ=Vn(I.jsx("path",{d:"m9.56 8-2-2-4.15-4.14L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.55-.18L19.73 21l1.41-1.41-8.86-8.86zM5 16V8h1.73l8 8zm10-8v2.61l6 6V6.5l-4 4V7c0-.55-.45-1-1-1h-5.61l2 2z"}));function pZ({width:n=240,height:e=180,isLarge:t=!1}){return I.jsxs(we,{sx:{position:"relative",width:"100%",height:"100%",borderRadius:t?"16px":"12px",overflow:"hidden",border:t?"none":"1px solid rgba(0, 0, 0, 0.08)",bgcolor:"#000000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:1},children:[I.jsx(hZ,{sx:{fontSize:t?64:32,color:"rgba(255, 255, 255, 0.3)"}}),I.jsx(_t,{sx:{fontSize:t?9:8,color:"rgba(255, 255, 255, 0.4)",fontFamily:"SF Mono, Monaco, Menlo, monospace",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Camera Unavailable"})]})}function mZ({view3D:n,viewCamera:e,onSwap:t,initialSwapped:i=!1}){const[a,r]=F.useState(i),[o,c]=F.useState(!1),f=F.useRef(null),h=F.useRef(null);F.useLayoutEffect(()=>{c(!0)},[]);const m=640/480,g=F.useCallback(()=>{r(R=>{const z=!R;return t&&t(z),z})},[t]),v=F.useMemo(()=>({hideControls:!0,showStatusTag:!1,hideEffects:!0}),[]),y=F.useMemo(()=>({isLarge:!1,width:140,height:105}),[]),b=F.useMemo(()=>n,[n]),M=F.useMemo(()=>F.cloneElement(n,v),[n,v]),A=F.useMemo(()=>e,[e]),S=F.useMemo(()=>F.cloneElement(e,y),[e,y]),E=a?A:b,w=a?M:S;return I.jsxs(we,{sx:{position:"relative",width:"100%",aspectRatio:`${m}`,minHeight:250},children:[I.jsx(we,{ref:f,sx:{width:"100%",height:"100%",borderRadius:"16px",overflow:"visible",position:"relative"}}),I.jsxs(we,{sx:{position:"absolute",bottom:-60,right:20,width:140,height:105,zIndex:10,"&:hover .swap-button":{opacity:1}},children:[I.jsx(we,{ref:h,sx:{width:"100%",height:"100%",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",position:"relative"}}),I.jsx(Mo,{onClick:g,className:"swap-button",sx:{position:"absolute",top:8,right:8,width:20,height:20,minWidth:20,bgcolor:"rgba(0, 0, 0, 0.15)",backdropFilter:"blur(4px)",color:"#fff",fontSize:"14px",padding:0,zIndex:10,opacity:0,transition:"all 0.2s ease","&:hover":{bgcolor:"rgba(0, 0, 0, 0.3)",transform:"scale(1.2)"}},title:"Swap video and 3D view",children:""})]}),o&&f.current&&L0.createPortal(I.jsx(we,{sx:{width:"100%",height:"100%",display:"block"},children:E}),f.current),o&&h.current&&L0.createPortal(I.jsx(we,{sx:{width:"100%",height:"100%",display:"block"},children:w}),h.current)]})}const O9=F.createContext(null);function gZ({config:n,children:e}){return I.jsx(O9.Provider,{value:n,children:e})}function Sr(){const n=F.useContext(O9);if(n===null)throw new Error("useActiveRobotContext must be used within an ActiveRobotProvider. Make sure ActiveRobotModule is properly wrapped with a provider.");return n}const yZ="https://huggingface.co/datasets/pollen-robotics/reachy-mini-application-store/raw/main/app-list.json";function xZ(n){try{return new Function("return "+n)()}catch(e){console.error("Failed to parse JavaScript-like format:",e);try{let t=n.replace(/'/g,'"');return t=t.replace(/([{,]\s*)([a-zA-Z_$][a-zA-Z0-9_$]*)\s*:/g,'$1"$2":'),t=t.replace(/,(\s*[}\]])/g,"$1"),JSON.parse(t)}catch(t){throw console.error("Fallback parsing also failed:",t),e}}}async function vZ(n){try{const e=n.includes("/")?n:`pollen-robotics/${n}`;try{const t=`https://huggingface.co/api/spaces/${e}`,i=await I1(t,{headers:{Accept:"application/json"}},1e4,{silent:!0});if(i.ok){const a=await i.json();if(a.likes!==void 0)return a.likes||0}}catch{}try{const t=`https://huggingface.co/spaces/${e}`,i=await I1(t,{headers:{Accept:"text/html"}},1e4,{silent:!0});if(i.ok){const a=await i.text(),r=a.match(/"likes"\s*:\s*(\d+)/);if(r)return parseInt(r[1],10);const o=a.match(/<script[^>]*>[\s\S]*?"likes"\s*:\s*(\d+)[\s\S]*?<\/script>/);if(o)return parseInt(o[1],10)}}catch{}return 0}catch(e){return console.warn(` Error fetching likes for ${n}:`,e.message),0}}async function bZ(n){const e=new Map;if(n.length===0)return e;try{const t=n.map(async a=>{const r=await vZ(a);return{spaceId:a,likes:r}});(await Promise.all(t)).forEach(({spaceId:a,likes:r})=>{e.set(a,r)})}catch(t){console.warn(" Error fetching spaces likes:",t.message)}return e}async function _Z(){var n,e,t,i;try{const a=await I1(yZ,{headers:{Accept:"application/json, text/plain, */*"}},1e4,{silent:!0});if(!a.ok){if(a.status===401||a.status===404)return[];throw new Error(`Failed to fetch app list: ${a.status} ${a.statusText}`)}const r=await a.text();let o;try{o=JSON.parse(r)}catch{o=xZ(r)}let c=[];Array.isArray(o)?c=o:o&&typeof o=="object"&&(c=o.apps||o.items||o.list||Object.values(o).find(g=>Array.isArray(g))||[]);const f=c.filter(g=>g.id).map(g=>g.id);let h=new Map;if(f.length>0)try{h=await bZ(f)}catch{console.warn(" Failed to fetch likes from API, using downloads as fallback")}return c.map(g=>{if(g.id){const v=h.get(g.id),y=v!==void 0&&v>0?v:g.downloads||0;return{...g,likes:y,downloads:g.downloads||0}}return{...g,likes:g.downloads||0,downloads:g.downloads||0}})||[]}catch(a){return a.name==="NetworkError"||a.isOffline||(n=a.message)!=null&&n.includes("No internet connection")?(console.warn(" No internet connection, skipping Hugging Face app list fetch"),[]):(!((e=a.message)!=null&&e.includes("Failed to fetch"))&&!((t=a.message)!=null&&t.includes("401"))&&!((i=a.message)!=null&&i.includes("404"))&&console.warn(" Failed to fetch Hugging Face app list:",a.message),[])}}const SZ="https://huggingface.co/datasets/pollen-robotics/reachy-mini-official-app-store/raw/main/app-list.json";function MZ(){const n=F.useCallback(async()=>{try{const a=await I1(SZ,{},qn.TIMEOUTS.APPS_LIST,{silent:!0});if(!a.ok)return console.warn(` Failed to fetch official app list: ${a.status}`),[];const r=await a.json();return Array.isArray(r)?r:[]}catch(a){return console.warn(" Failed to fetch official app IDs:",a.message),[]}},[]),e=F.useCallback(async()=>{var a,r,o;try{const c=await n();if(c.length===0)return[];let f=[];try{const g=Ll("/api/apps/list-available/hf_space"),v=await $o(g,{},qn.TIMEOUTS.APPS_LIST,{silent:!0});v.ok?(f=await v.json(),console.log(` Fetched ${f.length} hf_space apps from daemon (with complete metadata)`)):console.warn(` Daemon returned ${v.status}, falling back to /api/spaces`)}catch(g){console.warn(" Daemon not available, falling back to /api/spaces:",g.message)}const h=new Map;for(const g of f)if(g&&g.id&&h.set(g.id,g),g&&g.name){const v=g.id||`${((a=g.extra)==null?void 0:a.id)||g.name}`;v.includes("/")&&h.set(v,g)}const m=[];for(const g of c){let v=h.get(g);if(!v){const y=g.split("/").pop();v=f.find(b=>{var M;return b.name===y||b.id===g||((M=b.extra)==null?void 0:M.id)===g})}if(v){const y=v.extra||v;m.push({name:v.name||g.split("/").pop(),id:v.id||y.id||g,description:v.description||((r=y.cardData)==null?void 0:r.short_description)||"",url:v.url||`https://huggingface.co/spaces/${v.id||y.id||g}`,source_kind:"hf_space",extra:y}),console.log(` Official app ${g} found in daemon:`,{name:v.name,id:v.id||y.id,hasCardData:!!y.cardData,hasLikes:y.likes!==void 0,hasLastModified:!!y.lastModified})}else console.warn(` Official app ${g} not found in daemon response`),m.push({name:g.split("/").pop(),id:g,description:"",url:`https://huggingface.co/spaces/${g}`,source_kind:"hf_space",extra:{id:g,cardData:{}}})}return console.log(` Built ${m.length} official apps (${h.size} found in daemon)`),m}catch(c){return c.name==="NetworkError"||c.isOffline||(o=c.message)!=null&&o.includes("No internet connection")?(console.warn(" No internet connection, skipping official apps fetch"),[]):(console.error(" Failed to fetch official apps:",c),[])}},[n]),t=F.useCallback(async()=>{try{const a=Ll("/api/apps/list-available?official=false");console.log(" Fetching all apps from daemon (non-official mode)");const r=await $o(a,{},qn.TIMEOUTS.APPS_LIST,{silent:!0});if(!r.ok)return console.warn(" Failed to fetch apps from daemon:",r.status),[];let o=await r.json();console.log(` Fetched ${o.length} apps from daemon (before filtering)`);const c=await n();if(c.length>0){const g=new Set(c.map(b=>b.toLowerCase())),v=new Set(c.map(b=>b.split("/").pop().toLowerCase())),y=o.length;o=o.filter(b=>{var E;const M=(b.id||((E=b.extra)==null?void 0:E.id)||"").toLowerCase(),A=(b.name||"").toLowerCase();return!(g.has(M)||v.has(A))}),console.log(` Filtered out ${y-o.length} official apps, ${o.length} non-official apps remaining`)}const f="https://huggingface.co/api/spaces",h=o.map(async g=>{var y,b;if((y=g.extra)!=null&&y.runtime)return g;const v=g.id||((b=g.extra)==null?void 0:b.id);if(!v)return console.warn(` No ID found for app ${g.name}, skipping runtime enrichment`),g;try{const M=v.includes("/")?v:`pollen-robotics/${v}`;console.log(` Fetching runtime for ${M}`);const A=await I1(`${f}/${M}`,{},qn.TIMEOUTS.APPS_LIST,{silent:!0});if(A.ok){const S=await A.json();S.runtime?(g.extra={...g.extra,runtime:S.runtime},console.log(` Added runtime for ${g.name}:`,S.runtime)):console.log(` No runtime data in API response for ${g.name}`)}else console.warn(` Failed to fetch runtime for ${M}: ${A.status}`)}catch(M){console.warn(` Error fetching runtime for ${g.name}:`,M.message)}return g});o=await Promise.all(h);const m=o.filter(g=>{var v;return(v=g.extra)==null?void 0:v.runtime}).length;return console.log(` Enriched ${m}/${o.length} apps with runtime data`),o}catch(a){return console.warn(" Daemon not available:",a.message),[]}},[n]),i=F.useCallback(async(a=0)=>{var c,f,h,m,g;const o=[1e3,2e3,3e3];try{const v=Ll("/api/apps/list-available/installed"),y=await $o(v,{},qn.TIMEOUTS.APPS_LIST,{silent:!0});if(y.ok){const M=(await y.json()).map(A=>({...A,source_kind:A.source_kind||"local"}));return console.log(` Fetched ${M.length} installed apps from daemon`),{apps:M,error:null}}return y.status>=500?a<3?(console.log(` Server error ${y.status} fetching installed apps, retrying (${a+1}/3)...`),await new Promise(b=>setTimeout(b,o[a])),i(a+1)):(console.error(` Failed to fetch installed apps after 3 retries: HTTP ${y.status}`),{apps:[],error:`Server error: ${y.status}`}):(console.warn(` Failed to fetch installed apps: HTTP ${y.status}`),{apps:[],error:`HTTP ${y.status}`})}catch(v){const y=v.name==="TimeoutError"||v.name==="AbortError"||((c=v.message)==null?void 0:c.includes("timeout"))||((f=v.message)==null?void 0:f.includes("Load failed"))||((h=v.message)==null?void 0:h.includes("Failed to fetch"))||((m=v.message)==null?void 0:m.includes("network"))||((g=v.message)==null?void 0:g.includes("ECONNREFUSED"));return a<3&&y?(console.log(` Connection error fetching installed apps (daemon may not be ready), retrying (${a+1}/3)...`),await new Promise(b=>setTimeout(b,o[a])),i(a+1)):(console.error(` Failed to fetch installed apps${a>0?` after ${a} retries`:""}:`,v.message),{apps:[],error:v.message})}},[]);return{fetchOfficialApps:e,fetchAllAppsFromDaemon:t,fetchInstalledApps:i}}function AZ(n){return!n||typeof n!="string"?"":n.replace(/[_-]/g,"").toLowerCase()}function y_(n){if(!n||typeof n!="string")return[];const e=new Set;e.add(n),e.add(n.toLowerCase());const t=AZ(n);t&&t!==n.toLowerCase()&&e.add(t);const i=n.replace(/_/g,"-");i!==n&&(e.add(i),e.add(i.toLowerCase()));const a=n.replace(/-/g,"_");return a!==n&&(e.add(a),e.add(a.toLowerCase())),Array.from(e)}function wZ(n){const e=new Map;return n.forEach(t=>{t.id&&y_(t.id).forEach(a=>{e.set(a,t)}),t.name&&y_(t.name).forEach(a=>{e.has(a)||e.set(a,t)})}),e}function EZ(n,e,t=[]){if(!n)return null;if(n.id){const i=y_(n.id);for(const a of i){const r=e.get(a);if(r)return r}}if(n.name){const i=y_(n.name);for(const a of i){const r=e.get(a);if(r)return r}}if(n.name&&t.length>0){const i=n.name.toLowerCase();return t.find(a=>{var c,f;const r=((c=a.id)==null?void 0:c.toLowerCase())||"",o=((f=a.name)==null?void 0:f.toLowerCase())||"";return r&&(r.includes(i)||i.includes(r))||o&&(o.includes(i)||i.includes(o))})||null}return null}function TZ(n){return n.source_kind==="hf_space"&&n.extra&&n.extra.id&&n.extra.id.includes("/")}function CZ(n){var e,t,i;return n?{id:n.id,name:(e=n.id)==null?void 0:e.split("/").pop(),description:(t=n.cardData)==null?void 0:t.short_description,icon:(i=n.cardData)==null?void 0:i.emoji,likes:n.likes,lastModified:n.lastModified,runtime:n.runtime,downloads:n.downloads,tags:n.tags,cardData:n.cardData,_spaceData:n}:null}function RZ(n,e){var t;return((t=n==null?void 0:n.extra)==null?void 0:t.runtime)||(e==null?void 0:e.runtime)||null}function OZ(n,e,t,i){var r,o,c,f,h,m,g,v,y,b,M,A,S,E,w,R,z,O,P,B,L,D,V;const a=RZ(n,e);return{name:n.name,id:(e==null?void 0:e.id)||n.id||n.name,description:n.description||(e==null?void 0:e.description)||((r=t==null?void 0:t.cardData)==null?void 0:r.short_description)||"",url:n.url||(e!=null&&e.id?`https://huggingface.co/spaces/${e.id}`:null)||(t!=null&&t.id?`https://huggingface.co/spaces/${t.id}`:null),source_kind:n.source_kind||"local",isInstalled:i,extra:{...n.extra,cardData:{...(t==null?void 0:t.cardData)||((o=n.extra)==null?void 0:o.cardData)||{},emoji:((c=t==null?void 0:t.cardData)==null?void 0:c.emoji)||((h=(f=n.extra)==null?void 0:f.cardData)==null?void 0:h.emoji)||(e==null?void 0:e.icon)||n.icon||n.emoji||"",short_description:((m=t==null?void 0:t.cardData)==null?void 0:m.short_description)||((v=(g=n.extra)==null?void 0:g.cardData)==null?void 0:v.short_description)||(e==null?void 0:e.description)||n.description||""},likes:(A=(M=(b=t==null?void 0:t.likes)!=null?b:(y=n.extra)==null?void 0:y.likes)!=null?M:e==null?void 0:e.likes)!=null?A:0,downloads:(R=(w=(E=t==null?void 0:t.downloads)!=null?E:(S=n.extra)==null?void 0:S.downloads)!=null?w:e==null?void 0:e.downloads)!=null?R:0,lastModified:(B=(P=(O=t==null?void 0:t.lastModified)!=null?O:(z=n.extra)==null?void 0:z.lastModified)!=null?P:e==null?void 0:e.lastModified)!=null?B:new Date().toISOString(),tags:(V=(D=t==null?void 0:t.tags)!=null?D:(L=n.extra)==null?void 0:L.tags)!=null?V:[],runtime:a},...n.version&&{version:n.version},...n.path&&{path:n.path}}}function zZ(n,e){return n.map(t=>{var c,f,h,m,g,v,y,b;const i=!((f=(c=t.extra)==null?void 0:c.cardData)!=null&&f.emoji)||t.extra.cardData.emoji==="",a=!((h=t.extra)!=null&&h.lastModified);if(!i&&!a)return t;const r=e.find(M=>{var A,S,E,w;return M.name===t.name||M.id===t.name||((A=M.name)==null?void 0:A.toLowerCase())===((S=t.name)==null?void 0:S.toLowerCase())||((E=M.id)==null?void 0:E.toLowerCase())===((w=t.name)==null?void 0:w.toLowerCase())});if(!r)return t;const o={...t.extra};return(m=r.extra)!=null&&m.cardData?o.cardData={...o.cardData||{},...r.extra.cardData,...i&&r.extra.cardData.emoji?{emoji:r.extra.cardData.emoji}:{}}:i&&((v=(g=r.extra)==null?void 0:g.cardData)!=null&&v.emoji)&&(o.cardData={...o.cardData||{},emoji:r.extra.cardData.emoji}),a&&((y=r.extra)!=null&&y.lastModified)&&(o.lastModified=r.extra.lastModified),((b=r.extra)==null?void 0:b.likes)!==void 0&&(o.likes=r.extra.likes),{...t,extra:o}})}function NZ(){return{enrichApps:F.useCallback(async(e,t)=>{let i=[];try{i=await _Z()}catch(h){console.warn(" Failed to fetch Hugging Face metadata:",h.message)}const a=wZ(i),r=e.map(h=>{var M,A,S,E;const m=TZ(h),g=m?h.extra:null;let v=null;m?(v=CZ(g),console.log(` Using /api/spaces metadata for official app: ${h.name}`,{id:g.id,hasCardData:!!g.cardData,hasLastModified:!!g.lastModified,likes:g.likes})):v=EZ(h,a,i);const y=t.has((M=h.name)==null?void 0:M.toLowerCase());y&&console.log(` DEBUG: App "${h.name}" marked as installed (matched in installedAppNames)`);const b=OZ(h,v,g,y);return m&&console.log(` Final metadata for official app ${h.name}:`,{likes:b.extra.likes,lastModified:b.extra.lastModified,hasCardData:!!b.extra.cardData,emoji:(A=b.extra.cardData)==null?void 0:A.emoji,description:b.description}),h.name&&((S=h.extra)!=null&&S.runtime||v!=null&&v.runtime)&&console.log(` Runtime for "${h.name}":`,{fromDaemon:(E=h.extra)==null?void 0:E.runtime,fromHF:v==null?void 0:v.runtime,consolidated:b.extra.runtime}),b}),o=r.filter(h=>h.isInstalled),c=r.filter(h=>!h.isInstalled);console.log(` DEBUG enrichApps: Total enriched: ${r.length}, Installed: ${o.length}, Available: ${c.length}`),console.log(" DEBUG enrichApps: Installed apps:",o.map(h=>({name:h.name,isInstalled:h.isInstalled,source_kind:h.source_kind})));const f=zZ(o,c);return console.log(` DEBUG enrichApps: After emoji enrichment: ${f.length} installed apps`),{enrichedApps:r,installed:f,available:c}},[])}}const EA=typeof window<"u"&&!window.__TAURI__,DZ="",LZ=async(n,e={})=>{if(!EA){const{invoke:a}=await Th(async()=>{const{invoke:r}=await Promise.resolve().then(()=>Rk);return{invoke:r}},void 0);return a(n,e)}console.log(`[WebMode] invoke: ${n}`,e);const i={start_daemon:{method:"POST",url:"/api/daemon/start"},stop_daemon:{method:"POST",url:"/api/daemon/stop"},get_daemon_status:{method:"GET",url:"/api/daemon/status"},install_app:{method:"POST",url:"/api/apps/install"},uninstall_app:{method:"POST",url:"/api/apps/uninstall"},start_app:{method:"POST",url:"/api/apps/start"},stop_app:{method:"POST",url:"/api/apps/stop"},list_apps:{method:"GET",url:"/api/apps/list"},sign_python_binaries:{method:"GET",url:null,noop:!0}}[n];if(!i)return console.warn(`[WebMode] Unknown command: ${n}, returning null`),null;if(i.noop)return console.log(`[WebMode] No-op command: ${n}`),{success:!0};try{const a={method:i.method,headers:{"Content-Type":"application/json"}};i.method!=="GET"&&Object.keys(e).length>0&&(a.body=JSON.stringify(e));const r=await fetch(`${DZ}${i.url}`,a);if(!r.ok)throw new Error(`HTTP ${r.status}: ${r.statusText}`);return await r.json()}catch(a){throw console.error(`[WebMode] invoke error for ${n}:`,a),a}},v4=async(n,e)=>{if(!EA){const{listen:t}=await Th(async()=>{const{listen:i}=await Promise.resolve().then(()=>CM);return{listen:i}},void 0);return t(n,e)}return console.log(`[WebMode] listen: ${n} - using polling fallback`),n==="sidecar-stdout"||n==="sidecar-stderr"?()=>{}:(console.warn(`[WebMode] Event ${n} not supported in web mode`),()=>{})},IZ=async n=>{if(!EA){const{open:e}=await Th(async()=>{const{open:t}=await import("./index-Bf4Mm5Fk.js");return{open:t}},[]);return e(n)}window.open(n,"_blank","noopener,noreferrer")};function PZ(n,e){const t=F.useRef(new Map),i=F.useRef(new Map),a=G_(),r=F.useCallback(async m=>{try{const g=await $o(Ll(`/api/apps/job-status/${encodeURIComponent(m)}`),{},qn.TIMEOUTS.JOB_STATUS,{silent:!0});if(!g.ok){if(g.status===403||g.status===401)return console.warn(` Permission issue while polling job ${m}, continuing...`),null;throw new Error(`Failed to fetch job status: ${g.status}`)}return await g.json()}catch(g){return g.name==="SystemPopupTimeoutError"||g.name==="PermissionDeniedError"?(console.warn(` System popup detected while polling job ${m}, continuing...`),null):(console.error(" Failed to fetch job status:",g),null)}},[]),o=F.useCallback(m=>{const g=t.current.get(m);g&&(clearInterval(g),t.current.delete(m));const v=i.current.get(m);v&&(v.forEach(y=>clearTimeout(y)),i.current.delete(m))},[]),c=F.useCallback((m,g)=>(i.current.has(m)||i.current.set(m,new Set),i.current.get(m).add(g),()=>{clearTimeout(g);const v=i.current.get(m);v&&(v.delete(g),v.size===0&&i.current.delete(m))}),[]),f=F.useCallback(m=>{if(t.current.has(m))return;const g=async()=>{var S;if(!t.current.has(m))return;const y=await r(m);if(!y){n(E=>{const w=E.get(m);if(!w)return E;const R=(w.fetchFailCount||0)+1;if(R>qn.CRASH_DETECTION.JOB_MAX_FAILS){console.warn(` Job ${m} polling failed after ${R} attempts (network timeout), marking as failed`),o(m),w.appName&&a.warning(`${w.type==="install"?"Install":"Uninstall"} ${w.appName} timeout - daemon not responsive`);const O=new Map(E);O.set(m,{...w,status:"failed",logs:[...w.logs||[]," Installation timed out - Network error or daemon overloaded"],fetchFailCount:R});const P=setTimeout(()=>{n(L=>{const D=new Map(L);return D.delete(m),D});const B=i.current.get(m);B&&(B.delete(P),B.size===0&&i.current.delete(m))},qn.CRASH_DETECTION.JOB_CLEANUP_DELAY);return c(m,P),O}const z=new Map(E);return z.set(m,{...w,fetchFailCount:R}),z});return}const b=(y.logs||[]).join(`
`).toLowerCase(),M=b.includes("completed successfully")||b.includes("job 'install' completed")||b.includes("job 'remove' completed"),A=y.status==="completed"||y.status==="failed"||M;if(A){o(m);const E=y.status==="failed"?"failed":"completed";let w=null;if(n(R=>(w=R.get(m),R)),w)if(E==="failed"){console.error(" Job failed with logs:",y.logs);const R=((S=y.logs)==null?void 0:S.slice(-2).join(" | "))||"Unknown error";a.error(`${w.type==="install"?"Install":"Uninstall"} ${w.appName} failed: ${R}`)}else a.success(`${w.type==="install"?"Install":"Uninstall"} ${w.appName} completed`),w.type==="install"&&LZ("sign_python_binaries").then(R=>{console.log("[AppJobs] Python binaries re-signed:",R)}).catch(R=>{console.warn("[AppJobs] Failed to re-sign Python binaries:",R)});y.status=E}if(n(E=>{const w=E.get(m);if(!w)return E;const R=new Map(E);return R.set(m,{...w,status:y.status,logs:y.logs||[],fetchFailCount:0}),R}),A){n(z=>{const O=z.get(m);if(!O)return z;const P=new Map(z);return P.set(m,{...O,status:y.status}),P});const E=setTimeout(()=>{e();const z=i.current.get(m);z&&(z.delete(E),z.size===0&&i.current.delete(m))},qn.APP_INSTALLATION.REFRESH_DELAY);c(m,E);const w=y.status==="failed"?8e3:100,R=setTimeout(()=>{n(O=>{const P=new Map(O);return P.delete(m),P});const z=i.current.get(m);z&&(z.delete(R),z.size===0&&i.current.delete(m))},w);c(m,R)}},v=setInterval(g,qn.INTERVALS.JOB_POLLING);t.current.set(m,v),g()},[r,o,n,e,a]),h=F.useCallback(()=>{t.current.forEach(m=>clearInterval(m)),t.current.clear(),i.current.forEach(m=>{m.forEach(g=>clearTimeout(g))}),i.current.clear()},[]);return{fetchJobStatus:r,startJobPolling:f,stopJobPolling:o,cleanup:h}}const b4=(n,e,t,i,a)=>{if(n.name==="PermissionDeniedError"||n.name==="SystemPopupTimeoutError"){const r=n.name==="PermissionDeniedError"?`Permission denied: Please accept system permissions to ${e} ${t}`:`System permission popup detected: Please accept permissions to continue ${e} ${t}`;i.warning(r),a(r);const o=new Error(r);return o.name=n.name,o.userFriendly=!0,o}return null},_4=(n,e,t,i,a,r)=>{a(o=>{const c=new Map(o instanceof Map?o:new Map(Object.entries(o||{})));return c.set(n,{type:e,appName:t,...i&&{appInfo:i},status:"running",logs:[]}),c}),r.current&&r.current(n)};function UZ(n,e=!0){const t=dn(),i=G_(),{availableApps:a,installedApps:r,currentApp:o,activeJobs:c,appsLoading:f,appsError:h,appsLastFetch:m,appsOfficialMode:g,appsCacheValid:v,setAvailableApps:y,setInstalledApps:b,setCurrentApp:M,setActiveJobs:A,setAppsLoading:S,setAppsError:E,setAppsOfficialMode:w,invalidateAppsCache:R,clearApps:z}=t,O=F.useMemo(()=>new Map(Object.entries(c||{})),[c]),{fetchOfficialApps:P,fetchAllAppsFromDaemon:B,fetchInstalledApps:L}=MZ(),{enrichApps:D}=NZ(),V=F.useRef(!1),U=3e4,G=F.useCallback(()=>!v||!m?!1:Date.now()-m<U,[v,m]),X=F.useCallback(async(re=!1)=>{if(V.current)return console.log(" Fetch already in progress, skipping..."),a;const te=g!==e;if(te&&(console.log(` Mode changed: ${g}  ${e}, forcing refresh`),R(),w(e)),!re&&!te&&G()&&a.length>0)return console.log(" Using cached apps (valid for",Math.round((U-(Date.now()-m))/1e3),"s)"),a;!re&&!te&&G()&&a.length===0&&console.log(" Cache is empty, forcing refresh to fetch apps");try{V.current=!0,S(!0),E(null);let se=[],ve=[],ze=null;if(e){console.log(" Fetching official apps from HF app store"),se=await P(),console.log(` Fetched ${se.length} official apps from HF app store`);const Ee=await L();ve=Ee.apps||[],ze=Ee.error,ze&&console.warn(` Error fetching installed apps: ${ze}`)}else console.log(" Fetching all apps from daemon"),se=await B();const De=new Set(ve.map(Ee=>{var ne;return(ne=Ee.name)==null?void 0:ne.toLowerCase()}).filter(Boolean));if(console.log(` DEBUG: installedAppsFromDaemon count: ${ve.length}`),console.log(" DEBUG: installedAppNames Set:",Array.from(De)),console.log(" DEBUG: installedAppsFromDaemon:",ve.map(Ee=>({name:Ee.name,source_kind:Ee.source_kind}))),e&&ve.length>0){const Ee=new Set(se.map(Oe=>{var Ae;return(Ae=Oe.name)==null?void 0:Ae.toLowerCase()})),ne=ve.filter(Oe=>{var Ae;return!Ee.has((Ae=Oe.name)==null?void 0:Ae.toLowerCase())}).map(Oe=>({...Oe,source_kind:Oe.source_kind||"local"}));console.log(" DEBUG: uniqueInstalledApps (non-official):",ne.map(Oe=>({name:Oe.name,source_kind:Oe.source_kind}))),se=[...se,...ne]}console.log(` DEBUG: daemonApps before enrichment: ${se.length} apps`);const{enrichedApps:rt,installed:nt,available:Ge}=await D(se,De);return console.log(` DEBUG: After enrichment - installed: ${nt.length}, available: ${Ge.length}`),console.log(" DEBUG: installed apps details:",nt.map(Ee=>({name:Ee.name,isInstalled:Ee.isInstalled,source_kind:Ee.source_kind}))),y(rt),b(nt),S(!1),ze&&console.warn(` Installed apps fetch had errors but continuing with available data: ${ze}`),console.log(` Apps fetched and stored in global store: ${rt.length} total, ${nt.length} installed`),rt}catch(se){return console.error(" Failed to fetch apps:",se),E(se.message),S(!1),a}finally{V.current=!1}},[e,g,a,m,G,P,B,L,D,y,b,S,E,w]),$=F.useRef(null);$.current=X;const{startJobPolling:H,cleanup:K}=PZ(A,()=>{$.current&&$.current(!0)}),Q=F.useRef(H);Q.current=H;const W=F.useCallback(async()=>{try{const re=await $o(Ll("/api/apps/current-app-status"),{},qn.TIMEOUTS.APPS_LIST,{silent:!0});if(!re.ok)throw new Error(`Failed to fetch current app: ${re.status}`);const te=await re.json(),se=dn.getState();if(te&&te.info&&te.state){M(te);const ve=te.state,ze=te.info.name,De=!!te.error,rt=ve==="running"||ve==="starting",nt=ve==="done"||ve==="stopping"||ve==="error";if(rt&&!De)(!se.isAppRunning||se.currentAppName!==ze)&&se.lockForApp(ze);else if((nt||De)&&se.isAppRunning){let Ge;De?Ge=` ${ze} crashed: ${te.error}`:ve==="error"?Ge=` ${ze} error state`:ve==="done"?Ge=` ${ze} completed`:ve==="stopping"?Ge=` ${ze} stopping`:Ge=` ${ze} stopped (${ve})`,console.warn(` App ${ze} state changed to ${ve}${De?` with error: ${te.error}`:""}`),i.info(Ge),se.unlockApp()}}else if(M(null),se.isAppRunning&&se.busyReason==="app-running"){const ve=se.currentAppName||"unknown";console.warn(` App crash detected: currentApp is null but store thinks "${ve}" is running`),i.warning(`App ${ve} stopped unexpectedly`),se.unlockApp()}return te}catch{return M(null),null}},[M]),ce=F.useCallback(async re=>{try{const te=await $o(Ll("/api/apps/install"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)},qn.TIMEOUTS.APP_INSTALL,{label:`Install ${re.name}`});if(!te.ok){if(te.status===403||te.status===401){const ze=new Error("Permission denied: System may have blocked the installation");throw ze.name="PermissionDeniedError",ze}throw new Error(`Installation failed: ${te.status}`)}const se=await te.json(),ve=se.job_id||Object.keys(se)[0];if(!ve)throw new Error("No job_id returned from API");return _4(ve,"install",re.name,re,A,Q),ve}catch(te){console.error(" Installation error:",te);const se=b4(te,"install",re.name,i,E);throw se||(i.error(`Failed to start install ${re.name} (${te.message})`),E(te.message),te)}},[A,i,E]),q=F.useCallback(async re=>{try{const te=await $o(Ll(`/api/apps/remove/${encodeURIComponent(re)}`),{method:"POST"},qn.TIMEOUTS.APP_REMOVE,{label:`Uninstall ${re}`});if(!te.ok){if(te.status===403||te.status===401){const ze=new Error("Permission denied: System may have blocked the removal");throw ze.name="PermissionDeniedError",ze}throw new Error(`Removal failed: ${te.status}`)}const se=await te.json(),ve=se.job_id||Object.keys(se)[0];if(!ve)throw new Error("No job_id returned from API");return _4(ve,"remove",re,null,A,Q),ve}catch(te){console.error(" Removal error:",te);const se=b4(te,"remove",re,i,E);throw se||(i.error(`Failed to start uninstall ${re} (${te.message})`),E(te.message),te)}},[A,i,E]),ie=F.useCallback(async re=>{try{const te=await $o(Ll(`/api/apps/start-app/${encodeURIComponent(re)}`),{method:"POST"},qn.TIMEOUTS.APP_START,{label:`Start ${re}`});if(!te.ok)throw new Error(`Failed to start app: ${te.status}`);const se=await te.json();return W(),se}catch(te){throw console.error(" Failed to start app:",te),i.error(`Failed to start ${re} (${te.message})`),E(te.message),te}},[W,i,E]),fe=F.useCallback(async()=>{try{const re=await $o(Ll("/api/apps/stop-current-app"),{method:"POST"},qn.TIMEOUTS.APP_STOP,{label:"Stop current app"});if(!re.ok)throw new Error(`Failed to stop app: ${re.status}`);const te=await re.json();return M(null),dn.getState().unlockApp(),setTimeout(()=>W(),qn.INTERVALS.CURRENT_APP_REFRESH),te}catch(re){throw console.error(" Failed to stop app:",re),i.error(`Failed to stop app (${re.message})`),E(re.message),dn.getState().unlockApp(),re}},[W,M,i,E]);F.useEffect(()=>K,[K]);const ge=F.useRef(!0);return F.useEffect(()=>{if(!n){M(null),z(),ge.current=!0;return}if(ge.current){ge.current=!1,console.log(" Robot just became active, daemon healthcheck already verified, fetching apps..."),g!==e?(console.log(` Mode changed: ${g}  ${e}, invalidating cache and refetching`),R(),w(e),X(!0)):X(!1),W();const ze=setInterval(W,qn.INTERVALS.APP_STATUS);return()=>{clearInterval(ze)}}g!==e?(console.log(` Mode changed: ${g}  ${e}, invalidating cache and refetching`),R(),w(e),X(!0)):X(!1),W();const se=setInterval(W,qn.INTERVALS.APP_STATUS);return()=>clearInterval(se)},[n,e,g,X,W,M,z,R,w]),{availableApps:a,installedApps:r,currentApp:o,activeJobs:O,isLoading:f,error:h,fetchAvailableApps:X,installApp:ce,removeApp:q,startApp:ie,stopCurrentApp:fe,fetchCurrentAppStatus:W,startJobPolling:H,invalidateCache:R}}function BZ(n,e=!0){return UZ(n,e)}function kZ({currentApp:n,activeJobs:e,installApp:t,removeApp:i,startApp:a,stopCurrentApp:r,showToast:o}){const{robotState:c,actions:f,api:h}=Sr(),{lockForApp:m,unlockApp:g,lockForInstall:v,unlockInstall:y,setInstallResult:b}=f,{isCommandRunning:M}=c,A=h.config,[S,E]=F.useState(null),[w,R]=F.useState(null),z=(V,U,G="install")=>{if(console.error(`Failed to ${G}:`,V),b(null),y(),V.name==="PermissionDeniedError"||V.name==="SystemPopupTimeoutError"){const X=V.userFriendly?V.message:`${U}: System permission required. Please accept the permission dialog if it appears.`;o&&o(X,"warning")}else o&&o(`Failed to ${G} ${U}: ${V.message}`,"error")};return{expandedApp:S,setExpandedApp:E,startingApp:w,handleInstall:async V=>{try{v(V.name,"install"),await t(V)}catch(U){z(U,V.name,"install")}},handleUninstall:async V=>{try{v(V,"remove"),await i(V),E(null)}catch(U){z(U,V,"uninstall")}},handleStartApp:async V=>{try{if(M){o("Please wait for the current action to finish","warning"),console.warn(` Cannot start ${V}: quick action is running`);return}if(n&&n.info&&n.info.name!==V){if(!window.confirm(`${n.info.name} is currently running. Stop it and launch ${V}?`))return;await r(),g(),await new Promise(X=>setTimeout(X,A.APP_INSTALLATION.HANDLER_DELAY))}R(V);const U=await a(V);m(V),R(null)}catch(U){console.error(` Failed to start ${V}:`,U),R(null),g(),alert(`Failed to start app: ${U.message}`)}},isJobRunning:(V,U)=>{for(const[G,X]of e.entries())if(X.appName===V&&X.type===U)return!0;return!1},getJobInfo:(V,U)=>{for(const[G,X]of e.entries())if(X.appName===V&&X.type===U)return X;return null},stopCurrentApp:r}}const WS={REMOVE:"remove"},FZ={FAILED:"failed"},z9={COMPLETED:"completed",FAILED:"failed"},$v={MIN_DISPLAY_TIME:{REMOVE:qn.MIN_DISPLAY_TIMES.APP_UNINSTALL},RESULT_DISPLAY_DELAY:qn.APP_INSTALLATION.RESULT_DISPLAY_DELAY,POLLING:{INTERVAL:500,MAX_ATTEMPTS:10,REFRESH_INTERVAL:2}},VZ=["successfully installed","successfully uninstalled","completed successfully","job 'install' completed","job 'remove' completed"],HZ=["failed","error:","error ","exception","traceback"];function jZ(n,e){if(!n||!e)return null;for(const[,t]of n.entries())if(t.appName===e)return t;return null}function N9(n){return(n==null?void 0:n.status)===z9.COMPLETED}function D9(n){return(n==null?void 0:n.status)===z9.FAILED}function GZ(n,e,t){return!n&&e!==null&&t}function WZ(n){if(!n||n.length===0)return{isSuccess:!1,isError:!1};const e=n.join(" ").toLowerCase(),t=VZ.some(a=>e.includes(a.toLowerCase())),i=HZ.some(a=>e.includes(a.toLowerCase()));return{isSuccess:t,isError:i}}function YZ(n){if(N9(n))return{wasCompleted:!0,wasFailed:!1,confidence:"high"};if(D9(n))return{wasCompleted:!1,wasFailed:!0,confidence:"high"};if(n!=null&&n.logs&&n.logs.length>0){const{isSuccess:e,isError:t}=WZ(n.logs);if(e)return{wasCompleted:!0,wasFailed:!1,confidence:"medium"};if(t)return{wasCompleted:!1,wasFailed:!0,confidence:"medium"}}return{wasCompleted:!0,wasFailed:!1,confidence:"low"}}function XZ(n,e){if(!n||!e||e.length===0)return!1;const t=n.toLowerCase();return e.some(i=>{var a,r;return((a=i.name)==null?void 0:a.toLowerCase())===t||((r=i.id)==null?void 0:r.toLowerCase())===t})}function qZ(n,e){return`${n}_${e}`}function $Z(){const n=F.useRef(null),e=F.useRef(0),t=F.useCallback(({appName:r,installedApps:o,onAppFound:c,onTimeout:f,refreshApps:h})=>{i(),e.current=0,h&&h(),n.current=setInterval(()=>{if(e.current++,XZ(r,o)){i(),c();return}if(e.current>=$v.POLLING.MAX_ATTEMPTS){i(),f();return}h&&e.current%$v.POLLING.REFRESH_INTERVAL===0&&h()},$v.POLLING.INTERVAL)},[]),i=F.useCallback(()=>{n.current&&(clearInterval(n.current),n.current=null),e.current=0},[]),a=F.useCallback(()=>({isPolling:n.current!==null,attempts:e.current,maxAttempts:$v.POLLING.MAX_ATTEMPTS}),[]);return{startPolling:t,stopPolling:i,getPollingStatus:a}}function KZ({activeJobs:n,installedApps:e,showToast:t,refreshApps:i,onInstallSuccess:a}){const r=F.useRef([]),{stopPolling:o}=$Z(),{robotState:c,actions:f}=Sr(),{installingAppName:h,installJobType:m,installStartTime:g,jobSeenOnce:v,processedJobs:y}=c,{unlockInstall:b,setInstallResult:M,markJobAsSeen:A,markJobAsProcessed:S}=f;F.useEffect(()=>()=>{r.current.forEach(clearTimeout),r.current=[],o()},[o]),F.useEffect(()=>{h||o()},[h,o]);const E=F.useCallback((z=!1)=>{const O=h,P=m===WS.REMOVE;b(),z&&a&&a(),t&&t(`${O} ${P?"uninstalled":"installed"} successfully`,"success")},[b,a,t,m,h]),w=F.useCallback((z=!1)=>{if(M(FZ.FAILED),t){const P=m===WS.REMOVE?"uninstall":"install";t(`Failed to ${P} ${h}`,"error")}},[M,t,m,h]),R=F.useCallback(z=>{const O=m===WS.REMOVE;if(!z){w(!1);return}E(!O)},[m,E,w]);F.useEffect(()=>{var V;if(!h)return;const z=qZ(h,m);if(y.includes(z))return;const O=jZ(n,h);O&&!v&&A();const P=GZ(O,g,v),B=N9(O),L=D9(O);if(!P&&!B&&!L)return;S(h,m);const D=YZ(O);D.confidence==="low"&&console.warn(` Installation result determined with low confidence for ${h}. Job status: ${(O==null?void 0:O.status)||"unknown"}, Logs: ${((V=O==null?void 0:O.logs)==null?void 0:V.length)||0} entries. Assuming success by default.`),D.wasFailed?w(!1):R(D.wasCompleted)},[n,e,h,m,g,v,y,A,S,E,w,R])}function ZZ(n,e){const{actions:t}=Sr(),{addAppLog:i,clearAppLogs:a}=t,r=F.useRef(null),o=F.useRef(null),c=m=>{if(!m)return!0;const g=typeof m=="string"?m:m.toString();return g.toLowerCase(),[/^WARNING: All log messages before absl::InitializeLog/i,/^INFO:.*127\.0\.0\.1.*GET \/api\//i,/^Sidecar (stdout|stderr):/i,/GET \/api\/state\/full/i,/GET \/api\/daemon\//i,/GET \/api\/apps\/current-app-status/i,/GET \/api\/apps\/.*\/logs/i,/GET \/api\/apps\/logs\//i,/GET \/api\/apps\/.*\/output/i,/GET \/api\/apps\/.*\/stdout/i,/WebSocket.*\/api\/state\/ws/i,/connection (open|closed)/i,/INFO:.*127\.0\.0\.1.*WebSocket/i,/INFO:.*127\.0\.0\.1.*"WebSocket/i].some(y=>y.test(g))},f=m=>{if(!m||!n)return!1;const g=typeof m=="string"?m:m.toString(),v=n.toLowerCase(),y=g.toLowerCase();if(c(g))return!1;if(y.includes(v)){const S=y.indexOf(v),E=g[S-1],w=g[S+v.length];if(!(E==="/"||w==="/"||E==="\\"||w==="\\"))return!0}return!!([/^\[.*\]/,/ERROR:reachy_mini\.apps/i,/INFO:reachy_mini\.apps/i,/WARNING:reachy_mini\.apps/i].some(S=>S.test(g))||![/^INFO:.*uvicorn/i,/^INFO:.*FastAPI/i,/^INFO:.*Application startup/i,/^INFO:.*Uvicorn running/i,/^INFO:.*Started server process/i,/^INFO:.*127\.0\.0\.1.*WebSocket/i,/^INFO:.*127\.0\.0\.1.*"WebSocket/i,/connection (open|closed)/i,/WebSocket.*\/api\/state\/ws/i].some(S=>S.test(g)))},h=m=>{const g=typeof m=="string"?m:m.toString(),v=g.toLowerCase();return v.includes("error:")||v.includes("exception")||v.includes("traceback")?{level:"error",message:g}:v.includes("warning:")?v.includes("old firmware")||v.includes("absl::initializelog")||v.includes("all log messages before")?null:{level:"warning",message:g}:{level:"info",message:g}};F.useEffect(()=>{if(!n||!e){n&&a(n);return}return(async()=>{try{r.current=await v4("sidecar-stdout",g=>{var b;const y=(typeof g.payload=="string"?g.payload:((b=g.payload)==null?void 0:b.toString())||"").replace(/^Sidecar stdout:\s*/,"").trim();if(!(!y||y.includes("GET /api/")||y.includes("INFO:     127.0.0.1")||y.includes("WebSocket")||y.includes("connection open")||y.includes("connection closed"))&&f(y)){const M=h(y);M&&i(M.message,n,M.level)}}),o.current=await v4("sidecar-stderr",g=>{var b;const y=(typeof g.payload=="string"?g.payload:((b=g.payload)==null?void 0:b.toString())||"").replace(/^Sidecar stderr:\s*/,"").trim();if(!(!y||y.includes("WebSocket")||y.includes("connection open")||y.includes("connection closed"))&&f(y)){const M=h(y);M&&i(M.message,n,M.level)}})}catch(g){console.error("Failed to setup sidecar log listeners:",g)}})(),()=>{r.current&&(r.current(),r.current=null),o.current&&(o.current(),o.current=null)}},[n,e,i,a])}const JZ=Vn(I.jsx("path",{d:"M10 8.64 15.27 12 10 15.36zM8 5v14l11-7z"})),QZ=Vn(I.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),eJ=Vn(I.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m4-4H8V8h8z"})),tJ=Vn(I.jsx("path",{d:"m18.36 9 .6 3H5.04l.6-3zM20 4H4v2h16zm0 3H4l-1 5v2h1v6h10v-6h4v6h2v-6h1v-2zM6 18v-4h6v4z"}));function S4({onClick:n,darkMode:e}){return I.jsxs(we,{component:"button",onClick:n,sx:{display:"inline-flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:1,px:2,py:1,borderRadius:"10px",bgcolor:e?"rgba(26, 26, 26, 0.95)":"#ffffff",border:"1px solid #FF9500",cursor:"pointer",transition:"transform 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"visible",animation:"discoverPulse 3s ease-in-out infinite","@keyframes discoverPulse":{"0%, 100%":{boxShadow:e?"0 0 0 0 rgba(255, 149, 0, 0.4)":"0 0 0 0 rgba(255, 149, 0, 0.3)"},"50%":{boxShadow:"0 0 0 8px rgba(255, 149, 0, 0)"}},"&:hover":{borderColor:"#FF9500",bgcolor:e?"rgba(26, 26, 26, 1)":"#ffffff",transform:"translateY(-2px)",boxShadow:e?"0 6px 16px rgba(255, 149, 0, 0.2)":"0 6px 16px rgba(255, 149, 0, 0.15)",animation:"none"},"&:active":{transform:"translateY(0)",boxShadow:e?"0 2px 8px rgba(255, 149, 0, 0.2)":"0 2px 8px rgba(255, 149, 0, 0.15)"},fontFamily:"inherit",outline:"none"},children:[I.jsx(tJ,{sx:{fontSize:16,color:"#FF9500"}}),I.jsx(_t,{sx:{fontSize:12,fontWeight:700,color:"#FF9500",letterSpacing:"-0.2px"},children:"Discover apps"})]})}const nJ="/v2/assets/cooking-chief-CFURKMZ_.png",iJ=Object.freeze(Object.defineProperty({__proto__:null,default:nJ},Symbol.toStringTag,{value:"Module"})),aJ="/v2/assets/farmer-2sejRPMv.png",rJ=Object.freeze(Object.defineProperty({__proto__:null,default:aJ},Symbol.toStringTag,{value:"Module"})),sJ="/v2/assets/fisherman-Dk5p2pGU.png",oJ=Object.freeze(Object.defineProperty({__proto__:null,default:sJ},Symbol.toStringTag,{value:"Module"})),lJ="/v2/assets/jazzman-8MxT50lo.png",cJ=Object.freeze(Object.defineProperty({__proto__:null,default:lJ},Symbol.toStringTag,{value:"Module"})),uJ="/v2/assets/rich-BENdmQqN.png",fJ=Object.freeze(Object.defineProperty({__proto__:null,default:uJ},Symbol.toStringTag,{value:"Module"})),dJ=Object.assign({"../assets/reachies/small-top-sided/cooking-chief.png":iJ,"../assets/reachies/small-top-sided/farmer.png":rJ,"../assets/reachies/small-top-sided/fisherman.png":oJ,"../assets/reachies/small-top-sided/jazzman.png":cJ,"../assets/reachies/small-top-sided/rich.png":fJ});function hJ({width:n=100,height:e=100,interval:t=1e3,transitionDuration:i=150,fadeInDuration:a=350,fadeOutDuration:r=120,zoom:o=1.8,verticalAlign:c="center",darkMode:f=!1,sx:h={}}){const m=F.useMemo(()=>Object.values(dJ).map(z=>typeof z=="object"&&z!==null&&"default"in z?z.default:z).filter(Boolean).sort(),[]),[g,v]=F.useState(0),[y,b]=F.useState(null),[M,A]=F.useState(!1),[S,E]=F.useState(!1);F.useEffect(()=>{m.forEach(R=>{const z=new Image;z.src=R})},[m]);const w=(R,z)=>{if(z<=1)return 0;let O;do O=Math.floor(Math.random()*z);while(O===R&&z>1);return O};return F.useEffect(()=>{if(m.length>0){const R=setInterval(()=>{b(g),A(!0),E(!1);const O=w(g,m.length);v(O);const P=Math.min(a*.4,r*2);setTimeout(()=>{E(!0)},P),setTimeout(()=>{A(!1),b(null),E(!1)},Math.max(a,r))},t);return()=>clearInterval(R)}},[m.length,t,g,a,r]),m.length===0?I.jsx(we,{sx:{width:n,height:e,display:"flex",alignItems:"center",justifyContent:"center",...h}}):I.jsx(we,{sx:{position:"relative",width:n,height:e,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",...h},children:m.map((R,z)=>{const O=z===g,P=z===y&&M;let B,L;c==="top"?(B=0,L="0"):c==="bottom"?(B="100%",L="-100%"):typeof c=="string"&&c.includes("%")?(B=c,L="-50%"):(B="50%",L="-50%");const D=f?.8:.9;let V=0,U="none";return O?(V=D,U=`opacity ${a}ms cubic-bezier(0.4, 0, 0.2, 1)`):P&&(V=S?0:D,U=`opacity ${r}ms cubic-bezier(0.4, 0, 1, 1)`),I.jsx(we,{component:"img",src:R,alt:`Reachy ${z+1}`,sx:{position:"absolute",width:n*o,height:e*o,objectFit:"cover",objectPosition:"center top",opacity:V,transform:`translate(-50%, ${L})`,transition:U,pointerEvents:"none",left:"50%",top:B,zIndex:O?2:P?1:0,willChange:"opacity",backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"}},`${R}-${z}`)})})}function pJ({installedApps:n,darkMode:e,expandedApp:t,setExpandedApp:i,startingApp:a,currentApp:r,isBusy:o,isJobRunning:c,handleStartApp:f,handleUninstall:h,getJobInfo:m,stopCurrentApp:g,onOpenDiscover:v,onOpenCreateTutorial:y}){return I.jsxs(we,{sx:{px:3,mb:0},children:[n.length===0&&I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:3,py:3.5,borderRadius:"14px",bgcolor:"transparent",border:e?"1px dashed rgba(255, 255, 255, 0.3)":"1px dashed rgba(0, 0, 0, 0.3)",gap:1.5,minHeight:"280px"},children:[I.jsx(we,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:.25},children:I.jsx(hJ,{width:100,height:100,interval:750,transitionDuration:150,zoom:1.6,verticalAlign:"60%",darkMode:e})}),I.jsx(_t,{sx:{fontSize:14,color:e?"#aaa":"#666",fontWeight:700,textAlign:"center"},children:"No apps installed yet..."}),I.jsx(S4,{onClick:v,darkMode:e}),I.jsx(_t,{component:"button",onClick:y,sx:{fontSize:11,fontWeight:500,color:e?"#666":"#999",textDecoration:"underline",textDecorationColor:e?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",textUnderlineOffset:"2px",cursor:"pointer",bgcolor:"transparent",border:"none",p:0,mt:-.5,transition:"all 0.2s ease","&:hover":{color:e?"#888":"#777",textDecorationColor:e?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}},children:"or build your own"})]}),n.length>0&&I.jsx(I.Fragment,{children:I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:1,mb:0,minHeight:"280px",borderRadius:"14px",bgcolor:"transparent",border:e?"1px solid rgba(255, 255, 255, 0.08)":"1px solid rgba(0, 0, 0, 0.08)",p:2},children:[n.map(b=>{var B,L;const M=t===b.name,A=c(b.name,"remove"),S=r&&r.info&&r.info.name===b.name,E=S&&r.state?r.state:null,w=E==="running",R=E==="starting",z=E==="error",O=S&&(r.error||z),P=a===b.name||R;return I.jsxs(we,{sx:{borderRadius:"14px",bgcolor:e?"rgba(255, 255, 255, 0.02)":"white",border:`1px solid ${M?"#FF9500":e?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}`,transition:"opacity 0.25s ease, filter 0.25s ease",overflow:"hidden",boxShadow:"none",opacity:A?.5:o&&!w?.4:1,filter:o&&!w?"grayscale(50%)":"none"},children:[I.jsxs(we,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",bgcolor:M?e?"rgba(255, 149, 0, 0.05)":"rgba(255, 149, 0, 0.03)":"transparent"},onClick:()=>i(M?null:b.name),children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5,flex:1,minWidth:0,overflow:"hidden",pr:1},children:[I.jsx(we,{sx:{fontSize:28,width:52,height:52,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",bgcolor:e?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.03)",border:`1px solid ${e?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}`,flexShrink:0},children:((L=(B=b.extra)==null?void 0:B.cardData)==null?void 0:L.emoji)||b.icon||""}),I.jsxs(we,{sx:{flex:1,minWidth:0,overflow:"hidden"},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.3},children:[I.jsx(_t,{sx:{fontSize:13,fontWeight:600,color:e?"#f5f5f5":"#333",letterSpacing:"-0.2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,minWidth:0},children:b.name}),O&&I.jsx(H0,{label:"Error",size:"small",sx:{height:16,fontSize:9,fontWeight:700,bgcolor:"rgba(239, 68, 68, 0.1)",color:"#ef4444","& .MuiChip-label":{px:.75}}})]}),(()=>{var U,G,X,$;const D=m(b.name);if(D)return I.jsx(_t,{sx:{fontSize:9,color:D.type==="remove"?"#ef4444":"#FF9500",fontWeight:500,fontFamily:"monospace",letterSpacing:"0.2px"},children:D.type==="remove"?"Removing...":"Installing..."});const V=((X=(G=(U=b.extra)==null?void 0:U.id)==null?void 0:G.split("/"))==null?void 0:X[0])||(($=b.extra)==null?void 0:$.author)||null;return V?I.jsx(_t,{sx:{fontSize:9,fontWeight:500,color:e?"#666":"#999",fontFamily:"monospace",letterSpacing:"0.2px"},children:V}):null})()]})]}),I.jsx(we,{sx:{display:"flex",alignItems:"center",gap:1},children:w?I.jsx(zu,{size:"small",disabled:o&&!w,onClick:D=>{D.stopPropagation(),g()},endIcon:I.jsx(eJ,{sx:{fontSize:13}}),sx:{minWidth:"auto",px:1.75,py:.75,fontSize:11,fontWeight:600,textTransform:"none",borderRadius:"8px",flexShrink:0,bgcolor:"transparent",color:"#ef4444",border:"1px solid #ef4444",transition:"all 0.2s ease","&:hover":{bgcolor:"rgba(239, 68, 68, 0.08)",borderColor:"#ef4444"},"&:disabled":{bgcolor:e?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",color:e?"#555":"#999",borderColor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}},children:"Stop"}):I.jsx(zu,{size:"small",disabled:P||o||A,onClick:D=>{D.stopPropagation(),f(b.name)},endIcon:P?I.jsx(Uu,{size:12,sx:{color:"#FF9500"}}):I.jsx(JZ,{sx:{fontSize:13}}),sx:{minWidth:"auto",px:1.75,py:.75,fontSize:11,fontWeight:600,textTransform:"none",borderRadius:"8px",flexShrink:0,bgcolor:"transparent",color:"#FF9500",border:"1px solid #FF9500",transition:"all 0.2s ease","&:hover":{bgcolor:"rgba(255, 149, 0, 0.08)",borderColor:"#FF9500"},"&:disabled":{bgcolor:e?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",color:e?"#555":"#999",borderColor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}},children:P?"Starting...":"Start"})})]}),I.jsx(z1,{in:M,children:I.jsxs(we,{sx:{px:2,pb:2,pt:2,borderTop:`1px solid ${e?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}`,display:"flex",flexDirection:"column",gap:2},children:[I.jsx(_t,{sx:{fontSize:11,color:e?"#aaa":"#666",lineHeight:1.5},children:b.description||"No description available"}),I.jsx(we,{sx:{display:"flex",flexDirection:"column",gap:1.5,pt:1,borderTop:`1px solid ${e?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}`},children:I.jsx(zu,{fullWidth:!0,size:"small",disabled:A||w,startIcon:A?I.jsx(Uu,{size:14}):I.jsx(QZ,{sx:{fontSize:14}}),onClick:D=>{D.stopPropagation(),h(b.name)},sx:{py:1,fontSize:12,fontWeight:600,textTransform:"none",color:"#ef4444",borderColor:"rgba(239, 68, 68, 0.3)","&:hover":{bgcolor:"rgba(239, 68, 68, 0.08)",borderColor:"#ef4444"},"&:disabled":{bgcolor:e?"rgba(255, 255, 255, 0.02)":"rgba(0, 0, 0, 0.02)",color:e?"#555":"#999",borderColor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}},variant:"outlined",children:A?"Uninstalling...":"Uninstall"})})]})})]},b.name)}),I.jsxs(we,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:1.5,px:2,py:1.5,borderRadius:"12px",bgcolor:"transparent",border:e?"1px dashed rgba(255, 255, 255, 0.2)":"1px dashed rgba(0, 0, 0, 0.2)",mt:1},children:[I.jsx(S4,{onClick:v,darkMode:e}),I.jsx(_t,{component:"button",onClick:y,sx:{fontSize:11,fontWeight:500,color:e?"#666":"#999",textDecoration:"underline",textDecorationColor:e?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",textUnderlineOffset:"2px",cursor:"pointer",bgcolor:"transparent",border:"none",p:0,transition:"color 0.2s ease, textDecorationColor 0.2s ease","&:hover":{color:e?"#888":"#777",textDecorationColor:e?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}},children:"or build your own"})]})]})})]})}const mJ="/v2/assets/hf-logo-D1aSRsUX.svg",gJ="/v2/assets/reachies-BN2CoxMg.svg";function yJ({darkMode:n}){return I.jsx(we,{sx:{mb:0},children:I.jsx(we,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:0},children:I.jsxs(we,{sx:{display:"flex",alignItems:"flex-start",gap:2,flex:1},children:[I.jsx(we,{component:"img",src:gJ,alt:"Reachies",sx:{width:100,mr:3,height:"auto",flexShrink:0,mb:2}}),I.jsxs(we,{sx:{flex:1},children:[I.jsx(_t,{sx:{fontSize:32,fontWeight:700,color:n?"#f5f5f5":"#333",letterSpacing:"-0.5px",lineHeight:1.2,mb:.5},children:"Discover Apps"}),I.jsx(_t,{sx:{fontSize:14,color:n?"#888":"#999",fontWeight:500,letterSpacing:"0.1px",mb:1},children:"Extend Reachy's capabilities"}),I.jsxs(_t,{sx:{fontSize:12,color:n?"#aaa":"#666",fontWeight:400,lineHeight:1.6,maxWidth:"90%",mb:1.5},children:["Install apps created by the ",I.jsx(we,{component:"span",sx:{fontWeight:700},children:"community"}),". Each app adds new ",I.jsx(we,{component:"span",sx:{fontWeight:700},children:"behaviors, interactions, or features"})," to your robotfrom ",I.jsx(we,{component:"span",sx:{fontWeight:700},children:"games and demos"})," to advanced ",I.jsx(we,{component:"span",sx:{fontWeight:700},children:"AI-powered applications"}),"."]}),I.jsxs(_t,{component:"div",sx:{display:"inline-flex",alignItems:"center",gap:.5,mt:.5,fontSize:9,color:n?"#666":"#999",fontWeight:500},children:[I.jsx(we,{component:"span",sx:{color:n?"#555":"#aaa",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Powered by"}),I.jsx(we,{component:"img",src:mJ,alt:"Hugging Face",sx:{height:22,width:"auto",opacity:1,display:"inline-block",verticalAlign:"middle"}}),I.jsx(we,{component:"span",children:"Hugging Face"})]})]})]})})})}const xJ=Vn(I.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}));function vJ({darkMode:n,searchQuery:e,setSearchQuery:t,officialOnly:i,setOfficialOnly:a,isLoading:r,filteredApps:o,totalAppsCount:c,isFiltered:f}){const[h,m]=F.useState(!1),g=F.useRef(null),v=F.useRef(null);return F.useEffect(()=>{const y=v.current,b=g.current;if(!y||!b)return;const M=()=>{const w=y.getBoundingClientRect().top<0;m(w)};M();let A=b;for(;A&&A!==document.body;){const E=window.getComputedStyle(A);if(E.position==="fixed"&&(E.overflow==="auto"||E.overflowY==="auto")){A.addEventListener("scroll",M,{passive:!0});break}A=A.parentElement}const S=new IntersectionObserver(E=>{const w=E[0];m(!w.isIntersecting)},{root:null,rootMargin:"0px",threshold:0});return S.observe(y),()=>{S.disconnect(),A&&A!==document.body&&A.removeEventListener("scroll",M)}},[]),I.jsxs(I.Fragment,{children:[I.jsx(we,{ref:v,sx:{position:"relative",height:"1px",width:"100%",pointerEvents:"none",visibility:"hidden"}}),I.jsx(we,{ref:g,sx:{position:"sticky",top:0,pt:1,pb:0,mb:2,zIndex:10,bgcolor:h?n?"rgba(18, 18, 18, 0.92)":"rgba(255, 255, 255, 0.95)":"transparent",backdropFilter:h?"blur(10px)":"none",WebkitBackdropFilter:h?"blur(10px)":"none",transition:"background-color 0.2s ease, backdrop-filter 0.2s ease"},children:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,px:1.5,py:1.5,mt:3,borderRadius:"12px",bgcolor:n?"#262626":"white",border:"1px solid #FF9500",transition:"box-shadow 0.2s ease","&:focus-within":{borderColor:"#FF9500",boxShadow:"0 0 0 3px rgba(255, 149, 0, 0.08)"}},children:[I.jsx(Ul,{title:"Search for apps by name or description",arrow:!0,placement:"top",children:I.jsx(xJ,{sx:{fontSize:18,color:n?"#666":"#999",cursor:"help"}})}),I.jsx(V_,{placeholder:"Search apps...",value:e,onChange:y=>t(y.target.value),sx:{flex:1,fontSize:14,fontWeight:500,color:n?"#f5f5f5":"#333","& input::placeholder":{color:n?"#666":"#999",opacity:1}}}),e&&I.jsxs(I.Fragment,{children:[I.jsx(we,{sx:{width:"1px",height:"18px",bgcolor:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}),I.jsx(Mo,{onClick:()=>t(""),size:"small",sx:{p:.5,color:n?"#888":"#999","&:hover":{color:n?"#aaa":"#666",bgcolor:n?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.05)"}},title:"Clear search",children:I.jsx(nm,{sx:{fontSize:18}})})]}),I.jsx(Ul,{title:`${o.length} ${o.length===1?"app":"apps"} ${e?"found":"available"}`,arrow:!0,placement:"top",children:I.jsx(_t,{sx:{fontSize:11,fontWeight:700,color:f?"#FF9500":n?"#666":"#999",letterSpacing:"0.2px",cursor:"help",px:1.5,py:.5,borderRadius:"6px",bgcolor:f?n?"rgba(255, 149, 0, 0.15)":"rgba(255, 149, 0, 0.08)":n?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.02)",border:f?`1px solid ${n?"rgba(255, 149, 0, 0.3)":"rgba(255, 149, 0, 0.2)"}`:"none"},children:f?`${o.length}/${c}`:o.length})}),!i&&I.jsxs(I.Fragment,{children:[I.jsx(we,{sx:{width:"1px",height:"18px",bgcolor:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}),I.jsx(Ul,{title:"Apps are fetched from Hugging Face Spaces API filtered by 'reachy_mini' tag",arrow:!0,placement:"bottom",enterDelay:300,leaveDelay:0,PopperProps:{style:{zIndex:10010},container:document.body},slotProps:{tooltip:{sx:{zIndex:"10010 !important",position:"relative"}}},children:I.jsx(yy,{sx:{fontSize:16,color:n?"#888":"#999",cursor:"help",flexShrink:0}})})]}),I.jsx(we,{sx:{width:"1px",height:"18px",bgcolor:n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}}),I.jsx(wU,{control:I.jsx(FP,{checked:i,onChange:y=>a(y.target.checked),disabled:r,size:"small",sx:{color:n?"#888":"#999","&.Mui-checked":{color:"#FF9500"},"&.Mui-disabled":{color:n?"#444":"#ccc",opacity:.5},"& .MuiSvgIcon-root":{fontSize:18}}}),label:I.jsx(_t,{sx:{fontSize:12,fontWeight:600,color:n?"#888":"#999",userSelect:"none",pr:1.5},children:"Official"}),sx:{m:0,"& .MuiFormControlLabel-label":{ml:.5}}})]})})]})}function bJ({darkMode:n,categories:e,selectedCategory:t,setSelectedCategory:i,totalAppsCount:a}){return I.jsxs(we,{sx:{mt:0,mb:6,display:"flex",flexDirection:"row",alignItems:"center",gap:1.5,flexWrap:"wrap"},children:[I.jsx(_t,{sx:{fontSize:12,fontWeight:600,color:n?"#aaa":"#666"},children:"Tags"}),I.jsxs(we,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[I.jsx(H0,{label:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx("span",{children:"All"}),I.jsxs(_t,{sx:{fontSize:11,fontWeight:600,color:t===null?"#FF9500":n?"#888":"#999",opacity:.8},children:["(",a,")"]})]}),onClick:()=>i(null),size:"small",sx:{height:28,fontSize:12,fontWeight:t===null?700:500,bgcolor:t===null?n?"rgba(255, 149, 0, 0.2)":"rgba(255, 149, 0, 0.15)":n?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.05)",color:t===null?"#FF9500":n?"#aaa":"#666",border:t===null?"1px solid #FF9500":`1px solid ${n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,cursor:"pointer","&:hover":{bgcolor:t===null?n?"rgba(255, 149, 0, 0.25)":"rgba(255, 149, 0, 0.2)":n?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"},"& .MuiChip-label":{px:1.5}}}),e.length>0&&e.map(r=>{const o=r.name.startsWith("sdk:")?r.name.replace("sdk:","").charAt(0).toUpperCase()+r.name.replace("sdk:","").slice(1).toLowerCase():r.name.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()),c=t===r.name;return I.jsx(H0,{label:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx("span",{children:o}),I.jsxs(_t,{sx:{fontSize:11,fontWeight:600,color:c?"#FF9500":n?"#888":"#999",opacity:.8},children:["(",r.count,")"]})]}),onClick:()=>i(c?null:r.name),size:"small",sx:{height:28,fontSize:12,fontWeight:c?700:500,bgcolor:c?n?"rgba(255, 149, 0, 0.2)":"rgba(255, 149, 0, 0.15)":n?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.05)",color:c?"#FF9500":n?"#aaa":"#666",border:c?"1px solid #FF9500":`1px solid ${n?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,cursor:"pointer","&:hover":{bgcolor:c?n?"rgba(255, 149, 0, 0.25)":"rgba(255, 149, 0, 0.2)":n?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.08)"},"& .MuiChip-label":{px:1.5}}},r.name)})]})]})}const _J=Vn(I.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z"})),SJ=Vn(I.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),MJ=Vn(I.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),AJ=Vn([I.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),I.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]);function wJ({app:n,darkMode:e,isBusy:t,isInstalling:i,installFailed:a,isInstalled:r,handleInstall:o,selectedCategory:c,searchQuery:f,index:h}){var E,w,R,z,O,P,B,L;const{shellApi:m}=Sr(),g=m.open,v=((E=n.extra)==null?void 0:E.cardData)||{},y=((z=(R=(w=n.extra)==null?void 0:w.id)==null?void 0:R.split("/"))==null?void 0:z[0])||((O=n.extra)==null?void 0:O.author)||null,b=((P=n.extra)==null?void 0:P.likes)||0,M=((B=n.extra)==null?void 0:B.lastModified)||((L=n.extra)==null?void 0:L.createdAt)||null,A=v.emoji||"",S=M?new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):null;return I.jsxs(we,{sx:{display:"flex",flexDirection:"column",width:"calc((100% - 20px) / 2)",minWidth:0,flexShrink:0,borderRadius:"16px",position:"relative",overflow:"hidden",bgcolor:e?"#1a1a1a":"#ffffff",border:a?"1px solid rgba(239, 68, 68, 0.4)":i?"1px solid rgba(255, 149, 0, 0.4)":`1px solid ${e?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)"}`,cursor:"pointer",transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",borderColor:a?"rgba(239, 68, 68, 0.6)":i?"rgba(255, 149, 0, 0.6)":e?"rgba(255, 255, 255, 0.18)":"rgba(0, 0, 0, 0.18)"}},onClick:n.url?async()=>{try{await g(n.url)}catch(D){console.error("Failed to open space URL:",D)}}:void 0,children:[(y||b!==void 0)&&I.jsxs(we,{sx:{position:"relative",zIndex:2,width:"100%",px:2.5,pt:1.25,pb:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[y&&I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.75},children:[I.jsx(uP,{sx:{width:20,height:20,bgcolor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",fontSize:10,fontWeight:600,color:e?"#ffffff":"#1a1a1a"},children:y.charAt(0).toUpperCase()}),I.jsx(_t,{sx:{fontSize:11,fontWeight:500,color:e?"#aaaaaa":"#666666",fontFamily:"monospace"},children:y})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx(MJ,{sx:{fontSize:16,color:e?"#aaaaaa":"#666666"}}),I.jsx(_t,{sx:{fontSize:12,fontWeight:600,color:e?"#aaaaaa":"#666666",lineHeight:1},children:b||0})]})]}),(y||b!==void 0)&&I.jsx(we,{sx:{position:"relative",zIndex:2,px:2.5,pt:1,pb:0},children:I.jsx(we,{sx:{borderBottom:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"}`}})}),I.jsxs(we,{sx:{position:"relative",zIndex:1,px:2.5,py:2.5,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:.5,flex:1,alignItems:"flex-start"},children:[I.jsx(_t,{sx:{fontSize:16,fontWeight:700,color:e?"#ffffff":"#1a1a1a",letterSpacing:"-0.3px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:n.name}),I.jsx(_t,{sx:{fontSize:12,color:e?"#aaaaaa":"#666666",lineHeight:1.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",width:"100%"},children:n.description||"No description"}),S&&I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx(AJ,{sx:{fontSize:12,color:e?"#aaaaaa":"#666666"}}),I.jsx(_t,{sx:{fontSize:10,fontWeight:500,color:e?"#aaaaaa":"#666666"},children:S})]})]}),I.jsx(_t,{component:"span",sx:{fontSize:24,lineHeight:1,flexShrink:0},children:A})]}),I.jsx(zu,{variant:"outlined",color:"primary",size:"small",disabled:t||r,onClick:D=>{D.stopPropagation(),r||o(n)},endIcon:r?I.jsx(SJ,{sx:{fontSize:14}}):i?I.jsx(Uu,{size:14,sx:{color:"#FF9500"}}):I.jsx(_J,{sx:{fontSize:14}}),sx:{mt:2.5,width:"100%",py:1,fontSize:12,fontWeight:600,textTransform:"none",borderRadius:"10px",bgcolor:"transparent",color:r?e?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)":a?"#ef4444":"#FF9500",border:r?e?"1px solid rgba(255, 255, 255, 0.2)":"1px solid rgba(0, 0, 0, 0.2)":a?"1px solid #ef4444":"1px solid #FF9500",transition:"all 0.2s ease","&:hover":{bgcolor:r?"transparent":a?"rgba(239, 68, 68, 0.08)":"rgba(255, 149, 0, 0.08)",borderColor:r?e?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)":a?"#ef4444":"#FF9500"},"&:disabled":{bgcolor:"transparent",color:e?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",borderColor:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}},children:r?"Installed":i?"Installing...":a?"Retry Install":"Install"})]})]},`${n.name}-${c||"all"}-${f||""}-${h}`)}const L9="/v2/assets/reachy-detective-DobQhzU1.svg";function EJ({darkMode:n,searchQuery:e,setSearchQuery:t}){return I.jsxs(we,{sx:{py:10,textAlign:"center",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[I.jsx(we,{component:"img",src:L9,alt:"Reachy Detective",sx:{width:120,height:"auto",opacity:n?.7:.8,mb:1}}),e?I.jsxs(I.Fragment,{children:[I.jsx(_t,{sx:{fontSize:18,fontWeight:700,color:n?"#aaa":"#666",mb:.5},children:"Can't find what you're looking for?"}),I.jsxs(_t,{sx:{fontSize:14,color:n?"#888":"#999",mb:2},children:['No apps found for "',e,'"']}),I.jsx(zu,{onClick:()=>t(""),sx:{textTransform:"none",fontSize:14,fontWeight:600,px:3,py:1,borderRadius:"10px",bgcolor:"transparent",color:"#FF9500",border:"1px solid #FF9500","&:hover":{bgcolor:n?"rgba(255, 149, 0, 0.08)":"rgba(255, 149, 0, 0.05)",borderColor:"#FF9500"}},children:"Clear search"})]}):I.jsx(_t,{sx:{fontSize:18,fontWeight:700,color:n?"#aaa":"#666"},children:"No apps available"})]})}function TJ({darkMode:n,onOpenCreateTutorial:e}){return I.jsxs(we,{sx:{width:"100%",mt:4,pt:0,pb:12,display:"flex",flexDirection:"column",alignItems:"center",gap:2.5},children:[I.jsx(we,{component:"img",src:L9,alt:"Reachy Detective",sx:{width:200,height:"auto",opacity:n?.7:.8}}),I.jsx(_t,{sx:{fontSize:18,fontWeight:700,color:n?"#aaa":"#666",textAlign:"center"},children:"Can't find what you're looking for?"}),I.jsx(zu,{onClick:e,sx:{textTransform:"none",fontSize:14,fontWeight:600,color:"#FF9500",border:"1px solid #FF9500",borderRadius:"10px",px:3,py:1,bgcolor:"transparent","&:hover":{bgcolor:n?"rgba(255, 149, 0, 0.08)":"rgba(255, 149, 0, 0.05)",borderColor:"#FF9500"}},children:"Create your own app "})]})}function CJ({open:n,onClose:e,filteredApps:t,darkMode:i,isBusy:a,isLoading:r,activeJobs:o,isJobRunning:c,handleInstall:f,getJobInfo:h,searchQuery:m,setSearchQuery:g,officialOnly:v,setOfficialOnly:y,categories:b,selectedCategory:M,setSelectedCategory:A,totalAppsCount:S,installedApps:E=[],onOpenCreateTutorial:w}){F.useEffect(()=>{console.log(" DiscoverModal: filteredApps changed",{count:t.length,selectedCategory:M,searchQuery:m,firstAppNames:t.slice(0,3).map(O=>O.name)})},[t,M,m]);const z=(M!==null||m&&m.trim())&&t.length<S;return I.jsx(D2,{open:n,onClose:e,darkMode:i,zIndex:10002,centeredX:!0,centeredY:!1,children:I.jsxs(we,{sx:{position:"relative",width:"90%",maxWidth:"700px",display:"flex",flexDirection:"column",mt:8,mb:4},children:[I.jsx(Mo,{onClick:e,sx:{position:"absolute",top:0,right:0,color:"#FF9500",bgcolor:i?"rgba(255, 255, 255, 0.08)":"#ffffff",border:"1px solid #FF9500",opacity:.7,"&:hover":{opacity:1,bgcolor:i?"rgba(255, 255, 255, 0.12)":"#ffffff"},zIndex:1},children:I.jsx(nm,{sx:{fontSize:20}})}),I.jsx(yJ,{darkMode:i}),I.jsx(vJ,{darkMode:i,searchQuery:m,setSearchQuery:g,officialOnly:v,setOfficialOnly:y,isLoading:r,filteredApps:t,totalAppsCount:S,isFiltered:z}),I.jsx(bJ,{darkMode:i,categories:b,selectedCategory:M,setSelectedCategory:A,totalAppsCount:S}),I.jsx(we,{sx:{position:"relative"},children:r?I.jsxs(we,{sx:{py:10,textAlign:"center",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[I.jsx(Uu,{size:40,sx:{color:i?"#666":"#999"}}),I.jsx(_t,{sx:{fontSize:14,color:i?"#888":"#999",fontWeight:500},children:"Loading apps..."})]}):I.jsx(we,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2.5,width:"100%",mb:0},children:t.length===0?I.jsx(EJ,{darkMode:i,searchQuery:m,setSearchQuery:g}):I.jsxs(I.Fragment,{children:[t.map((O,P)=>{const B=h(O.name,"install"),L=c(O.name,"install"),D=B&&B.status==="failed",V=O.isInstalled||!1;return I.jsx(wJ,{app:O,darkMode:i,isBusy:a,isInstalling:L,installFailed:D,isInstalled:V,handleInstall:f,selectedCategory:M,searchQuery:m,index:P},`${O.name}-${M||"all"}-${m||""}-${P}`)}),t.length>0&&I.jsx(TJ,{darkMode:i,onOpenCreateTutorial:w})]})})})]})})}const RJ="/v2/assets/reachy-how-to-create-app-DSAHeZp9.svg",I9="/v2/assets/joystick-CcIV67Ro.svg",OJ="/v2/assets/blueprint-sBCdWAWj.svg",zJ="/v2/assets/rocket-tBaolijo.svg";function NJ({open:n,onClose:e,darkMode:t}){const{shellApi:i}=Sr(),a=i.open,r=[{id:"console",icon:I9,title:"Get familiar with the robot",description:"Use the daemon API via console commands",url:"https://example.com/tutorial-console"},{id:"create",icon:OJ,title:"Create your own app",description:"Build your app with the Python SDK",url:"https://example.com/tutorial-create"},{id:"deploy",icon:zJ,title:"Deploy",description:"Share your app on Hugging Face Spaces",url:"https://example.com/tutorial-deploy"}],o=async c=>{try{await a(c)}catch(f){console.error("Failed to open tutorial URL:",f)}};return I.jsx(D2,{open:n,onClose:e,darkMode:t,zIndex:10003,centeredX:!0,centeredY:!1,children:I.jsxs(we,{sx:{position:"relative",width:"90%",maxWidth:"700px",display:"flex",flexDirection:"column",mt:8,mb:4},children:[I.jsx(Mo,{onClick:e,sx:{position:"absolute",top:0,right:0,color:"#FF9500",bgcolor:t?"rgba(255, 255, 255, 0.08)":"#ffffff",border:"1px solid #FF9500",opacity:.7,"&:hover":{opacity:1,bgcolor:t?"rgba(255, 255, 255, 0.12)":"#ffffff"},zIndex:1},children:I.jsx(nm,{sx:{fontSize:20}})}),I.jsxs(we,{sx:{mb:6,textAlign:"center"},children:[I.jsx(we,{component:"img",src:RJ,alt:"How to create app",sx:{width:200,height:"auto",mb:3,opacity:t?.9:1}}),I.jsx(_t,{sx:{fontSize:40,fontWeight:700,color:t?"#f5f5f5":"#1a1a1a",letterSpacing:"-0.8px",lineHeight:1.1,mb:1.5},children:"Build your own application"}),I.jsxs(_t,{sx:{fontSize:16,color:t?"#aaa":"#666",fontWeight:400,lineHeight:1.6,maxWidth:"600px",mx:"auto"},children:["Create interactive apps for ",I.jsx(we,{component:"span",sx:{fontWeight:600,color:t?"#ccc":"#555"},children:"Reachy Mini"})," using the ",I.jsx(we,{component:"span",sx:{fontWeight:600,color:t?"#ccc":"#555"},children:"Python SDK"}),". Deploy on ",I.jsx(we,{component:"span",sx:{fontWeight:600,color:t?"#ccc":"#555"},children:"Hugging Face Spaces"})," and share with the ",I.jsx(we,{component:"span",sx:{fontWeight:600,color:t?"#ccc":"#555"},children:"community"}),"."]})]}),I.jsx(we,{sx:{display:"flex",flexDirection:"column",mb:6,maxWidth:"1400px",mx:"auto",width:"100%",borderRadius:"20px",border:`1px solid ${t?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.18)"}`,bgcolor:t?"rgba(255, 255, 255, 0.03)":"#ffffff",overflow:"hidden"},children:r.map((c,f)=>I.jsxs(we,{onClick:()=>o(c.url),sx:{px:3,py:2.5,minHeight:"auto",display:"flex",alignItems:"center",gap:2,width:"100%",cursor:"pointer",bgcolor:"transparent",transition:"background-color 0.2s ease",borderBottom:f<r.length-1?`1px solid ${t?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.12)"}`:"none","&:hover":{bgcolor:t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.02)"}},children:[I.jsx(we,{component:"img",src:c.icon,alt:c.title,sx:{width:64,height:64,flexShrink:0,objectFit:"contain"}}),I.jsxs(we,{sx:{flex:1},children:[I.jsx(_t,{sx:{fontSize:24,fontWeight:700,color:t?"#f5f5f5":"#1a1a1a",letterSpacing:"-0.4px",mb:.5},children:c.title}),I.jsx(_t,{sx:{fontSize:13,color:t?"#aaa":"#666"},children:c.description})]})]},c.id))}),I.jsx(we,{sx:{textAlign:"center",pt:3,mb:6},children:I.jsxs(_t,{sx:{fontSize:12,color:t?"#888":"#999",lineHeight:1.6},children:["Need help? Check out the"," ",I.jsx(we,{component:"span",onClick:async()=>{try{await a("http://localhost:8000/docs")}catch(c){console.error("Failed to open API docs:",c)}},sx:{color:"#FF9500",cursor:"pointer",textDecoration:"underline","&:hover":{opacity:.8}},children:"API documentation"})," ","or browse"," ",I.jsx(we,{component:"span",onClick:async()=>{try{await a("https://huggingface.co/spaces?q=reachy_mini")}catch(c){console.error("Failed to open spaces:",c)}},sx:{color:"#FF9500",cursor:"pointer",textDecoration:"underline","&:hover":{opacity:.8}},children:"existing apps"})," ","for inspiration."]})})]})})}const DJ=Vn(I.jsx("path",{d:"M3 10h11v2H3zm0-4h11v2H3zm0 8h7v2H3zm17.59-2.07-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z"})),LJ=Vn(I.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function IJ({appInfo:n,jobInfo:e,darkMode:t,jobType:i="install",resultState:a=null,installStartTime:r=null}){var L,D;const{actions:o}=Sr(),{unlockInstall:c}=o,[f,h]=F.useState(0),[m,g]=F.useState(!1),v=F.useRef(null),y=F.useRef([]),b=F.useRef(0),M=F.useRef(null);F.useEffect(()=>{n!=null&&n.name&&n.name!==M.current&&(M.current=n.name,y.current=[],b.current=0)},[n==null?void 0:n.name]),F.useEffect(()=>{if(e!=null&&e.logs&&Array.isArray(e.logs)&&e.logs.length>0){if(e.logs.length>=y.current.length)y.current=[...e.logs];else{const U=e.logs.filter(G=>!y.current.includes(G));U.length>0&&(y.current=[...y.current,...U])}const V=y.current.length;V>b.current&&(b.current=V)}},[e==null?void 0:e.logs]);const A=F.useRef(null);if(F.useEffect(()=>{if(!n){h(0),A.current=null;return}A.current||(A.current=Date.now());const V=r||A.current,U=()=>{const G=Math.floor((Date.now()-V)/1e3);h(G)};return U(),a===null?v.current=setInterval(U,1e3):U(),()=>{v.current&&(clearInterval(v.current),v.current=null)}},[n,r,a]),!n)return null;const S=V=>{const U=Math.floor(V/60),G=V%60;return`${U}:${G.toString().padStart(2,"0")}`},E=i==="install",w=e!=null&&e.logs&&e.logs.length>0?e.logs:y.current,z=(V=>{if(!V||V.length===0)return{phase:"Preparing",step:0};const U=V.join(" ").toLowerCase(),G=V.length;return U.includes("completed")||U.includes("success")?{phase:"Finalizing",step:4}:U.includes("configuring")||U.includes("setting up")||U.includes("installing dependencies")?{phase:"Configuring",step:3}:U.includes("installing")||U.includes("copying")||U.includes("extracting")?{phase:"Installing",step:2}:U.includes("downloading")||U.includes("fetching")||U.includes("retrieving")?{phase:"Downloading",step:1}:{phase:"Processing",step:Math.min(5,Math.floor(G/10)+1)}})(w),O=w.length>0?w.slice(-5):[],P=w,B=a!==null;return I.jsx(D2,{open:!!n,onClose:()=>{c()},onBackdropClick:V=>{B&&a==="failed"&&c()},darkMode:t,zIndex:10003,showCloseButton:B&&a==="failed",centered:!0,children:I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,maxWidth:"500px",width:"90%"},children:[B&&a==="failed"?I.jsx(we,{sx:{width:120,height:120,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bgcolor:"rgba(239, 68, 68, 0.1)",border:"3px solid rgba(239, 68, 68, 0.3)"},children:I.jsx(R9,{sx:{fontSize:64,color:"#ef4444"}})}):I.jsx(we,{sx:{fontSize:64,width:100,height:100,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"24px",bgcolor:t?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.03)",border:`2px solid ${t?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"}`,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"}}},children:((D=(L=n.extra)==null?void 0:L.cardData)==null?void 0:D.emoji)||n.icon||""}),B&&a==="failed"?I.jsxs(we,{sx:{textAlign:"center"},children:[I.jsx(_t,{sx:{fontSize:24,fontWeight:600,color:"#ef4444",mb:.5,animation:"fadeInScale 0.5s ease","@keyframes fadeInScale":{from:{opacity:0,transform:"scale(0.9)"},to:{opacity:1,transform:"scale(1)"}}},children:E?"Installation Failed":"Uninstallation Failed"}),I.jsx(_t,{sx:{fontSize:16,fontWeight:500,color:t?"#999":"#666"},children:n.name})]}):I.jsxs(we,{sx:{textAlign:"center",display:"flex",flexDirection:"column",gap:.25,mb:-.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:500,color:t?"#666":"#aaa",letterSpacing:"1px",textTransform:"uppercase"},children:E?"Installing":"Uninstalling"}),I.jsx(_t,{sx:{fontSize:24,fontWeight:600,color:t?"#f5f5f5":"#333",letterSpacing:"-0.3px"},children:n.name})]}),I.jsxs(I.Fragment,{children:[!B&&I.jsxs(we,{sx:{textAlign:"center",display:"flex",flexDirection:"column",gap:1},children:[I.jsx(_t,{sx:{fontSize:13,color:t?"#aaa":"#666",lineHeight:1.5,maxWidth:"420px"},children:n.description||"No description"}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5,justifyContent:"center",flexWrap:"wrap"},children:[n.author&&I.jsxs(_t,{sx:{fontSize:11,fontWeight:600,color:t?"#888":"#999"},children:["by ",n.author]}),n.downloads!==void 0&&I.jsx(we,{sx:{display:"flex",alignItems:"center",gap:.5,px:1,py:.25,borderRadius:"8px",bgcolor:t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)"},children:I.jsxs(_t,{sx:{fontSize:11,fontWeight:600,color:t?"#888":"#666"},children:[n.downloads," downloads"]})})]})]}),!B&&I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mt:1.5},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,px:2,py:1,borderRadius:"10px",bgcolor:t?"rgba(255, 149, 0, 0.08)":"rgba(255, 149, 0, 0.05)",border:`1px solid ${t?"rgba(255, 149, 0, 0.2)":"rgba(255, 149, 0, 0.15)"}`},children:[I.jsx(Uu,{size:14,thickness:5,sx:{color:"#FF9500"}}),I.jsx(_t,{sx:{fontSize:12,fontWeight:600,color:"#FF9500",fontFamily:"monospace"},children:S(f)})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.75,px:1.5,py:1,borderRadius:"10px",bgcolor:t?"rgba(255, 149, 0, 0.08)":"rgba(255, 149, 0, 0.05)",border:`1px solid ${t?"rgba(255, 149, 0, 0.2)":"rgba(255, 149, 0, 0.15)"}`},children:[I.jsx(DJ,{sx:{fontSize:14,color:"#FF9500"}}),I.jsx(_t,{sx:{fontSize:12,fontWeight:600,color:"#FF9500",fontFamily:"monospace"},children:z.phase})]})]}),I.jsxs(UL,{expanded:m,onChange:(V,U)=>g(U),sx:{width:"100%",maxWidth:"460px",bgcolor:"transparent !important",boxShadow:"none !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0}},children:[I.jsx(o7,{expandIcon:I.jsx(LJ,{sx:{color:t?"#888":"#999",fontSize:18}}),sx:{minHeight:"auto !important",py:1,px:1.5,borderRadius:"12px",bgcolor:t?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.02)",border:`1px solid ${t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}`,"&:hover":{bgcolor:t?"rgba(0, 0, 0, 0.3)":"rgba(0, 0, 0, 0.04)"},"&.Mui-expanded":{minHeight:"auto !important",borderBottomLeftRadius:0,borderBottomRightRadius:0},"& .MuiAccordionSummary-content":{margin:"8px 0 !important","&.Mui-expanded":{margin:"8px 0 !important"}}},children:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[I.jsx(_t,{sx:{fontSize:11,fontWeight:500,color:t?"#aaa":"#666"},children:m?"Hide logs":"Show logs"}),!m&&O.length>0&&I.jsxs(_t,{sx:{fontSize:10,color:t?"#666":"#999",ml:"auto"},children:[O.length," ",O.length===1?"recent log":"recent logs"]})]})}),I.jsx(VL,{sx:{p:0,border:`1px solid ${t?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}`,borderTop:"none",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",bgcolor:t?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.02)"},children:I.jsx(d6,{logs:P,darkMode:t,includeStoreLogs:!1,maxHeight:"140px",showTimestamp:!1,simpleStyle:!0,compact:!1,sx:{bgcolor:"transparent",border:"none",borderRadius:0}})})]}),!B&&E&&I.jsx(_t,{sx:{fontSize:11,color:t?"#666":"#999",fontStyle:"italic",mt:1},children:"This may take up to 1 minute..."})]})]})})}function PJ({showToast:n,onLoadingChange:e,hasQuickActions:t=!1,isActive:i=!1,isBusy:a=!1,darkMode:r=!1}){const{robotState:o,actions:c}=Sr(),{darkMode:f,isActive:h,installingAppName:m,installJobType:g,installResult:v,installStartTime:y}=o,b=r!==void 0?r:f,M=i!==void 0?i:h,A=a!==void 0?a:c.isBusy(),[S,E]=F.useState(!0),{availableApps:w,installedApps:R,currentApp:z,activeJobs:O,installApp:P,removeApp:B,startApp:L,stopCurrentApp:D,fetchAvailableApps:V,isLoading:U}=BZ(M,S);F.useEffect(()=>{e&&e(U)},[U,e]);const[G,X]=F.useState(null);F.useEffect(()=>{X(null)},[S]),KZ({activeJobs:O,installedApps:R,showToast:n,refreshApps:V,onInstallSuccess:()=>{re[re.length-1]==="discover"&&ve()}});const{expandedApp:$,setExpandedApp:H,startingApp:K,handleInstall:Q,handleUninstall:W,handleStartApp:ce,isJobRunning:q,getJobInfo:ie}=kZ({currentApp:z,activeJobs:O,installApp:P,removeApp:B,startApp:L,stopCurrentApp:D,showToast:n}),[fe,ge]=F.useState(""),[re,te]=F.useState([]),se=Oe=>{te(Ae=>[...Ae,Oe])},ve=()=>{te(Oe=>Oe.slice(0,-1))},ze=re[re.length-1]==="discover",De=re[re.length-1]==="createTutorial",rt=F.useMemo(()=>{if(!m)return null;const Oe=w.find(Ae=>Ae.name===m);return Oe||{name:m,id:m,description:"",url:null,source_kind:"local",isInstalled:!1,extra:{}}},[m,w]),nt=Array.from(O.values()),Ge=m?nt.find(Oe=>Oe.appName===m):null,Ee=F.useMemo(()=>{const Oe=new Map;return w.forEach(Ae=>{var Ye,de,Z,xe,Me,Ne;const Ve=((Ye=Ae.extra)==null?void 0:Ye.tags)||[],Be=((Z=(de=Ae.extra)==null?void 0:de.cardData)==null?void 0:Z.tags)||[],ke=[...new Set([...Ve,...Be])],Ke=((xe=Ae.extra)==null?void 0:xe.sdk)||((Ne=(Me=Ae.extra)==null?void 0:Me.cardData)==null?void 0:Ne.sdk);if(ke.forEach(Te=>{Te&&typeof Te=="string"&&!Te.startsWith("region:")&&Te.toLowerCase()!=="reachy_mini"&&Te.toLowerCase()!=="reachy-mini"&&Te.toLowerCase()!=="static"&&(Ke&&(Te.toLowerCase(),Ke.toLowerCase()),Oe.set(Te,(Oe.get(Te)||0)+1))}),Ke&&typeof Ke=="string"){const Te=Ke.toLowerCase();if(!ke.some(Fe=>Fe&&typeof Fe=="string"&&Fe.toLowerCase()===Te)){const Fe=`sdk:${Ke}`;Oe.set(Fe,(Oe.get(Fe)||0)+1)}}}),Array.from(Oe.entries()).map(([Ae,Ve])=>({name:Ae,count:Ve})).sort((Ae,Ve)=>Ve.count!==Ae.count?Ve.count-Ae.count:Ae.name.localeCompare(Ve.name)).slice(0,6)},[w]),ne=F.useMemo(()=>{let Oe=[...w];if(G&&(Oe=Oe.filter(Ae=>{var Ye,de,Z,xe,Me,Ne;const Ve=((Ye=Ae.extra)==null?void 0:Ye.tags)||[],Be=((Z=(de=Ae.extra)==null?void 0:de.cardData)==null?void 0:Z.tags)||[],ke=[...new Set([...Ve,...Be])],Ke=((xe=Ae.extra)==null?void 0:xe.sdk)||((Ne=(Me=Ae.extra)==null?void 0:Me.cardData)==null?void 0:Ne.sdk);if(G.startsWith("sdk:")){const Te=G.replace("sdk:","");return Ke===Te}else{const Te=ke.some(Fe=>Fe&&typeof Fe=="string"&&Fe.toLowerCase()===G.toLowerCase()),gt=Ke&&typeof Ke=="string"&&Ke.toLowerCase()===G.toLowerCase();return Te||gt}})),fe&&fe.trim()){const Ae=fe.toLowerCase().trim();Oe=Oe.filter(Ve=>Ve.name.toLowerCase().includes(Ae)||Ve.description&&Ve.description.toLowerCase().includes(Ae))}return Oe},[w,fe,G]);return I.jsxs(I.Fragment,{children:[I.jsxs(we,{children:[I.jsx(we,{sx:{px:3,py:1,pt:t?1:0,bgcolor:"transparent"},children:I.jsxs(we,{children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[I.jsx(_t,{sx:{fontSize:20,fontWeight:700,color:b?"#f5f5f5":"#333",letterSpacing:"-0.3px"},children:"Applications"}),R.length>0&&I.jsx(_t,{sx:{fontSize:11,fontWeight:700,color:b?"#666":"#999"},children:R.length}),I.jsx(Ul,{title:"Apps that are currently installed on your robot. You can start, stop, configure, or uninstall them from here.",arrow:!0,placement:"top",children:I.jsx(yy,{sx:{fontSize:14,color:b?"#666":"#999",opacity:.6,cursor:"help"}})})]}),I.jsx(_t,{sx:{fontSize:12,color:b?"#888":"#999",fontWeight:500},children:"Extend Reachy's capabilities"})]})}),I.jsx(we,{sx:{px:0,mb:0,bgcolor:"transparent"},children:I.jsx(pJ,{installedApps:R,darkMode:b,expandedApp:$,setExpandedApp:H,startingApp:K,currentApp:z,isBusy:A,isJobRunning:q,handleStartApp:ce,handleUninstall:W,getJobInfo:ie,stopCurrentApp:D,onOpenDiscover:()=>se("discover"),onOpenCreateTutorial:()=>se("createTutorial")})})]}),I.jsx(CJ,{open:ze,onClose:ve,filteredApps:ne,darkMode:b,isBusy:A,isLoading:U,activeJobs:O,isJobRunning:q,handleInstall:Q,getJobInfo:ie,searchQuery:fe,setSearchQuery:ge,officialOnly:S,setOfficialOnly:E,categories:Ee,selectedCategory:G,setSelectedCategory:X,totalAppsCount:w.length,installedApps:R,onOpenCreateTutorial:()=>se("createTutorial")}),I.jsx(NJ,{open:De,onClose:ve,darkMode:b}),m&&rt&&I.jsx(IJ,{appInfo:rt,jobInfo:Ge||{type:g||"install",status:"starting",logs:[]},darkMode:b,jobType:g||"install",resultState:v,installStartTime:y})]})}const M4=Vn(I.jsx("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"})),UJ="/v2/assets/expression-B0xHRRYV.svg";function BJ({darkMode:n=!1,isActive:e=!1}){const{robotState:t,actions:i}=Sr(),{rightPanelView:a}=t,{setRightPanelView:r}=i,o=a==="expressions",c=a==="controller",f=()=>{r(o?null:"expressions")},h=()=>{r(c?null:"controller")},m={borderRadius:"14px",bgcolor:n?"rgba(255, 255, 255, 0.02)":"white",border:`1px solid ${n?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}`,p:2.1,display:"flex",flexDirection:"column",alignItems:"center",gap:1.5,transition:"all 0.2s ease",opacity:e?1:.5,flex:1,position:"relative"},g={textTransform:"none",fontWeight:600,fontSize:12,borderRadius:"8px",px:2,py:.75,minWidth:"auto",transition:"all 0.2s ease"},v={...g,border:"1px solid #FF9500",color:"#FF9500",bgcolor:"transparent",position:"relative",overflow:"visible",animation:"controlPulse 3s ease-in-out infinite","@keyframes controlPulse":{"0%, 100%":{boxShadow:n?"0 0 0 0 rgba(255, 149, 0, 0.4)":"0 0 0 0 rgba(255, 149, 0, 0.3)"},"50%":{boxShadow:"0 0 0 8px rgba(255, 149, 0, 0)"}},"&:hover":{bgcolor:"rgba(255, 149, 0, 0.1)",border:"1px solid #FF9500",transform:"translateY(-2px)",boxShadow:n?"0 6px 16px rgba(255, 149, 0, 0.2)":"0 6px 16px rgba(255, 149, 0, 0.15)",animation:"none"},"&:active":{transform:"translateY(0)",boxShadow:n?"0 2px 8px rgba(255, 149, 0, 0.2)":"0 2px 8px rgba(255, 149, 0, 0.15)"},"&:disabled":{border:`1px solid ${n?"rgba(255, 149, 0, 0.3)":"rgba(255, 149, 0, 0.4)"}`,color:n?"rgba(255, 149, 0, 0.3)":"rgba(255, 149, 0, 0.4)",animation:"none"}},y={...g,border:`1px solid ${n?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.2)"}`,color:n?"#f5f5f5":"#333",bgcolor:"transparent",transition:"transform 0.25s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{bgcolor:n?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.03)",transform:"translateY(-2px)"},"&:active":{transform:"translateY(0)"}};return I.jsxs(we,{sx:{px:3,pt:4,pb:3,display:"flex",flexDirection:"column",gap:1.5},children:[I.jsx(we,{sx:{display:"flex",alignItems:"center",gap:1.5},children:I.jsx(_t,{sx:{fontSize:20,fontWeight:700,color:n?"#f5f5f5":"#333",letterSpacing:"-0.3px"},children:"Quick Actions"})}),I.jsxs(we,{sx:{display:"flex",flexDirection:"row",gap:1.5,width:"100%"},children:[I.jsxs(we,{sx:m,children:[o&&I.jsx(H0,{label:"Open",size:"small",sx:{position:"absolute",top:8,right:8,height:18,fontSize:9,fontWeight:600,bgcolor:"rgba(34, 197, 94, 0.15)",color:"#22c55e","& .MuiChip-label":{px:.75,py:0}}}),I.jsx(we,{component:"img",src:UJ,alt:"Expressions",sx:{width:64,height:64,mb:.5}}),I.jsx(_t,{sx:{fontSize:15,fontWeight:600,color:n?"#f5f5f5":"#333",letterSpacing:"-0.2px",textAlign:"center"},children:"Expressions"}),I.jsx(zu,{onClick:f,disabled:!e,variant:"outlined",startIcon:o?I.jsx(nm,{sx:{fontSize:14}}):I.jsx(M4,{sx:{fontSize:14}}),sx:{...o?y:v,width:"auto"},children:o?"Close":"Open"})]}),I.jsxs(we,{sx:m,children:[c&&I.jsx(H0,{label:"Open",size:"small",sx:{position:"absolute",top:8,right:8,height:18,fontSize:9,fontWeight:600,bgcolor:"rgba(34, 197, 94, 0.15)",color:"#22c55e","& .MuiChip-label":{px:.75,py:0}}}),I.jsx(we,{component:"img",src:I9,alt:"Controller",sx:{width:64,height:64,mb:.5}}),I.jsx(_t,{sx:{fontSize:15,fontWeight:600,color:n?"#f5f5f5":"#333",letterSpacing:"-0.2px",textAlign:"center"},children:"Controller"}),I.jsx(zu,{onClick:h,disabled:!e,variant:"outlined",startIcon:c?I.jsx(nm,{sx:{fontSize:14}}):I.jsx(M4,{sx:{fontSize:14}}),sx:{...c?y:v,width:"auto"},children:c?"Close":"Open"})]})]})]})}const kJ=Vn([I.jsx("path",{d:"m21.58 16.09-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91m-2.1.72c-.08.09-.21.19-.42.19-.15 0-.29-.06-.39-.16L15.83 14H8.17l-2.84 2.84c-.1.1-.24.16-.39.16-.21 0-.34-.1-.42-.19s-.16-.23-.13-.44l1.09-7.66C5.63 7.74 6.48 7 7.47 7h9.06c.99 0 1.84.74 1.98 1.72l1.09 7.66c.03.2-.05.34-.12.43"},"0"),I.jsx("path",{d:"M9 8H8v2H6v1h2v2h1v-2h2v-1H9z"},"1"),I.jsx("circle",{cx:"17",cy:"12",r:"1"},"2"),I.jsx("circle",{cx:"15",cy:"9",r:"1"},"3")]),P9=Vn(I.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),A4=F.memo(function({label:e,valueX:t,valueY:i,onChange:a,onDragEnd:r,minX:o=-1,maxX:c=1,minY:f=-1,maxY:h=1,size:m=100,darkMode:g,disabled:v=!1,smoothedValueX:y,smoothedValueY:b,labelAlign:M="left"}){const A=F.useRef(null),[S,E]=F.useState(!1),[w,R]=F.useState(m/2),[z,O]=F.useState(m/2),P=m/2,B=m/2,L=m/2-16,D=8,V=F.useRef(0),U=F.useRef(null);F.useEffect(()=>{if(Math.abs(t)<1e-4&&Math.abs(i)<1e-4){R(P),O(B),S&&(E(!1),V.current=Date.now(),U.current=null);return}if(!S&&Date.now()-V.current>=5e3){const q=(t-o)/(c-o)*2-1,ie=1-(i-f)/(h-f)*2,fe=Math.sqrt(q*q+ie*ie),ge=fe>1?q/fe:q,re=fe>1?ie/fe:ie,te=P+ge*L,se=B-re*L,ve=Math.abs(te-w),ze=Math.abs(se-z);(ve>2||ze>2)&&(R(te),O(se))}},[t,i,o,c,f,h,P,B,L,S,w,z]);const G=F.useCallback((W,ce)=>{if(!A.current)return{x:t,y:i};const q=S&&U.current?U.current:A.current.getBoundingClientRect(),ie=W-q.left,fe=ce-q.top;let ge=ie-P,re=fe-B;const te=Math.sqrt(ge*ge+re*re);let se=ie,ve=fe;if(te>L){const ne=Math.atan2(re,ge);se=P+Math.cos(ne)*L,ve=B+Math.sin(ne)*L}R(se),O(ve);const ze=se-P,De=ve-B,rt=ze/L,nt=De/L,Ge=o+(rt+1)/2*(c-o),Ee=f+(nt+1)/2*(h-f);return{x:Ge,y:Ee}},[P,B,L,o,c,f,h,t,i,S]),X=W=>{if(v)return;W.preventDefault(),W.stopPropagation(),A.current&&(U.current=A.current.getBoundingClientRect()),E(!0);const{x:ce,y:q}=G(W.clientX,W.clientY);a(ce,q,!0)},$=F.useCallback(W=>{if(!S)return;W.preventDefault(),W.stopPropagation();const{x:ce,y:q}=G(W.clientX,W.clientY);a(ce,q,!0)},[S,G,a]),H=F.useCallback(W=>{S&&(W.preventDefault(),W.stopPropagation(),E(!1),V.current=Date.now(),U.current=null,r&&r())},[S,r]);F.useEffect(()=>{if(S)return document.addEventListener("mousemove",$,{passive:!1}),document.addEventListener("mouseup",H,{passive:!1}),()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",H)}},[S,$,H]);const K=typeof t=="number"?t.toFixed(3):"0.000",Q=typeof i=="number"?i.toFixed(3):"0.000";return I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:M==="right"?"flex-end":"flex-start",gap:.5,p:.75,borderRadius:"0px",bgcolor:"transparent",border:"none",opacity:v?.5:1,pointerEvents:v?"none":"auto"},children:[I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:M==="right"?"flex-end":"flex-start",gap:.25,mb:.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:g?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:g?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:["X: ",K,"  Y: ",Q]})]}),I.jsx(we,{ref:A,sx:{width:m,height:m,overflow:"hidden",border:`1px solid ${g?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,borderRadius:"10px",cursor:v?"not-allowed":S?"grabbing":"grab",opacity:v?.5:1,position:"relative",userSelect:"none",transition:"all 0.2s ease","&:hover":{borderColor:"rgba(255, 149, 0, 0.5)"}},onMouseDown:X,children:I.jsxs("svg",{width:m,height:m,style:{display:"block"},children:[I.jsxs("defs",{children:[I.jsxs("radialGradient",{id:`stickGrad-${e}`,children:[I.jsx("stop",{offset:"0%",stopColor:"#FF9500",stopOpacity:"1"}),I.jsx("stop",{offset:"100%",stopColor:"#FF9500",stopOpacity:"0.7"})]}),I.jsx("pattern",{id:`grid-${e}`,width:"10",height:"10",patternUnits:"userSpaceOnUse",children:I.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:g?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.06)",strokeWidth:"0.5"})})]}),I.jsxs("g",{opacity:.25,children:[I.jsx("line",{x1:P,y1:0,x2:P,y2:m,stroke:"#FF9500",strokeWidth:1}),I.jsx("line",{x1:0,y1:B,x2:m,y2:B,stroke:"#FF9500",strokeWidth:1})]}),I.jsx("circle",{cx:P,cy:B,r:L,fill:"none",stroke:"rgba(255, 149, 0, 0.3)",strokeWidth:1.5,strokeDasharray:"2 2"}),y!=null&&b!=null&&I.jsx(I.Fragment,{children:(()=>{const W=(y-o)/(c-o)*2-1,ce=1-(b-f)/(h-f)*2,q=Math.sqrt(W*W+ce*ce),ie=q>1?W/q:W,fe=q>1?ce/q:ce,ge=P+ie*L,re=B-fe*L;return I.jsxs(I.Fragment,{children:[I.jsx("line",{x1:P,y1:B,x2:ge,y2:re,stroke:"rgba(255, 149, 0, 0.3)",strokeWidth:1.5,strokeLinecap:"round",strokeDasharray:"3 3",opacity:.6}),I.jsx("circle",{cx:ge,cy:re,r:D*.8,fill:"rgba(255, 149, 0, 0.2)",stroke:"rgba(255, 149, 0, 0.5)",strokeWidth:1.5})]})})()}),I.jsx("line",{x1:P,y1:B,x2:w,y2:z,stroke:"#FF9500",strokeWidth:2,strokeLinecap:"round",opacity:.5}),I.jsx("circle",{cx:w,cy:z,r:D,fill:"#FF9500",stroke:g?"rgba(26, 26, 26, 0.8)":"#fff",strokeWidth:2})]})})]})}),FJ=F.memo(function({label:e,value:t,onChange:i,min:a=-1,max:r=1,unit:o="m",darkMode:c,disabled:f=!1,centered:h=!1,smoothedValue:m,height:g=135}){const v=typeof t=="number"?t.toFixed(o==="deg"?1:3):o==="deg"?"0.0":"0.000";return I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5,px:.75,borderRadius:"0px",bgcolor:"transparent",border:"none",opacity:f?.5:1,pointerEvents:f?"none":"auto"},children:[h?I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.25,mb:.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:[v,o==="deg"?"":` ${o}`]})]}):I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%",mb:.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:[v,o==="deg"?"":` ${o}`]})]}),I.jsx(we,{sx:{display:"flex",flexDirection:"row",alignItems:"center",height:g,width:"100%",position:"relative"},children:I.jsxs(we,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",py:0,px:.5,position:"relative"},children:[m!=null&&I.jsx(we,{sx:{position:"absolute",top:`${100-(m-a)/(r-a)*100}%`,left:"50%",transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",bgcolor:"rgba(255, 149, 0, 0.2)",border:"1.5px solid rgba(255, 149, 0, 0.5)",zIndex:1,pointerEvents:"none",transition:"top 0.05s linear"}}),I.jsx(H_,{orientation:"vertical",value:t,onChange:(y,b)=>i(b,!0),onChangeCommitted:(y,b)=>i(b,!1),min:a,max:r,step:.001,disabled:f,sx:{color:"#FF9500",width:4,height:"100%",position:"relative",zIndex:2,"& .MuiSlider-thumb":{width:12,height:12,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)","&:hover":{boxShadow:"0 2px 8px rgba(255, 149, 0, 0.4)",width:14,height:14},"&:active":{boxShadow:"0 2px 8px rgba(255, 149, 0, 0.6)"},"&::before":{boxShadow:"none"}},"& .MuiSlider-track":{width:4,border:"none"},"& .MuiSlider-rail":{width:4,opacity:c?.2:.3}}})]})})]})}),VJ=F.memo(function({label:e,value:t,onChange:i,min:a=-1,max:r=1,unit:o="rad",darkMode:c,disabled:f=!1,centered:h=!1,showRollVisualization:m=!1,smoothedValue:g}){const v=typeof t=="number"?t.toFixed(o==="deg"?1:3):o==="deg"?"0.0":"0.000",y=F.useMemo(()=>{if(!m)return null;const b=36,M=20,A=5,S=A,E=A/1.1,w=S/2+1,R=(t-a)/(r-a),z=b-w,O=M-w,P=w,B=M-w,L=b/2,D=w+(M-w*2)*.2,V=P-z,U=B-O,G=Math.sqrt(V*V+U*U),X=Math.sqrt((L-z)**2+(D-O)**2)+Math.sqrt((P-L)**2+(B-D)**2),$=(G+X)/2,H=$*R;return{width:b,height:M,padding:w,strokeWidth:S,innerStrokeWidth:E,startX:z,startY:O,endX:P,endY:B,controlX:L,controlY:D,approximateLength:$,strokeDashoffset:H,normalized:R}},[t,a,r,m]);return I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:.5,p:.75,borderRadius:"0px",bgcolor:"transparent",border:"none",width:"100%",opacity:f?.5:1,pointerEvents:f?"none":"auto"},children:[h?I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.25,mb:.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:[v,o==="deg"?"":` ${o}`]})]}):I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:[v,o==="deg"?"":` ${o}`]})]}),I.jsxs(we,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:1.5,width:"100%",minHeight:m?20:"auto"},children:[m&&y&&I.jsx(we,{sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,height:y.height},children:I.jsxs("svg",{viewBox:`-${y.padding} -${y.padding} ${y.width+y.padding*2} ${y.height+y.padding*2}`,style:{width:y.width,height:y.height,pointerEvents:"none"},children:[I.jsx("defs",{children:I.jsxs("filter",{id:`dropshadow-roll-${e}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[I.jsxs("feComponentTransfer",{in:"SourceAlpha",children:[I.jsx("feFuncR",{type:"discrete",tableValues:"0.3"}),I.jsx("feFuncG",{type:"discrete",tableValues:"0.3"}),I.jsx("feFuncB",{type:"discrete",tableValues:"0.3"})]}),I.jsx("feGaussianBlur",{stdDeviation:"1.5"}),I.jsx("feOffset",{dx:"1.5",dy:"1",result:"shadow"}),I.jsx("feComposite",{in:"SourceGraphic",in2:"shadow",operator:"over"})]})}),I.jsx("path",{d:`M ${y.startX} ${y.startY} Q ${y.controlX} ${y.controlY} ${y.endX} ${y.endY}`,fill:"none",stroke:c?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.04)",strokeWidth:y.strokeWidth,strokeLinecap:"round",style:{filter:`url(#dropshadow-roll-${e})`}}),I.jsx("path",{d:`M ${y.startX} ${y.startY} Q ${y.controlX} ${y.controlY} ${y.endX} ${y.endY}`,fill:"none",stroke:c?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.06)",strokeWidth:y.strokeWidth,strokeLinecap:"round"}),I.jsx("path",{d:`M ${y.startX} ${y.startY-y.strokeWidth/2-.5} Q ${y.controlX} ${y.controlY-y.strokeWidth/2-.5} ${y.endX} ${y.endY-y.strokeWidth/2-.5}`,fill:"none",stroke:c?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",strokeWidth:1,strokeLinecap:"round"}),I.jsx("path",{d:`M ${y.startX} ${y.startY} Q ${y.controlX} ${y.controlY} ${y.endX} ${y.endY}`,fill:"none",stroke:c?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",strokeWidth:y.innerStrokeWidth,strokeLinecap:"round",strokeDasharray:y.approximateLength,strokeDashoffset:y.strokeDashoffset})]})}),I.jsxs(we,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[g!=null&&I.jsx(we,{sx:{position:"absolute",left:`${(g-a)/(r-a)*100}%`,top:"50%",transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",bgcolor:"rgba(255, 149, 0, 0.2)",border:"1.5px solid rgba(255, 149, 0, 0.5)",zIndex:1,pointerEvents:"none",transition:"left 0.05s linear"}}),I.jsx(H_,{value:t,onChange:(b,M)=>i(M,!0),onChangeCommitted:(b,M)=>i(M,!1),min:a,max:r,step:.01,disabled:f,sx:{color:"#FF9500",height:3,position:"relative",zIndex:2,"& .MuiSlider-thumb":{width:12,height:12,boxShadow:"0 2px 6px rgba(255, 149, 0, 0.4)"},"& .MuiSlider-track":{height:3},"& .MuiSlider-rail":{height:3,opacity:c?.2:.3}}})]})]})]})}),YS=F.memo(function({label:e,value:t,onChange:i,min:a=-Math.PI,max:r=Math.PI,unit:o="rad",darkMode:c,disabled:f=!1,inverted:h=!1,reverse:m=!1,alignRight:g=!1,smoothedValue:v}){const R=2*Math.PI*15.5,z=5,O=5/1.1,P=D=>.01+(D-a)/(r-a)*.73,B=F.useMemo(()=>{const D=P(t),V=m?.74-(D-.01):D,U=R*(1-V),G=R*(1-.74),X=h?-45:135,$=m?270-(D-.01)/.73*270:(D-.01)/.73*270;let H=null,K=null;return v!=null&&(H=P(v),K=m?270-(H-.01)/.73*270:(H-.01)/.73*270),{internalValue:D,effectiveInternalValue:V,strokeDashoffset:U,totalStrokeDashoffset:G,svgRotation:X,progressAngle:$,ghostProgressAngle:K}},[t,a,r,h,m,R,v]),L=typeof t=="number"?t.toFixed(o==="deg"?1:3):o==="deg"?"0.0":"0.000";return I.jsxs(we,{sx:{display:"flex",flexDirection:"column",alignItems:g?"stretch":"center",gap:.5,p:.75,borderRadius:"0px",bgcolor:"transparent",border:"none",opacity:f?.5:1,pointerEvents:f?"none":"auto",width:"100%",boxSizing:"border-box"},children:[I.jsx(we,{sx:{display:"flex",alignItems:"center",gap:1,width:g?"auto":"100%",mb:.5,justifyContent:g?"flex-end":"flex-start",flexDirection:g?"row-reverse":"row",boxSizing:"border-box",ml:g?"auto":0},children:g?I.jsxs(I.Fragment,{children:[I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em",textAlign:"right"},children:[L,o==="deg"?"":` ${o}`]}),I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px",textAlign:"right"},children:e})]}):I.jsxs(I.Fragment,{children:[I.jsx(_t,{sx:{fontSize:10,fontWeight:700,color:c?"#f5f5f5":"#333",letterSpacing:"-0.2px"},children:e}),I.jsxs(_t,{sx:{fontSize:9,fontFamily:"monospace",fontWeight:500,color:c?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",letterSpacing:"0.02em"},children:[L,o==="deg"?"":` ${o}`]})]})}),I.jsxs(we,{sx:{display:"flex",flexDirection:g?"row-reverse":"row",alignItems:"center",gap:1.5,width:"100%"},children:[I.jsx(we,{sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:I.jsxs("svg",{viewBox:"0 0 36 36",style:{transform:`rotate(${B.svgRotation}deg)`,width:36,height:36,pointerEvents:"none"},children:[I.jsx("defs",{children:I.jsxs("filter",{id:`dropshadow-${e}`,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[I.jsxs("feComponentTransfer",{in:"SourceAlpha",children:[I.jsx("feFuncR",{type:"discrete",tableValues:"0.3"}),I.jsx("feFuncG",{type:"discrete",tableValues:"0.3"}),I.jsx("feFuncB",{type:"discrete",tableValues:"0.3"})]}),I.jsx("feGaussianBlur",{stdDeviation:"1.5"}),I.jsx("feOffset",{dx:"1.5",dy:"1",result:"shadow"}),I.jsx("feComposite",{in:"SourceGraphic",in2:"shadow",operator:"over"})]})}),I.jsx("circle",{stroke:c?"rgba(255, 255, 255, 0.04)":"rgba(0, 0, 0, 0.04)",strokeLinecap:"round",fill:"none",strokeWidth:z,strokeDashoffset:B.totalStrokeDashoffset,strokeDasharray:R,style:{filter:`url(#dropshadow-${e})`},r:15.5,cx:18,cy:18}),I.jsx("circle",{stroke:c?"rgba(255, 255, 255, 0.06)":"rgba(0, 0, 0, 0.06)",strokeLinecap:"round",fill:"none",strokeWidth:z,strokeDashoffset:B.totalStrokeDashoffset,strokeDasharray:R,r:15.5,cx:18,cy:18}),I.jsx("circle",{stroke:c?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",strokeLinecap:"round",fill:"none",strokeWidth:1,strokeDashoffset:B.totalStrokeDashoffset,strokeDasharray:R,r:15.5+z/2+.5,cx:18,cy:18}),I.jsx("circle",{stroke:c?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",strokeLinecap:"round",fill:"none",strokeWidth:O,strokeDashoffset:B.strokeDashoffset,strokeDasharray:R,r:15.5,cx:18,cy:18})]})}),I.jsxs(we,{sx:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[v!=null&&I.jsx(we,{sx:{position:"absolute",left:`${(v-a)/(r-a)*100}%`,top:"50%",transform:"translate(-50%, -50%)",width:12,height:12,borderRadius:"50%",bgcolor:"rgba(255, 149, 0, 0.2)",border:"1.5px solid rgba(255, 149, 0, 0.5)",zIndex:1,pointerEvents:"none",transition:"left 0.05s linear"}}),I.jsx(H_,{orientation:"horizontal",value:t,onChange:(D,V)=>i(V,!0),onChangeCommitted:(D,V)=>i(V,!1),min:a,max:r,step:.1,disabled:f,sx:{color:"#FF9500",height:3,position:"relative",zIndex:2,"& .MuiSlider-thumb":{width:12,height:12,boxShadow:"0 2px 6px rgba(255, 149, 0, 0.4)","&:hover":{boxShadow:"0 4px 12px rgba(255, 149, 0, 0.6)",width:14,height:14},"&:active":{boxShadow:"0 4px 12px rgba(255, 149, 0, 0.8)"}},"& .MuiSlider-track":{height:3,border:"none"},"& .MuiSlider-rail":{height:3,opacity:c?.2:.3}}})]})]})]})}),Gt={POSITION:{min:-.05,max:.05},PITCH:{min:-.8,max:.8},YAW:{min:-1.2,max:1.2},ROLL:{min:-.5,max:.5},ANTENNA:{min:-160*Math.PI/180,max:160*Math.PI/180}},H5={ACTIVE_INPUT:.005,SYNC_TOLERANCE:.01},HJ={MOUSE_DRAG_COOLDOWN:300},Xi={POSITION:{min:-.15,max:.15},PITCH:{min:-2.4,max:2.4},YAW:{min:-3.6,max:3.6}},Su={POSITION:.2,POSITION_Z:.25,ROTATION:.15,BODY_YAW:.3,ANTENNA:.2},XS={POSITION:1,ROTATION:1,BODY_YAW:.3};function Ln(n,e,t){return Math.max(e,Math.min(t,n))}function jJ(n,e=.02){return Math.abs(n.lookHorizontal||0)>e||Math.abs(n.lookVertical||0)>e||Math.abs(n.moveForward||0)>e||Math.abs(n.moveRight||0)>e||Math.abs(n.moveUp||0)>e||Math.abs(n.roll||0)>e||Math.abs(n.bodyYaw||0)>e||Math.abs(n.antennaLeft||0)>e||Math.abs(n.antennaRight||0)>e}function GJ(n,e,t){const{api:i}=Sr(),{buildApiUrl:a,fetchWithTimeout:r,config:o}=i,c=F.useRef(null),f=F.useRef(null),h=F.useRef(null),m=F.useRef(null),g=F.useCallback(()=>{c.current&&(cancelAnimationFrame(c.current),c.current=null),f.current=null,m.current&&(m.current.abort(),m.current=null)},[]),v=F.useCallback(()=>{if(c.current)return;const S=()=>{if(f.current&&t.current){const{headPose:E,antennas:w,bodyYaw:R}=f.current,z=JSON.stringify({headPose:E,antennas:w,bodyYaw:R});if(h.current!==z){const O=typeof R=="number"?R:0;if(E===null&&w===null){const P={target_body_yaw:O,target_head_pose:e.headPose,target_antennas:e.antennas||[0,0]};r(a("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)},o.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Continuous move (body_yaw)",silent:!0}).catch(B=>{console.error(" set_target (body_yaw only) error:",B)})}else{const P={target_head_pose:E,target_antennas:w,target_body_yaw:O};r(a("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)},o.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Continuous move",silent:!0}).catch(B=>{console.error(" set_target error:",B)})}h.current=z}}t.current?c.current=requestAnimationFrame(S):(c.current=null,g())};c.current=requestAnimationFrame(S)},[e,g,t]),y=F.useRef(0),b=33,M=F.useCallback((S,E,w)=>{if(!n)return;const R=typeof w=="number"?w:e.bodyYaw||0,z=Date.now();if(z-y.current<b)return;y.current=z,m.current&&m.current.abort(),m.current=new AbortController;const O={target_head_pose:S,target_antennas:E,target_body_yaw:R};r(a("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O),signal:m.current.signal},o.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Set target (smoothed)",silent:!0}).catch(P=>{P.name!=="AbortError"&&console.error(" set_target error:",P)})},[n,e.bodyYaw]),A=F.useCallback((S,E,w)=>{if(!n)return;const R=typeof w=="number"?w:e.bodyYaw||0,z={target_head_pose:S?{x:Ln(S.x,Gt.POSITION.min,Gt.POSITION.max),y:Ln(S.y,Gt.POSITION.min,Gt.POSITION.max),z:Ln(S.z,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(S.pitch,Gt.PITCH.min,Gt.PITCH.max),yaw:Ln(S.yaw,Gt.YAW.min,Gt.YAW.max),roll:Ln(S.roll,Gt.ROLL.min,Gt.ROLL.max)}:e.headPose,target_antennas:E||e.antennas||[0,0],target_body_yaw:R};return r(a("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)},o.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Set target",silent:!0}).catch(O=>{console.error(" set_target error:",O)})},[n,e]);return{sendCommand:M,sendSingleCommand:A,startContinuousUpdates:v,stopContinuousUpdates:g,rafRef:c,pendingPoseRef:f,lastSentPoseRef:h}}function _r(n,e,t=.15){return n+(e-n)*t}function WJ(n,e,t={}){var a,r,o,c,f,h,m,g,v;return{moveForward:_r(n.moveForward||0,e.moveForward||0,(a=t.moveForward)!=null?a:.15),moveRight:_r(n.moveRight||0,e.moveRight||0,(r=t.moveRight)!=null?r:.15),moveUp:_r(n.moveUp||0,e.moveUp||0,(o=t.moveUp)!=null?o:.15),lookHorizontal:_r(n.lookHorizontal||0,e.lookHorizontal||0,(c=t.lookHorizontal)!=null?c:.15),lookVertical:_r(n.lookVertical||0,e.lookVertical||0,(f=t.lookVertical)!=null?f:.15),roll:_r(n.roll||0,e.roll||0,(h=t.roll)!=null?h:.15),bodyYaw:_r(n.bodyYaw||0,e.bodyYaw||0,(m=t.bodyYaw)!=null?m:.2),antennaLeft:_r(n.antennaLeft||0,e.antennaLeft||0,(g=t.antennaLeft)!=null?g:.3),antennaRight:_r(n.antennaRight||0,e.antennaRight||0,(v=t.antennaRight)!=null?v:.3),toggleMode:e.toggleMode,nextPosition:e.nextPosition,action1:e.action1,action2:e.action2,interact:e.interact,returnHome:e.returnHome}}function U9(n){const e=performance.now(),t=(e-n)/1e3;return{deltaTime:Math.min(t,1/30),currentTime:e}}const Mu={POSITION:.02,ROTATION:.02,BODY_YAW:.0375,ANTENNA:.03};class B9{constructor(){this.currentValues={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]},this.targetValues={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]},this.lastFrameTime=performance.now()}setTargets(e){e.headPose&&(this.targetValues.headPose={...this.targetValues.headPose,...e.headPose}),e.bodyYaw!==void 0&&(this.targetValues.bodyYaw=e.bodyYaw),e.antennas&&(this.targetValues.antennas=[...e.antennas])}update(){return U9(this.lastFrameTime),this.lastFrameTime=performance.now(),this.currentValues.headPose={x:_r(this.currentValues.headPose.x,this.targetValues.headPose.x,Mu.POSITION),y:_r(this.currentValues.headPose.y,this.targetValues.headPose.y,Mu.POSITION),z:_r(this.currentValues.headPose.z,this.targetValues.headPose.z,Mu.POSITION),pitch:_r(this.currentValues.headPose.pitch,this.targetValues.headPose.pitch,Mu.ROTATION),yaw:_r(this.currentValues.headPose.yaw,this.targetValues.headPose.yaw,Mu.ROTATION),roll:_r(this.currentValues.headPose.roll,this.targetValues.headPose.roll,Mu.ROTATION)},this.currentValues.bodyYaw=_r(this.currentValues.bodyYaw,this.targetValues.bodyYaw,Mu.BODY_YAW),this.currentValues.antennas=[_r(this.currentValues.antennas[0],this.targetValues.antennas[0],Mu.ANTENNA),_r(this.currentValues.antennas[1],this.targetValues.antennas[1],Mu.ANTENNA)],{...this.currentValues}}getCurrentValues(){return{...this.currentValues}}getTargetValues(){return{headPose:{...this.targetValues.headPose},bodyYaw:this.targetValues.bodyYaw,antennas:[...this.targetValues.antennas]}}reset(){this.currentValues={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]},this.targetValues={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]}}sync(e){e.headPose&&(this.currentValues.headPose={...e.headPose},this.targetValues.headPose={...e.headPose}),e.bodyYaw!==void 0&&(this.currentValues.bodyYaw=e.bodyYaw,this.targetValues.bodyYaw=e.bodyYaw),e.antennas&&(this.currentValues.antennas=[...e.antennas],this.targetValues.antennas=[...e.antennas])}}const YJ={positionX:{source:"moveForward",transform:n=>n,reason:"Stick forward (up) = robot forward (X positive)"},positionY:{source:"moveRight",transform:n=>n,reason:"Stick right = robot right (Y positive)"},pitch:{source:"lookVertical",transform:n=>n,reason:"InputManager already inverts: stick up = lookVertical +1 = pitch positive"},yaw:{source:"lookHorizontal",transform:n=>-n,reason:"Stick right = yaw right (intuitive): stick right (+1)  yaw positive"}},k9={positionX:{transform:n=>-n,reason:"Robot X forward = Display Y up (visual inversion for joystick Y axis)"},positionY:{transform:n=>n,reason:"Robot Y = Display Y (no transformation needed)"},pitch:{transform:n=>-n,reason:"Robot pitch up = Display pitch down (visual inversion for UI)"},yaw:{transform:n=>-n,reason:"Robot yaw right = Display yaw left (visual inversion for UI)"}},XJ={positionX:{transform:n=>-n,reason:"Robot X forward = API X backward (invert for robot movement)"},positionY:{transform:n=>n,reason:"Robot Y = API Y (no transformation needed)"},pitch:{transform:n=>-n,reason:"Robot pitch up = API pitch down (robot API convention)"},yaw:{transform:n=>-n,reason:"Robot yaw right = API yaw left (robot API convention)"},roll:{transform:n=>n,reason:"Robot roll = API roll (no transformation needed)"}};function L2(n,e){return!e||typeof e.transform!="function"?(console.warn("Invalid mapping provided to applyMapping:",e),n):e.transform(n)}function w4(n,e){const t=YJ[e];return t?L2(n,t):(console.warn(`No INPUT_TO_ROBOT mapping found for component: ${e}`),n)}function If(n,e){const t=k9[e];return t?L2(n,t):(console.warn(`No ROBOT_TO_DISPLAY mapping found for component: ${e}`),n)}function Rc(n,e){const t=XJ[e];return t?L2(n,t):(console.warn(`No ROBOT_TO_API mapping found for component: ${e}`),n)}function Kv(n,e){const t=k9[e];return t?L2(n,t):(console.warn(`No ROBOT_TO_DISPLAY mapping found for component: ${e}`),n)}const qJ=1e3/15;function $J(n,e,t,i){const a=F.useRef(new B9),r=F.useRef(null),o=F.useRef(0),[c,f]=F.useState({headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]});return F.useEffect(()=>{if(!n)return;const h=()=>{const m=a.current.update(),g=a.current.getTargetValues(),v=Math.abs(m.headPose.x-g.headPose.x)+Math.abs(m.headPose.y-g.headPose.y)+Math.abs(m.headPose.z-g.headPose.z)+Math.abs(m.headPose.pitch-g.headPose.pitch)+Math.abs(m.headPose.yaw-g.headPose.yaw)+Math.abs(m.headPose.roll-g.headPose.roll),y=Math.abs(m.bodyYaw-g.bodyYaw),b=Math.abs(m.antennas[0]-g.antennas[0])+Math.abs(m.antennas[1]-g.antennas[1]),M=.01,A=v<M&&y<M&&b<M;if(e.current||!A){const w={x:Ln(Rc(m.headPose.x,"positionX"),Gt.POSITION.min,Gt.POSITION.max),y:Ln(Rc(m.headPose.y,"positionY"),Gt.POSITION.min,Gt.POSITION.max),z:Ln(m.headPose.z,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(Rc(m.headPose.pitch,"pitch"),Gt.PITCH.min,Gt.PITCH.max),yaw:Ln(Rc(m.headPose.yaw,"yaw"),Gt.YAW.min,Gt.YAW.max),roll:Ln(Rc(m.headPose.roll,"roll"),Gt.ROLL.min,Gt.ROLL.max)};t.current(w,m.antennas,m.bodyYaw)}const E=performance.now();E-o.current>=qJ&&(o.current=E,f({headPose:{...m.headPose},bodyYaw:m.bodyYaw,antennas:[...m.antennas]})),r.current=requestAnimationFrame(h)};return r.current=requestAnimationFrame(h),()=>{r.current&&(cancelAnimationFrame(r.current),r.current=null)}},[n]),{targetSmoothingRef:a,smoothingRafRef:r,smoothedValues:c}}function KJ(n,e,t,i,a,r,o,c,f,h,m,g){const v=F.useRef(a);F.useEffect(()=>{v.current=a},[a]),F.useEffect(()=>{if(!n||!e||!e.data)return;const y=e.data,b=Date.now()-f.current;if(y.head_pose){const M={headPose:{x:y.head_pose.x||0,y:y.head_pose.y||0,z:y.head_pose.z||0,pitch:y.head_pose.pitch||0,yaw:y.head_pose.yaw||0,roll:y.head_pose.roll||0},bodyYaw:typeof y.body_yaw=="number"?y.body_yaw:0,antennas:y.antennas_position||[0,0]};i(R=>{const z=Math.abs(R.headPose.x-M.headPose.x)>1e-4||Math.abs(R.headPose.y-M.headPose.y)>1e-4||Math.abs(R.headPose.z-M.headPose.z)>1e-4||Math.abs(R.headPose.pitch-M.headPose.pitch)>1e-4||Math.abs(R.headPose.yaw-M.headPose.yaw)>1e-4||Math.abs(R.headPose.roll-M.headPose.roll)>1e-4,O=Math.abs(R.bodyYaw-M.bodyYaw)>1e-4,P=!R.antennas||Math.abs((R.antennas[0]||0)-M.antennas[0])>1e-4||Math.abs((R.antennas[1]||0)-M.antennas[1])>1e-4;return z||O||P?M:R});const A=Date.now()-h.current,S=3e4,E=b<S||A<S;if(!o.current&&!c.current&&!E){const R=v.current,z=g.current.getTargetValues(),O=g.current.getCurrentValues(),P=H5.SYNC_TOLERANCE*5,B=Math.abs(M.headPose.x-z.headPose.x)<P&&Math.abs(M.headPose.y-z.headPose.y)<P&&Math.abs(M.headPose.z-z.headPose.z)<P&&Math.abs(M.headPose.pitch-z.headPose.pitch)<P&&Math.abs(M.headPose.yaw-z.headPose.yaw)<P&&Math.abs(M.headPose.roll-z.headPose.roll)<P&&Math.abs(M.bodyYaw-z.bodyYaw)<P&&Math.abs(M.antennas[0]-z.antennas[0])<P&&Math.abs(M.antennas[1]-z.antennas[1])<P,L=Math.abs(M.headPose.x-O.headPose.x)<P&&Math.abs(M.headPose.y-O.headPose.y)<P&&Math.abs(M.headPose.z-O.headPose.z)<P&&Math.abs(M.headPose.pitch-O.headPose.pitch)<P&&Math.abs(M.headPose.yaw-O.headPose.yaw)<P&&Math.abs(M.headPose.roll-O.headPose.roll)<P&&Math.abs(M.bodyYaw-O.bodyYaw)<P&&Math.abs(M.antennas[0]-O.antennas[0])<P&&Math.abs(M.antennas[1]-O.antennas[1])<P;if(B||L)return;const D=H5.SYNC_TOLERANCE*20,V=Math.abs(M.headPose.x-R.headPose.x)>D,U=Math.abs(M.headPose.y-R.headPose.y)>D,G=Math.abs(M.headPose.z-R.headPose.z)>D,X=Math.abs(M.headPose.pitch-R.headPose.pitch)>D,$=Math.abs(M.headPose.yaw-R.headPose.yaw)>D,H=Math.abs(M.headPose.roll-R.headPose.roll)>D,K=Math.abs(M.bodyYaw-R.bodyYaw)>D,Q=!R.antennas||Math.abs(M.antennas[0]-(R.antennas[0]||0))>D,W=!R.antennas||Math.abs(M.antennas[1]-(R.antennas[1]||0))>D,ce={};let q=!1;(V||U||G||X||$||H)&&(ce.headPose={},V&&(ce.headPose.x=M.headPose.x),U&&(ce.headPose.y=M.headPose.y),G&&(ce.headPose.z=M.headPose.z),X&&(ce.headPose.pitch=M.headPose.pitch),$&&(ce.headPose.yaw=M.headPose.yaw),H&&(ce.headPose.roll=M.headPose.roll),q=!0),K&&(ce.bodyYaw=M.bodyYaw,q=!0),(Q||W)&&(ce.antennas=[...M.antennas],(Q||W)&&(m.current=M.antennas),q=!0),q&&(g.current.setTargets(ce),r(ie=>{const fe={...ie};let ge=!1;return ce.headPose&&(fe.headPose={...ie.headPose,...ce.headPose},ge=!0),ce.bodyYaw!==void 0&&(fe.bodyYaw=ce.bodyYaw,ge=!0),ce.antennas&&(fe.antennas=ce.antennas,ge=!0),ge?fe:ie}))}}},[n,e,t,i,r,o,c,f,h,m,g])}const a1={KEYBOARD:"keyboard",GAMEPAD:"gamepad"};class ZJ{constructor(){fu(this,"handleKeyDown",e=>{this.keysPressed[e.code]=!0,e.code==="Tab"&&(e.preventDefault(),this.keyboardInputs.toggleMode=!0),e.code==="Space"&&(e.preventDefault(),this.keyboardInputs.nextPosition||(this.keyboardInputs.nextPosition=!0)),e.code==="KeyT"&&(this.keyboardInputs.interact||(this.keyboardInputs.interact=!0)),e.code==="Escape"&&(e.preventDefault(),this.keyboardInputs.returnHome||(this.keyboardInputs.returnHome=!0)),this.processKeyboardInput(),this.combineInputs(),this.notifyListeners()});fu(this,"handleKeyUp",e=>{this.keysPressed[e.code]=!1,e.code==="Tab"&&(this.keyboardInputs.toggleMode=!1),e.code==="Space"&&setTimeout(()=>{this.keyboardInputs.nextPosition=!1,this.combineInputs(),this.notifyListeners()},50),e.code==="KeyT"&&setTimeout(()=>{this.keyboardInputs.interact=!1,this.combineInputs(),this.notifyListeners()},50),e.code==="Escape"&&setTimeout(()=>{this.keyboardInputs.returnHome=!1,this.combineInputs(),this.notifyListeners()},50),this.processKeyboardInput()});fu(this,"handleGamepadConnected",e=>{this.debugEnabled&&console.log(" Gamepad connected:",e.gamepad.id),this.gamepadConnected=!0});fu(this,"handleGamepadDisconnected",e=>{this.debugEnabled&&console.log(" Gamepad disconnected"),this.gamepadConnected=!1,this.resetGamepadInputs(),this.combineInputs(),this.notifyListeners()});this.inputs={moveForward:0,moveRight:0,moveUp:0,lookHorizontal:0,lookVertical:0,roll:0,bodyYaw:0,antennaLeft:0,antennaRight:0,toggleMode:!1,nextPosition:!1,action1:!1,action2:!1,interact:!1,returnHome:!1},this.keyboardInputs={...this.inputs},this.gamepadInputs={...this.inputs},this.config={deadzone:.05,keyboardSensitivity:1.5,keyboardMovementMultiplier:1,keyboardLookMultiplier:1.8},this.keysPressed={},this.previousButtonStates={},this.listeners=[],this.gamepadConnected=!1,this.rafId=null,this.lastNotificationTime=0,this.debugEnabled=!1,this.lastButtonStates={},this.lastInputValues={},this.progressiveIncrement={bodyYaw:{value:0,holdTime:0,isHolding:!1},moveUp:{value:0,holdTime:0,isHolding:!1}},this.activeDevice=null,this.lastInputTime={[a1.KEYBOARD]:0,[a1.GAMEPAD]:0},this.deviceSwitchThreshold=100,this.bindEvents()}validateAxisValue(e){return e==null||!isFinite(e)?0:Math.max(-1,Math.min(1,e))}applyDeadzone(e){const t=Math.abs(e);if(t<=this.config.deadzone){const i=t/this.config.deadzone;return e*i}return e}applyLookCurve(e){return this.applyDeadzone(e)}getActiveDevice(){return this.activeDevice===a1.GAMEPAD?a1.GAMEPAD:null}updateActiveDevice(e){const t=Date.now();this.lastInputTime[e]=t,this.activeDevice!==e&&t-this.lastInputTime[this.activeDevice]>this.deviceSwitchThreshold&&(this.debugEnabled&&console.log(` Device switched: ${this.activeDevice}  ${e}`),this.activeDevice=e,this.notifyDeviceChange(e))}addDeviceChangeListener(e){return this.deviceChangeListeners||(this.deviceChangeListeners=[]),this.deviceChangeListeners.push(e),()=>{this.deviceChangeListeners=this.deviceChangeListeners.filter(t=>t!==e)}}notifyDeviceChange(e){if(this.deviceChangeListeners)for(const t of this.deviceChangeListeners)t(e)}addListener(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notifyListeners(){const e=Date.now();if(!(e-this.lastNotificationTime<33)){this.lastNotificationTime=e;for(const i of this.listeners)i({...this.inputs})}}combineInputs(){this.inputs.moveForward=Math.max(-1,Math.min(1,this.keyboardInputs.moveForward+this.gamepadInputs.moveForward)),this.inputs.moveRight=Math.max(-1,Math.min(1,this.keyboardInputs.moveRight+this.gamepadInputs.moveRight)),this.inputs.moveUp=Math.max(-1,Math.min(1,this.keyboardInputs.moveUp+this.gamepadInputs.moveUp)),this.inputs.lookHorizontal=Math.max(-1,Math.min(1,this.keyboardInputs.lookHorizontal+this.gamepadInputs.lookHorizontal)),this.inputs.lookVertical=Math.max(-1,Math.min(1,this.keyboardInputs.lookVertical+this.gamepadInputs.lookVertical)),this.inputs.roll=Math.max(-1,Math.min(1,this.keyboardInputs.roll+this.gamepadInputs.roll)),this.inputs.bodyYaw=Math.max(-1,Math.min(1,this.keyboardInputs.bodyYaw+this.gamepadInputs.bodyYaw)),this.inputs.antennaLeft=Math.max(0,Math.min(1,this.keyboardInputs.antennaLeft+this.gamepadInputs.antennaLeft)),this.inputs.antennaRight=Math.max(0,Math.min(1,this.keyboardInputs.antennaRight+this.gamepadInputs.antennaRight)),this.inputs.toggleMode=this.keyboardInputs.toggleMode||this.gamepadInputs.toggleMode,this.inputs.nextPosition=this.keyboardInputs.nextPosition||this.gamepadInputs.nextPosition,this.inputs.action1=this.keyboardInputs.action1||this.gamepadInputs.action1,this.inputs.action2=this.keyboardInputs.action2||this.gamepadInputs.action2,this.inputs.interact=this.keyboardInputs.interact||this.gamepadInputs.interact,this.inputs.returnHome=this.keyboardInputs.returnHome||this.gamepadInputs.returnHome}bindEvents(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),window.addEventListener("gamepadconnected",this.handleGamepadConnected),window.addEventListener("gamepaddisconnected",this.handleGamepadDisconnected),this.startGamepadPolling()}unbindEvents(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("gamepadconnected",this.handleGamepadConnected),window.removeEventListener("gamepaddisconnected",this.handleGamepadDisconnected),this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}processKeyboardInput(){this.keyboardInputs.moveForward=0,this.keyboardInputs.moveRight=0,this.keyboardInputs.moveUp=0,this.keyboardInputs.lookHorizontal=0,this.keyboardInputs.lookVertical=0,this.keyboardInputs.roll=0,this.keyboardInputs.bodyYaw=0,this.keyboardInputs.antennaLeft=0,this.keyboardInputs.antennaRight=0,this.combineInputs(),this.notifyListeners()}startGamepadPolling(){const e=()=>{this.pollGamepad(),this.rafId=requestAnimationFrame(e)};this.rafId=requestAnimationFrame(e)}pollGamepad(){var e,t,i,a,r,o,c,f,h,m,g,v,y,b,M;try{const S=(navigator.getGamepads?navigator.getGamepads():[])[0];if(!S){this.gamepadConnected&&(this.gamepadConnected=!1,this.resetGamepadInputs(),this.combineInputs(),this.notifyListeners());return}if(!S.axes||!Array.isArray(S.axes))return;this.gamepadConnected||(this.gamepadConnected=!0),(Math.abs(S.axes[0])>this.config.deadzone||Math.abs(S.axes[1])>this.config.deadzone||Math.abs(S.axes[2])>this.config.deadzone||Math.abs(S.axes[3])>this.config.deadzone||S.buttons.some($=>$.pressed))&&this.updateActiveDevice(a1.GAMEPAD);const w=this.validateAxisValue(S.axes[0]),R=this.validateAxisValue(S.axes[1]),z=this.applyDeadzone(w),O=this.applyDeadzone(R);this.gamepadInputs.moveRight=z,this.gamepadInputs.moveForward=-O;const P=((e=S.buttons[12])==null?void 0:e.pressed)||!1,B=((t=S.buttons[13])==null?void 0:t.pressed)||!1,L=P?1:B?-1:0;if(L!==0)if(!this.progressiveIncrement.moveUp.isHolding)this.progressiveIncrement.moveUp.value=L*.2,this.progressiveIncrement.moveUp.isHolding=!0,this.progressiveIncrement.moveUp.holdTime=Date.now();else{const K=this.progressiveIncrement.moveUp.value+.002*L;L>0?this.progressiveIncrement.moveUp.value=Math.min(K,1):this.progressiveIncrement.moveUp.value=Math.max(K,-1)}else this.progressiveIncrement.moveUp.value=0,this.progressiveIncrement.moveUp.isHolding=!1,this.progressiveIncrement.moveUp.holdTime=0;this.gamepadInputs.moveUp=this.progressiveIncrement.moveUp.value;const D=((i=S.buttons[15])==null?void 0:i.pressed)||!1,V=((a=S.buttons[14])==null?void 0:a.pressed)||!1,U=D?1:V?-1:0;if(U!==0)if(!this.progressiveIncrement.bodyYaw.isHolding)this.progressiveIncrement.bodyYaw.value=U*.2,this.progressiveIncrement.bodyYaw.isHolding=!0,this.progressiveIncrement.bodyYaw.holdTime=Date.now();else{const K=this.progressiveIncrement.bodyYaw.value+.002*U;U>0?this.progressiveIncrement.bodyYaw.value=Math.min(K,1):this.progressiveIncrement.bodyYaw.value=Math.max(K,-1)}else this.progressiveIncrement.bodyYaw.value=0,this.progressiveIncrement.bodyYaw.isHolding=!1,this.progressiveIncrement.bodyYaw.holdTime=0;this.gamepadInputs.bodyYaw=this.progressiveIncrement.bodyYaw.value,this.gamepadInputs.antennaLeft=((r=S.buttons[6])==null?void 0:r.value)||0,this.gamepadInputs.antennaRight=((o=S.buttons[7])==null?void 0:o.value)||0;const G=this.validateAxisValue(S.axes[2]),X=this.validateAxisValue(S.axes[3]);this.gamepadInputs.lookHorizontal=this.applyLookCurve(G),this.gamepadInputs.lookVertical=-this.applyLookCurve(X),this.debugEnabled&&([{index:12,name:"D-pad Up"},{index:13,name:"D-pad Down"},{index:14,name:"D-pad Left"},{index:15,name:"D-pad Right"}].forEach(({index:W,name:ce})=>{var fe;const q=((fe=S.buttons[W])==null?void 0:fe.pressed)||!1,ie=this.lastButtonStates[`dpad_${W}`];q!==ie&&(console.log(` ${ce}: ${q?"PRESSED":"RELEASED"}`),this.lastButtonStates[`dpad_${W}`]=q)}),[{index:6,name:"L1 (Left Antenna)"},{index:7,name:"R1 (Right Antenna)"}].forEach(({index:W,name:ce})=>{var ge;const q=((ge=S.buttons[W])==null?void 0:ge.value)||0,ie=this.lastInputValues[`bumper_${W}`]||0;Math.abs(q-ie)>.1&&(console.log(` ${ce}: ${(q*100).toFixed(0)}%`),this.lastInputValues[`bumper_${W}`]=q)}),[{index:0,name:"A (Interact)"},{index:1,name:"B (Return Home)"},{index:2,name:"X (Next Position)"},{index:3,name:"Y (Toggle Mode)"}].forEach(({index:W,name:ce})=>{var fe;const q=((fe=S.buttons[W])==null?void 0:fe.pressed)||!1,ie=this.lastButtonStates[`action_${W}`];q&&!ie?(console.log(` ${ce}: PRESSED`),this.lastButtonStates[`action_${W}`]=q):!q&&ie&&(this.lastButtonStates[`action_${W}`]=q)}),[{axes:[0,1],name:"Left Stick",inputs:["moveRight","moveForward"]},{axes:[2,3],name:"Right Stick",inputs:["lookHorizontal","lookVertical"]}].forEach(({axes:W,name:ce,inputs:q})=>{const ie=S.axes[W[0]]||0,fe=S.axes[W[1]]||0,ge=Math.sqrt(ie*ie+fe*fe),re=this.lastInputValues[`stick_${ce}`]||0;(ge>this.config.deadzone&&re<=this.config.deadzone||ge<=this.config.deadzone&&re>this.config.deadzone)&&(ge>this.config.deadzone?console.log(` ${ce}: Active (${ie.toFixed(2)}, ${fe.toFixed(2)})`):console.log(` ${ce}: Centered`),this.lastInputValues[`stick_${ce}`]=ge)})),this.gamepadInputs.roll=0,(c=S.buttons[3])!=null&&c.pressed&&!this.previousButtonStates.mode?this.gamepadInputs.toggleMode=!0:this.gamepadInputs.toggleMode=!1,this.previousButtonStates.mode=(f=S.buttons[3])==null?void 0:f.pressed,(h=S.buttons[2])!=null&&h.pressed&&!this.previousButtonStates.nextPosition&&(this.gamepadInputs.nextPosition=!0,setTimeout(()=>{this.gamepadInputs.nextPosition=!1,this.combineInputs(),this.notifyListeners()},50)),this.previousButtonStates.nextPosition=(m=S.buttons[2])==null?void 0:m.pressed,(g=S.buttons[0])!=null&&g.pressed&&!this.previousButtonStates.interact?this.gamepadInputs.interact=!0:this.gamepadInputs.interact=!1,this.previousButtonStates.interact=(v=S.buttons[0])==null?void 0:v.pressed,(y=S.buttons[1])!=null&&y.pressed&&!this.previousButtonStates.returnHome&&(this.gamepadInputs.returnHome=!0,setTimeout(()=>{this.gamepadInputs.returnHome=!1,this.combineInputs(),this.notifyListeners()},50)),this.previousButtonStates.returnHome=(b=S.buttons[1])==null?void 0:b.pressed,this.gamepadInputs.action2=((M=S.buttons[3])==null?void 0:M.pressed)||!1,this.combineInputs(),this.notifyListeners()}catch(A){console.error(" Error in pollGamepad:",A),this.resetGamepadInputs(),this.combineInputs(),this.notifyListeners()}}resetGamepadInputs(){Object.keys(this.gamepadInputs).forEach(e=>{typeof this.gamepadInputs[e]=="number"?this.gamepadInputs[e]=0:typeof this.gamepadInputs[e]=="boolean"&&(this.gamepadInputs[e]=!1)})}resetKeyboardInputs(){Object.keys(this.keyboardInputs).forEach(e=>{typeof this.keyboardInputs[e]=="number"?this.keyboardInputs[e]=0:typeof this.keyboardInputs[e]=="boolean"&&(this.keyboardInputs[e]=!1)})}resetInputs(){this.resetGamepadInputs(),this.resetKeyboardInputs(),this.combineInputs()}updateConfig(e){this.config={...this.config,...e}}setDebugEnabled(e){this.debugEnabled=e,e?console.log(" Debug mode enabled - will show button presses and significant input changes"):(this.lastButtonStates={},this.lastInputValues={})}dispose(){this.unbindEvents(),this.listeners=[],this.lastButtonStates={},this.lastInputValues={}}isGamepadConnected(){return this.gamepadConnected}triggerNextPositionAction(){console.log("InputManager: Simulating nextPosition action"),this.resetInputs(),this.keyboardInputs.nextPosition=!0,this.combineInputs(),this.notifyListeners(),setTimeout(()=>{this.keyboardInputs.nextPosition=!1,this.combineInputs(),this.notifyListeners(),console.log("InputManager: nextPosition action completed")},50)}triggerInteractAction(){console.log("InputManager: Simulating interact action"),this.resetInputs(),this.keyboardInputs.interact=!0,this.combineInputs(),this.notifyListeners(),setTimeout(()=>{this.keyboardInputs.interact=!1,this.combineInputs(),this.notifyListeners(),console.log("InputManager: interact action completed")},50)}vibrateGamepad(e=200,t=.5,i=.8){const r=(navigator.getGamepads?navigator.getGamepads():[])[0];return!r||!this.gamepadConnected?(console.log("No gamepad available for vibration"),null):r.vibrationActuator&&typeof r.vibrationActuator.playEffect=="function"?(console.log("Vibration via vibrationActuator"),r.vibrationActuator.playEffect("dual-rumble",{startDelay:0,duration:e,weakMagnitude:t,strongMagnitude:i})):r.hapticActuators&&r.hapticActuators.length>0?(console.log("Vibration via hapticActuators"),r.hapticActuators[0].pulse(i,e)):(console.log("This gamepad does not support vibration"),null)}}let qS=null;const J1=()=>(qS||(qS=new ZJ),qS),JJ=()=>{const[n,e]=qi.useState(J1().getActiveDevice());return qi.useEffect(()=>{const t=J1(),i=t.addDeviceChangeListener(a=>{e(a)});return e(t.getActiveDevice()),i},[]),n},QJ=()=>{const[n,e]=qi.useState(J1().isGamepadConnected());return qi.useEffect(()=>{const t=J1(),i=setInterval(()=>{e(t.isGamepadConnected())},500);return()=>clearInterval(i)},[]),n},E4=(n,e,t=.01)=>{if(!n||!e)return!0;const i=Math.sqrt(Math.pow(n.headPose.x-e.headPose.x,2)+Math.pow(n.headPose.y-e.headPose.y,2)+Math.pow(n.headPose.z-e.headPose.z,2)),a=Math.sqrt(Math.pow(n.headPose.pitch-e.headPose.pitch,2)+Math.pow(n.headPose.yaw-e.headPose.yaw,2)+Math.pow(n.headPose.roll-e.headPose.roll,2)),r=Math.abs((n.bodyYaw||0)-(e.bodyYaw||0));return i>t||a>.1||r>.1},eQ=n=>Math.round(n*180/Math.PI),O0=(n,e="rad",t=!0)=>e==="rad"&&t?`${eQ(n)}`:`${n.toFixed(2)}${e}`,b0=(n,e,t=.01)=>{const i=n-(e||0),a=Math.abs(i);if(a<t)return null;const r=i>0?"up":"down",o=a>.1?"large":a>.05?"medium":"small";return{direction:r,magnitude:o,diff:a}},T4=(n,e=null)=>{if(!e)return"Moving head to position";const t=[],i=.01,a=b0(n.x,e.x,i),r=b0(n.y,e.y,i),o=b0(n.z,e.z,i);if(a||r||o){const g=[];a&&g.push(`X ${a.direction}`),r&&g.push(`Y ${r.direction}`),o&&g.push(`Z ${o.direction}`),t.push(`Position: ${g.join(", ")}`)}const c=b0(n.pitch,e.pitch,.05),f=b0(n.yaw,e.yaw,.05),h=b0(n.roll,e.roll,.05);if(c||f||h){const g=[];c&&g.push(`pitch ${c.direction} ${O0(c.diff,"rad")}`),f&&g.push(`yaw ${f.direction} ${O0(f.diff,"rad")}`),h&&g.push(`roll ${h.direction} ${O0(h.diff,"rad")}`),t.push(`Rotation: ${g.join(", ")}`)}return Math.abs(n.x)<.001&&Math.abs(n.y)<.001&&Math.abs(n.z)<.001&&Math.abs(n.pitch)<.01&&Math.abs(n.yaw)<.01&&Math.abs(n.roll)<.01?"Head reset to center":t.length===0?null:`Head: ${t.join(" | ")}`},C4=(n,e=null)=>{if(e===null)return"Rotating body";const t=n-e,i=Math.abs(t);if(i<.01)return null;if(Math.abs(n)<.01)return"Body reset to center";const a=t>0?"left":"right",r=O0(i);return`Body rotation: ${a} ${r}`},tQ=(n,e=null)=>{if(!e)return"Moving antennas";const t=Math.abs(n[0]-e[0]),i=Math.abs(n[1]-e[1]),a=.01;if(t<a&&i<a)return null;if(Math.abs(n[0])<.01&&Math.abs(n[1])<.01)return"Antennas reset to center";const r=[];if(t>=a){const o=n[0]>e[0]?"up":"down";r.push(`Left ${o} ${O0(t,"rad")}`)}if(i>=a){const o=n[1]>e[1]?"up":"down";r.push(`Right ${o} ${O0(i,"rad")}`)}return r.length===0?null:`Antennas: ${r.join(", ")}`},nQ=(n,e=null)=>{if(!e)return"Gamepad input detected";const t=[],i=.1;if(Math.abs(n.moveForward)>i||Math.abs(n.moveRight)>i||Math.abs(n.moveUp)>i){const f=[];if(Math.abs(n.moveForward)>i){const h=n.moveForward>0?"forward":"backward";f.push(`X ${h}`)}if(Math.abs(n.moveRight)>i){const h=n.moveRight>0?"right":"left";f.push(`Y ${h}`)}if(Math.abs(n.moveUp)>i){const h=n.moveUp>0?"up":"down";f.push(`Z ${h}`)}f.length>0&&t.push(`Position: ${f.join(", ")}`)}if(Math.abs(n.lookHorizontal)>i||Math.abs(n.lookVertical)>i||Math.abs(n.roll)>i){const f=[];if(Math.abs(n.lookVertical)>i){const h=n.lookVertical>0?"up":"down";f.push(`pitch ${h}`)}if(Math.abs(n.lookHorizontal)>i){const h=n.lookHorizontal>0?"right":"left";f.push(`yaw ${h}`)}if(Math.abs(n.roll)>i){const h=n.roll>0?"right":"left";f.push(`roll ${h}`)}f.length>0&&t.push(`Rotation: ${f.join(", ")}`)}if(Math.abs(n.bodyYaw)>i){const f=n.bodyYaw>0?"left":"right";t.push(`Body rotation: ${f}`)}if(Math.abs(n.antennaLeft)>i||Math.abs(n.antennaRight)>i){const f=[];Math.abs(n.antennaLeft)>i&&f.push(`Left ${n.antennaLeft>0?"up":"down"}`),Math.abs(n.antennaRight)>i&&f.push(`Right ${n.antennaRight>0?"up":"down"}`),f.length>0&&t.push(`Antennas: ${f.join(", ")}`)}return Math.abs(n.moveForward)<i&&Math.abs(n.moveRight)<i&&Math.abs(n.moveUp)<i&&Math.abs(n.lookHorizontal)<i&&Math.abs(n.lookVertical)<i&&Math.abs(n.roll)<i&&Math.abs(n.bodyYaw)<i&&Math.abs(n.antennaLeft)<i&&Math.abs(n.antennaRight)<i&&!e||t.length===0?null:`Gamepad: ${t.join(" | ")}`};function iQ({isActive:n,localValuesRef:e,isDraggingRef:t,lastDragEndTimeRef:i,isUsingGamepadKeyboardRef:a,lastGamepadKeyboardReleaseRef:r,targetSmoothingRef:o,antennasRef:c,setLocalValues:f,setIsDragging:h,safeAddFrontendLog:m}){const g=F.useRef({moveForward:0,moveRight:0,moveUp:0,lookHorizontal:0,lookVertical:0,roll:0,bodyYaw:0,antennaLeft:0,antennaRight:0}),v=F.useRef(performance.now()),y=F.useRef(null),b=F.useRef(0),M=F.useCallback(A=>{const{currentTime:S}=U9(v.current);v.current=S,g.current=WJ(g.current,A,{moveForward:Su.POSITION,moveRight:Su.POSITION,moveUp:Su.POSITION_Z,lookHorizontal:Su.ROTATION,lookVertical:Su.ROTATION,roll:Su.POSITION,bodyYaw:Su.BODY_YAW,antennaLeft:Su.ANTENNA,antennaRight:Su.ANTENNA});const E=g.current,w=e.current,R=w.headPose,z=w.bodyYaw;if(!jJ(E,H5.ACTIVE_INPUT)){a.current=!1,r.current=Date.now(),y.current&&(y.current=null),t.current&&(h(!1),t.current=!1,i.current=Date.now());return}a.current=!0;const P=Date.now()-i.current;if(t.current&&P<HJ.MOUSE_DRAG_COOLDOWN)return;const B=XS.POSITION,L=XS.ROTATION,D=XS.BODY_YAW,V=E.moveForward*Xi.POSITION.max*B,U=E.moveRight*Xi.POSITION.max*B,G=E.moveUp*Gt.POSITION.max*B,X=R.z+G,$=w4(E.lookVertical,"pitch"),H=w4(E.lookHorizontal,"yaw"),K=$*Xi.PITCH.max*L,Q=H*Xi.YAW.max*L,W=E.roll*Gt.ROLL.max*L,ce={min:-160*Math.PI/180,max:160*Math.PI/180},q=ce.max-ce.min,ie=E.bodyYaw*q*D,fe=Ln(z+ie,ce.min,ce.max),ge=Gt.ANTENNA.max-Gt.ANTENNA.min,re=Ln(Gt.ANTENNA.min+E.antennaLeft*ge,Gt.ANTENNA.min,Gt.ANTENNA.max),te=Ln(Gt.ANTENNA.min+E.antennaRight*ge,Gt.ANTENNA.min,Gt.ANTENNA.max),se=[re,te],ve={x:Ln(V,Xi.POSITION.min,Xi.POSITION.max),y:Ln(U,Xi.POSITION.min,Xi.POSITION.max),z:Ln(X,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(K,Xi.PITCH.min,Xi.PITCH.max),yaw:Ln(Q,Xi.YAW.min,Xi.YAW.max),roll:Ln(W,Gt.ROLL.min,Gt.ROLL.max)};f(De=>({...De,headPose:ve,bodyYaw:fe,antennas:se})),o.current.setTargets({headPose:ve,antennas:se,bodyYaw:fe}),c.current=se;const ze=Date.now();if(ze-b.current>500){const De=nQ(E,y.current);De&&m(De),y.current={...E},b.current=ze}h(!0),t.current=!0},[e,t,i,a,r,o,c,f,h,m]);return F.useEffect(()=>{if(!n)return;const S=J1().addListener(M);return()=>{S()}},[n,M]),{processInputs:M}}const R4={min:-160*Math.PI/180,max:160*Math.PI/180};function aQ({isActive:n,localValues:e,robotState:t,setLocalValues:i,setIsDragging:a,isDraggingRef:r,lastDragEndTimeRef:o,targetSmoothingRef:c,antennasRef:f,sendSingleCommand:h,fetchWithTimeout:m,buildApiUrl:g,DAEMON_CONFIG:v,safeAddFrontendLog:y}){const b=F.useRef(null),M=F.useRef(0),A=F.useRef(null),S=F.useCallback(()=>{a(!1),r.current=!1,o.current=Date.now();const z={headPose:e.headPose,bodyYaw:e.bodyYaw};if(A.current&&E4(A.current,z)){const O=Date.now();if(O-M.current>500){const P=T4(z.headPose,A.current.headPose),B=C4(z.bodyYaw,A.current.bodyYaw);P&&B?y(`[Controller] ${P} | ${B}`):P?y(`[Controller] ${P}`):B&&y(`[Controller] ${B}`),b.current=z,M.current=O}}A.current=null},[e,a,r,o,y]),E=F.useCallback((z,O=!1)=>{var L;const P={...e.headPose,...z},B={x:Ln(P.x,Xi.POSITION.min,Xi.POSITION.max),y:Ln(P.y,Xi.POSITION.min,Xi.POSITION.max),z:Ln(P.z,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(P.pitch,Xi.PITCH.min,Xi.PITCH.max),yaw:Ln(P.yaw,Xi.YAW.min,Xi.YAW.max),roll:Ln(P.roll,Gt.ROLL.min,Gt.ROLL.max)};if(O){!r.current&&!A.current&&(A.current={headPose:{...e.headPose},bodyYaw:e.bodyYaw}),i(V=>({...V,headPose:B}));const D=t.antennas||[0,0];c.current.setTargets({headPose:B,antennas:D,bodyYaw:e.bodyYaw}),a(!0),r.current=!0}else{const D=t.antennas||[0,0];c.current.setTargets({headPose:B,antennas:D,bodyYaw:e.bodyYaw});const V={headPose:B,bodyYaw:e.bodyYaw},U=Date.now();if(E4(b.current,V)&&U-M.current>500){const G=T4(V.headPose,(L=b.current)==null?void 0:L.headPose);G&&y(` ${G}`),b.current=V,M.current=U}setTimeout(()=>{const G=c.current.getCurrentValues(),X={x:Ln(G.headPose.x,Gt.POSITION.min,Gt.POSITION.max),y:Ln(G.headPose.y,Gt.POSITION.min,Gt.POSITION.max),z:Ln(G.headPose.z,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(G.headPose.pitch,Gt.PITCH.min,Gt.PITCH.max),yaw:Ln(G.headPose.yaw,Gt.YAW.min,Gt.YAW.max),roll:Ln(G.headPose.roll,Gt.ROLL.min,Gt.ROLL.max)};m(g("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_head_pose:X,target_antennas:G.antennas,target_body_yaw:G.bodyYaw})},v.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Set target",silent:!0}).catch(console.error)},50)}},[e,t.antennas,i,a,r,c,m,g,v,y]),w=F.useCallback((z,O=!1)=>{var L;const P=typeof z=="number"&&!isNaN(z)?z:0,B=Ln(P,R4.min,R4.max);if(O)i(D=>({...D,bodyYaw:B})),c.current.setTargets({bodyYaw:B}),a(!0),r.current=!0;else{c.current.setTargets({bodyYaw:B});const D=Date.now();if(D-M.current>500){const V=C4(B,(L=b.current)==null?void 0:L.bodyYaw);V&&y(` ${V}`),M.current=D,b.current={headPose:e.headPose,bodyYaw:B}}a(!1),r.current=!1,o.current=Date.now(),setTimeout(()=>{if(!n)return;const V=c.current.getCurrentValues();m(g("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_body_yaw:V.bodyYaw,target_head_pose:t.headPose,target_antennas:t.antennas||[0,0]})},v.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Set target (body_yaw)",silent:!0}).catch(console.error)},50)}},[n,e.headPose,t.headPose,t.antennas,i,a,r,o,c,m,g,v,y]),R=F.useCallback((z,O,P=!1)=>{var V;const B=f.current.length===2?f.current:e.antennas||[0,0],L=z==="left"?[O,B[1]]:[B[0],O],D=[Ln(L[0],Gt.ANTENNA.min,Gt.ANTENNA.max),Ln(L[1],Gt.ANTENNA.min,Gt.ANTENNA.max)];if(f.current=D,P)i(U=>({...U,antennas:D})),c.current.setTargets({antennas:D}),a(!0),r.current=!0;else{c.current.setTargets({antennas:D});const U=Date.now();if(U-M.current>500){const G=tQ(D,(V=b.current)==null?void 0:V.antennas);G&&y(` ${G}`),M.current=U}a(!1),r.current=!1,o.current=Date.now(),setTimeout(()=>{if(!n)return;const G=c.current.getCurrentValues();m(g("/api/move/set_target"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_head_pose:t.headPose,target_antennas:G.antennas,target_body_yaw:t.bodyYaw||0})},v.MOVEMENT.CONTINUOUS_MOVE_TIMEOUT,{label:"Set target (antennas)",silent:!0}).catch(console.error)},50)}},[n,e.antennas,t.headPose,t.bodyYaw,f,i,a,r,o,c,m,g,v,y]);return{handleChange:E,handleBodyYawChange:w,handleAntennasChange:R,handleDragEnd:S}}let ph=null,Tu=null,db=null,TA={current:!1};function rQ(n,e){ph||(ph=new B9),db=n,TA.current=e}function O4(n){TA.current=n,!n&&Tu&&(cancelAnimationFrame(Tu),Tu=null)}function sQ(n){if(!ph||!db){console.warn("Global reset smoothing not initialized");return}n&&ph.sync(n);const e={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]};ph.setTargets(e),Tu&&cancelAnimationFrame(Tu);const t=()=>{if(!TA.current){Tu=null;return}const i=ph.update(),a=ph.getTargetValues(),r=Math.abs(i.headPose.x-a.headPose.x)+Math.abs(i.headPose.y-a.headPose.y)+Math.abs(i.headPose.z-a.headPose.z)+Math.abs(i.headPose.pitch-a.headPose.pitch)+Math.abs(i.headPose.yaw-a.headPose.yaw)+Math.abs(i.headPose.roll-a.headPose.roll),o=Math.abs(i.bodyYaw-a.bodyYaw),c=Math.abs(i.antennas[0]-a.antennas[0])+Math.abs(i.antennas[1]-a.antennas[1]),f=.01,h=r<f&&o<f&&c<f;if(!h&&db){const m={x:Ln(Rc(i.headPose.x,"positionX"),Gt.POSITION.min,Gt.POSITION.max),y:Ln(Rc(i.headPose.y,"positionY"),Gt.POSITION.min,Gt.POSITION.max),z:Ln(i.headPose.z,Gt.POSITION.min,Gt.POSITION.max),pitch:Ln(Rc(i.headPose.pitch,"pitch"),Gt.PITCH.min,Gt.PITCH.max),yaw:Ln(Rc(i.headPose.yaw,"yaw"),Gt.YAW.min,Gt.YAW.max),roll:Ln(Rc(i.headPose.roll,"roll"),Gt.ROLL.min,Gt.ROLL.max)};db(m,i.antennas,i.bodyYaw)}h?Tu=null:Tu=requestAnimationFrame(t)};Tu=requestAnimationFrame(t)}function oQ(n){const{robotState:e,api:t}=Sr(),{robotStateFull:i}=e,{buildApiUrl:a,fetchWithTimeout:r,config:o}=t,c=G_(),f=F.useCallback(Q=>{c&&typeof c.info=="function"&&c.info(Q)},[c]),[h,m]=F.useState({headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]}),[g,v]=F.useState({headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]}),[y,b]=F.useState(!1),M=F.useRef(!1),A=F.useRef(0),S=F.useRef([0,0]),E=F.useRef(!1),w=F.useRef(0),R=F.useRef(g);F.useEffect(()=>{R.current=g},[g]),F.useEffect(()=>{g.antennas&&g.antennas.length===2&&(S.current=g.antennas)},[]);const{sendCommand:z,sendSingleCommand:O,stopContinuousUpdates:P}=GJ(n,h,M),B=F.useRef(z);F.useEffect(()=>{B.current=z},[z]);const{targetSmoothingRef:L,smoothedValues:D}=$J(n,M,B);F.useEffect(()=>(rQ((W,ce,q)=>{B.current(W,ce,q)},n),()=>{O4(!1)}),[n]),F.useEffect(()=>{O4(n)},[n]),KJ(n,i,h,m,g,v,M,E,A,w,S,L),iQ({isActive:n,localValuesRef:R,isDraggingRef:M,lastDragEndTimeRef:A,isUsingGamepadKeyboardRef:E,lastGamepadKeyboardReleaseRef:w,targetSmoothingRef:L,antennasRef:S,setLocalValues:v,setIsDragging:b,safeAddFrontendLog:f});const{handleChange:V,handleBodyYawChange:U,handleAntennasChange:G,handleDragEnd:X}=aQ({isActive:n,localValues:g,robotState:h,setLocalValues:v,setIsDragging:b,isDraggingRef:M,lastDragEndTimeRef:A,targetSmoothingRef:L,antennasRef:S,sendSingleCommand:O,fetchWithTimeout:r,buildApiUrl:a,DAEMON_CONFIG:o,safeAddFrontendLog:f});F.useEffect(()=>(y||P(),()=>P()),[y,P]);const $=F.useCallback(()=>{const Q={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]};v(Q),L.current.reset(),S.current=[0,0],O(Q.headPose,Q.antennas,Q.bodyYaw)},[O,L]),H=F.useCallback(()=>{const Q=L.current.getCurrentValues(),W={headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]};v(W),S.current=[0,0],L.current.setTargets(W),sQ(Q),f(" Smooth reset: animating to center position")},[L,f]);return{localValues:g,smoothedValues:D||{headPose:{x:0,y:0,z:0,pitch:0,yaw:0,roll:0},bodyYaw:0,antennas:[0,0]},handleChange:V,handleBodyYawChange:U,handleAntennasChange:G,handleDragEnd:X,logger:f,resetAllValues:$,resetAllValuesSmooth:H}}function lQ(n){const{robotState:e,api:t}=Sr(),{buildApiUrl:i,fetchWithTimeout:a,config:r}=t,o=e.activeMoves||[],c=F.useCallback(async h=>{if(!(!n||!h))try{await a(i("/api/move/stop"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:h})},r.TIMEOUTS.COMMAND,{label:"Stop move",silent:!1})}catch(m){console.error(" Failed to stop move:",m)}},[n]),f=F.useCallback(async()=>{!n||o.length===0||await Promise.all(o.map(h=>c(h.uuid)))},[n,o,c]);return{activeMoves:o,isLoading:!1,stopMove:c,stopAllMoves:f,refreshActiveMoves:()=>{}}}const cQ="/v2/assets/reachy-antennas-icon-CxFlNSeP.svg",uQ="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='370px'%20height='370px'%20viewBox='0%200%20370%20370'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ereachy-head-icon%3c/title%3e%3cg%20id='reachy-head-icon'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M184.63163,96.029942%20C215.009007,96.0200397%20248.882264,97.3050095%20280.653185,99.7650149%20C289.313255,100.436999%20298.394394,101.551643%20306.494263,104.734749%20C315.276084,108.179251%20322.243508,113.152912%20327.335333,119.734511%20C332.460859,126.359672%20335.669877,134.580938%20337.070372,144.34794%20C337.838923,149.721341%20338.323088,155.162571%20338.52335,160.672988%20C339.084954,176.008085%20339.116013,190.051513%20338.613915,202.802185%20C338.238882,212.274168%20337.517954,223.032975%20335.161451,231.54524%20C330.075339,249.906346%20317.789004,261.678398%20298.43549,267.001382%20C292.665372,268.599408%20283.311001,269.333512%20276.360368,269.811548%20C246.361004,271.854016%20215.554632,273.120037%20184.708394,273.13006%20C153.872079,273.139964%20123.05572,271.903867%2093.0562385,269.881318%20C86.1019432,269.412597%2076.7473761,268.687836%2070.972757,267.098142%20C51.6217191,261.789665%2039.3259337,250.027036%2034.2273555,231.670938%20C31.8610276,223.15793%2031.1305308,212.399089%2030.7459217,202.928092%20C30.230603,190.177258%2030.2517715,176.134835%2030.8069105,160.795741%20C31.0006625,155.286727%2031.4783669,149.845503%2032.2400242,144.475167%20C33.63161,134.706721%2036.8337048,126.483499%2041.9545039,119.853988%20C47.0420537,113.267523%2054.0076375,108.286846%2062.7906215,104.83283%20C70.8789268,101.650546%2079.9611301,100.526121%2088.6190986,99.8448372%20C120.390886,97.364845%20154.254228,96.0399593%20184.63163,96.029942%20Z'%20id='Shape'%20stroke='%23000000'%20stroke-width='10'%20fill-rule='nonzero'%3e%3c/path%3e%3cellipse%20id='Oval'%20stroke='%23000000'%20stroke-width='10'%20fill-rule='nonzero'%20transform='translate(124.450000,%20185.460000)%20rotate(-165.900000)%20translate(-124.450000,%20-185.460000)%20'%20cx='124.45'%20cy='185.46'%20rx='34.1503718'%20ry='34'%3e%3c/ellipse%3e%3cellipse%20id='Oval'%20stroke='%23000000'%20stroke-width='10'%20fill-rule='nonzero'%20transform='translate(250.150000,%20185.470000)%20rotate(-172.500000)%20translate(-250.150000,%20-185.470000)%20'%20cx='250.15'%20cy='185.47'%20rx='23.3631347'%20ry='23'%3e%3c/ellipse%3e%3c/g%3e%3c/svg%3e",fQ="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='370px'%20height='487px'%20viewBox='0%200%20370%20487'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3ereachy-body-icon%3c/title%3e%3cg%20id='reachy-body-icon'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M130.803745,32.7013251%20C165.369772,27.3587054%20199.380683,27.0953041%20232.835015,31.9186156%20C248.390916,34.1661615%20263.357422,37.5427088%20277.73224,42.0503998%20C297.856213,48.3687149%20313.230829,61.5695763%20320.282699,81.64743%20C321.705942,85.6981974%20323.101631,90.6906005%20324.479825,96.6219867%20C326.466086,105.167527%20328.675688,117.438939%20331.117313,133.434878%20C338.218668,179.932167%20342.424918,224.421702%20343.732371,266.903967%20C344.093313,278.619799%20344.179951,288.809283%20343.989421,297.471575%20C331.997167,299.615544%20318.955111,301.245722%20304.863424,302.365752%20C230.781415,308.260149%20156.433596,308.814877%2081.8202104,304.030264%20C63.5300074,302.856512%2044.7705026,301.148838%2026.6723531,297.384182%20C26.0053417,284.599394%2026.0810737,272.224744%2026.6741772,259.991234%20C29.1965375,207.771738%2035.096986,156.574386%2044.3769805,106.39736%20C46.0951317,97.0867086%2048.6329095,84.6742714%2052.6384115,76.2310179%20C61.4301648,57.6768719%2075.2557258,47.6773453%2094.6534656,41.3325514%20C106.42956,37.4833018%20118.479713,34.6063634%20130.803745,32.7013251%20Z'%20id='Path'%20stroke='%23000000'%20stroke-width='10'%20fill-rule='nonzero'%3e%3c/path%3e%3cpath%20d='M342.94142,327.540248%20C339.810536,370.4743%20328.669282,421.478973%20286.708272,443.010987%20C278.78598,447.074028%20270.206228,450.119693%20260.972452,452.157491%20C245.701865,455.527642%20229.457239,457.658531%20212.241487,458.556687%20C176.604253,460.401694%20140.290629,459.72963%20107.153942,451.85498%20C97.1057012,449.471621%2087.9594509,445.920527%2079.7221761,441.185365%20C53.6699683,426.206781%2039.2520622,394.976464%2033.1062682,366.709631%20C30.3112541,353.82998%2028.3767399,340.872547%2027.3036343,327.837662%20C35.6963189,329.237308%2043.6478445,330.382427%2051.3040003,331.145338%20C70.8619696,333.095104%2088.4333709,334.430995%20104.018359,335.154631%20C156.352596,337.581785%20209.499231,337.508574%20263.458179,334.934324%20C288.765119,333.727436%20316.436283,331.798802%20342.94142,327.540248%20Z'%20id='Path'%20stroke='%23000000'%20stroke-width='10'%20fill-rule='nonzero'%3e%3c/path%3e%3c/g%3e%3c/svg%3e";function dQ({isActive:n,darkMode:e,onResetReady:t,onIsAtInitialPosition:i}){var y,b,M,A,S,E,w,R,z,O;const{localValues:a,smoothedValues:r,handleChange:o,handleBodyYawChange:c,handleAntennasChange:f,handleDragEnd:h,resetAllValuesSmooth:m}=oQ(n),g=qi.useMemo(()=>{if(!a)return!0;const P=a.headPose||{},B=a.antennas||[0,0],L=a.bodyYaw||0,D=(P.x===0||Math.abs(P.x)<1e-4)&&(P.y===0||Math.abs(P.y)<1e-4)&&(P.z===0||Math.abs(P.z)<1e-4)&&(P.pitch===0||Math.abs(P.pitch)<1e-4)&&(P.yaw===0||Math.abs(P.yaw)<1e-4)&&(P.roll===0||Math.abs(P.roll)<1e-4),V=(B[0]===0||Math.abs(B[0])<1e-4)&&(B[1]===0||Math.abs(B[1])<1e-4),U=L===0||Math.abs(L)<1e-4;return D&&V&&U},[a]),v=qi.useCallback(()=>{m()},[m]);return qi.useEffect(()=>{t&&t(v)},[t,v]),qi.useEffect(()=>{i&&i(g)},[i,g]),n?I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:1.5,width:"100%",flex:1},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:-.5},children:[I.jsx(we,{component:"img",src:cQ,alt:"Antennas",sx:{width:20,height:20,filter:e?"brightness(0) invert(1)":"brightness(0) invert(0)",opacity:e?.7:.6}}),I.jsx(_t,{sx:{fontSize:"11px",fontWeight:700,color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",letterSpacing:"0.5px",textTransform:"uppercase"},children:"Antennas"})]}),I.jsxs(we,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[I.jsx(we,{sx:{px:1,py:.5,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:I.jsx(YS,{label:"Left",value:((y=a.antennas)==null?void 0:y[0])||0,smoothedValue:(b=r==null?void 0:r.antennas)==null?void 0:b[0],onChange:(P,B)=>{f("left",P,B)},min:-Math.PI,max:Math.PI,unit:"rad",darkMode:e})}),I.jsx(we,{sx:{px:1,py:.5,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`,display:"flex",flexDirection:"column",alignItems:"flex-end",width:"100%"},children:I.jsx(YS,{label:"Right",value:((M=a.antennas)==null?void 0:M[1])||0,smoothedValue:(A=r==null?void 0:r.antennas)==null?void 0:A[1],onChange:(P,B)=>{f("right",P,B)},min:-Math.PI,max:Math.PI,unit:"rad",darkMode:e,alignRight:!0})})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:-.5},children:[I.jsx(we,{component:"img",src:uQ,alt:"Head",sx:{width:20,height:20,filter:e?"brightness(0) invert(1)":"brightness(0) invert(0)",opacity:e?.7:.6}}),I.jsx(_t,{sx:{fontSize:"11px",fontWeight:700,color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",letterSpacing:"0.5px",textTransform:"uppercase"},children:"Head"})]}),I.jsxs(we,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1.5},children:[I.jsx(we,{sx:{p:1,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:I.jsxs(we,{sx:{display:"flex",gap:0,alignItems:"stretch"},children:[I.jsx(we,{sx:{flex:"1 1 auto",display:"flex",alignItems:"center","& > *":{bgcolor:"transparent !important",border:"none !important",p:0,borderRadius:"0 !important","&:hover":{bgcolor:"transparent !important",border:"none !important"}},"& > * > *":{p:"0 !important"}},children:I.jsx(A4,{label:"Position X/Y",valueX:If(a.headPose.y,"positionY"),valueY:If(a.headPose.x,"positionX"),smoothedValueX:((S=r==null?void 0:r.headPose)==null?void 0:S.y)!=null?If(r.headPose.y,"positionY"):void 0,smoothedValueY:((E=r==null?void 0:r.headPose)==null?void 0:E.x)!=null?If(r.headPose.x,"positionX"):void 0,onChange:(P,B,L)=>{const D=Kv(P,"positionY"),V=Kv(B,"positionX");o({x:V,y:D},L)},onDragEnd:h,minX:Xi.POSITION.min,maxX:Xi.POSITION.max,minY:Xi.POSITION.min,maxY:Xi.POSITION.max,size:120,darkMode:e})}),I.jsx(we,{sx:{flex:"0 0 auto",display:"flex",alignItems:"center","& > *":{bgcolor:"transparent !important",border:"none !important",p:0,borderRadius:"0 !important","&:hover":{bgcolor:"transparent !important",border:"none !important"}}},children:I.jsx(FJ,{label:"Position Z",value:a.headPose.z,smoothedValue:(w=r==null?void 0:r.headPose)==null?void 0:w.z,onChange:(P,B)=>o({z:P},B),min:-.05,max:.05,unit:"m",darkMode:e,centered:!0,height:120})})]})}),I.jsx(we,{sx:{p:1,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:I.jsx(we,{sx:{display:"flex",gap:0,alignItems:"stretch",justifyContent:"center"},children:I.jsx(we,{sx:{display:"flex",alignItems:"center",justifyContent:"center","& > *":{bgcolor:"transparent !important",border:"none !important",p:0,borderRadius:"0 !important","&:hover":{bgcolor:"transparent !important",border:"none !important"}}},children:I.jsx(A4,{label:"Pitch / Yaw",valueX:If(a.headPose.yaw,"yaw"),valueY:If(a.headPose.pitch,"pitch"),smoothedValueX:((R=r==null?void 0:r.headPose)==null?void 0:R.yaw)!=null?If(r.headPose.yaw,"yaw"):void 0,smoothedValueY:((z=r==null?void 0:r.headPose)==null?void 0:z.pitch)!=null?If(r.headPose.pitch,"pitch"):void 0,onChange:(P,B,L)=>{const D=Kv(P,"yaw"),V=Kv(B,"pitch");o({yaw:D,pitch:V},L)},onDragEnd:h,minX:Xi.YAW.min,maxX:Xi.YAW.max,minY:Xi.PITCH.min,maxY:Xi.PITCH.max,size:120,darkMode:e,labelAlign:"right"})})})})]}),I.jsx(we,{sx:{px:1,py:.5,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:I.jsx(VJ,{label:"Roll",value:a.headPose.roll,smoothedValue:(O=r==null?void 0:r.headPose)==null?void 0:O.roll,onChange:(P,B)=>o({roll:P},B),min:-.5,max:.5,darkMode:e,centered:!1,showRollVisualization:!0})}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:-.5},children:[I.jsx(we,{component:"img",src:fQ,alt:"Body",sx:{width:20,height:20,filter:e?"brightness(0) invert(1)":"brightness(0) invert(0)",opacity:e?.7:.6}}),I.jsx(_t,{sx:{fontSize:"11px",fontWeight:700,color:e?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",letterSpacing:"0.5px",textTransform:"uppercase"},children:"Body"})]}),I.jsx(we,{sx:{px:1,py:.5,borderRadius:"8px",boxSizing:"border-box",bgcolor:e?"rgba(26, 26, 26, 0.8)":"#ffffff",border:`1px solid ${e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:I.jsx(YS,{label:"Yaw",value:a.bodyYaw,smoothedValue:r==null?void 0:r.bodyYaw,onChange:(P,B)=>{c(P,B)},min:-160*Math.PI/180,max:160*Math.PI/180,unit:"rad",darkMode:e,inverted:!0,reverse:!0})})]}):null}function hQ(){const[n,e]=F.useState(()=>typeof document<"u"?document.hasFocus():!0);return F.useEffect(()=>{const t=()=>{e(!0)},i=()=>{e(!1)};window.addEventListener("focus",t),window.addEventListener("blur",i);const r=setInterval(()=>{typeof document<"u"&&e(document.hasFocus())},500);return()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",i),clearInterval(r)}},[]),n}function pQ({showToast:n,isActive:e=!1,isBusy:t=!1,darkMode:i=!1}){const{robotState:a,actions:r}=Sr(),{rightPanelView:o}=a,{setRightPanelView:c}=r,f=F.useRef(null),[h,m]=F.useState(!0),g=F.useRef(o),v=QJ(),y=JJ(),b=hQ(),M=F.useRef(v);qi.useEffect(()=>{},[v,y,b]),F.useEffect(()=>{M.current!==void 0&&(v&&!M.current?n&&n("Gamepad connected","success"):!v&&M.current&&n&&n("Gamepad disconnected","warning")),M.current=v},[v,n]),F.useEffect(()=>{const S=g.current,E=o;S==="controller"&&E!=="controller"&&f.current&&f.current(),g.current=E},[o]),F.useEffect(()=>()=>{o==="controller"&&f.current&&f.current()},[o]);const A=()=>{c(null)};return I.jsxs(we,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[I.jsx(we,{sx:{px:2,pt:1.5,bgcolor:"transparent"},children:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[I.jsx(Mo,{onClick:A,size:"small",sx:{color:"#FF9500","&:hover":{bgcolor:i?"rgba(255, 149, 0, 0.1)":"rgba(255, 149, 0, 0.05)"}},children:I.jsx(P9,{sx:{fontSize:20}})}),I.jsx(_t,{sx:{fontSize:20,fontWeight:700,color:i?"#f5f5f5":"#333",letterSpacing:"-0.3px"},children:"Controller"}),I.jsx(Ul,{title:v?I.jsxs(we,{sx:{p:1},children:[I.jsx(_t,{sx:{fontSize:12,fontWeight:700,mb:1.5,color:i?"#fff":"#333"},children:"Bindings Gamepad"}),I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[I.jsxs(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:[I.jsx("strong",{children:"Left stick :"})," Position X/Y"]}),I.jsxs(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:[I.jsx("strong",{children:"Right stick :"})," Pitch/Yaw"]}),I.jsxs(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:[I.jsx("strong",{children:"D-pad / :"})," Position Z"]}),I.jsxs(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:[I.jsx("strong",{children:"D-pad / :"})," Body Yaw"]}),I.jsxs(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:[I.jsx("strong",{children:"L1/R1 :"})," Left/Right antennas"]})]})]}):I.jsx(we,{sx:{p:1},children:I.jsx(_t,{sx:{fontSize:11,color:i?"#f0f0f0":"#666",lineHeight:1.6},children:"Connect a gamepad to control the robot"})}),arrow:!0,placement:"right",componentsProps:{tooltip:{sx:{maxWidth:280,bgcolor:i?"rgba(26, 26, 26, 0.98)":"rgba(255, 255, 255, 0.98)",border:`1px solid ${i?"rgba(255, 149, 0, 0.3)":"rgba(255, 149, 0, 0.4)"}`,boxShadow:i?"0 8px 24px rgba(0, 0, 0, 0.5)":"0 8px 24px rgba(0, 0, 0, 0.15)"}},arrow:{sx:{color:i?"rgba(26, 26, 26, 0.98)":"rgba(255, 255, 255, 0.98)"}}},children:I.jsx(H0,{icon:I.jsx(kJ,{}),label:"",size:"medium",variant:"outlined",color:v?"primary":"default",sx:{height:30,width:30,padding:.5,display:"flex",alignItems:"center",justifyContent:"center",opacity:v?1:.6,borderColor:i?v?"rgba(255, 149, 0, 0.5)":"rgba(255, 255, 255, 0.2)":v?"rgba(255, 149, 0, 0.5)":"rgba(0, 0, 0, 0.2)","& .MuiChip-icon":{fontSize:"1rem",color:i?v?"#FF9500":"rgba(255, 255, 255, 0.7)":v?"#FF9500":"rgba(0, 0, 0, 0.7)",margin:0,padding:0,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},"& .MuiChip-label":{display:"none"}}})}),!h&&I.jsx(Ul,{title:"Reset all position controls",arrow:!0,children:I.jsx(Mo,{size:"small",onClick:()=>{f.current&&f.current()},disabled:!e||t,sx:{ml:.5,color:i?"#888":"#999","&:hover":{color:"#FF9500",bgcolor:i?"rgba(255, 149, 0, 0.1)":"rgba(255, 149, 0, 0.05)"}},children:I.jsx(fF,{sx:{fontSize:16,color:i?"#888":"#999"}})})})]})}),I.jsx(we,{sx:{pt:3,pr:3,pb:3,pl:3},children:I.jsx(dQ,{isActive:e,darkMode:i,onResetReady:S=>{f.current=S},onIsAtInitialPosition:S=>{m(S)}})})]})}const mQ=Vn(I.jsx("path",{d:"m9 19 1.41-1.41L5.83 13H22v-2H5.83l4.59-4.59L9 5l-7 7z"})),gQ=Vn(I.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"})),yQ=Vn(I.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"})),xQ=3;function z4({items:n=[],title:e="",onAction:t,darkMode:i=!1,disabled:a=!1}){const[r,o]=F.useState(!1),c=60,f=i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.08)",h=i?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.4)",m=i?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",g=i?"rgba(255,149,0,0.2)":"rgba(255,149,0,0.15)",y=6*xQ,b=n.length>y,M=n.slice(0,y),A=n.slice(y),S=(w,R)=>I.jsx("button",{onClick:()=>{!a&&t&&w.originalAction&&t(w.originalAction)},disabled:a,title:w.label,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",aspectRatio:"1 / 1",border:`1px solid ${f}`,borderRadius:10,background:"transparent",cursor:a?"not-allowed":"pointer",opacity:a?.5:1,transition:"background 0.15s, transform 0.1s, border-color 0.15s",minWidth:c},onMouseEnter:z=>{a||(z.currentTarget.style.background=m,z.currentTarget.style.transform="scale(1.05)",z.currentTarget.style.borderColor="#FF9500")},onMouseLeave:z=>{z.currentTarget.style.background="transparent",z.currentTarget.style.transform="scale(1)",z.currentTarget.style.borderColor=f},onMouseDown:z=>{a||(z.currentTarget.style.background=g,z.currentTarget.style.transform="scale(0.95)")},onMouseUp:z=>{a||(z.currentTarget.style.background=m,z.currentTarget.style.transform="scale(1.05)")},children:I.jsx("span",{style:{fontSize:24,lineHeight:1},children:w.emoji})},R),E={display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${c}px, 1fr))`,gap:8};return I.jsxs("div",{style:{width:"100%"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12,paddingLeft:2,paddingRight:2},children:[e&&I.jsxs("div",{style:{fontSize:12,fontWeight:600,color:h,textTransform:"uppercase",letterSpacing:"0.5px"},children:[e," ",I.jsxs("span",{style:{fontWeight:400,opacity:.7},children:["(",n.length,")"]})]}),b&&I.jsxs("button",{onClick:()=>o(!r),style:{display:"flex",alignItems:"center",gap:4,padding:"4px 8px",border:"none",borderRadius:4,background:"transparent",color:h,fontSize:11,fontWeight:400,cursor:"pointer",transition:"color 0.15s"},onMouseEnter:w=>{w.currentTarget.style.color="#FF9500"},onMouseLeave:w=>{w.currentTarget.style.color=h},children:[r?"Less":`+${A.length} more`,I.jsx("span",{style:{transform:r?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease",display:"inline-block",fontSize:8},children:""})]})]}),I.jsx("div",{style:E,children:M.map(S)}),b&&I.jsx(z1,{in:r,timeout:300,children:I.jsx("div",{style:{...E,marginTop:8},children:A.map((w,R)=>S(w,y+R))})})]})}const x_={DANCES:"pollen-robotics/reachy-mini-dances-library",EMOTIONS:"pollen-robotics/reachy-mini-emotions-library"},vQ=["stumble_and_recover","chin_lead","head_tilt_roll","jackson_square","pendulum_swing","side_glance_flick","grid_snap","simple_nod","side_to_side_sway","polyrhythm_combo","interwoven_spirals","uh_huh_tilt","chicken_peck","yeah_nod","headbanger_combo","side_peekaboo","dizzy_spin","neck_recoil","groovy_sway_and_roll","sharp_side_tilt"],bQ=["fear1","exhausted1","loving1","dance3","boredom2","relief1","anxiety1","disgusted1","welcoming1","impatient1","sad1","helpful2","resigned1","amazed1","thoughtful2","lost1","surprised1","serenity1","displeased1","incomprehensible2","irritated2","yes_sad1","dance2","understanding1","contempt1","inquiring1","rage1","attentive2","no1","oops1","proud3","reprimand3","reprimand2","scared1","no_excited1","come1","proud2","success1","enthusiastic2","laughing1","dying1","success2","enthusiastic1","curious1","laughing2","tired1","reprimand1","proud1","grateful1","frustrated1","calming1","attentive1","furious1","oops2","irritated1","yes1","confused1","understanding2","dance1","shy1","inquiring2","uncertain1","thoughtful1","surprised2","displeased2","impatient2","welcoming2","indifferent1","sad2","helpful1","lonely1","cheerful1","inquiring3","downcast1","sleep1","boredom1","uncomfortable1","go_away1","electric1","relief2","no_sad1"],F9={fear1:"",scared1:"",anxiety1:"",sad1:"",sad2:"",lonely1:"",downcast1:"",resigned1:"",yes_sad1:"",no_sad1:"",cheerful1:"",loving1:"",laughing1:"",laughing2:"",amazed1:"",enthusiastic1:"",enthusiastic2:"",proud1:"",proud2:"",proud3:"",success1:"",success2:"",rage1:"",furious1:"",irritated1:"",irritated2:"",frustrated1:"",impatient1:"",impatient2:"",surprised1:"",surprised2:"",confused1:"",lost1:"",uncertain1:"",incomprehensible2:"",thoughtful1:"",thoughtful2:"",curious1:"",inquiring1:"",inquiring2:"",inquiring3:"",attentive1:"",attentive2:"",tired1:"",exhausted1:"",sleep1:"",boredom1:"",boredom2:"",relief1:"",relief2:"",serenity1:"",calming1:"",disgusted1:"",displeased1:"",displeased2:"",contempt1:"",welcoming1:"",welcoming2:"",helpful1:"",helpful2:"",grateful1:"",understanding1:"",understanding2:"",no1:"",no_excited1:"",go_away1:"",reprimand1:"",reprimand2:"",reprimand3:"",yes1:"",come1:"",shy1:"",uncomfortable1:"",oops1:"",oops2:"",indifferent1:"",dying1:"",electric1:"",dance1:"",dance2:"",dance3:""},V9={stumble_and_recover:"",chin_lead:"",head_tilt_roll:"",jackson_square:"",pendulum_swing:"",side_glance_flick:"",grid_snap:"",simple_nod:"",side_to_side_sway:"",polyrhythm_combo:"",interwoven_spirals:"",uh_huh_tilt:"",chicken_peck:"",yeah_nod:"",headbanger_combo:"",side_peekaboo:"",dizzy_spin:"",neck_recoil:"",groovy_sway_and_roll:"",sharp_side_tilt:""},_Q=[{name:"loving1",emoji:"",label:"Love",type:"emotion"},{name:"cheerful1",emoji:"",label:"Cheerful",type:"emotion"},{name:"laughing1",emoji:"",label:"Laughing",type:"emotion"},{name:"surprised1",emoji:"",label:"Surprised",type:"emotion"},{name:"curious1",emoji:"",label:"Curious",type:"emotion"},{name:"thoughtful1",emoji:"",label:"Thoughtful",type:"emotion"},{name:"proud1",emoji:"",label:"Proud",type:"emotion"},{name:"grateful1",emoji:"",label:"Grateful",type:"emotion"},{name:"welcoming1",emoji:"",label:"Welcoming",type:"emotion"},{name:"relief1",emoji:"",label:"Relief",type:"emotion"},{name:"sad1",emoji:"",label:"Sad",type:"emotion"},{name:"rage1",emoji:"",label:"Angry",type:"emotion"},{name:"fear1",emoji:"",label:"Fear",type:"emotion"},{name:"confused1",emoji:"",label:"Confused",type:"emotion"},{name:"jackson_square",emoji:"",label:"Jackson",type:"dance"},{name:"headbanger_combo",emoji:"",label:"Headbang",type:"dance"},{name:"groovy_sway_and_roll",emoji:"",label:"Groovy",type:"dance"},{name:"dizzy_spin",emoji:"",label:"Dizzy",type:"dance"},{name:"polyrhythm_combo",emoji:"",label:"Polyrhythm",type:"dance"},{name:"side_to_side_sway",emoji:"",label:"Sway",type:"dance"},{name:"pendulum_swing",emoji:"",label:"Pendulum",type:"dance"},{name:"stumble_and_recover",emoji:"",label:"Stumble",type:"dance"},{name:"goto_sleep",emoji:"",label:"Sleep",type:"action"}];function SQ({emotions:n=[],dances:e=[],onAction:t,darkMode:i=!1,disabled:a=!1}){const r=F.useMemo(()=>n.map(c=>{const f=typeof c=="string"?c:c.name;return{name:f,emoji:F9[f]||"",label:f.replace(/[0-9]+$/,"").replace(/_/g," "),originalAction:{name:f,type:"emotion",label:f.replace(/[0-9]+$/,"").replace(/_/g," ")}}}),[n]),o=F.useMemo(()=>e.map(c=>{const f=typeof c=="string"?c:c.name;return{name:f,emoji:V9[f]||"",label:f.replace(/_/g," "),originalAction:{name:f,type:"dance",label:f.replace(/_/g," ")}}}),[e]);return I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:28,width:"100%"},children:[r.length>0&&I.jsx(z4,{items:r,title:"Emotions",onAction:t,darkMode:i,disabled:a}),o.length>0&&I.jsx(z4,{items:o,title:"Dances",onAction:t,darkMode:i,disabled:a})]})}const MQ=()=>{const{isActive:n,isCommandRunning:e,robotStatus:t,isAppRunning:i,isInstalling:a}=dn(),r=F.useCallback(async(c,f,h=qn.MOVEMENT.COMMAND_LOCK_DURATION,m=!1)=>{if(!n){console.warn(` Cannot send ${f||c}: daemon not active`);return}const g=dn.getState();if(g.robotStatus==="busy"||g.isCommandRunning||g.isAppRunning||g.isInstalling){const b=g.currentAppName;if(b){const M=`Command ${f||c} ignored: ${b} app is running`;console.warn(` ${M}`),tT(M)}else{const M=`Command ${f||c} ignored: another command is running`;console.warn(` ${M}`),tT(M)}return}const y=dn.getState();y.setIsCommandRunning&&typeof y.setIsCommandRunning=="function"?y.setIsCommandRunning(!0):dn.setState({isCommandRunning:!0}),$o(Ll(c),{method:"POST"},qn.TIMEOUTS.COMMAND,{label:f,silent:m}).catch(b=>{b.name}).finally(()=>{setTimeout(()=>{const b=dn.getState();b.setIsCommandRunning&&typeof b.setIsCommandRunning=="function"?b.setIsCommandRunning(!1):dn.setState({isCommandRunning:!1})},h)})},[n,e]),o=F.useCallback(async(c,f)=>{n&&await r(`/api/move/play/recorded-move-dataset/${c}/${f}`,f,qn.MOVEMENT.RECORDED_MOVE_LOCK_DURATION,!0)},[n,r]);return{sendCommand:r,playRecordedMove:o,isCommandRunning:e}},AQ=150,wQ=4e3,EQ={goto_sleep:"sleep",wake_up:null,loving1:"love",sad1:"sad",surprised1:"surprised"};function TQ({isActive:n=!1,isBusy:e=!1,darkMode:t=!1}){const{robotState:i,actions:a}=Sr(),{isActive:r,robotStatus:o,isCommandRunning:c,isAppRunning:f,isInstalling:h}=i,{setRightPanelView:m,triggerEffect:g,stopEffect:v}=a,y=r!=null?r:n,b=o==="busy"||c||f||h,[M,A]=F.useState(b),S=F.useRef(null);F.useEffect(()=>(S.current&&clearTimeout(S.current),b&&!M?A(!0):!b&&M&&(S.current=setTimeout(()=>{A(!1)},AQ)),()=>{S.current&&clearTimeout(S.current)}),[b,M]);const{sendCommand:E,playRecordedMove:w}=MQ(),R=G_(),z=F.useRef(null),O=F.useCallback(L=>{let D=null;L.type==="emotion"?D=F9[L.name]||null:L.type==="dance"&&(D=V9[L.name]||null);const V=D?`${D} ${L.label}`:L.label;R.userAction(V),L.type==="action"?E(`/api/move/play/${L.name}`,L.label):L.type==="dance"?w(x_.DANCES,L.name):w(x_.EMOTIONS,L.name);const U=EQ[L.name];U&&(g(U),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{v(),z.current=null},wQ))},[E,w,g,v]);F.useEffect(()=>()=>{z.current&&(clearTimeout(z.current),z.current=null)},[]);const P=F.useCallback(L=>{M||O(L)},[M,O]),B=()=>{m(null)};return I.jsxs(we,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",bgcolor:"transparent",overflow:"visible"},children:[I.jsx(we,{sx:{px:2,pt:1.5,bgcolor:"transparent",position:"relative",zIndex:1e3},children:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[I.jsx(Mo,{onClick:B,size:"small",sx:{color:"#FF9500","&:hover":{bgcolor:t?"rgba(255, 149, 0, 0.1)":"rgba(255, 149, 0, 0.05)"}},children:I.jsx(P9,{sx:{fontSize:20}})}),I.jsx(_t,{sx:{fontSize:20,fontWeight:700,color:t?"#f5f5f5":"#333",letterSpacing:"-0.3px"},children:"Expressions"}),I.jsx(Ul,{title:I.jsx(we,{sx:{p:1.5},children:I.jsxs(we,{sx:{display:"flex",flexDirection:"column",gap:2},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[I.jsxs(we,{sx:{display:"flex",gap:.5},children:[I.jsx(we,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.9)"},children:I.jsx(mQ,{sx:{fontSize:"12px"}})}),I.jsx(we,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.9)"},children:I.jsx(gQ,{sx:{fontSize:"12px"}})})]}),I.jsx(_t,{sx:{fontSize:"11px",color:"rgba(255, 255, 255, 0.8)"},children:"Keyboard navigate"})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[I.jsx(we,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",minWidth:"65px",height:"20px",px:1,borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",fontSize:"9px",fontFamily:"system-ui, sans-serif",fontWeight:500,color:"rgba(255, 255, 255, 0.9)"},children:"Space"}),I.jsx(_t,{sx:{fontSize:"11px",color:"rgba(255, 255, 255, 0.8)"},children:"Keyboard trigger"})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[I.jsx(we,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"3px",backgroundColor:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"rgba(255, 255, 255, 0.9)"},children:I.jsx(yQ,{sx:{fontSize:"12px"}})}),I.jsx(_t,{sx:{fontSize:"11px",color:"rgba(255, 255, 255, 0.8)"},children:"Mouse drag"})]})]})}),arrow:!0,placement:"bottom",componentsProps:{tooltip:{sx:{bgcolor:t?"rgba(30, 30, 30, 0.95)":"rgba(50, 50, 50, 0.95)",backdropFilter:"blur(10px)",border:`1px solid ${t?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.2)"}`,maxWidth:"none"}},arrow:{sx:{color:t?"rgba(30, 30, 30, 0.95)":"rgba(50, 50, 50, 0.95)"}}},children:I.jsx(Mo,{size:"small",sx:{color:t?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.4)","&:hover":{color:t?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",bgcolor:t?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.05)"},p:.5},children:I.jsx(yy,{sx:{fontSize:16}})})})]})}),I.jsx(we,{sx:{width:"100%",flex:1,display:"flex",flexDirection:"column",bgcolor:"transparent",position:"relative",overflow:"auto",minHeight:0,px:2,py:2},children:I.jsx(SQ,{emotions:bQ,dances:vQ,onAction:P,darkMode:t,disabled:M||!y})})]})}function CQ({showToast:n,onLoadingChange:e,quickActions:t=[],handleQuickAction:i=null,isReady:a=!1,isActive:r=!1,isBusy:o=!1,darkMode:c=!1}){const{robotState:f}=Sr(),{rightPanelView:h}=f;return I.jsx(we,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",overflowY:"scroll",overflowX:"hidden",pt:0,bgcolor:"transparent !important",backgroundColor:"transparent !important","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:c?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"3px"},"&:hover::-webkit-scrollbar-thumb":{background:c?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)"}},children:h==="controller"?I.jsx(pQ,{showToast:n,isActive:r,isBusy:o,darkMode:c}):h==="expressions"?I.jsx(TQ,{isActive:r,isBusy:o,darkMode:c}):I.jsxs(I.Fragment,{children:[I.jsx(PJ,{showToast:n,onLoadingChange:e,hasQuickActions:t.length>0&&i,isActive:r,isBusy:o,darkMode:c}),I.jsx(BJ,{isActive:r,darkMode:c})]})})}function RQ({daemonVersion:n,darkMode:e=!1}){return I.jsxs(we,{sx:{width:"100%",display:"flex",flexDirection:"column",py:1,mb:1.5},children:[I.jsx(_t,{sx:{fontSize:20,fontWeight:600,color:e?"#f5f5f5":"#1d1d1f",letterSpacing:"-0.4px",mb:-.5},children:"Reachy Mini"}),I.jsx(_t,{sx:{fontSize:11,fontWeight:500,color:e?"#888":"#86868b",fontFamily:"SF Mono, Monaco, Menlo, monospace",mb:.75},children:n?`Daemon v${n}`:"Daemon unknown version"})]})}const OQ=Vn(I.jsx("path",{d:"M13 3h-2v10h2zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83"}));function zQ({onStopDaemon:n,isReady:e,isStopping:t,darkMode:i}){return I.jsx(Mo,{onClick:n,disabled:!e,sx:{position:"absolute",top:12,left:12,bgcolor:i?"rgba(26, 26, 26, 0.95)":"rgba(255, 255, 255, 0.95)",color:"#FF9500",width:36,height:36,border:i?"1px solid rgba(255, 149, 0, 0.5)":"1px solid rgba(255, 149, 0, 0.4)",backdropFilter:"blur(10px)",transition:"transform 0.25s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1)",opacity:e?1:.4,boxShadow:i?"0 2px 8px rgba(255, 149, 0, 0.2)":"0 2px 8px rgba(255, 149, 0, 0.15)",zIndex:20,"&:hover":{bgcolor:i?"rgba(255, 149, 0, 0.12)":"rgba(255, 149, 0, 0.08)",transform:e?"scale(1.08)":"none",borderColor:i?"rgba(255, 149, 0, 0.7)":"rgba(255, 149, 0, 0.6)",boxShadow:i?"0 4px 12px rgba(255, 149, 0, 0.3)":"0 4px 12px rgba(255, 149, 0, 0.25)"},"&:active":{transform:e?"scale(0.95)":"none"},"&:disabled":{bgcolor:i?"rgba(255, 255, 255, 0.08)":"rgba(255, 255, 255, 0.6)",color:i?"#666":"#999",borderColor:i?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},title:t?"Stopping...":e?"Power Off":"Robot is busy...",children:t?I.jsx(Uu,{size:16,thickness:4,sx:{color:i?"#666":"#999"}}):I.jsx(OQ,{sx:{fontSize:18}})})}const NQ=Vn(I.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"})),DQ=Vn(I.jsx("path",{d:"M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28m-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18zM4.27 3 3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73z"})),LQ=Vn(I.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),IQ=Vn(I.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"}));function PQ({isActive:n,color:e="#FF9500",barCount:t=8}){const i=F.useRef(null),a=F.useRef(null),r=F.useRef(null),o=F.useRef([]),c=F.useRef(!0),f=60,h=F.useRef(0),m=50,g=F.useRef(Math.random()*1e6+Date.now()),v=F.useRef(null),y=F.useRef(null),b=F.useRef(null),M=F.useRef(null),[A,S]=F.useState({width:191,height:28});return F.useEffect(()=>{const E=()=>{if(i.current){const R=i.current.getBoundingClientRect();R.width>0&&R.height>0&&S({width:R.width,height:R.height})}};E();const w=new ResizeObserver(E);return i.current&&w.observe(i.current),()=>w.disconnect()},[]),F.useEffect(()=>{const E=a.current;if(!E||A.width===0)return;const w=window.devicePixelRatio||1,R=A.width*w,z=A.height*w;E.width=R,E.height=z,E.style.width=`${A.width}px`,E.style.height=`${A.height}px`;const O=E.getContext("2d");O&&(O.setTransform(1,0,0,1,0,0),w!==1&&O.scale(w,w),M.current=O)},[A]),F.useEffect(()=>{y.current||(y.current=g.current),b.current||(b.current=()=>(y.current=(y.current*9301+49297)%233280,y.current/233280));const E=b.current;if(v.current||(v.current={amplitude:E()*.3+.2,speed:E()*.5+.3,baseLevel:E()*.2+.3}),o.current.length===0){const{amplitude:w,speed:R,baseLevel:z}=v.current;o.current=Array(f).fill(0).map((O,P)=>{const B=P/f*Math.PI*2*R;return z+Math.sin(B)*w*E()})}h.current=performance.now()},[]),F.useEffect(()=>{if(A.width===0||!M.current)return;c.current=!0;const E=a.current,w=M.current;if(!E||!w)return;const R=z=>{if(!(!c.current||A.width===0)){if(w.clearRect(0,0,A.width,A.height),n){if(z-h.current>=m){const{amplitude:V,speed:U,baseLevel:G}=v.current,X=b.current,$=X(),H=X(),K=X(),Q=$*.4+H*.3+K*.3,W=z*.001*U,ce=Math.sin(W)*.15+Math.cos(W*1.7)*.1,q=Math.max(.1,Math.min(.95,G+Q*V+ce*X()));o.current.push(q),o.current.length>f&&o.current.shift(),h.current=z}const P=0,B=A.width-P*2,L=A.height-P*2,D=o.current.length;if(D>0&&B>0&&L>0){const V=B/(D-1),U=L*.8,G=L*.1;w.strokeStyle=e,w.lineWidth=1.5,w.lineCap="round",w.lineJoin="round",w.imageSmoothingEnabled=!0,w.imageSmoothingQuality="high";const X=new Path2D,$=[];for(let re=0;re<D;re++){const te=o.current[re],se=P+re*V,ve=P+L-te*U-G;$.push(ve),re===0?X.moveTo(se,ve):X.lineTo(se,ve)}w.stroke(X);const K=$.reduce((re,te)=>re+te,0)/$.length,Q=P+L,W=w.createLinearGradient(0,K,0,Q),ce=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(ce){const re=ce[1],te=ce[2],se=ce[3];W.addColorStop(0,`rgba(${re}, ${te}, ${se}, 0.12)`),W.addColorStop(.5,`rgba(${re}, ${te}, ${se}, 0.08)`),W.addColorStop(1,`rgba(${re}, ${te}, ${se}, 0.06)`)}else{const re=e.replace("#",""),te=parseInt(re.substring(0,2),16),se=parseInt(re.substring(2,4),16),ve=parseInt(re.substring(4,6),16);W.addColorStop(0,`rgba(${te}, ${se}, ${ve}, 0.12)`),W.addColorStop(.5,`rgba(${te}, ${se}, ${ve}, 0.08)`),W.addColorStop(1,`rgba(${te}, ${se}, ${ve}, 0.06)`)}const q=new Path2D(X);q.lineTo(P+B,P+L),q.lineTo(P,P+L),q.closePath(),w.fillStyle=W,w.fill(q);const ie=o.current[D-1],fe=P+B,ge=P+L-ie*U-G;w.fillStyle=e,w.beginPath(),w.arc(fe,ge,2,0,Math.PI*2),w.fill()}}else o.current=Array(f).fill(0),h.current=performance.now();r.current=requestAnimationFrame(R)}};return r.current=requestAnimationFrame(R),()=>{c.current=!1,r.current&&cancelAnimationFrame(r.current)}},[n,e,A]),I.jsx(we,{ref:i,sx:{width:"100%",height:"28px",position:"relative",overflow:"hidden",flexShrink:0},children:I.jsx("canvas",{ref:a,style:{display:"block",width:"100%",height:"100%"}})})}function UQ({volume:n,microphoneVolume:e,speakerDevice:t,microphoneDevice:i,speakerPlatform:a,microphonePlatform:r,onVolumeChange:o,onMicrophoneChange:c,onMicrophoneVolumeChange:f,onSpeakerMute:h,onMicrophoneMute:m,darkMode:g}){const v={height:64,borderRadius:"14px",bgcolor:g?"#1a1a1a":"#ffffff",border:g?"1px solid rgba(255, 255, 255, 0.15)":"1px solid rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"column",overflow:"hidden"},y={mb:0,color:"#FF9500",height:3,"& .MuiSlider-thumb":{width:12,height:12,backgroundColor:"#FF9500",border:`1.5px solid ${g?"#1a1a1a":"#fff"}`,boxShadow:"none","&:hover":{boxShadow:"0 0 0 6px rgba(255, 149, 0, 0.12)"},"&.Mui-focusVisible":{boxShadow:"0 0 0 6px rgba(255, 149, 0, 0.16)"},"&.Mui-active":{boxShadow:"0 0 0 6px rgba(255, 149, 0, 0.16)"}},"& .MuiSlider-track":{backgroundColor:"#FF9500",border:"none",height:1.5},"& .MuiSlider-rail":{backgroundColor:g?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)",height:1.5,opacity:1}},b={fontSize:9,fontWeight:500,color:g?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",fontFamily:"SF Mono, Monaco, Menlo, monospace",letterSpacing:"0.02em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},M={fontSize:8,fontWeight:400,color:g?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",fontFamily:"SF Mono, Monaco, Menlo, monospace",letterSpacing:"0.02em"},A=(S,E,w,R,z,O,P,B)=>I.jsxs(we,{sx:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:.75},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx(_t,{sx:{fontSize:11,fontWeight:600,color:g?"#888":"#999",textTransform:"uppercase",letterSpacing:"0.5px"},children:S}),I.jsx(Ul,{title:E,arrow:!0,placement:"top",children:I.jsx(yy,{sx:{fontSize:12,color:g?"#666":"#999",opacity:.6,cursor:"help"}})})]}),I.jsxs(we,{sx:{...v,width:"100%",boxSizing:"border-box"},children:[I.jsxs(we,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,p:1.5,pb:0,minWidth:0},children:[I.jsxs(we,{sx:{flex:1,minWidth:0,display:"flex",flexDirection:"column",gap:.25,overflow:"hidden"},children:[I.jsx(_t,{sx:b,children:w}),R&&I.jsx(_t,{sx:M,children:R})]}),I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5,flexShrink:0},children:[I.jsx(Mo,{onClick:P,size:"small",sx:{width:20,height:20,padding:0,flexShrink:0,color:O?g?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.6)":g?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)","&:hover":{color:O?"#FF9500":g?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",bgcolor:"transparent"}},children:O?S==="Speaker"?I.jsx(LQ,{sx:{fontSize:14}}):I.jsx(NQ,{sx:{fontSize:14}}):S==="Speaker"?I.jsx(IQ,{sx:{fontSize:14}}):I.jsx(DQ,{sx:{fontSize:14}})}),I.jsx(we,{sx:{width:60,height:24,display:"flex",alignItems:"center",flexShrink:0},children:I.jsx(H_,{value:z,onChange:(L,D)=>B(D),size:"small",sx:y})})]})]}),I.jsx(we,{sx:{width:"100%",height:"28px",flexShrink:0,overflow:"hidden",boxSizing:"border-box"},children:I.jsx(PQ,{isActive:O,color:g?"rgba(255, 255, 255, 0.35)":"rgba(0, 0, 0, 0.3)",barCount:8})})]})]});return I.jsxs(we,{sx:{width:"100%",mb:1.5,display:"flex",gap:1.5,alignItems:"stretch",minWidth:0,boxSizing:"border-box"},children:[A("Speaker","Adjust the robot's audio output volume",t||"Built-in Speaker",a,n,n>0,h,o),A("Microphone","Adjust the robot's microphone input volume",i||"USB Microphone",r,e,e>0,m,f||(S=>c(S>0)))]})}const BQ=qi.memo(UQ);function kQ(n){const{robotState:e,api:t}=Sr(),{robotStateFull:i}=e,a=t.config,[r,o]=F.useState({isOn:null,isMoving:!1}),c=F.useRef(null),f=F.useRef(null);return F.useEffect(()=>{if(!n||!i||!i.data){o({isOn:null,isMoving:!1});return}const h=i.data,m=h.control_mode==="enabled";let g=!1;if(h.body_yaw!==void 0&&h.antennas_position){const v={body_yaw:h.body_yaw,antennas:h.antennas_position};if(c.current){const y=Math.abs(v.body_yaw-c.current.body_yaw),b=v.antennas&&c.current.antennas?Math.abs(v.antennas[0]-c.current.antennas[0])+Math.abs(v.antennas[1]-c.current.antennas[1]):0;(y>.01||b>.01)&&(g=!0,f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{o(M=>({...M,isMoving:!1}))},a.MOVEMENT.MOVEMENT_DETECTION_TIMEOUT))}c.current=v}return o(v=>{const y={isOn:m,isMoving:g};return v.isOn===y.isOn&&v.isMoving===y.isMoving?v:y}),()=>{f.current&&clearTimeout(f.current)}},[n,i]),r}function FQ(n){const{robotState:e,actions:t}=Sr(),{activeMoves:i}=lQ(n),{transitionTo:a}=t,{robotStatus:r,busyReason:o}=e;F.useEffect(()=>{if(!n){r==="busy"&&o==="moving"&&a.ready();return}i.length>0?(r!=="busy"||o!=="moving")&&a.busy("moving"):r==="busy"&&o==="moving"&&a.ready()},[n,i.length,r,o,a])}function VQ(n){const{api:e}=Sr(),{buildApiUrl:t,fetchWithTimeout:i,config:a}=e,[r,o]=F.useState(50),[c,f]=F.useState(50),[h,m]=F.useState(null),[g,v]=F.useState(null),[y,b]=F.useState(null),[M,A]=F.useState(null),S=F.useRef(null),E=F.useRef(null);F.useEffect(()=>{if(!n)return;const D=async(V,U,G,X,$)=>{try{const H=await i(t(V),{},a.TIMEOUTS.VERSION,{silent:!0});if(H.ok){const K=await H.json();K.volume!==void 0&&U(K.volume),G&&K.device&&G(K.device),X&&K.platform&&X(K.platform)}}catch(H){console.warn(`Failed to fetch ${$}:`,H)}};D("/api/volume/current",o,m,b,"volume"),D("/api/volume/microphone/current",f,v,A,"microphone volume")},[n]);const w=F.useCallback(async D=>{try{const V=await i(t("/api/volume/set"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({volume:D})},a.TIMEOUTS.VERSION,{silent:!1,label:`Set volume to ${D}%`});if(V.ok){const U=await V.json();U.volume!==void 0&&o(U.volume)}else{try{const U=await i(t("/api/volume/current"),{},a.TIMEOUTS.VERSION,{silent:!0});if(U.ok){const G=await U.json();G.volume!==void 0&&o(G.volume)}}catch(U){console.warn("Failed to revert volume after error:",U)}console.warn("Failed to set volume:",V.status)}}catch(V){try{const U=await i(t("/api/volume/current"),{},a.TIMEOUTS.VERSION,{silent:!0});if(U.ok){const G=await U.json();G.volume!==void 0&&o(G.volume)}}catch(U){console.warn("Failed to revert volume after error:",U)}console.warn("Failed to set volume:",V)}},[]),R=F.useCallback(D=>{o(D),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{w(D),S.current=null},500)},[w]),z=F.useCallback(async D=>{try{const V=await i(t("/api/volume/microphone/set"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({volume:D})},a.TIMEOUTS.VERSION,{silent:!1,label:`Set microphone volume to ${D}%`});if(V.ok){const U=await V.json();U.volume!==void 0&&f(U.volume)}else{try{const U=await i(t("/api/volume/microphone/current"),{},a.TIMEOUTS.VERSION,{silent:!0});if(U.ok){const G=await U.json();G.volume!==void 0&&f(G.volume)}}catch(U){console.warn("Failed to revert microphone volume after error:",U)}console.warn("Failed to set microphone volume:",V.status)}}catch(V){try{const U=await i(t("/api/volume/microphone/current"),{},a.TIMEOUTS.VERSION,{silent:!0});if(U.ok){const G=await U.json();G.volume!==void 0&&f(G.volume)}}catch(U){console.warn("Failed to revert microphone volume after error:",U)}console.warn("Failed to set microphone volume:",V)}},[]),O=F.useCallback(D=>{f(D),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{z(D),E.current=null},500)},[z]),P=F.useCallback(D=>{O(D?50:0)},[O]),B=F.useCallback(()=>{const D=r>0?0:50;S.current&&(clearTimeout(S.current),S.current=null),o(D),w(D)},[r,w]),L=F.useCallback(()=>{const D=c>0?0:50;E.current&&(clearTimeout(E.current),E.current=null),f(D),z(D)},[c,z]);return F.useEffect(()=>()=>{S.current&&clearTimeout(S.current),E.current&&clearTimeout(E.current)},[]),{volume:r,microphoneVolume:c,speakerDevice:h,microphoneDevice:g,speakerPlatform:y,microphonePlatform:M,handleVolumeChange:R,handleMicrophoneChange:P,handleMicrophoneVolumeChange:O,handleSpeakerMute:B,handleMicrophoneMute:L}}function HQ({isActive:n,isStarting:e,isStopping:t,stopDaemon:i,sendCommand:a,playRecordedMove:r,isCommandRunning:o,logs:c,daemonVersion:f,usbPortName:h,onAppsReady:m}){const{robotState:g,actions:v,windowManager:y}=Sr(),{darkMode:b,isDaemonCrashed:M,robotStatus:A,busyReason:S,currentAppName:E,isAppRunning:w}=g,{resetTimeouts:R,update:z,triggerEffect:O,stopEffect:P,isBusy:B,isReady:L}=v,D=B(),V=L(),{isOn:U,isMoving:G}=kQ(n);ZZ(E,w),FQ(n);const[X,$]=F.useState({open:!1,message:"",severity:"info"}),[H,K]=F.useState(100),{volume:Q,microphoneVolume:W,speakerDevice:ce,microphoneDevice:q,speakerPlatform:ie,microphonePlatform:fe,handleVolumeChange:ge,handleMicrophoneChange:re,handleMicrophoneVolumeChange:te,handleSpeakerMute:se,handleMicrophoneMute:ve}=VQ(n),[ze,De]=F.useState(!0),rt=F.useCallback(Ae=>{De(Ae),!Ae&&m&&setTimeout(()=>{m()},300)},[m]);F.useEffect(()=>{n&&De(!0)},[n]);const nt=F.useCallback((Ae,Ve="info")=>{$({open:!0,message:Ae,severity:Ve}),K(100)},[]),Ge=F.useCallback(()=>{$(Ae=>({...Ae,open:!1})),K(100)},[]);F.useEffect(()=>{if(!X.open){K(100);return}K(100);const Ae=3500,Ve=performance.now(),Be=()=>{const Ke=performance.now()-Ve,Ye=Math.max(0,100-Ke/Ae*100);K(Ye),Ye>0&&Ke<Ae&&requestAnimationFrame(Be)},ke=requestAnimationFrame(Be);return()=>{cancelAnimationFrame(ke)}},[X.open]);const Ee=F.useCallback(Ae=>{Ae.type==="action"?a(`/api/move/play/${Ae.name}`,Ae.label):Ae.type==="dance"?r(x_.DANCES,Ae.name):r(x_.EMOTIONS,Ae.name);const Be={goto_sleep:"sleep",wake_up:null,loving1:"love",sad1:"sad",surprised1:"surprised"}[Ae.name];Be&&(O(Be),setTimeout(()=>{P()},4e3)),nt(`${Ae.emoji} ${Ae.label}`,"info")},[a,r,nt]),ne=_Q;F.useEffect(()=>{M&&console.error(" DAEMON CRASHED - Fast detection after 3 timeouts (6s)")},[M]);const Oe=F.useCallback(async()=>{R(),z({isDaemonCrashed:!1,isActive:!1});try{await i(),setTimeout(()=>{window.location.reload()},2e3)}catch(Ae){console.error("Failed to restart:",Ae),window.location.reload()}},[R,z,i]);return I.jsxs(we,{sx:{width:"100vw",height:"100vh",background:b?"rgba(26, 26, 26, 0.95)":"rgba(250, 250, 252, 0.85)",backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)",overflow:"hidden",position:"relative"},children:[M&&I.jsx(we,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:b?"rgba(0, 0, 0, 0.85)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},children:I.jsxs(we,{sx:{bgcolor:b?"rgba(26, 26, 26, 0.8)":"rgba(255, 255, 255, 0.95)",borderRadius:"20px",p:5,maxWidth:380,textAlign:"center",border:`1px solid ${b?"rgba(239, 68, 68, 0.3)":"rgba(239, 68, 68, 0.2)"}`,boxShadow:b?"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(239, 68, 68, 0.1)":"0 20px 60px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(239, 68, 68, 0.1)"},children:[I.jsx(we,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:b?"rgba(239, 68, 68, 0.1)":"rgba(239, 68, 68, 0.08)",border:`2px solid ${b?"rgba(239, 68, 68, 0.3)":"rgba(239, 68, 68, 0.2)"}`,display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:I.jsx(_t,{sx:{fontSize:32},children:""})}),I.jsx(_t,{sx:{fontSize:18,fontWeight:700,color:b?"#f5f5f5":"#1a1a1a",mb:1,letterSpacing:"0.2px"},children:"Connection Lost"}),I.jsx(_t,{sx:{fontSize:12,color:b?"#999":"#666",mb:3.5,lineHeight:1.6},children:"The daemon is not responding. Restart the application to restore the connection."}),I.jsx(zu,{variant:"contained",onClick:Oe,sx:{bgcolor:"#FF9500",color:"white",fontWeight:600,fontSize:13,px:4,py:1.25,borderRadius:"12px",textTransform:"none",boxShadow:"0 4px 12px rgba(255, 149, 0, 0.3)","&:hover":{bgcolor:"#ff8800",boxShadow:"0 6px 16px rgba(255, 149, 0, 0.4)"}},children:"Restart Application"})]})}),I.jsxs(we,{sx:{display:"flex",flexDirection:"row",height:"100%",gap:0,position:"relative",bgcolor:"transparent"},children:[I.jsxs(we,{sx:{width:"450px",flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",px:3,pt:"33px",overflowY:"auto",overflowX:"hidden",scrollbarGutter:"stable",position:"relative",zIndex:1,height:"100%",bgcolor:b?"rgba(20, 20, 20, 0.6)":"rgba(245, 245, 247, 0.7)",borderRight:`1px solid ${b?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}`,boxShadow:b?"2px 0 8px -2px rgba(0, 0, 0, 0.3)":"2px 0 8px -2px rgba(0, 0, 0, 0.1)","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:b?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderRadius:"3px"},"&:hover::-webkit-scrollbar-thumb":{background:b?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)"}},children:[I.jsxs(we,{sx:{width:"100%",position:"relative",mb:1,overflow:"visible",display:"flex",flexDirection:"column"},children:[F.useMemo(()=>I.jsx(mZ,{view3D:I.jsx(fZ,{isActive:n,forceLoad:!0,useHeadFollowCamera:!0,showCameraToggle:!0,showStatusTag:!0,isOn:U,isMoving:G,robotStatus:A,busyReason:S,hideCameraFeed:!0}),viewCamera:I.jsx(pZ,{width:640,height:480,isLarge:!0})}),[n,U,G,A,S]),I.jsx(zQ,{onStopDaemon:i,isReady:V,isStopping:t,darkMode:b})]}),I.jsx(RQ,{daemonVersion:f,darkMode:b}),I.jsx(we,{sx:{width:"100%",minWidth:0,boxSizing:"border-box"},children:I.jsx(BQ,{volume:Q,microphoneVolume:W,speakerDevice:ce,microphoneDevice:q,speakerPlatform:ie,microphonePlatform:fe,onVolumeChange:ge,onMicrophoneChange:re,onMicrophoneVolumeChange:te,onSpeakerMute:se,onMicrophoneMute:ve,darkMode:b})}),I.jsxs(we,{sx:{mt:1,width:"100%",flex:"1 1 auto",minHeight:0,display:"flex",flexDirection:"column"},children:[I.jsx(we,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5,flexShrink:0},children:I.jsxs(we,{sx:{display:"flex",alignItems:"center",gap:.5},children:[I.jsx(_t,{sx:{fontSize:11,fontWeight:600,color:b?"#888":"#999",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Logs"}),I.jsx(Ul,{title:"Real-time logs from the Reachy Mini robot daemon. Logs are collected via the Python daemon's logging system and streamed to the frontend through Tauri's IPC (Inter-Process Communication). The daemon runs as a background service and captures system events, robot movements, errors, and status updates. Frontend logs (actions, API calls) are also displayed here with timestamps.",arrow:!0,placement:"top",children:I.jsx(yy,{sx:{fontSize:12,color:b?"#666":"#999",opacity:.6,cursor:"help"}})})]})}),I.jsx(we,{sx:{flex:"1 1 auto",minHeight:0,display:"flex",flexDirection:"column"},children:I.jsx(d6,{logs:c,darkMode:b,lines:4})})]})]}),I.jsx(we,{sx:{width:"450px",flexShrink:0,display:"flex",flexDirection:"column",position:"relative",zIndex:2,pt:"33px",transform:"translateY(-8px)",bgcolor:"transparent !important",backgroundColor:"transparent !important"},children:I.jsx(CQ,{showToast:nt,onLoadingChange:rt,quickActions:ne,handleQuickAction:Ee,isReady:V,isActive:n,isBusy:D,darkMode:b})})]}),I.jsx(ok,{open:X.open,autoHideDuration:3500,onClose:Ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{bottom:"24px !important",left:"50% !important",right:"auto !important",transform:"translateX(-50%) !important",display:"flex !important",justifyContent:"center !important",alignItems:"center !important",width:"100%",zIndex:1e5,"& > *":{margin:"0 auto !important"}},children:I.jsx(we,{onClick:Ge,sx:{position:"relative",overflow:"hidden",borderRadius:"12px",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:b?"0 8px 32px rgba(0, 0, 0, 0.5), 0 2px 8px rgba(0, 0, 0, 0.3)":"0 8px 32px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08)",zIndex:1e5,cursor:"pointer"},children:I.jsxs(we,{sx:{position:"relative",borderRadius:"12px",fontSize:13,fontWeight:500,letterSpacing:"-0.01em",background:b?X.severity==="success"?"rgba(34, 197, 94, 0.15)":X.severity==="error"?"rgba(239, 68, 68, 0.15)":"rgba(255, 149, 0, 0.15)":X.severity==="success"?"rgba(34, 197, 94, 0.1)":X.severity==="error"?"rgba(239, 68, 68, 0.1)":"rgba(255, 149, 0, 0.1)",border:`1px solid ${X.severity==="success"?b?"rgba(34, 197, 94, 0.4)":"rgba(34, 197, 94, 0.3)":X.severity==="error"?b?"rgba(239, 68, 68, 0.4)":"rgba(239, 68, 68, 0.3)":b?"rgba(255, 149, 0, 0.4)":"rgba(255, 149, 0, 0.3)"}`,color:X.severity==="success"?b?"#86efac":"#16a34a":X.severity==="error"?b?"#fca5a5":"#dc2626":b?"#fbbf24":"#d97706",minWidth:240,maxWidth:400,px:3,py:2,display:"flex",alignItems:"center",justifyContent:"center",gap:1.5,overflow:"hidden"},children:[I.jsx(we,{sx:{position:"absolute",bottom:0,left:0,height:"2px",width:`${H}%`,background:X.severity==="success"?b?"rgba(34, 197, 94, 0.8)":"rgba(34, 197, 94, 0.7)":X.severity==="error"?b?"rgba(239, 68, 68, 0.8)":"rgba(239, 68, 68, 0.7)":b?"rgba(255, 149, 0, 0.8)":"rgba(255, 149, 0, 0.7)",zIndex:0,transition:"width 0.02s linear",borderRadius:"0 0 12px 12px"}}),X.severity==="success"&&I.jsx(Yk,{sx:{fontSize:20,flexShrink:0,color:"inherit"}}),X.severity==="error"&&I.jsx(R9,{sx:{fontSize:20,flexShrink:0,color:"inherit"}}),(X.severity==="warning"||X.severity==="info")&&I.jsx(dZ,{sx:{fontSize:20,flexShrink:0,color:"inherit"}}),I.jsx(we,{sx:{position:"relative",zIndex:1,lineHeight:1.5,textAlign:"left",flex:1},children:X.message})]})})})]})}function jQ({contextConfig:n,isActive:e,isStarting:t,isStopping:i,stopDaemon:a,sendCommand:r,playRecordedMove:o,isCommandRunning:c,logs:f,daemonVersion:h,usbPortName:m,onAppsReady:g}){if(!n)throw new Error("ActiveRobotModule requires contextConfig prop. Use useActiveRobotAdapter() to create the config.");return I.jsx(gZ,{config:n,children:I.jsx(HQ,{isActive:e,isStarting:t,isStopping:i,stopDaemon:a,sendCommand:r,playRecordedMove:o,isCommandRunning:c,logs:f,daemonVersion:h,usbPortName:m,onAppsReady:g})})}var N4;(function(n){n.Nsis="nsis",n.Msi="msi",n.Deb="deb",n.Rpm="rpm",n.AppImage="appimage",n.App="app"})(N4||(N4={}));let GQ=null;try{GQ=require("@tauri-apps/plugin-shell").open}catch{}function WQ(){const n=dn(W=>W.isActive),e=dn(W=>W.darkMode),t=dn(W=>W.robotStatus),i=dn(W=>W.busyReason),a=dn(W=>W.isAppRunning),r=dn(W=>W.isInstalling),o=dn(W=>W.isCommandRunning),c=dn(W=>W.currentAppName),f=dn(W=>W.robotStateFull),h=dn(W=>W.activeMoves),m=dn(W=>W.isDaemonCrashed),g=dn(W=>W.rightPanelView),v=dn(W=>W.activeEffect),y=dn(W=>W.effectTimestamp),b=dn(W=>W.availableApps),M=dn(W=>W.installedApps),A=dn(W=>W.currentApp),S=dn(W=>W.activeJobs),E=dn(W=>W.appsLoading),w=dn(W=>W.appsError),R=dn(W=>W.appsOfficialMode),z=dn(W=>W.appsCacheValid),O=dn(W=>W.installingAppName),P=dn(W=>W.installJobType),B=dn(W=>W.installResult),L=dn(W=>W.installStartTime),D=dn(W=>W.processedJobs),V=dn(W=>W.jobSeenOnce),U=dn(W=>W.logs),G=dn(W=>W.appLogs),X=F.useMemo(()=>({isActive:n,darkMode:e,robotStatus:t,busyReason:i,isAppRunning:a,isInstalling:r,isCommandRunning:o,currentAppName:c,robotStateFull:f,activeMoves:h,isDaemonCrashed:m,rightPanelView:g,activeEffect:v,effectTimestamp:y,availableApps:b,installedApps:M,currentApp:A,activeJobs:S,appsLoading:E,appsError:w,appsOfficialMode:R,appsCacheValid:z,installingAppName:O,installJobType:P,installResult:B,installStartTime:L,processedJobs:D,jobSeenOnce:V,logs:U,appLogs:G}),[n,e,t,i,a,r,o,c,f,h,m,g,v,y,b,M,A,S,E,w,R,z,O,P,B,L,D,V,U,G]),$=F.useMemo(()=>{const W=dn.getState();return{update:W.update,transitionTo:W.transitionTo,isBusy:W.isBusy,isReady:W.isReady,getRobotStatusLabel:W.getRobotStatusLabel,lockForApp:W.lockForApp,unlockApp:W.unlockApp,lockForInstall:W.lockForInstall,unlockInstall:W.unlockInstall,setIsActive:W.setIsActive,setIsStarting:W.setIsStarting,setIsStopping:W.setIsStopping,setRobotStateFull:W.setRobotStateFull,setActiveMoves:W.setActiveMoves,setIsCommandRunning:W.setIsCommandRunning,triggerEffect:W.triggerEffect,stopEffect:W.stopEffect,resetTimeouts:W.resetTimeouts,incrementTimeouts:W.incrementTimeouts,setRightPanelView:W.setRightPanelView,setDarkMode:W.setDarkMode,toggleDarkMode:W.toggleDarkMode,setAvailableApps:W.setAvailableApps,setInstalledApps:W.setInstalledApps,setCurrentApp:W.setCurrentApp,setActiveJobs:W.setActiveJobs,setAppsLoading:W.setAppsLoading,setAppsError:W.setAppsError,setAppsOfficialMode:W.setAppsOfficialMode,invalidateAppsCache:W.invalidateAppsCache,clearApps:W.clearApps,setInstallResult:W.setInstallResult,markJobAsSeen:W.markJobAsSeen,markJobAsProcessed:W.markJobAsProcessed,setLogs:W.setLogs,addAppLog:W.addAppLog,clearAppLogs:W.clearAppLogs}},[]),H=F.useMemo(()=>({baseUrl:qn.ENDPOINTS.BASE_URL,timeouts:qn.TIMEOUTS,intervals:qn.INTERVALS,endpoints:qn.ENDPOINTS,buildApiUrl:Ll,fetchWithTimeout:$o,config:qn}),[]),K=F.useMemo(()=>({open:IZ}),[]),Q=F.useMemo(()=>({openExpressionsWindow:()=>{console.log("[WebMode] openExpressionsWindow - not available in web mode")},closeExpressionsWindow:()=>{console.log("[WebMode] closeExpressionsWindow - not available in web mode")},isExpressionsWindowOpen:()=>!1,openDevWindow:()=>{console.log("[WebMode] openDevWindow - not available in web mode")},closeDevWindow:()=>{console.log("[WebMode] closeDevWindow - not available in web mode")},isDevWindowOpen:()=>!1,getAppWindow:()=>({label:"web",setTitle:async()=>{},close:async()=>{}})}),[]);return F.useMemo(()=>({robotState:X,actions:$,api:H,shellApi:K,windowManager:Q}),[X,$,H,K,Q])}function YQ(){const[n,e]=F.useState(!1),[t,i]=F.useState(null),[a,r]=F.useState("web"),o=dn(M=>M.darkMode),c=dn(M=>M.isActive),f=dn(M=>M.isCommandRunning),h=dn(M=>M.logs),m=WQ(),g=F.useCallback(()=>{console.log("[WebMode] stopDaemon - not available")},[]),v=F.useCallback(async M=>{console.log("[WebMode] sendCommand:",M)},[]),y=F.useCallback(async M=>{console.log("[WebMode] playRecordedMove:",M)},[]),b=F.useCallback(()=>{console.log("[WebMode] Apps ready")},[]);return F.useEffect(()=>{const M=async()=>{try{const S=await fetch("/api/daemon/status");if(S.ok){const E=await S.json();E.state==="running"||E.state==="error"?(e(!0),r(E.version||"web"),dn.getState().update({isActive:E.state==="running",robotStatus:E.state==="running"?"ready":"error"})):i(`Daemon is ${E.state}. Please start the daemon first.`)}else i("Failed to connect to daemon API")}catch(S){i(`Cannot connect to daemon: ${S.message}`)}};M();const A=setInterval(M,5e3);return()=>clearInterval(A)},[]),!n&&!t?I.jsxs(we,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2,bgcolor:o?"#1a1a1a":"#f5f5f7"},children:[I.jsx(Uu,{sx:{color:"#FF9500"}}),I.jsx(_t,{sx:{color:o?"#888":"#666"},children:"Connecting to daemon..."})]}):t?I.jsxs(we,{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:2,bgcolor:o?"#1a1a1a":"#f5f5f7"},children:[I.jsx(_t,{variant:"h5",sx:{color:"#ef4444"},children:"Connection Error"}),I.jsx(_t,{sx:{color:o?"#888":"#666",textAlign:"center",maxWidth:400},children:t}),I.jsx(_t,{sx:{color:o?"#666":"#999",fontSize:12,mt:2},children:"Make sure the daemon is running on port 8000"})]}):I.jsx(we,{sx:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:o?"#0a0a0a":"#e5e5e7"},children:I.jsx(we,{sx:{width:900,height:670,borderRadius:"12px",overflow:"hidden",boxShadow:o?"0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255,255,255,0.1)":"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(0,0,0,0.05)"},children:I.jsx(jQ,{contextConfig:m,isActive:c,isStarting:!1,isStopping:!1,stopDaemon:g,sendCommand:v,playRecordedMove:y,isCommandRunning:f,logs:h,daemonVersion:a,usbPortName:"web",onAppsReady:b})})})}if(typeof window<"u"&&!window.__TAURI__){window.__TAURI__={core:{invoke:(e,t)=>(console.log("[Mock Tauri] invoke:",e,t),Promise.resolve({status:"mocked"}))}};const n={startDragging:()=>Promise.resolve(),label:"web-dashboard"};window.mockGetCurrentWindow=()=>n}wA.clear();setTimeout(()=>{wA.load().catch(n=>{console.error(" Failed to preload robot model:",n)})},100);function XQ({children:n}){const e=dn(i=>i.darkMode),t=F.useMemo(()=>D_({palette:{mode:e?"dark":"light",primary:{main:"#FF9500",light:"#FFB340",dark:"#E08500",contrastText:"#fff"},secondary:{main:"#764ba2"},success:{main:"#22c55e"},error:{main:"#ef4444"},divider:e?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.18)"},components:{MuiButton:{defaultProps:{disableRipple:!1},styleOverrides:{root:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}}},MuiCircularProgress:{styleOverrides:{root:{display:"block"},svg:{display:"block",overflow:"visible"},circle:{strokeLinecap:"round"}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:e?"rgba(255, 255, 255, 0.95)":"rgba(0, 0, 0, 0.9)",color:e?"#1d1d1f":"#fff",fontSize:"11px",fontWeight:500,padding:"10px 14px",borderRadius:"8px",boxShadow:e?"0 4px 12px rgba(0, 0, 0, 0.25)":"0 4px 12px rgba(0, 0, 0, 0.15)",maxWidth:"300px",lineHeight:1.6},arrow:{color:e?"rgba(255, 255, 255, 0.95)":"rgba(0, 0, 0, 0.9)"}}},MuiAccordion:{styleOverrides:{root:{boxShadow:"none !important",backgroundColor:"transparent !important","&:before":{display:"none !important"},"&.Mui-expanded":{boxShadow:"none !important"}}}},MuiAccordionSummary:{styleOverrides:{root:{backgroundColor:"transparent !important","&.Mui-expanded":{backgroundColor:"transparent !important"}}}},MuiAccordionDetails:{styleOverrides:{root:{backgroundColor:"transparent !important"}}},MuiPaper:{styleOverrides:{root:{"&.MuiAccordion-root":{boxShadow:"none !important",backgroundColor:"transparent !important",background:"transparent !important","&.Mui-expanded":{backgroundColor:"transparent !important",background:"transparent !important"}},"&.MuiAccordionSummary-root":{backgroundColor:"transparent !important",background:"transparent !important","&.Mui-expanded":{backgroundColor:"transparent !important",background:"transparent !important"}},"&.MuiAccordionDetails-root":{backgroundColor:"transparent !important",background:"transparent !important"}}}}}}),[e]);return I.jsxs(lL,{theme:t,children:[I.jsx(XP,{}),n]})}const qQ=YQ;console.log("[Main] Mode: WEB");GO.createRoot(document.getElementById("root")).render(I.jsx(qi.StrictMode,{children:I.jsx(XQ,{children:I.jsx("div",{style:{width:"100%",height:"100%"},children:I.jsx(qQ,{})})})}));export{Lt as i};
