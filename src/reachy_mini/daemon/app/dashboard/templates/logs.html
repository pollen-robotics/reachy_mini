{% extends "base.html" %}

{% block content %}

<div class="mb-4">
    <a href="/" class="inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-300 rounded-lg shadow border border-gray-300">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
        </svg>
        Back to Dashboard
    </a>
</div>

<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4">
    <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-3">
            <h1 class="text-xl font-semibold text-gray-900 dark:text-white">Daemon Logs</h1>
            <span id="logs-status" class="text-sm text-gray-500">Disconnected</span>
        </div>
        <button onclick="daemonLogs.clearLogs()" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white">
            Clear
        </button>
    </div>

    <div id="daemon-logs-content"
         class="overflow-y-auto h-[calc(100vh-250px)] bg-gray-900 border border-gray-600 rounded p-3 font-mono text-xs text-gray-100 leading-relaxed">
        <!-- Logs will be appended here by JavaScript -->
    </div>

    <div class="mt-2 text-xs text-gray-500 dark:text-gray-400">
        Showing logs from current boot â€¢ All logs preserved
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="/static/js/logs.js"></script>
<script>
    // Auto-connect when page loads
    window.addEventListener('load', () => {
        daemonLogs.connectWebSocket();
    });
</script>
{% endblock %}
